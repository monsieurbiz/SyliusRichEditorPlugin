/*! For license information please see rich-editor.js.LICENSE.txt */
(()=>{var e={216:function(e){e.exports=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,i=/gecko\/\d/i.test(e),n=/MSIE \d/.test(e),o=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),l=/Edge\/(\d+)/.exec(e),r=n||o||l,s=r&&(n?document.documentMode||6:+(l||o)[1]),a=!l&&/WebKit\//.test(e),c=a&&/Qt\/\d+\.\d+/.test(e),u=!l&&/Chrome\/(\d+)/.exec(e),d=u&&+u[1],h=/Opera\//.test(e),p=/Apple Computer/.test(navigator.vendor),f=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),g=/PhantomJS/.test(e),m=p&&(/Mobile\/\w+/.test(e)||navigator.maxTouchPoints>2),v=/Android/.test(e),b=m||v||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),y=m||/Mac/.test(t),w=/\bCrOS\b/.test(e),_=/win/i.test(t),C=h&&e.match(/Version\/(\d*\.\d*)/);C&&(C=Number(C[1])),C&&C>=15&&(h=!1,a=!0);var x=y&&(c||h&&(null==C||C<12.11)),k=i||r&&s>=9;function S(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var L,E=function(e,t){var i=e.className,n=S(t).exec(i);if(n){var o=i.slice(n.index+n[0].length);e.className=i.slice(0,n.index)+(o?n[1]+o:"")}};function T(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function N(e,t){return T(e).appendChild(t)}function z(e,t,i,n){var o=document.createElement(e);if(i&&(o.className=i),n&&(o.style.cssText=n),"string"==typeof t)o.appendChild(document.createTextNode(t));else if(t)for(var l=0;l<t.length;++l)o.appendChild(t[l]);return o}function A(e,t,i,n){var o=z(e,t,i,n);return o.setAttribute("role","presentation"),o}function B(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function M(e){var t,i=e.ownerDocument||e;try{t=e.activeElement}catch(e){t=i.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function R(e,t){var i=e.className;S(t).test(i)||(e.className+=(i?" ":"")+t)}function I(e,t){for(var i=e.split(" "),n=0;n<i.length;n++)i[n]&&!S(i[n]).test(t)&&(t+=" "+i[n]);return t}L=document.createRange?function(e,t,i,n){var o=document.createRange();return o.setEnd(n||e,i),o.setStart(e,t),o}:function(e,t,i){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(e){return n}return n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",t),n};var O=function(e){e.select()};function H(e){return e.display.wrapper.ownerDocument}function D(e){return F(e.display.wrapper)}function F(e){return e.getRootNode?e.getRootNode():e.ownerDocument}function P(e){return H(e).defaultView}function V(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function U(e,t,i){for(var n in t||(t={}),e)!e.hasOwnProperty(n)||!1===i&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function W(e,t,i,n,o){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var l=n||0,r=o||0;;){var s=e.indexOf("\t",l);if(s<0||s>=t)return r+(t-l);r+=s-l,r+=i-r%i,l=s+1}}m?O=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:r&&(O=function(e){try{e.select()}catch(e){}});var j=function(){this.id=null,this.f=null,this.time=0,this.handler=V(this.onTimeout,this)};function q(e,t){for(var i=0;i<e.length;++i)if(e[i]==t)return i;return-1}j.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},j.prototype.set=function(e,t){this.f=t;var i=+new Date+e;(!this.id||i<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=i)};var Z=50,G={toString:function(){return"CodeMirror.Pass"}},$={scroll:!1},K={origin:"*mouse"},Y={origin:"+move"};function X(e,t,i){for(var n=0,o=0;;){var l=e.indexOf("\t",n);-1==l&&(l=e.length);var r=l-n;if(l==e.length||o+r>=t)return n+Math.min(r,t-o);if(o+=l-n,n=l+1,(o+=i-o%i)>=t)return n}}var J=[""];function Q(e){for(;J.length<=e;)J.push(ee(J)+" ");return J[e]}function ee(e){return e[e.length-1]}function te(e,t){for(var i=[],n=0;n<e.length;n++)i[n]=t(e[n],n);return i}function ie(e,t,i){for(var n=0,o=i(t);n<e.length&&i(e[n])<=o;)n++;e.splice(n,0,t)}function ne(){}function oe(e,t){var i;return Object.create?i=Object.create(e):(ne.prototype=e,i=new ne),t&&U(t,i),i}var le=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function re(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||le.test(e))}function se(e,t){return t?!!(t.source.indexOf("\\w")>-1&&re(e))||t.test(e):re(e)}function ae(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ce=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ue(e){return e.charCodeAt(0)>=768&&ce.test(e)}function de(e,t,i){for(;(i<0?t>0:t<e.length)&&ue(e.charAt(t));)t+=i;return t}function he(e,t,i){for(var n=t>i?-1:1;;){if(t==i)return t;var o=(t+i)/2,l=n<0?Math.ceil(o):Math.floor(o);if(l==t)return e(l)?t:i;e(l)?i=l:t=l+n}}function pe(e,t,i,n){if(!e)return n(t,i,"ltr",0);for(var o=!1,l=0;l<e.length;++l){var r=e[l];(r.from<i&&r.to>t||t==i&&r.to==t)&&(n(Math.max(r.from,t),Math.min(r.to,i),1==r.level?"rtl":"ltr",l),o=!0)}o||n(t,i,"ltr")}var fe=null;function ge(e,t,i){var n;fe=null;for(var o=0;o<e.length;++o){var l=e[o];if(l.from<t&&l.to>t)return o;l.to==t&&(l.from!=l.to&&"before"==i?n=o:fe=o),l.from==t&&(l.from!=l.to&&"before"!=i?n=o:fe=o)}return null!=n?n:fe}var me=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function i(i){return i<=247?e.charAt(i):1424<=i&&i<=1524?"R":1536<=i&&i<=1785?t.charAt(i-1536):1774<=i&&i<=2220?"r":8192<=i&&i<=8203?"w":8204==i?"b":"L"}var n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,l=/[LRr]/,r=/[Lb1n]/,s=/[1n]/;function a(e,t,i){this.level=e,this.from=t,this.to=i}return function(e,t){var c="ltr"==t?"L":"R";if(0==e.length||"ltr"==t&&!n.test(e))return!1;for(var u=e.length,d=[],h=0;h<u;++h)d.push(i(e.charCodeAt(h)));for(var p=0,f=c;p<u;++p){var g=d[p];"m"==g?d[p]=f:f=g}for(var m=0,v=c;m<u;++m){var b=d[m];"1"==b&&"r"==v?d[m]="n":l.test(b)&&(v=b,"r"==b&&(d[m]="R"))}for(var y=1,w=d[0];y<u-1;++y){var _=d[y];"+"==_&&"1"==w&&"1"==d[y+1]?d[y]="1":","!=_||w!=d[y+1]||"1"!=w&&"n"!=w||(d[y]=w),w=_}for(var C=0;C<u;++C){var x=d[C];if(","==x)d[C]="N";else if("%"==x){var k=void 0;for(k=C+1;k<u&&"%"==d[k];++k);for(var S=C&&"!"==d[C-1]||k<u&&"1"==d[k]?"1":"N",L=C;L<k;++L)d[L]=S;C=k-1}}for(var E=0,T=c;E<u;++E){var N=d[E];"L"==T&&"1"==N?d[E]="L":l.test(N)&&(T=N)}for(var z=0;z<u;++z)if(o.test(d[z])){var A=void 0;for(A=z+1;A<u&&o.test(d[A]);++A);for(var B="L"==(z?d[z-1]:c),M=B==("L"==(A<u?d[A]:c))?B?"L":"R":c,R=z;R<A;++R)d[R]=M;z=A-1}for(var I,O=[],H=0;H<u;)if(r.test(d[H])){var D=H;for(++H;H<u&&r.test(d[H]);++H);O.push(new a(0,D,H))}else{var F=H,P=O.length,V="rtl"==t?1:0;for(++H;H<u&&"L"!=d[H];++H);for(var U=F;U<H;)if(s.test(d[U])){F<U&&(O.splice(P,0,new a(1,F,U)),P+=V);var W=U;for(++U;U<H&&s.test(d[U]);++U);O.splice(P,0,new a(2,W,U)),P+=V,F=U}else++U;F<H&&O.splice(P,0,new a(1,F,H))}return"ltr"==t&&(1==O[0].level&&(I=e.match(/^\s+/))&&(O[0].from=I[0].length,O.unshift(new a(0,0,I[0].length))),1==ee(O).level&&(I=e.match(/\s+$/))&&(ee(O).to-=I[0].length,O.push(new a(0,u-I[0].length,u)))),"rtl"==t?O.reverse():O}}();function ve(e,t){var i=e.order;return null==i&&(i=e.order=me(e.text,t)),i}var be=[],ye=function(e,t,i){if(e.addEventListener)e.addEventListener(t,i,!1);else if(e.attachEvent)e.attachEvent("on"+t,i);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||be).concat(i)}};function we(e,t){return e._handlers&&e._handlers[t]||be}function _e(e,t,i){if(e.removeEventListener)e.removeEventListener(t,i,!1);else if(e.detachEvent)e.detachEvent("on"+t,i);else{var n=e._handlers,o=n&&n[t];if(o){var l=q(o,i);l>-1&&(n[t]=o.slice(0,l).concat(o.slice(l+1)))}}}function Ce(e,t){var i=we(e,t);if(i.length)for(var n=Array.prototype.slice.call(arguments,2),o=0;o<i.length;++o)i[o].apply(null,n)}function xe(e,t,i){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Ce(e,i||t.type,e,t),Ne(t)||t.codemirrorIgnore}function ke(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var i=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==q(i,t[n])&&i.push(t[n])}function Se(e,t){return we(e,t).length>0}function Le(e){e.prototype.on=function(e,t){ye(this,e,t)},e.prototype.off=function(e,t){_e(this,e,t)}}function Ee(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Te(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Ne(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function ze(e){Ee(e),Te(e)}function Ae(e){return e.target||e.srcElement}function Be(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),y&&e.ctrlKey&&1==t&&(t=3),t}var Me,Re,Ie=function(){if(r&&s<9)return!1;var e=z("div");return"draggable"in e||"dragDrop"in e}();function Oe(e){if(null==Me){var t=z("span","​");N(e,z("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Me=t.offsetWidth<=1&&t.offsetHeight>2&&!(r&&s<8))}var i=Me?z("span","​"):z("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function He(e){if(null!=Re)return Re;var t=N(e,document.createTextNode("AخA")),i=L(t,0,1).getBoundingClientRect(),n=L(t,1,2).getBoundingClientRect();return T(e),!(!i||i.left==i.right)&&(Re=n.right-i.right<3)}var De,Fe=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,i=[],n=e.length;t<=n;){var o=e.indexOf("\n",t);-1==o&&(o=e.length);var l=e.slice(t,"\r"==e.charAt(o-1)?o-1:o),r=l.indexOf("\r");-1!=r?(i.push(l.slice(0,r)),t+=r+1):(i.push(l),t=o+1)}return i}:function(e){return e.split(/\r\n?|\n/)},Pe=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Ve="oncopy"in(De=z("div"))||(De.setAttribute("oncopy","return;"),"function"==typeof De.oncopy),Ue=null;function We(e){if(null!=Ue)return Ue;var t=N(e,z("span","x")),i=t.getBoundingClientRect(),n=L(t,0,1).getBoundingClientRect();return Ue=Math.abs(i.left-n.left)>1}var je={},qe={};function Ze(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),je[e]=t}function Ge(e,t){qe[e]=t}function $e(e){if("string"==typeof e&&qe.hasOwnProperty(e))e=qe[e];else if(e&&"string"==typeof e.name&&qe.hasOwnProperty(e.name)){var t=qe[e.name];"string"==typeof t&&(t={name:t}),(e=oe(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return $e("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return $e("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ke(e,t){t=$e(t);var i=je[t.name];if(!i)return Ke(e,"text/plain");var n=i(e,t);if(Ye.hasOwnProperty(t.name)){var o=Ye[t.name];for(var l in o)o.hasOwnProperty(l)&&(n.hasOwnProperty(l)&&(n["_"+l]=n[l]),n[l]=o[l])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var r in t.modeProps)n[r]=t.modeProps[r];return n}var Ye={};function Xe(e,t){U(t,Ye.hasOwnProperty(e)?Ye[e]:Ye[e]={})}function Je(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var i={};for(var n in t){var o=t[n];o instanceof Array&&(o=o.concat([])),i[n]=o}return i}function Qe(e,t){for(var i;e.innerMode&&(i=e.innerMode(t))&&i.mode!=e;)t=i.state,e=i.mode;return i||{mode:e,state:t}}function et(e,t,i){return!e.startState||e.startState(t,i)}var tt=function(e,t,i){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=i};function it(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var i=e;!i.lines;)for(var n=0;;++n){var o=i.children[n],l=o.chunkSize();if(t<l){i=o;break}t-=l}return i.lines[t]}function nt(e,t,i){var n=[],o=t.line;return e.iter(t.line,i.line+1,(function(e){var l=e.text;o==i.line&&(l=l.slice(0,i.ch)),o==t.line&&(l=l.slice(t.ch)),n.push(l),++o})),n}function ot(e,t,i){var n=[];return e.iter(t,i,(function(e){n.push(e.text)})),n}function lt(e,t){var i=t-e.height;if(i)for(var n=e;n;n=n.parent)n.height+=i}function rt(e){if(null==e.parent)return null;for(var t=e.parent,i=q(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var o=0;n.children[o]!=t;++o)i+=n.children[o].chunkSize();return i+t.first}function st(e,t){var i=e.first;e:do{for(var n=0;n<e.children.length;++n){var o=e.children[n],l=o.height;if(t<l){e=o;continue e}t-=l,i+=o.chunkSize()}return i}while(!e.lines);for(var r=0;r<e.lines.length;++r){var s=e.lines[r].height;if(t<s)break;t-=s}return i+r}function at(e,t){return t>=e.first&&t<e.first+e.size}function ct(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function ut(e,t,i){if(void 0===i&&(i=null),!(this instanceof ut))return new ut(e,t,i);this.line=e,this.ch=t,this.sticky=i}function dt(e,t){return e.line-t.line||e.ch-t.ch}function ht(e,t){return e.sticky==t.sticky&&0==dt(e,t)}function pt(e){return ut(e.line,e.ch)}function ft(e,t){return dt(e,t)<0?t:e}function gt(e,t){return dt(e,t)<0?e:t}function mt(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function vt(e,t){if(t.line<e.first)return ut(e.first,0);var i=e.first+e.size-1;return t.line>i?ut(i,it(e,i).text.length):bt(t,it(e,t.line).text.length)}function bt(e,t){var i=e.ch;return null==i||i>t?ut(e.line,t):i<0?ut(e.line,0):e}function yt(e,t){for(var i=[],n=0;n<t.length;n++)i[n]=vt(e,t[n]);return i}tt.prototype.eol=function(){return this.pos>=this.string.length},tt.prototype.sol=function(){return this.pos==this.lineStart},tt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},tt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},tt.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},tt.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},tt.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},tt.prototype.skipToEnd=function(){this.pos=this.string.length},tt.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},tt.prototype.backUp=function(e){this.pos-=e},tt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=W(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?W(this.string,this.lineStart,this.tabSize):0)},tt.prototype.indentation=function(){return W(this.string,null,this.tabSize)-(this.lineStart?W(this.string,this.lineStart,this.tabSize):0)},tt.prototype.match=function(e,t,i){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&!1!==t&&(this.pos+=n[0].length),n)}var o=function(e){return i?e.toLowerCase():e};if(o(this.string.substr(this.pos,e.length))==o(e))return!1!==t&&(this.pos+=e.length),!0},tt.prototype.current=function(){return this.string.slice(this.start,this.pos)},tt.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},tt.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},tt.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var wt=function(e,t){this.state=e,this.lookAhead=t},_t=function(e,t,i,n){this.state=t,this.doc=e,this.line=i,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};function Ct(e,t,i,n){var o=[e.state.modeGen],l={};At(e,t.text,e.doc.mode,i,(function(e,t){return o.push(e,t)}),l,n);for(var r=i.state,s=function(n){i.baseTokens=o;var s=e.state.overlays[n],a=1,c=0;i.state=!0,At(e,t.text,s.mode,i,(function(e,t){for(var i=a;c<e;){var n=o[a];n>e&&o.splice(a,1,e,o[a+1],n),a+=2,c=Math.min(e,n)}if(t)if(s.opaque)o.splice(i,a-i,e,"overlay "+t),a=i+2;else for(;i<a;i+=2){var l=o[i+1];o[i+1]=(l?l+" ":"")+"overlay "+t}}),l),i.state=r,i.baseTokens=null,i.baseTokenPos=1},a=0;a<e.state.overlays.length;++a)s(a);return{styles:o,classes:l.bgClass||l.textClass?l:null}}function xt(e,t,i){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=kt(e,rt(t)),o=t.text.length>e.options.maxHighlightLength&&Je(e.doc.mode,n.state),l=Ct(e,t,n);o&&(n.state=o),t.stateAfter=n.save(!o),t.styles=l.styles,l.classes?t.styleClasses=l.classes:t.styleClasses&&(t.styleClasses=null),i===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function kt(e,t,i){var n=e.doc,o=e.display;if(!n.mode.startState)return new _t(n,!0,t);var l=Bt(e,t,i),r=l>n.first&&it(n,l-1).stateAfter,s=r?_t.fromSaved(n,r,l):new _t(n,et(n.mode),l);return n.iter(l,t,(function(i){St(e,i.text,s);var n=s.line;i.stateAfter=n==t-1||n%5==0||n>=o.viewFrom&&n<o.viewTo?s.save():null,s.nextLine()})),i&&(n.modeFrontier=s.line),s}function St(e,t,i,n){var o=e.doc.mode,l=new tt(t,e.options.tabSize,i);for(l.start=l.pos=n||0,""==t&&Lt(o,i.state);!l.eol();)Et(o,l,i.state),l.start=l.pos}function Lt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var i=Qe(e,t);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function Et(e,t,i,n){for(var o=0;o<10;o++){n&&(n[0]=Qe(e,i).mode);var l=e.token(t,i);if(t.pos>t.start)return l}throw new Error("Mode "+e.name+" failed to advance stream.")}_t.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},_t.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},_t.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},_t.fromSaved=function(e,t,i){return t instanceof wt?new _t(e,Je(e.mode,t.state),i,t.lookAhead):new _t(e,Je(e.mode,t),i)},_t.prototype.save=function(e){var t=!1!==e?Je(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new wt(t,this.maxLookAhead):t};var Tt=function(e,t,i){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=i};function Nt(e,t,i,n){var o,l,r=e.doc,s=r.mode,a=it(r,(t=vt(r,t)).line),c=kt(e,t.line,i),u=new tt(a.text,e.options.tabSize,c);for(n&&(l=[]);(n||u.pos<t.ch)&&!u.eol();)u.start=u.pos,o=Et(s,u,c.state),n&&l.push(new Tt(u,o,Je(r.mode,c.state)));return n?l:new Tt(u,o,c.state)}function zt(e,t){if(e)for(;;){var i=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i)break;e=e.slice(0,i.index)+e.slice(i.index+i[0].length);var n=i[1]?"bgClass":"textClass";null==t[n]?t[n]=i[2]:new RegExp("(?:^|\\s)"+i[2]+"(?:$|\\s)").test(t[n])||(t[n]+=" "+i[2])}return e}function At(e,t,i,n,o,l,r){var s=i.flattenSpans;null==s&&(s=e.options.flattenSpans);var a,c=0,u=null,d=new tt(t,e.options.tabSize,n),h=e.options.addModeClass&&[null];for(""==t&&zt(Lt(i,n.state),l);!d.eol();){if(d.pos>e.options.maxHighlightLength?(s=!1,r&&St(e,t,n,d.pos),d.pos=t.length,a=null):a=zt(Et(i,d,n.state,h),l),h){var p=h[0].name;p&&(a="m-"+(a?p+" "+a:p))}if(!s||u!=a){for(;c<d.start;)o(c=Math.min(d.start,c+5e3),u);u=a}d.start=d.pos}for(;c<d.pos;){var f=Math.min(d.pos,c+5e3);o(f,u),c=f}}function Bt(e,t,i){for(var n,o,l=e.doc,r=i?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>r;--s){if(s<=l.first)return l.first;var a=it(l,s-1),c=a.stateAfter;if(c&&(!i||s+(c instanceof wt?c.lookAhead:0)<=l.modeFrontier))return s;var u=W(a.text,null,e.options.tabSize);(null==o||n>u)&&(o=s-1,n=u)}return o}function Mt(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var i=e.first,n=t-1;n>i;n--){var o=it(e,n).stateAfter;if(o&&(!(o instanceof wt)||n+o.lookAhead<t)){i=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,i)}}var Rt=!1,It=!1;function Ot(){Rt=!0}function Ht(){It=!0}function Dt(e,t,i){this.marker=e,this.from=t,this.to=i}function Ft(e,t){if(e)for(var i=0;i<e.length;++i){var n=e[i];if(n.marker==t)return n}}function Pt(e,t){for(var i,n=0;n<e.length;++n)e[n]!=t&&(i||(i=[])).push(e[n]);return i}function Vt(e,t,i){var n=i&&window.WeakSet&&(i.markedSpans||(i.markedSpans=new WeakSet));n&&e.markedSpans&&n.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],n&&n.add(e.markedSpans)),t.marker.attachLine(e)}function Ut(e,t,i){var n;if(e)for(var o=0;o<e.length;++o){var l=e[o],r=l.marker;if(null==l.from||(r.inclusiveLeft?l.from<=t:l.from<t)||l.from==t&&"bookmark"==r.type&&(!i||!l.marker.insertLeft)){var s=null==l.to||(r.inclusiveRight?l.to>=t:l.to>t);(n||(n=[])).push(new Dt(r,l.from,s?null:l.to))}}return n}function Wt(e,t,i){var n;if(e)for(var o=0;o<e.length;++o){var l=e[o],r=l.marker;if(null==l.to||(r.inclusiveRight?l.to>=t:l.to>t)||l.from==t&&"bookmark"==r.type&&(!i||l.marker.insertLeft)){var s=null==l.from||(r.inclusiveLeft?l.from<=t:l.from<t);(n||(n=[])).push(new Dt(r,s?null:l.from-t,null==l.to?null:l.to-t))}}return n}function jt(e,t){if(t.full)return null;var i=at(e,t.from.line)&&it(e,t.from.line).markedSpans,n=at(e,t.to.line)&&it(e,t.to.line).markedSpans;if(!i&&!n)return null;var o=t.from.ch,l=t.to.ch,r=0==dt(t.from,t.to),s=Ut(i,o,r),a=Wt(n,l,r),c=1==t.text.length,u=ee(t.text).length+(c?o:0);if(s)for(var d=0;d<s.length;++d){var h=s[d];if(null==h.to){var p=Ft(a,h.marker);p?c&&(h.to=null==p.to?null:p.to+u):h.to=o}}if(a)for(var f=0;f<a.length;++f){var g=a[f];null!=g.to&&(g.to+=u),null==g.from?Ft(s,g.marker)||(g.from=u,c&&(s||(s=[])).push(g)):(g.from+=u,c&&(s||(s=[])).push(g))}s&&(s=qt(s)),a&&a!=s&&(a=qt(a));var m=[s];if(!c){var v,b=t.text.length-2;if(b>0&&s)for(var y=0;y<s.length;++y)null==s[y].to&&(v||(v=[])).push(new Dt(s[y].marker,null,null));for(var w=0;w<b;++w)m.push(v);m.push(a)}return m}function qt(e){for(var t=0;t<e.length;++t){var i=e[t];null!=i.from&&i.from==i.to&&!1!==i.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Zt(e,t,i){var n=null;if(e.iter(t.line,i.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var i=e.markedSpans[t].marker;!i.readOnly||n&&-1!=q(n,i)||(n||(n=[])).push(i)}})),!n)return null;for(var o=[{from:t,to:i}],l=0;l<n.length;++l)for(var r=n[l],s=r.find(0),a=0;a<o.length;++a){var c=o[a];if(!(dt(c.to,s.from)<0||dt(c.from,s.to)>0)){var u=[a,1],d=dt(c.from,s.from),h=dt(c.to,s.to);(d<0||!r.inclusiveLeft&&!d)&&u.push({from:c.from,to:s.from}),(h>0||!r.inclusiveRight&&!h)&&u.push({from:s.to,to:c.to}),o.splice.apply(o,u),a+=u.length-3}}return o}function Gt(e){var t=e.markedSpans;if(t){for(var i=0;i<t.length;++i)t[i].marker.detachLine(e);e.markedSpans=null}}function $t(e,t){if(t){for(var i=0;i<t.length;++i)t[i].marker.attachLine(e);e.markedSpans=t}}function Kt(e){return e.inclusiveLeft?-1:0}function Yt(e){return e.inclusiveRight?1:0}function Xt(e,t){var i=e.lines.length-t.lines.length;if(0!=i)return i;var n=e.find(),o=t.find(),l=dt(n.from,o.from)||Kt(e)-Kt(t);if(l)return-l;var r=dt(n.to,o.to)||Yt(e)-Yt(t);return r||t.id-e.id}function Jt(e,t){var i,n=It&&e.markedSpans;if(n)for(var o=void 0,l=0;l<n.length;++l)(o=n[l]).marker.collapsed&&null==(t?o.from:o.to)&&(!i||Xt(i,o.marker)<0)&&(i=o.marker);return i}function Qt(e){return Jt(e,!0)}function ei(e){return Jt(e,!1)}function ti(e,t){var i,n=It&&e.markedSpans;if(n)for(var o=0;o<n.length;++o){var l=n[o];l.marker.collapsed&&(null==l.from||l.from<t)&&(null==l.to||l.to>t)&&(!i||Xt(i,l.marker)<0)&&(i=l.marker)}return i}function ii(e,t,i,n,o){var l=it(e,t),r=It&&l.markedSpans;if(r)for(var s=0;s<r.length;++s){var a=r[s];if(a.marker.collapsed){var c=a.marker.find(0),u=dt(c.from,i)||Kt(a.marker)-Kt(o),d=dt(c.to,n)||Yt(a.marker)-Yt(o);if(!(u>=0&&d<=0||u<=0&&d>=0)&&(u<=0&&(a.marker.inclusiveRight&&o.inclusiveLeft?dt(c.to,i)>=0:dt(c.to,i)>0)||u>=0&&(a.marker.inclusiveRight&&o.inclusiveLeft?dt(c.from,n)<=0:dt(c.from,n)<0)))return!0}}}function ni(e){for(var t;t=Qt(e);)e=t.find(-1,!0).line;return e}function oi(e){for(var t;t=ei(e);)e=t.find(1,!0).line;return e}function li(e){for(var t,i;t=ei(e);)e=t.find(1,!0).line,(i||(i=[])).push(e);return i}function ri(e,t){var i=it(e,t),n=ni(i);return i==n?t:rt(n)}function si(e,t){if(t>e.lastLine())return t;var i,n=it(e,t);if(!ai(e,n))return t;for(;i=ei(n);)n=i.find(1,!0).line;return rt(n)+1}function ai(e,t){var i=It&&t.markedSpans;if(i)for(var n=void 0,o=0;o<i.length;++o)if((n=i[o]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&ci(e,t,n))return!0}}function ci(e,t,i){if(null==i.to){var n=i.marker.find(1,!0);return ci(e,n.line,Ft(n.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==t.text.length)return!0;for(var o=void 0,l=0;l<t.markedSpans.length;++l)if((o=t.markedSpans[l]).marker.collapsed&&!o.marker.widgetNode&&o.from==i.to&&(null==o.to||o.to!=i.from)&&(o.marker.inclusiveLeft||i.marker.inclusiveRight)&&ci(e,t,o))return!0}function ui(e){for(var t=0,i=(e=ni(e)).parent,n=0;n<i.lines.length;++n){var o=i.lines[n];if(o==e)break;t+=o.height}for(var l=i.parent;l;l=(i=l).parent)for(var r=0;r<l.children.length;++r){var s=l.children[r];if(s==i)break;t+=s.height}return t}function di(e){if(0==e.height)return 0;for(var t,i=e.text.length,n=e;t=Qt(n);){var o=t.find(0,!0);n=o.from.line,i+=o.from.ch-o.to.ch}for(n=e;t=ei(n);){var l=t.find(0,!0);i-=n.text.length-l.from.ch,i+=(n=l.to.line).text.length-l.to.ch}return i}function hi(e){var t=e.display,i=e.doc;t.maxLine=it(i,i.first),t.maxLineLength=di(t.maxLine),t.maxLineChanged=!0,i.iter((function(e){var i=di(e);i>t.maxLineLength&&(t.maxLineLength=i,t.maxLine=e)}))}var pi=function(e,t,i){this.text=e,$t(this,t),this.height=i?i(this):1};function fi(e,t,i,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Gt(e),$t(e,i);var o=n?n(e):1;o!=e.height&&lt(e,o)}function gi(e){e.parent=null,Gt(e)}pi.prototype.lineNo=function(){return rt(this)},Le(pi);var mi={},vi={};function bi(e,t){if(!e||/^\s*$/.test(e))return null;var i=t.addModeClass?vi:mi;return i[e]||(i[e]=e.replace(/\S+/g,"cm-$&"))}function yi(e,t){var i=A("span",null,null,a?"padding-right: .1px":null),n={pre:A("pre",[i],"CodeMirror-line"),content:i,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var l=o?t.rest[o-1]:t.line,r=void 0;n.pos=0,n.addToken=_i,He(e.display.measure)&&(r=ve(l,e.doc.direction))&&(n.addToken=xi(n.addToken,r)),n.map=[],Si(l,n,xt(e,l,t!=e.display.externalMeasured&&rt(l))),l.styleClasses&&(l.styleClasses.bgClass&&(n.bgClass=I(l.styleClasses.bgClass,n.bgClass||"")),l.styleClasses.textClass&&(n.textClass=I(l.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(Oe(e.display.measure))),0==o?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(a){var s=n.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return Ce(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=I(n.pre.className,n.textClass||"")),n}function wi(e){var t=z("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function _i(e,t,i,n,o,l,a){if(t){var c,u=e.splitSpaces?Ci(t,e.trailingSpace):t,d=e.cm.state.specialChars,h=!1;if(d.test(t)){c=document.createDocumentFragment();for(var p=0;;){d.lastIndex=p;var f=d.exec(t),g=f?f.index-p:t.length-p;if(g){var m=document.createTextNode(u.slice(p,p+g));r&&s<9?c.appendChild(z("span",[m])):c.appendChild(m),e.map.push(e.pos,e.pos+g,m),e.col+=g,e.pos+=g}if(!f)break;p+=g+1;var v=void 0;if("\t"==f[0]){var b=e.cm.options.tabSize,y=b-e.col%b;(v=c.appendChild(z("span",Q(y),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=y}else"\r"==f[0]||"\n"==f[0]?((v=c.appendChild(z("span","\r"==f[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",f[0]),e.col+=1):((v=e.cm.options.specialCharPlaceholder(f[0])).setAttribute("cm-text",f[0]),r&&s<9?c.appendChild(z("span",[v])):c.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,c=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,c),r&&s<9&&(h=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),i||n||o||h||l||a){var w=i||"";n&&(w+=n),o&&(w+=o);var _=z("span",[c],w,l);if(a)for(var C in a)a.hasOwnProperty(C)&&"style"!=C&&"class"!=C&&_.setAttribute(C,a[C]);return e.content.appendChild(_)}e.content.appendChild(c)}}function Ci(e,t){if(e.length>1&&!/  /.test(e))return e;for(var i=t,n="",o=0;o<e.length;o++){var l=e.charAt(o);" "!=l||!i||o!=e.length-1&&32!=e.charCodeAt(o+1)||(l=" "),n+=l,i=" "==l}return n}function xi(e,t){return function(i,n,o,l,r,s,a){o=o?o+" cm-force-border":"cm-force-border";for(var c=i.pos,u=c+n.length;;){for(var d=void 0,h=0;h<t.length&&!((d=t[h]).to>c&&d.from<=c);h++);if(d.to>=u)return e(i,n,o,l,r,s,a);e(i,n.slice(0,d.to-c),o,l,null,s,a),l=null,n=n.slice(d.to-c),c=d.to}}}function ki(e,t,i,n){var o=!n&&i.widgetNode;o&&e.map.push(e.pos,e.pos+t,o),!n&&e.cm.display.input.needsContentAttribute&&(o||(o=e.content.appendChild(document.createElement("span"))),o.setAttribute("cm-marker",i.id)),o&&(e.cm.display.input.setUneditable(o),e.content.appendChild(o)),e.pos+=t,e.trailingSpace=!1}function Si(e,t,i){var n=e.markedSpans,o=e.text,l=0;if(n)for(var r,s,a,c,u,d,h,p=o.length,f=0,g=1,m="",v=0;;){if(v==f){a=c=u=s="",h=null,d=null,v=1/0;for(var b=[],y=void 0,w=0;w<n.length;++w){var _=n[w],C=_.marker;if("bookmark"==C.type&&_.from==f&&C.widgetNode)b.push(C);else if(_.from<=f&&(null==_.to||_.to>f||C.collapsed&&_.to==f&&_.from==f)){if(null!=_.to&&_.to!=f&&v>_.to&&(v=_.to,c=""),C.className&&(a+=" "+C.className),C.css&&(s=(s?s+";":"")+C.css),C.startStyle&&_.from==f&&(u+=" "+C.startStyle),C.endStyle&&_.to==v&&(y||(y=[])).push(C.endStyle,_.to),C.title&&((h||(h={})).title=C.title),C.attributes)for(var x in C.attributes)(h||(h={}))[x]=C.attributes[x];C.collapsed&&(!d||Xt(d.marker,C)<0)&&(d=_)}else _.from>f&&v>_.from&&(v=_.from)}if(y)for(var k=0;k<y.length;k+=2)y[k+1]==v&&(c+=" "+y[k]);if(!d||d.from==f)for(var S=0;S<b.length;++S)ki(t,0,b[S]);if(d&&(d.from||0)==f){if(ki(t,(null==d.to?p+1:d.to)-f,d.marker,null==d.from),null==d.to)return;d.to==f&&(d=!1)}}if(f>=p)break;for(var L=Math.min(p,v);;){if(m){var E=f+m.length;if(!d){var T=E>L?m.slice(0,L-f):m;t.addToken(t,T,r?r+a:a,u,f+T.length==v?c:"",s,h)}if(E>=L){m=m.slice(L-f),f=L;break}f=E,u=""}m=o.slice(l,l=i[g++]),r=bi(i[g++],t.cm.options)}}else for(var N=1;N<i.length;N+=2)t.addToken(t,o.slice(l,l=i[N]),bi(i[N+1],t.cm.options))}function Li(e,t,i){this.line=t,this.rest=li(t),this.size=this.rest?rt(ee(this.rest))-i+1:1,this.node=this.text=null,this.hidden=ai(e,t)}function Ei(e,t,i){for(var n,o=[],l=t;l<i;l=n){var r=new Li(e.doc,it(e.doc,l),l);n=l+r.size,o.push(r)}return o}var Ti=null;function Ni(e){Ti?Ti.ops.push(e):e.ownsGroup=Ti={ops:[e],delayedCallbacks:[]}}function zi(e){var t=e.delayedCallbacks,i=0;do{for(;i<t.length;i++)t[i].call(null);for(var n=0;n<e.ops.length;n++){var o=e.ops[n];if(o.cursorActivityHandlers)for(;o.cursorActivityCalled<o.cursorActivityHandlers.length;)o.cursorActivityHandlers[o.cursorActivityCalled++].call(null,o.cm)}}while(i<t.length)}function Ai(e,t){var i=e.ownsGroup;if(i)try{zi(i)}finally{Ti=null,t(i)}}var Bi=null;function Mi(e,t){var i=we(e,t);if(i.length){var n,o=Array.prototype.slice.call(arguments,2);Ti?n=Ti.delayedCallbacks:Bi?n=Bi:(n=Bi=[],setTimeout(Ri,0));for(var l=function(e){n.push((function(){return i[e].apply(null,o)}))},r=0;r<i.length;++r)l(r)}}function Ri(){var e=Bi;Bi=null;for(var t=0;t<e.length;++t)e[t]()}function Ii(e,t,i,n){for(var o=0;o<t.changes.length;o++){var l=t.changes[o];"text"==l?Fi(e,t):"gutter"==l?Vi(e,t,i,n):"class"==l?Pi(e,t):"widget"==l&&Ui(e,t,n)}t.changes=null}function Oi(e){return e.node==e.text&&(e.node=z("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),r&&s<8&&(e.node.style.zIndex=2)),e.node}function Hi(e,t){var i=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(i&&(i+=" CodeMirror-linebackground"),t.background)i?t.background.className=i:(t.background.parentNode.removeChild(t.background),t.background=null);else if(i){var n=Oi(t);t.background=n.insertBefore(z("div",null,i),n.firstChild),e.display.input.setUneditable(t.background)}}function Di(e,t){var i=e.display.externalMeasured;return i&&i.line==t.line?(e.display.externalMeasured=null,t.measure=i.measure,i.built):yi(e,t)}function Fi(e,t){var i=t.text.className,n=Di(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,Pi(e,t)):i&&(t.text.className=i)}function Pi(e,t){Hi(e,t),t.line.wrapClass?Oi(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var i=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=i||""}function Vi(e,t,i,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=Oi(t);t.gutterBackground=z("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text)}var l=t.line.gutterMarkers;if(e.options.lineNumbers||l){var r=Oi(t),s=t.gutter=z("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(s.setAttribute("aria-hidden","true"),e.display.input.setUneditable(s),r.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||l&&l["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(z("div",ct(e.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),l)for(var a=0;a<e.display.gutterSpecs.length;++a){var c=e.display.gutterSpecs[a].className,u=l.hasOwnProperty(c)&&l[c];u&&s.appendChild(z("div",[u],"CodeMirror-gutter-elt","left: "+n.gutterLeft[c]+"px; width: "+n.gutterWidth[c]+"px"))}}}function Ui(e,t,i){t.alignable&&(t.alignable=null);for(var n=S("CodeMirror-linewidget"),o=t.node.firstChild,l=void 0;o;o=l)l=o.nextSibling,n.test(o.className)&&t.node.removeChild(o);ji(e,t,i)}function Wi(e,t,i,n){var o=Di(e,t);return t.text=t.node=o.pre,o.bgClass&&(t.bgClass=o.bgClass),o.textClass&&(t.textClass=o.textClass),Pi(e,t),Vi(e,t,i,n),ji(e,t,n),t.node}function ji(e,t,i){if(qi(e,t.line,t,i,!0),t.rest)for(var n=0;n<t.rest.length;n++)qi(e,t.rest[n],t,i,!1)}function qi(e,t,i,n,o){if(t.widgets)for(var l=Oi(i),r=0,s=t.widgets;r<s.length;++r){var a=s[r],c=z("div",[a.node],"CodeMirror-linewidget"+(a.className?" "+a.className:""));a.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),Zi(a,c,i,n),e.display.input.setUneditable(c),o&&a.above?l.insertBefore(c,i.gutter||i.text):l.appendChild(c),Mi(a,"redraw")}}function Zi(e,t,i,n){if(e.noHScroll){(i.alignable||(i.alignable=[])).push(t);var o=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(o-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=o+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function Gi(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!B(document.body,e.node)){var i="position: relative;";e.coverGutter&&(i+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(i+="width: "+t.display.wrapper.clientWidth+"px;"),N(t.display.measure,z("div",[e.node],null,i))}return e.height=e.node.parentNode.offsetHeight}function $i(e,t){for(var i=Ae(t);i!=e.wrapper;i=i.parentNode)if(!i||1==i.nodeType&&"true"==i.getAttribute("cm-ignore-events")||i.parentNode==e.sizer&&i!=e.mover)return!0}function Ki(e){return e.lineSpace.offsetTop}function Yi(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Xi(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=N(e.measure,z("pre","x","CodeMirror-line-like")),i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function Ji(e){return Z-e.display.nativeBarWidth}function Qi(e){return e.display.scroller.clientWidth-Ji(e)-e.display.barWidth}function en(e){return e.display.scroller.clientHeight-Ji(e)-e.display.barHeight}function tn(e,t,i){var n=e.options.lineWrapping,o=n&&Qi(e);if(!t.measure.heights||n&&t.measure.width!=o){var l=t.measure.heights=[];if(n){t.measure.width=o;for(var r=t.text.firstChild.getClientRects(),s=0;s<r.length-1;s++){var a=r[s],c=r[s+1];Math.abs(a.bottom-c.bottom)>2&&l.push((a.bottom+c.top)/2-i.top)}}l.push(i.bottom-i.top)}}function nn(e,t,i){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};if(e.rest){for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var o=0;o<e.rest.length;o++)if(rt(e.rest[o])>i)return{map:e.measure.maps[o],cache:e.measure.caches[o],before:!0}}}function on(e,t){var i=rt(t=ni(t)),n=e.display.externalMeasured=new Li(e.doc,t,i);n.lineN=i;var o=n.built=yi(e,n);return n.text=o.pre,N(e.display.lineMeasure,o.pre),n}function ln(e,t,i,n){return an(e,sn(e,t),i,n)}function rn(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Vn(e,t)];var i=e.display.externalMeasured;return i&&t>=i.lineN&&t<i.lineN+i.size?i:void 0}function sn(e,t){var i=rt(t),n=rn(e,i);n&&!n.text?n=null:n&&n.changes&&(Ii(e,n,i,On(e)),e.curOp.forceUpdate=!0),n||(n=on(e,t));var o=nn(n,t,i);return{line:t,view:n,rect:null,map:o.map,cache:o.cache,before:o.before,hasHeights:!1}}function an(e,t,i,n,o){t.before&&(i=-1);var l,r=i+(n||"");return t.cache.hasOwnProperty(r)?l=t.cache[r]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(tn(e,t.view,t.rect),t.hasHeights=!0),(l=pn(e,t,i,n)).bogus||(t.cache[r]=l)),{left:l.left,right:l.right,top:o?l.rtop:l.top,bottom:o?l.rbottom:l.bottom}}var cn,un={left:0,right:0,top:0,bottom:0};function dn(e,t,i){for(var n,o,l,r,s,a,c=0;c<e.length;c+=3)if(s=e[c],a=e[c+1],t<s?(o=0,l=1,r="left"):t<a?l=1+(o=t-s):(c==e.length-3||t==a&&e[c+3]>t)&&(o=(l=a-s)-1,t>=a&&(r="right")),null!=o){if(n=e[c+2],s==a&&i==(n.insertLeft?"left":"right")&&(r=i),"left"==i&&0==o)for(;c&&e[c-2]==e[c-3]&&e[c-1].insertLeft;)n=e[2+(c-=3)],r="left";if("right"==i&&o==a-s)for(;c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft;)n=e[(c+=3)+2],r="right";break}return{node:n,start:o,end:l,collapse:r,coverStart:s,coverEnd:a}}function hn(e,t){var i=un;if("left"==t)for(var n=0;n<e.length&&(i=e[n]).left==i.right;n++);else for(var o=e.length-1;o>=0&&(i=e[o]).left==i.right;o--);return i}function pn(e,t,i,n){var o,l=dn(t.map,i,n),a=l.node,c=l.start,u=l.end,d=l.collapse;if(3==a.nodeType){for(var h=0;h<4;h++){for(;c&&ue(t.line.text.charAt(l.coverStart+c));)--c;for(;l.coverStart+u<l.coverEnd&&ue(t.line.text.charAt(l.coverStart+u));)++u;if((o=r&&s<9&&0==c&&u==l.coverEnd-l.coverStart?a.parentNode.getBoundingClientRect():hn(L(a,c,u).getClientRects(),n)).left||o.right||0==c)break;u=c,c-=1,d="right"}r&&s<11&&(o=fn(e.display.measure,o))}else{var p;c>0&&(d=n="right"),o=e.options.lineWrapping&&(p=a.getClientRects()).length>1?p["right"==n?p.length-1:0]:a.getBoundingClientRect()}if(r&&s<9&&!c&&(!o||!o.left&&!o.right)){var f=a.parentNode.getClientRects()[0];o=f?{left:f.left,right:f.left+In(e.display),top:f.top,bottom:f.bottom}:un}for(var g=o.top-t.rect.top,m=o.bottom-t.rect.top,v=(g+m)/2,b=t.view.measure.heights,y=0;y<b.length-1&&!(v<b[y]);y++);var w=y?b[y-1]:0,_=b[y],C={left:("right"==d?o.right:o.left)-t.rect.left,right:("left"==d?o.left:o.right)-t.rect.left,top:w,bottom:_};return o.left||o.right||(C.bogus=!0),e.options.singleCursorHeightPerLine||(C.rtop=g,C.rbottom=m),C}function fn(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!We(e))return t;var i=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*i,right:t.right*i,top:t.top*n,bottom:t.bottom*n}}function gn(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function mn(e){e.display.externalMeasure=null,T(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)gn(e.display.view[t])}function vn(e){mn(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function bn(e){return u&&v?-(e.body.getBoundingClientRect().left-parseInt(getComputedStyle(e.body).marginLeft)):e.defaultView.pageXOffset||(e.documentElement||e.body).scrollLeft}function yn(e){return u&&v?-(e.body.getBoundingClientRect().top-parseInt(getComputedStyle(e.body).marginTop)):e.defaultView.pageYOffset||(e.documentElement||e.body).scrollTop}function wn(e){var t=ni(e).widgets,i=0;if(t)for(var n=0;n<t.length;++n)t[n].above&&(i+=Gi(t[n]));return i}function _n(e,t,i,n,o){if(!o){var l=wn(t);i.top+=l,i.bottom+=l}if("line"==n)return i;n||(n="local");var r=ui(t);if("local"==n?r+=Ki(e.display):r-=e.display.viewOffset,"page"==n||"window"==n){var s=e.display.lineSpace.getBoundingClientRect();r+=s.top+("window"==n?0:yn(H(e)));var a=s.left+("window"==n?0:bn(H(e)));i.left+=a,i.right+=a}return i.top+=r,i.bottom+=r,i}function Cn(e,t,i){if("div"==i)return t;var n=t.left,o=t.top;if("page"==i)n-=bn(H(e)),o-=yn(H(e));else if("local"==i||!i){var l=e.display.sizer.getBoundingClientRect();n+=l.left,o+=l.top}var r=e.display.lineSpace.getBoundingClientRect();return{left:n-r.left,top:o-r.top}}function xn(e,t,i,n,o){return n||(n=it(e.doc,t.line)),_n(e,n,ln(e,n,t.ch,o),i)}function kn(e,t,i,n,o,l){function r(t,r){var s=an(e,o,t,r?"right":"left",l);return r?s.left=s.right:s.right=s.left,_n(e,n,s,i)}n=n||it(e.doc,t.line),o||(o=sn(e,n));var s=ve(n,e.doc.direction),a=t.ch,c=t.sticky;if(a>=n.text.length?(a=n.text.length,c="before"):a<=0&&(a=0,c="after"),!s)return r("before"==c?a-1:a,"before"==c);function u(e,t,i){return r(i?e-1:e,1==s[t].level!=i)}var d=ge(s,a,c),h=fe,p=u(a,d,"before"==c);return null!=h&&(p.other=u(a,h,"before"!=c)),p}function Sn(e,t){var i=0;t=vt(e.doc,t),e.options.lineWrapping||(i=In(e.display)*t.ch);var n=it(e.doc,t.line),o=ui(n)+Ki(e.display);return{left:i,right:i,top:o,bottom:o+n.height}}function Ln(e,t,i,n,o){var l=ut(e,t,i);return l.xRel=o,n&&(l.outside=n),l}function En(e,t,i){var n=e.doc;if((i+=e.display.viewOffset)<0)return Ln(n.first,0,null,-1,-1);var o=st(n,i),l=n.first+n.size-1;if(o>l)return Ln(n.first+n.size-1,it(n,l).text.length,null,1,1);t<0&&(t=0);for(var r=it(n,o);;){var s=An(e,r,o,t,i),a=ti(r,s.ch+(s.xRel>0||s.outside>0?1:0));if(!a)return s;var c=a.find(1);if(c.line==o)return c;r=it(n,o=c.line)}}function Tn(e,t,i,n){n-=wn(t);var o=t.text.length,l=he((function(t){return an(e,i,t-1).bottom<=n}),o,0);return{begin:l,end:o=he((function(t){return an(e,i,t).top>n}),l,o)}}function Nn(e,t,i,n){return i||(i=sn(e,t)),Tn(e,t,i,_n(e,t,an(e,i,n),"line").top)}function zn(e,t,i,n){return!(e.bottom<=i)&&(e.top>i||(n?e.left:e.right)>t)}function An(e,t,i,n,o){o-=ui(t);var l=sn(e,t),r=wn(t),s=0,a=t.text.length,c=!0,u=ve(t,e.doc.direction);if(u){var d=(e.options.lineWrapping?Mn:Bn)(e,t,i,l,u,n,o);s=(c=1!=d.level)?d.from:d.to-1,a=c?d.to:d.from-1}var h,p,f=null,g=null,m=he((function(t){var i=an(e,l,t);return i.top+=r,i.bottom+=r,!!zn(i,n,o,!1)&&(i.top<=o&&i.left<=n&&(f=t,g=i),!0)}),s,a),v=!1;if(g){var b=n-g.left<g.right-n,y=b==c;m=f+(y?0:1),p=y?"after":"before",h=b?g.left:g.right}else{c||m!=a&&m!=s||m++,p=0==m?"after":m==t.text.length?"before":an(e,l,m-(c?1:0)).bottom+r<=o==c?"after":"before";var w=kn(e,ut(i,m,p),"line",t,l);h=w.left,v=o<w.top?-1:o>=w.bottom?1:0}return Ln(i,m=de(t.text,m,1),p,v,n-h)}function Bn(e,t,i,n,o,l,r){var s=he((function(s){var a=o[s],c=1!=a.level;return zn(kn(e,ut(i,c?a.to:a.from,c?"before":"after"),"line",t,n),l,r,!0)}),0,o.length-1),a=o[s];if(s>0){var c=1!=a.level,u=kn(e,ut(i,c?a.from:a.to,c?"after":"before"),"line",t,n);zn(u,l,r,!0)&&u.top>r&&(a=o[s-1])}return a}function Mn(e,t,i,n,o,l,r){var s=Tn(e,t,n,r),a=s.begin,c=s.end;/\s/.test(t.text.charAt(c-1))&&c--;for(var u=null,d=null,h=0;h<o.length;h++){var p=o[h];if(!(p.from>=c||p.to<=a)){var f=an(e,n,1!=p.level?Math.min(c,p.to)-1:Math.max(a,p.from)).right,g=f<l?l-f+1e9:f-l;(!u||d>g)&&(u=p,d=g)}}return u||(u=o[o.length-1]),u.from<a&&(u={from:a,to:u.to,level:u.level}),u.to>c&&(u={from:u.from,to:c,level:u.level}),u}function Rn(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==cn){cn=z("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)cn.appendChild(document.createTextNode("x")),cn.appendChild(z("br"));cn.appendChild(document.createTextNode("x"))}N(e.measure,cn);var i=cn.offsetHeight/50;return i>3&&(e.cachedTextHeight=i),T(e.measure),i||1}function In(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=z("span","xxxxxxxxxx"),i=z("pre",[t],"CodeMirror-line-like");N(e.measure,i);var n=t.getBoundingClientRect(),o=(n.right-n.left)/10;return o>2&&(e.cachedCharWidth=o),o||10}function On(e){for(var t=e.display,i={},n={},o=t.gutters.clientLeft,l=t.gutters.firstChild,r=0;l;l=l.nextSibling,++r){var s=e.display.gutterSpecs[r].className;i[s]=l.offsetLeft+l.clientLeft+o,n[s]=l.clientWidth}return{fixedPos:Hn(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function Hn(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Dn(e){var t=Rn(e.display),i=e.options.lineWrapping,n=i&&Math.max(5,e.display.scroller.clientWidth/In(e.display)-3);return function(o){if(ai(e.doc,o))return 0;var l=0;if(o.widgets)for(var r=0;r<o.widgets.length;r++)o.widgets[r].height&&(l+=o.widgets[r].height);return i?l+(Math.ceil(o.text.length/n)||1)*t:l+t}}function Fn(e){var t=e.doc,i=Dn(e);t.iter((function(e){var t=i(e);t!=e.height&&lt(e,t)}))}function Pn(e,t,i,n){var o=e.display;if(!i&&"true"==Ae(t).getAttribute("cm-not-content"))return null;var l,r,s=o.lineSpace.getBoundingClientRect();try{l=t.clientX-s.left,r=t.clientY-s.top}catch(e){return null}var a,c=En(e,l,r);if(n&&c.xRel>0&&(a=it(e.doc,c.line).text).length==c.ch){var u=W(a,a.length,e.options.tabSize)-a.length;c=ut(c.line,Math.max(0,Math.round((l-Xi(e.display).left)/In(e.display))-u))}return c}function Vn(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var i=e.display.view,n=0;n<i.length;n++)if((t-=i[n].size)<0)return n}function Un(e,t,i,n){null==t&&(t=e.doc.first),null==i&&(i=e.doc.first+e.doc.size),n||(n=0);var o=e.display;if(n&&i<o.viewTo&&(null==o.updateLineNumbers||o.updateLineNumbers>t)&&(o.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=o.viewTo)It&&ri(e.doc,t)<o.viewTo&&jn(e);else if(i<=o.viewFrom)It&&si(e.doc,i+n)>o.viewFrom?jn(e):(o.viewFrom+=n,o.viewTo+=n);else if(t<=o.viewFrom&&i>=o.viewTo)jn(e);else if(t<=o.viewFrom){var l=qn(e,i,i+n,1);l?(o.view=o.view.slice(l.index),o.viewFrom=l.lineN,o.viewTo+=n):jn(e)}else if(i>=o.viewTo){var r=qn(e,t,t,-1);r?(o.view=o.view.slice(0,r.index),o.viewTo=r.lineN):jn(e)}else{var s=qn(e,t,t,-1),a=qn(e,i,i+n,1);s&&a?(o.view=o.view.slice(0,s.index).concat(Ei(e,s.lineN,a.lineN)).concat(o.view.slice(a.index)),o.viewTo+=n):jn(e)}var c=o.externalMeasured;c&&(i<c.lineN?c.lineN+=n:t<c.lineN+c.size&&(o.externalMeasured=null))}function Wn(e,t,i){e.curOp.viewChanged=!0;var n=e.display,o=e.display.externalMeasured;if(o&&t>=o.lineN&&t<o.lineN+o.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var l=n.view[Vn(e,t)];if(null!=l.node){var r=l.changes||(l.changes=[]);-1==q(r,i)&&r.push(i)}}}function jn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function qn(e,t,i,n){var o,l=Vn(e,t),r=e.display.view;if(!It||i==e.doc.first+e.doc.size)return{index:l,lineN:i};for(var s=e.display.viewFrom,a=0;a<l;a++)s+=r[a].size;if(s!=t){if(n>0){if(l==r.length-1)return null;o=s+r[l].size-t,l++}else o=s-t;t+=o,i+=o}for(;ri(e.doc,i)!=i;){if(l==(n<0?0:r.length-1))return null;i+=n*r[l-(n<0?1:0)].size,l+=n}return{index:l,lineN:i}}function Zn(e,t,i){var n=e.display;0==n.view.length||t>=n.viewTo||i<=n.viewFrom?(n.view=Ei(e,t,i),n.viewFrom=t):(n.viewFrom>t?n.view=Ei(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(Vn(e,t))),n.viewFrom=t,n.viewTo<i?n.view=n.view.concat(Ei(e,n.viewTo,i)):n.viewTo>i&&(n.view=n.view.slice(0,Vn(e,i)))),n.viewTo=i}function Gn(e){for(var t=e.display.view,i=0,n=0;n<t.length;n++){var o=t[n];o.hidden||o.node&&!o.changes||++i}return i}function $n(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Kn(e,t){void 0===t&&(t=!0);var i=e.doc,n={},o=n.cursors=document.createDocumentFragment(),l=n.selection=document.createDocumentFragment(),r=e.options.$customCursor;r&&(t=!0);for(var s=0;s<i.sel.ranges.length;s++)if(t||s!=i.sel.primIndex){var a=i.sel.ranges[s];if(!(a.from().line>=e.display.viewTo||a.to().line<e.display.viewFrom)){var c=a.empty();if(r){var u=r(e,a);u&&Yn(e,u,o)}else(c||e.options.showCursorWhenSelecting)&&Yn(e,a.head,o);c||Jn(e,a,l)}}return n}function Yn(e,t,i){var n=kn(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=i.appendChild(z("div"," ","CodeMirror-cursor"));if(o.style.left=n.left+"px",o.style.top=n.top+"px",o.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var l=xn(e,t,"div",null,null),r=l.right-l.left;o.style.width=(r>0?r:e.defaultCharWidth())+"px"}if(n.other){var s=i.appendChild(z("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));s.style.display="",s.style.left=n.other.left+"px",s.style.top=n.other.top+"px",s.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function Xn(e,t){return e.top-t.top||e.left-t.left}function Jn(e,t,i){var n=e.display,o=e.doc,l=document.createDocumentFragment(),r=Xi(e.display),s=r.left,a=Math.max(n.sizerWidth,Qi(e)-n.sizer.offsetLeft)-r.right,c="ltr"==o.direction;function u(e,t,i,n){t<0&&(t=0),t=Math.round(t),n=Math.round(n),l.appendChild(z("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==i?a-e:i)+"px;\n                             height: "+(n-t)+"px"))}function d(t,i,n){var l,r,d=it(o,t),h=d.text.length;function p(i,n){return xn(e,ut(t,i),"div",d,n)}function f(t,i,n){var o=Nn(e,d,null,t),l="ltr"==i==("after"==n)?"left":"right";return p("after"==n?o.begin:o.end-(/\s/.test(d.text.charAt(o.end-1))?2:1),l)[l]}var g=ve(d,o.direction);return pe(g,i||0,null==n?h:n,(function(e,t,o,d){var m="ltr"==o,v=p(e,m?"left":"right"),b=p(t-1,m?"right":"left"),y=null==i&&0==e,w=null==n&&t==h,_=0==d,C=!g||d==g.length-1;if(b.top-v.top<=3){var x=(c?w:y)&&C,k=(c?y:w)&&_?s:(m?v:b).left,S=x?a:(m?b:v).right;u(k,v.top,S-k,v.bottom)}else{var L,E,T,N;m?(L=c&&y&&_?s:v.left,E=c?a:f(e,o,"before"),T=c?s:f(t,o,"after"),N=c&&w&&C?a:b.right):(L=c?f(e,o,"before"):s,E=!c&&y&&_?a:v.right,T=!c&&w&&C?s:b.left,N=c?f(t,o,"after"):a),u(L,v.top,E-L,v.bottom),v.bottom<b.top&&u(s,v.bottom,null,b.top),u(T,b.top,N-T,b.bottom)}(!l||Xn(v,l)<0)&&(l=v),Xn(b,l)<0&&(l=b),(!r||Xn(v,r)<0)&&(r=v),Xn(b,r)<0&&(r=b)})),{start:l,end:r}}var h=t.from(),p=t.to();if(h.line==p.line)d(h.line,h.ch,p.ch);else{var f=it(o,h.line),g=it(o,p.line),m=ni(f)==ni(g),v=d(h.line,h.ch,m?f.text.length+1:null).end,b=d(p.line,m?0:null,p.ch).start;m&&(v.top<b.top-2?(u(v.right,v.top,null,v.bottom),u(s,b.top,b.left,b.bottom)):u(v.right,v.top,b.left-v.right,v.bottom)),v.bottom<b.top&&u(s,v.bottom,null,b.top)}i.appendChild(l)}function Qn(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var i=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){e.hasFocus()||no(e),t.cursorDiv.style.visibility=(i=!i)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function eo(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||io(e))}function to(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&no(e))}),100)}function io(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Ce(e,"focus",e,t),e.state.focused=!0,R(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),a&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),Qn(e))}function no(e,t){e.state.delayingBlurEvent||(e.state.focused&&(Ce(e,"blur",e,t),e.state.focused=!1,E(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function oo(e){for(var t=e.display,i=t.lineDiv.offsetTop,n=Math.max(0,t.scroller.getBoundingClientRect().top),o=t.lineDiv.getBoundingClientRect().top,l=0,a=0;a<t.view.length;a++){var c=t.view[a],u=e.options.lineWrapping,d=void 0,h=0;if(!c.hidden){if(o+=c.line.height,r&&s<8){var p=c.node.offsetTop+c.node.offsetHeight;d=p-i,i=p}else{var f=c.node.getBoundingClientRect();d=f.bottom-f.top,!u&&c.text.firstChild&&(h=c.text.firstChild.getBoundingClientRect().right-f.left-1)}var g=c.line.height-d;if((g>.005||g<-.005)&&(o<n&&(l-=g),lt(c.line,d),lo(c.line),c.rest))for(var m=0;m<c.rest.length;m++)lo(c.rest[m]);if(h>e.display.sizerWidth){var v=Math.ceil(h/In(e.display));v>e.display.maxLineLength&&(e.display.maxLineLength=v,e.display.maxLine=c.line,e.display.maxLineChanged=!0)}}}Math.abs(l)>2&&(t.scroller.scrollTop+=l)}function lo(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var i=e.widgets[t],n=i.node.parentNode;n&&(i.height=n.offsetHeight)}}function ro(e,t,i){var n=i&&null!=i.top?Math.max(0,i.top):e.scroller.scrollTop;n=Math.floor(n-Ki(e));var o=i&&null!=i.bottom?i.bottom:n+e.wrapper.clientHeight,l=st(t,n),r=st(t,o);if(i&&i.ensure){var s=i.ensure.from.line,a=i.ensure.to.line;s<l?(l=s,r=st(t,ui(it(t,s))+e.wrapper.clientHeight)):Math.min(a,t.lastLine())>=r&&(l=st(t,ui(it(t,a))-e.wrapper.clientHeight),r=a)}return{from:l,to:Math.max(r,l+1)}}function so(e,t){if(!xe(e,"scrollCursorIntoView")){var i=e.display,n=i.sizer.getBoundingClientRect(),o=null,l=i.wrapper.ownerDocument;if(t.top+n.top<0?o=!0:t.bottom+n.top>(l.defaultView.innerHeight||l.documentElement.clientHeight)&&(o=!1),null!=o&&!g){var r=z("div","​",null,"position: absolute;\n                         top: "+(t.top-i.viewOffset-Ki(e.display))+"px;\n                         height: "+(t.bottom-t.top+Ji(e)+i.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(r),r.scrollIntoView(o),e.display.lineSpace.removeChild(r)}}}function ao(e,t,i,n){var o;null==n&&(n=0),e.options.lineWrapping||t!=i||(i="before"==t.sticky?ut(t.line,t.ch+1,"before"):t,t=t.ch?ut(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t);for(var l=0;l<5;l++){var r=!1,s=kn(e,t),a=i&&i!=t?kn(e,i):s,c=uo(e,o={left:Math.min(s.left,a.left),top:Math.min(s.top,a.top)-n,right:Math.max(s.left,a.left),bottom:Math.max(s.bottom,a.bottom)+n}),u=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=c.scrollTop&&(bo(e,c.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(r=!0)),null!=c.scrollLeft&&(wo(e,c.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(r=!0)),!r)break}return o}function co(e,t){var i=uo(e,t);null!=i.scrollTop&&bo(e,i.scrollTop),null!=i.scrollLeft&&wo(e,i.scrollLeft)}function uo(e,t){var i=e.display,n=Rn(e.display);t.top<0&&(t.top=0);var o=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:i.scroller.scrollTop,l=en(e),r={};t.bottom-t.top>l&&(t.bottom=t.top+l);var s=e.doc.height+Yi(i),a=t.top<n,c=t.bottom>s-n;if(t.top<o)r.scrollTop=a?0:t.top;else if(t.bottom>o+l){var u=Math.min(t.top,(c?s:t.bottom)-l);u!=o&&(r.scrollTop=u)}var d=e.options.fixedGutter?0:i.gutters.offsetWidth,h=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:i.scroller.scrollLeft-d,p=Qi(e)-i.gutters.offsetWidth,f=t.right-t.left>p;return f&&(t.right=t.left+p),t.left<10?r.scrollLeft=0:t.left<h?r.scrollLeft=Math.max(0,t.left+d-(f?0:10)):t.right>p+h-3&&(r.scrollLeft=t.right+(f?0:10)-p),r}function ho(e,t){null!=t&&(mo(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function po(e){mo(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function fo(e,t,i){null==t&&null==i||mo(e),null!=t&&(e.curOp.scrollLeft=t),null!=i&&(e.curOp.scrollTop=i)}function go(e,t){mo(e),e.curOp.scrollToPos=t}function mo(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,vo(e,Sn(e,t.from),Sn(e,t.to),t.margin))}function vo(e,t,i,n){var o=uo(e,{left:Math.min(t.left,i.left),top:Math.min(t.top,i.top)-n,right:Math.max(t.right,i.right),bottom:Math.max(t.bottom,i.bottom)+n});fo(e,o.scrollLeft,o.scrollTop)}function bo(e,t){Math.abs(e.doc.scrollTop-t)<2||(i||Ko(e,{top:t}),yo(e,t,!0),i&&Ko(e),Vo(e,100))}function yo(e,t,i){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||i)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function wo(e,t,i,n){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(i?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,Qo(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function _o(e){var t=e.display,i=t.gutters.offsetWidth,n=Math.round(e.doc.height+Yi(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?i:0,docHeight:n,scrollHeight:n+Ji(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:i}}var Co=function(e,t,i){this.cm=i;var n=this.vert=z("div",[z("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=z("div",[z("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=o.tabIndex=-1,e(n),e(o),ye(n,"scroll",(function(){n.clientHeight&&t(n.scrollTop,"vertical")})),ye(o,"scroll",(function(){o.clientWidth&&t(o.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,r&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Co.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,i=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(i){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var o=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+o)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=i?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var l=e.viewWidth-e.barLeft-(i?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+l)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:i?n:0,bottom:t?n:0}},Co.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Co.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Co.prototype.zeroWidthHack=function(){var e=y&&!f?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new j,this.disableVert=new j},Co.prototype.enableZeroWidthBar=function(e,t,i){function n(){var o=e.getBoundingClientRect();("vert"==i?document.elementFromPoint(o.right-1,(o.top+o.bottom)/2):document.elementFromPoint((o.right+o.left)/2,o.bottom-1))!=e?e.style.visibility="hidden":t.set(1e3,n)}e.style.visibility="",t.set(1e3,n)},Co.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var xo=function(){};function ko(e,t){t||(t=_o(e));var i=e.display.barWidth,n=e.display.barHeight;So(e,t);for(var o=0;o<4&&i!=e.display.barWidth||n!=e.display.barHeight;o++)i!=e.display.barWidth&&e.options.lineWrapping&&oo(e),So(e,_o(e)),i=e.display.barWidth,n=e.display.barHeight}function So(e,t){var i=e.display,n=i.scrollbars.update(t);i.sizer.style.paddingRight=(i.barWidth=n.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=n.bottom)+"px",i.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=n.bottom+"px",i.scrollbarFiller.style.width=n.right+"px"):i.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=n.bottom+"px",i.gutterFiller.style.width=t.gutterWidth+"px"):i.gutterFiller.style.display=""}xo.prototype.update=function(){return{bottom:0,right:0}},xo.prototype.setScrollLeft=function(){},xo.prototype.setScrollTop=function(){},xo.prototype.clear=function(){};var Lo={native:Co,null:xo};function Eo(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&E(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Lo[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),ye(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,i){"horizontal"==i?wo(e,t):bo(e,t)}),e),e.display.scrollbars.addClass&&R(e.display.wrapper,e.display.scrollbars.addClass)}var To=0;function No(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++To,markArrays:null},Ni(e.curOp)}function zo(e){var t=e.curOp;t&&Ai(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;Ao(e)}))}function Ao(e){for(var t=e.ops,i=0;i<t.length;i++)Bo(t[i]);for(var n=0;n<t.length;n++)Mo(t[n]);for(var o=0;o<t.length;o++)Ro(t[o]);for(var l=0;l<t.length;l++)Io(t[l]);for(var r=0;r<t.length;r++)Oo(t[r])}function Bo(e){var t=e.cm,i=t.display;jo(t),e.updateMaxLine&&hi(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<i.viewFrom||e.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Wo(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Mo(e){e.updatedDisplay=e.mustUpdate&&Go(e.cm,e.update)}function Ro(e){var t=e.cm,i=t.display;e.updatedDisplay&&oo(t),e.barMeasure=_o(t),i.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=ln(t,i.maxLine,i.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(i.scroller.clientWidth,i.sizer.offsetLeft+e.adjustWidthTo+Ji(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+e.adjustWidthTo-Qi(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=i.input.prepareSelection())}function Io(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&wo(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var i=e.focus&&e.focus==M(D(t));e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,i),(e.updatedDisplay||e.startHeight!=t.doc.height)&&ko(t,e.barMeasure),e.updatedDisplay&&Jo(t,e.barMeasure),e.selectionChanged&&Qn(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),i&&eo(e.cm)}function Oo(e){var t=e.cm,i=t.display,n=t.doc;e.updatedDisplay&&$o(t,e.update),null==i.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(i.wheelStartX=i.wheelStartY=null),null!=e.scrollTop&&yo(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&wo(t,e.scrollLeft,!0,!0),e.scrollToPos&&so(t,ao(t,vt(n,e.scrollToPos.from),vt(n,e.scrollToPos.to),e.scrollToPos.margin));var o=e.maybeHiddenMarkers,l=e.maybeUnhiddenMarkers;if(o)for(var r=0;r<o.length;++r)o[r].lines.length||Ce(o[r],"hide");if(l)for(var s=0;s<l.length;++s)l[s].lines.length&&Ce(l[s],"unhide");i.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Ce(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Ho(e,t){if(e.curOp)return t();No(e);try{return t()}finally{zo(e)}}function Do(e,t){return function(){if(e.curOp)return t.apply(e,arguments);No(e);try{return t.apply(e,arguments)}finally{zo(e)}}}function Fo(e){return function(){if(this.curOp)return e.apply(this,arguments);No(this);try{return e.apply(this,arguments)}finally{zo(this)}}}function Po(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);No(t);try{return e.apply(this,arguments)}finally{zo(t)}}}function Vo(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,V(Uo,e))}function Uo(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var i=+new Date+e.options.workTime,n=kt(e,t.highlightFrontier),o=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(l){if(n.line>=e.display.viewFrom){var r=l.styles,s=l.text.length>e.options.maxHighlightLength?Je(t.mode,n.state):null,a=Ct(e,l,n,!0);s&&(n.state=s),l.styles=a.styles;var c=l.styleClasses,u=a.classes;u?l.styleClasses=u:c&&(l.styleClasses=null);for(var d=!r||r.length!=l.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),h=0;!d&&h<r.length;++h)d=r[h]!=l.styles[h];d&&o.push(n.line),l.stateAfter=n.save(),n.nextLine()}else l.text.length<=e.options.maxHighlightLength&&St(e,l.text,n),l.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>i)return Vo(e,e.options.workDelay),!0})),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),o.length&&Ho(e,(function(){for(var t=0;t<o.length;t++)Wn(e,o[t],"text")}))}}var Wo=function(e,t,i){var n=e.display;this.viewport=t,this.visible=ro(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Qi(e),this.force=i,this.dims=On(e),this.events=[]};function jo(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Ji(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Ji(e)+"px",t.scrollbarsClipped=!0)}function qo(e){if(e.hasFocus())return null;var t=M(D(e));if(!t||!B(e.display.lineDiv,t))return null;var i={activeElt:t};if(window.getSelection){var n=P(e).getSelection();n.anchorNode&&n.extend&&B(e.display.lineDiv,n.anchorNode)&&(i.anchorNode=n.anchorNode,i.anchorOffset=n.anchorOffset,i.focusNode=n.focusNode,i.focusOffset=n.focusOffset)}return i}function Zo(e){if(e&&e.activeElt&&e.activeElt!=M(F(e.activeElt))&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&B(document.body,e.anchorNode)&&B(document.body,e.focusNode))){var t=e.activeElt.ownerDocument,i=t.defaultView.getSelection(),n=t.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),i.removeAllRanges(),i.addRange(n),i.extend(e.focusNode,e.focusOffset)}}function Go(e,t){var i=e.display,n=e.doc;if(t.editorIsHidden)return jn(e),!1;if(!t.force&&t.visible.from>=i.viewFrom&&t.visible.to<=i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&0==Gn(e))return!1;el(e)&&(jn(e),t.dims=On(e));var o=n.first+n.size,l=Math.max(t.visible.from-e.options.viewportMargin,n.first),r=Math.min(o,t.visible.to+e.options.viewportMargin);i.viewFrom<l&&l-i.viewFrom<20&&(l=Math.max(n.first,i.viewFrom)),i.viewTo>r&&i.viewTo-r<20&&(r=Math.min(o,i.viewTo)),It&&(l=ri(e.doc,l),r=si(e.doc,r));var s=l!=i.viewFrom||r!=i.viewTo||i.lastWrapHeight!=t.wrapperHeight||i.lastWrapWidth!=t.wrapperWidth;Zn(e,l,r),i.viewOffset=ui(it(e.doc,i.viewFrom)),e.display.mover.style.top=i.viewOffset+"px";var a=Gn(e);if(!s&&0==a&&!t.force&&i.renderedView==i.view&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo))return!1;var c=qo(e);return a>4&&(i.lineDiv.style.display="none"),Yo(e,i.updateLineNumbers,t.dims),a>4&&(i.lineDiv.style.display=""),i.renderedView=i.view,Zo(c),T(i.cursorDiv),T(i.selectionDiv),i.gutters.style.height=i.sizer.style.minHeight=0,s&&(i.lastWrapHeight=t.wrapperHeight,i.lastWrapWidth=t.wrapperWidth,Vo(e,400)),i.updateLineNumbers=null,!0}function $o(e,t){for(var i=t.viewport,n=!0;;n=!1){if(n&&e.options.lineWrapping&&t.oldDisplayWidth!=Qi(e))n&&(t.visible=ro(e.display,e.doc,i));else if(i&&null!=i.top&&(i={top:Math.min(e.doc.height+Yi(e.display)-en(e),i.top)}),t.visible=ro(e.display,e.doc,i),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!Go(e,t))break;oo(e);var o=_o(e);$n(e),ko(e,o),Jo(e,o),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Ko(e,t){var i=new Wo(e,t);if(Go(e,i)){oo(e),$o(e,i);var n=_o(e);$n(e),ko(e,n),Jo(e,n),i.finish()}}function Yo(e,t,i){var n=e.display,o=e.options.lineNumbers,l=n.lineDiv,r=l.firstChild;function s(t){var i=t.nextSibling;return a&&y&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),i}for(var c=n.view,u=n.viewFrom,d=0;d<c.length;d++){var h=c[d];if(h.hidden);else if(h.node&&h.node.parentNode==l){for(;r!=h.node;)r=s(r);var p=o&&null!=t&&t<=u&&h.lineNumber;h.changes&&(q(h.changes,"gutter")>-1&&(p=!1),Ii(e,h,u,i)),p&&(T(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(ct(e.options,u)))),r=h.node.nextSibling}else{var f=Wi(e,h,u,i);l.insertBefore(f,r)}u+=h.size}for(;r;)r=s(r)}function Xo(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",Mi(e,"gutterChanged",e)}function Jo(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Ji(e)+"px"}function Qo(e){var t=e.display,i=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=Hn(t)-t.scroller.scrollLeft+e.doc.scrollLeft,o=t.gutters.offsetWidth,l=n+"px",r=0;r<i.length;r++)if(!i[r].hidden){e.options.fixedGutter&&(i[r].gutter&&(i[r].gutter.style.left=l),i[r].gutterBackground&&(i[r].gutterBackground.style.left=l));var s=i[r].alignable;if(s)for(var a=0;a<s.length;a++)s[a].style.left=l}e.options.fixedGutter&&(t.gutters.style.left=n+o+"px")}}function el(e){if(!e.options.lineNumbers)return!1;var t=e.doc,i=ct(e.options,t.first+t.size-1),n=e.display;if(i.length!=n.lineNumChars){var o=n.measure.appendChild(z("div",[z("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),l=o.firstChild.offsetWidth,r=o.offsetWidth-l;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(l,n.lineGutter.offsetWidth-r)+1,n.lineNumWidth=n.lineNumInnerWidth+r,n.lineNumChars=n.lineNumInnerWidth?i.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",Xo(e.display),!0}return!1}function tl(e,t){for(var i=[],n=!1,o=0;o<e.length;o++){var l=e[o],r=null;if("string"!=typeof l&&(r=l.style,l=l.className),"CodeMirror-linenumbers"==l){if(!t)continue;n=!0}i.push({className:l,style:r})}return t&&!n&&i.push({className:"CodeMirror-linenumbers",style:null}),i}function il(e){var t=e.gutters,i=e.gutterSpecs;T(t),e.lineGutter=null;for(var n=0;n<i.length;++n){var o=i[n],l=o.className,r=o.style,s=t.appendChild(z("div",null,"CodeMirror-gutter "+l));r&&(s.style.cssText=r),"CodeMirror-linenumbers"==l&&(e.lineGutter=s,s.style.width=(e.lineNumWidth||1)+"px")}t.style.display=i.length?"":"none",Xo(e)}function nl(e){il(e.display),Un(e),Qo(e)}function ol(e,t,n,o){var l=this;this.input=n,l.scrollbarFiller=z("div",null,"CodeMirror-scrollbar-filler"),l.scrollbarFiller.setAttribute("cm-not-content","true"),l.gutterFiller=z("div",null,"CodeMirror-gutter-filler"),l.gutterFiller.setAttribute("cm-not-content","true"),l.lineDiv=A("div",null,"CodeMirror-code"),l.selectionDiv=z("div",null,null,"position: relative; z-index: 1"),l.cursorDiv=z("div",null,"CodeMirror-cursors"),l.measure=z("div",null,"CodeMirror-measure"),l.lineMeasure=z("div",null,"CodeMirror-measure"),l.lineSpace=A("div",[l.measure,l.lineMeasure,l.selectionDiv,l.cursorDiv,l.lineDiv],null,"position: relative; outline: none");var c=A("div",[l.lineSpace],"CodeMirror-lines");l.mover=z("div",[c],null,"position: relative"),l.sizer=z("div",[l.mover],"CodeMirror-sizer"),l.sizerWidth=null,l.heightForcer=z("div",null,null,"position: absolute; height: "+Z+"px; width: 1px;"),l.gutters=z("div",null,"CodeMirror-gutters"),l.lineGutter=null,l.scroller=z("div",[l.sizer,l.heightForcer,l.gutters],"CodeMirror-scroll"),l.scroller.setAttribute("tabIndex","-1"),l.wrapper=z("div",[l.scrollbarFiller,l.gutterFiller,l.scroller],"CodeMirror"),u&&d>=105&&(l.wrapper.style.clipPath="inset(0px)"),l.wrapper.setAttribute("translate","no"),r&&s<8&&(l.gutters.style.zIndex=-1,l.scroller.style.paddingRight=0),a||i&&b||(l.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(l.wrapper):e(l.wrapper)),l.viewFrom=l.viewTo=t.first,l.reportedViewFrom=l.reportedViewTo=t.first,l.view=[],l.renderedView=null,l.externalMeasured=null,l.viewOffset=0,l.lastWrapHeight=l.lastWrapWidth=0,l.updateLineNumbers=null,l.nativeBarWidth=l.barHeight=l.barWidth=0,l.scrollbarsClipped=!1,l.lineNumWidth=l.lineNumInnerWidth=l.lineNumChars=null,l.alignWidgets=!1,l.cachedCharWidth=l.cachedTextHeight=l.cachedPaddingH=null,l.maxLine=null,l.maxLineLength=0,l.maxLineChanged=!1,l.wheelDX=l.wheelDY=l.wheelStartX=l.wheelStartY=null,l.shift=!1,l.selForContextMenu=null,l.activeTouch=null,l.gutterSpecs=tl(o.gutters,o.lineNumbers),il(l),n.init(l)}Wo.prototype.signal=function(e,t){Se(e,t)&&this.events.push(arguments)},Wo.prototype.finish=function(){for(var e=0;e<this.events.length;e++)Ce.apply(null,this.events[e])};var ll=0,rl=null;function sl(e){var t=e.wheelDeltaX,i=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==i&&e.detail&&e.axis==e.VERTICAL_AXIS?i=e.detail:null==i&&(i=e.wheelDelta),{x:t,y:i}}function al(e){var t=sl(e);return t.x*=rl,t.y*=rl,t}function cl(e,t){u&&102==d&&(null==e.display.chromeScrollHack?e.display.sizer.style.pointerEvents="none":clearTimeout(e.display.chromeScrollHack),e.display.chromeScrollHack=setTimeout((function(){e.display.chromeScrollHack=null,e.display.sizer.style.pointerEvents=""}),100));var n=sl(t),o=n.x,l=n.y,r=rl;0===t.deltaMode&&(o=t.deltaX,l=t.deltaY,r=1);var s=e.display,c=s.scroller,p=c.scrollWidth>c.clientWidth,f=c.scrollHeight>c.clientHeight;if(o&&p||l&&f){if(l&&y&&a)e:for(var g=t.target,m=s.view;g!=c;g=g.parentNode)for(var v=0;v<m.length;v++)if(m[v].node==g){e.display.currentWheelTarget=g;break e}if(o&&!i&&!h&&null!=r)return l&&f&&bo(e,Math.max(0,c.scrollTop+l*r)),wo(e,Math.max(0,c.scrollLeft+o*r)),(!l||l&&f)&&Ee(t),void(s.wheelStartX=null);if(l&&null!=r){var b=l*r,w=e.doc.scrollTop,_=w+s.wrapper.clientHeight;b<0?w=Math.max(0,w+b-50):_=Math.min(e.doc.height,_+b+50),Ko(e,{top:w,bottom:_})}ll<20&&0!==t.deltaMode&&(null==s.wheelStartX?(s.wheelStartX=c.scrollLeft,s.wheelStartY=c.scrollTop,s.wheelDX=o,s.wheelDY=l,setTimeout((function(){if(null!=s.wheelStartX){var e=c.scrollLeft-s.wheelStartX,t=c.scrollTop-s.wheelStartY,i=t&&s.wheelDY&&t/s.wheelDY||e&&s.wheelDX&&e/s.wheelDX;s.wheelStartX=s.wheelStartY=null,i&&(rl=(rl*ll+i)/(ll+1),++ll)}}),200)):(s.wheelDX+=o,s.wheelDY+=l))}}r?rl=-.53:i?rl=15:u?rl=-.7:p&&(rl=-1/3);var ul=function(e,t){this.ranges=e,this.primIndex=t};ul.prototype.primary=function(){return this.ranges[this.primIndex]},ul.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var i=this.ranges[t],n=e.ranges[t];if(!ht(i.anchor,n.anchor)||!ht(i.head,n.head))return!1}return!0},ul.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new dl(pt(this.ranges[t].anchor),pt(this.ranges[t].head));return new ul(e,this.primIndex)},ul.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},ul.prototype.contains=function(e,t){t||(t=e);for(var i=0;i<this.ranges.length;i++){var n=this.ranges[i];if(dt(t,n.from())>=0&&dt(e,n.to())<=0)return i}return-1};var dl=function(e,t){this.anchor=e,this.head=t};function hl(e,t,i){var n=e&&e.options.selectionsMayTouch,o=t[i];t.sort((function(e,t){return dt(e.from(),t.from())})),i=q(t,o);for(var l=1;l<t.length;l++){var r=t[l],s=t[l-1],a=dt(s.to(),r.from());if(n&&!r.empty()?a>0:a>=0){var c=gt(s.from(),r.from()),u=ft(s.to(),r.to()),d=s.empty()?r.from()==r.head:s.from()==s.head;l<=i&&--i,t.splice(--l,2,new dl(d?u:c,d?c:u))}}return new ul(t,i)}function pl(e,t){return new ul([new dl(e,t||e)],0)}function fl(e){return e.text?ut(e.from.line+e.text.length-1,ee(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function gl(e,t){if(dt(e,t.from)<0)return e;if(dt(e,t.to)<=0)return fl(t);var i=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=fl(t).ch-t.to.ch),ut(i,n)}function ml(e,t){for(var i=[],n=0;n<e.sel.ranges.length;n++){var o=e.sel.ranges[n];i.push(new dl(gl(o.anchor,t),gl(o.head,t)))}return hl(e.cm,i,e.sel.primIndex)}function vl(e,t,i){return e.line==t.line?ut(i.line,e.ch-t.ch+i.ch):ut(i.line+(e.line-t.line),e.ch)}function bl(e,t,i){for(var n=[],o=ut(e.first,0),l=o,r=0;r<t.length;r++){var s=t[r],a=vl(s.from,o,l),c=vl(fl(s),o,l);if(o=s.to,l=c,"around"==i){var u=e.sel.ranges[r],d=dt(u.head,u.anchor)<0;n[r]=new dl(d?c:a,d?a:c)}else n[r]=new dl(a,a)}return new ul(n,e.sel.primIndex)}function yl(e){e.doc.mode=Ke(e.options,e.doc.modeOption),wl(e)}function wl(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Vo(e,100),e.state.modeGen++,e.curOp&&Un(e)}function _l(e,t){return 0==t.from.ch&&0==t.to.ch&&""==ee(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Cl(e,t,i,n){function o(e){return i?i[e]:null}function l(e,i,o){fi(e,i,o,n),Mi(e,"change",e,t)}function r(e,t){for(var i=[],l=e;l<t;++l)i.push(new pi(c[l],o(l),n));return i}var s=t.from,a=t.to,c=t.text,u=it(e,s.line),d=it(e,a.line),h=ee(c),p=o(c.length-1),f=a.line-s.line;if(t.full)e.insert(0,r(0,c.length)),e.remove(c.length,e.size-c.length);else if(_l(e,t)){var g=r(0,c.length-1);l(d,d.text,p),f&&e.remove(s.line,f),g.length&&e.insert(s.line,g)}else if(u==d)if(1==c.length)l(u,u.text.slice(0,s.ch)+h+u.text.slice(a.ch),p);else{var m=r(1,c.length-1);m.push(new pi(h+u.text.slice(a.ch),p,n)),l(u,u.text.slice(0,s.ch)+c[0],o(0)),e.insert(s.line+1,m)}else if(1==c.length)l(u,u.text.slice(0,s.ch)+c[0]+d.text.slice(a.ch),o(0)),e.remove(s.line+1,f);else{l(u,u.text.slice(0,s.ch)+c[0],o(0)),l(d,h+d.text.slice(a.ch),p);var v=r(1,c.length-1);f>1&&e.remove(s.line+1,f-1),e.insert(s.line+1,v)}Mi(e,"change",e,t)}function xl(e,t,i){function n(e,o,l){if(e.linked)for(var r=0;r<e.linked.length;++r){var s=e.linked[r];if(s.doc!=o){var a=l&&s.sharedHist;i&&!a||(t(s.doc,a),n(s.doc,e,a))}}}n(e,null,!0)}function kl(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Fn(e),yl(e),Sl(e),e.options.direction=t.direction,e.options.lineWrapping||hi(e),e.options.mode=t.modeOption,Un(e)}function Sl(e){("rtl"==e.doc.direction?R:E)(e.display.lineDiv,"CodeMirror-rtl")}function Ll(e){Ho(e,(function(){Sl(e),Un(e)}))}function El(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function Tl(e,t){var i={from:pt(t.from),to:fl(t),text:nt(e,t.from,t.to)};return Il(e,i,t.from.line,t.to.line+1),xl(e,(function(e){return Il(e,i,t.from.line,t.to.line+1)}),!0),i}function Nl(e){for(;e.length&&ee(e).ranges;)e.pop()}function zl(e,t){return t?(Nl(e.done),ee(e.done)):e.done.length&&!ee(e.done).ranges?ee(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),ee(e.done)):void 0}function Al(e,t,i,n){var o=e.history;o.undone.length=0;var l,r,s=+new Date;if((o.lastOp==n||o.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&o.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(l=zl(o,o.lastOp==n)))r=ee(l.changes),0==dt(t.from,t.to)&&0==dt(t.from,r.to)?r.to=fl(t):l.changes.push(Tl(e,t));else{var a=ee(o.done);for(a&&a.ranges||Rl(e.sel,o.done),l={changes:[Tl(e,t)],generation:o.generation},o.done.push(l);o.done.length>o.undoDepth;)o.done.shift(),o.done[0].ranges||o.done.shift()}o.done.push(i),o.generation=++o.maxGeneration,o.lastModTime=o.lastSelTime=s,o.lastOp=o.lastSelOp=n,o.lastOrigin=o.lastSelOrigin=t.origin,r||Ce(e,"historyAdded")}function Bl(e,t,i,n){var o=t.charAt(0);return"*"==o||"+"==o&&i.ranges.length==n.ranges.length&&i.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Ml(e,t,i,n){var o=e.history,l=n&&n.origin;i==o.lastSelOp||l&&o.lastSelOrigin==l&&(o.lastModTime==o.lastSelTime&&o.lastOrigin==l||Bl(e,l,ee(o.done),t))?o.done[o.done.length-1]=t:Rl(t,o.done),o.lastSelTime=+new Date,o.lastSelOrigin=l,o.lastSelOp=i,n&&!1!==n.clearRedo&&Nl(o.undone)}function Rl(e,t){var i=ee(t);i&&i.ranges&&i.equals(e)||t.push(e)}function Il(e,t,i,n){var o=t["spans_"+e.id],l=0;e.iter(Math.max(e.first,i),Math.min(e.first+e.size,n),(function(i){i.markedSpans&&((o||(o=t["spans_"+e.id]={}))[l]=i.markedSpans),++l}))}function Ol(e){if(!e)return null;for(var t,i=0;i<e.length;++i)e[i].marker.explicitlyCleared?t||(t=e.slice(0,i)):t&&t.push(e[i]);return t?t.length?t:null:e}function Hl(e,t){var i=t["spans_"+e.id];if(!i)return null;for(var n=[],o=0;o<t.text.length;++o)n.push(Ol(i[o]));return n}function Dl(e,t){var i=Hl(e,t),n=jt(e,t);if(!i)return n;if(!n)return i;for(var o=0;o<i.length;++o){var l=i[o],r=n[o];if(l&&r)e:for(var s=0;s<r.length;++s){for(var a=r[s],c=0;c<l.length;++c)if(l[c].marker==a.marker)continue e;l.push(a)}else r&&(i[o]=r)}return i}function Fl(e,t,i){for(var n=[],o=0;o<e.length;++o){var l=e[o];if(l.ranges)n.push(i?ul.prototype.deepCopy.call(l):l);else{var r=l.changes,s=[];n.push({changes:s});for(var a=0;a<r.length;++a){var c=r[a],u=void 0;if(s.push({from:c.from,to:c.to,text:c.text}),t)for(var d in c)(u=d.match(/^spans_(\d+)$/))&&q(t,Number(u[1]))>-1&&(ee(s)[d]=c[d],delete c[d])}}}return n}function Pl(e,t,i,n){if(n){var o=e.anchor;if(i){var l=dt(t,o)<0;l!=dt(i,o)<0?(o=t,t=i):l!=dt(t,i)<0&&(t=i)}return new dl(o,t)}return new dl(i||t,t)}function Vl(e,t,i,n,o){null==o&&(o=e.cm&&(e.cm.display.shift||e.extend)),Gl(e,new ul([Pl(e.sel.primary(),t,i,o)],0),n)}function Ul(e,t,i){for(var n=[],o=e.cm&&(e.cm.display.shift||e.extend),l=0;l<e.sel.ranges.length;l++)n[l]=Pl(e.sel.ranges[l],t[l],null,o);Gl(e,hl(e.cm,n,e.sel.primIndex),i)}function Wl(e,t,i,n){var o=e.sel.ranges.slice(0);o[t]=i,Gl(e,hl(e.cm,o,e.sel.primIndex),n)}function jl(e,t,i,n){Gl(e,pl(t,i),n)}function ql(e,t,i){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var i=0;i<t.length;i++)this.ranges[i]=new dl(vt(e,t[i].anchor),vt(e,t[i].head))},origin:i&&i.origin};return Ce(e,"beforeSelectionChange",e,n),e.cm&&Ce(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?hl(e.cm,n.ranges,n.ranges.length-1):t}function Zl(e,t,i){var n=e.history.done,o=ee(n);o&&o.ranges?(n[n.length-1]=t,$l(e,t,i)):Gl(e,t,i)}function Gl(e,t,i){$l(e,t,i),Ml(e,e.sel,e.cm?e.cm.curOp.id:NaN,i)}function $l(e,t,i){(Se(e,"beforeSelectionChange")||e.cm&&Se(e.cm,"beforeSelectionChange"))&&(t=ql(e,t,i));var n=i&&i.bias||(dt(t.primary().head,e.sel.primary().head)<0?-1:1);Kl(e,Xl(e,t,n,!0)),i&&!1===i.scroll||!e.cm||"nocursor"==e.cm.getOption("readOnly")||po(e.cm)}function Kl(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,ke(e.cm)),Mi(e,"cursorActivity",e))}function Yl(e){Kl(e,Xl(e,e.sel,null,!1))}function Xl(e,t,i,n){for(var o,l=0;l<t.ranges.length;l++){var r=t.ranges[l],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[l],a=Ql(e,r.anchor,s&&s.anchor,i,n),c=r.head==r.anchor?a:Ql(e,r.head,s&&s.head,i,n);(o||a!=r.anchor||c!=r.head)&&(o||(o=t.ranges.slice(0,l)),o[l]=new dl(a,c))}return o?hl(e.cm,o,t.primIndex):t}function Jl(e,t,i,n,o){var l=it(e,t.line);if(l.markedSpans)for(var r=0;r<l.markedSpans.length;++r){var s=l.markedSpans[r],a=s.marker,c="selectLeft"in a?!a.selectLeft:a.inclusiveLeft,u="selectRight"in a?!a.selectRight:a.inclusiveRight;if((null==s.from||(c?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(u?s.to>=t.ch:s.to>t.ch))){if(o&&(Ce(a,"beforeCursorEnter"),a.explicitlyCleared)){if(l.markedSpans){--r;continue}break}if(!a.atomic)continue;if(i){var d=a.find(n<0?1:-1),h=void 0;if((n<0?u:c)&&(d=er(e,d,-n,d&&d.line==t.line?l:null)),d&&d.line==t.line&&(h=dt(d,i))&&(n<0?h<0:h>0))return Jl(e,d,t,n,o)}var p=a.find(n<0?-1:1);return(n<0?c:u)&&(p=er(e,p,n,p.line==t.line?l:null)),p?Jl(e,p,t,n,o):null}}return t}function Ql(e,t,i,n,o){var l=n||1,r=Jl(e,t,i,l,o)||!o&&Jl(e,t,i,l,!0)||Jl(e,t,i,-l,o)||!o&&Jl(e,t,i,-l,!0);return r||(e.cantEdit=!0,ut(e.first,0))}function er(e,t,i,n){return i<0&&0==t.ch?t.line>e.first?vt(e,ut(t.line-1)):null:i>0&&t.ch==(n||it(e,t.line)).text.length?t.line<e.first+e.size-1?ut(t.line+1,0):null:new ut(t.line,t.ch+i)}function tr(e){e.setSelection(ut(e.firstLine(),0),ut(e.lastLine()),$)}function ir(e,t,i){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return i&&(n.update=function(t,i,o,l){t&&(n.from=vt(e,t)),i&&(n.to=vt(e,i)),o&&(n.text=o),void 0!==l&&(n.origin=l)}),Ce(e,"beforeChange",e,n),e.cm&&Ce(e.cm,"beforeChange",e.cm,n),n.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function nr(e,t,i){if(e.cm){if(!e.cm.curOp)return Do(e.cm,nr)(e,t,i);if(e.cm.state.suppressEdits)return}if(!(Se(e,"beforeChange")||e.cm&&Se(e.cm,"beforeChange"))||(t=ir(e,t,!0))){var n=Rt&&!i&&Zt(e,t.from,t.to);if(n)for(var o=n.length-1;o>=0;--o)or(e,{from:n[o].from,to:n[o].to,text:o?[""]:t.text,origin:t.origin});else or(e,t)}}function or(e,t){if(1!=t.text.length||""!=t.text[0]||0!=dt(t.from,t.to)){var i=ml(e,t);Al(e,t,i,e.cm?e.cm.curOp.id:NaN),sr(e,t,i,jt(e,t));var n=[];xl(e,(function(e,i){i||-1!=q(n,e.history)||(hr(e.history,t),n.push(e.history)),sr(e,t,null,jt(e,t))}))}}function lr(e,t,i){var n=e.cm&&e.cm.state.suppressEdits;if(!n||i){for(var o,l=e.history,r=e.sel,s="undo"==t?l.done:l.undone,a="undo"==t?l.undone:l.done,c=0;c<s.length&&(o=s[c],i?!o.ranges||o.equals(e.sel):o.ranges);c++);if(c!=s.length){for(l.lastOrigin=l.lastSelOrigin=null;;){if(!(o=s.pop()).ranges){if(n)return void s.push(o);break}if(Rl(o,a),i&&!o.equals(e.sel))return void Gl(e,o,{clearRedo:!1});r=o}var u=[];Rl(r,a),a.push({changes:u,generation:l.generation}),l.generation=o.generation||++l.maxGeneration;for(var d=Se(e,"beforeChange")||e.cm&&Se(e.cm,"beforeChange"),h=function(i){var n=o.changes[i];if(n.origin=t,d&&!ir(e,n,!1))return s.length=0,{};u.push(Tl(e,n));var l=i?ml(e,n):ee(s);sr(e,n,l,Dl(e,n)),!i&&e.cm&&e.cm.scrollIntoView({from:n.from,to:fl(n)});var r=[];xl(e,(function(e,t){t||-1!=q(r,e.history)||(hr(e.history,n),r.push(e.history)),sr(e,n,null,Dl(e,n))}))},p=o.changes.length-1;p>=0;--p){var f=h(p);if(f)return f.v}}}}function rr(e,t){if(0!=t&&(e.first+=t,e.sel=new ul(te(e.sel.ranges,(function(e){return new dl(ut(e.anchor.line+t,e.anchor.ch),ut(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){Un(e.cm,e.first,e.first-t,t);for(var i=e.cm.display,n=i.viewFrom;n<i.viewTo;n++)Wn(e.cm,n,"gutter")}}function sr(e,t,i,n){if(e.cm&&!e.cm.curOp)return Do(e.cm,sr)(e,t,i,n);if(t.to.line<e.first)rr(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var o=t.text.length-1-(e.first-t.from.line);rr(e,o),t={from:ut(e.first,0),to:ut(t.to.line+o,t.to.ch),text:[ee(t.text)],origin:t.origin}}var l=e.lastLine();t.to.line>l&&(t={from:t.from,to:ut(l,it(e,l).text.length),text:[t.text[0]],origin:t.origin}),t.removed=nt(e,t.from,t.to),i||(i=ml(e,t)),e.cm?ar(e.cm,t,n):Cl(e,t,n),$l(e,i,$),e.cantEdit&&Ql(e,ut(e.firstLine(),0))&&(e.cantEdit=!1)}}function ar(e,t,i){var n=e.doc,o=e.display,l=t.from,r=t.to,s=!1,a=l.line;e.options.lineWrapping||(a=rt(ni(it(n,l.line))),n.iter(a,r.line+1,(function(e){if(e==o.maxLine)return s=!0,!0}))),n.sel.contains(t.from,t.to)>-1&&ke(e),Cl(n,t,i,Dn(e)),e.options.lineWrapping||(n.iter(a,l.line+t.text.length,(function(e){var t=di(e);t>o.maxLineLength&&(o.maxLine=e,o.maxLineLength=t,o.maxLineChanged=!0,s=!1)})),s&&(e.curOp.updateMaxLine=!0)),Mt(n,l.line),Vo(e,400);var c=t.text.length-(r.line-l.line)-1;t.full?Un(e):l.line!=r.line||1!=t.text.length||_l(e.doc,t)?Un(e,l.line,r.line+1,c):Wn(e,l.line,"text");var u=Se(e,"changes"),d=Se(e,"change");if(d||u){var h={from:l,to:r,text:t.text,removed:t.removed,origin:t.origin};d&&Mi(e,"change",e,h),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}function cr(e,t,i,n,o){var l;n||(n=i),dt(n,i)<0&&(i=(l=[n,i])[0],n=l[1]),"string"==typeof t&&(t=e.splitLines(t)),nr(e,{from:i,to:n,text:t,origin:o})}function ur(e,t,i,n){i<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function dr(e,t,i,n){for(var o=0;o<e.length;++o){var l=e[o],r=!0;if(l.ranges){l.copied||((l=e[o]=l.deepCopy()).copied=!0);for(var s=0;s<l.ranges.length;s++)ur(l.ranges[s].anchor,t,i,n),ur(l.ranges[s].head,t,i,n)}else{for(var a=0;a<l.changes.length;++a){var c=l.changes[a];if(i<c.from.line)c.from=ut(c.from.line+n,c.from.ch),c.to=ut(c.to.line+n,c.to.ch);else if(t<=c.to.line){r=!1;break}}r||(e.splice(0,o+1),o=0)}}}function hr(e,t){var i=t.from.line,n=t.to.line,o=t.text.length-(n-i)-1;dr(e.done,i,n,o),dr(e.undone,i,n,o)}function pr(e,t,i,n){var o=t,l=t;return"number"==typeof t?l=it(e,mt(e,t)):o=rt(t),null==o?null:(n(l,o)&&e.cm&&Wn(e.cm,o,i),l)}function fr(e){this.lines=e,this.parent=null;for(var t=0,i=0;i<e.length;++i)e[i].parent=this,t+=e[i].height;this.height=t}function gr(e){this.children=e;for(var t=0,i=0,n=0;n<e.length;++n){var o=e[n];t+=o.chunkSize(),i+=o.height,o.parent=this}this.size=t,this.height=i,this.parent=null}dl.prototype.from=function(){return gt(this.anchor,this.head)},dl.prototype.to=function(){return ft(this.anchor,this.head)},dl.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},fr.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var i=e,n=e+t;i<n;++i){var o=this.lines[i];this.height-=o.height,gi(o),Mi(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,i){this.height+=i,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,i){for(var n=e+t;e<n;++e)if(i(this.lines[e]))return!0}},gr.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var i=0;i<this.children.length;++i){var n=this.children[i],o=n.chunkSize();if(e<o){var l=Math.min(t,o-e),r=n.height;if(n.removeInner(e,l),this.height-=r-n.height,o==l&&(this.children.splice(i--,1),n.parent=null),0==(t-=l))break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof fr))){var s=[];this.collapse(s),this.children=[new fr(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,i){this.size+=t.length,this.height+=i;for(var n=0;n<this.children.length;++n){var o=this.children[n],l=o.chunkSize();if(e<=l){if(o.insertInner(e,t,i),o.lines&&o.lines.length>50){for(var r=o.lines.length%25+25,s=r;s<o.lines.length;){var a=new fr(o.lines.slice(s,s+=25));o.height-=a.height,this.children.splice(++n,0,a),a.parent=this}o.lines=o.lines.slice(0,r),this.maybeSpill()}break}e-=l}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new gr(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var i=q(e.parent.children,e);e.parent.children.splice(i+1,0,t)}else{var n=new gr(e.children);n.parent=e,e.children=[n,t],e=n}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,i){for(var n=0;n<this.children.length;++n){var o=this.children[n],l=o.chunkSize();if(e<l){var r=Math.min(t,l-e);if(o.iterN(e,r,i))return!0;if(0==(t-=r))break;e=0}else e-=l}}};var mr=function(e,t,i){if(i)for(var n in i)i.hasOwnProperty(n)&&(this[n]=i[n]);this.doc=e,this.node=t};function vr(e,t,i){ui(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&ho(e,i)}function br(e,t,i,n){var o=new mr(e,i,n),l=e.cm;return l&&o.noHScroll&&(l.display.alignWidgets=!0),pr(e,t,"widget",(function(t){var i=t.widgets||(t.widgets=[]);if(null==o.insertAt?i.push(o):i.splice(Math.min(i.length,Math.max(0,o.insertAt)),0,o),o.line=t,l&&!ai(e,t)){var n=ui(t)<e.scrollTop;lt(t,t.height+Gi(o)),n&&ho(l,o.height),l.curOp.forceUpdate=!0}return!0})),l&&Mi(l,"lineWidgetAdded",l,o,"number"==typeof t?t:rt(t)),o}mr.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,i=this.line,n=rt(i);if(null!=n&&t){for(var o=0;o<t.length;++o)t[o]==this&&t.splice(o--,1);t.length||(i.widgets=null);var l=Gi(this);lt(i,Math.max(0,i.height-l)),e&&(Ho(e,(function(){vr(e,i,-l),Wn(e,n,"widget")})),Mi(e,"lineWidgetCleared",e,this,n))}},mr.prototype.changed=function(){var e=this,t=this.height,i=this.doc.cm,n=this.line;this.height=null;var o=Gi(this)-t;o&&(ai(this.doc,n)||lt(n,n.height+o),i&&Ho(i,(function(){i.curOp.forceUpdate=!0,vr(i,n,o),Mi(i,"lineWidgetChanged",i,e,rt(n))})))},Le(mr);var yr=0,wr=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++yr};function _r(e,t,i,n,o){if(n&&n.shared)return xr(e,t,i,n,o);if(e.cm&&!e.cm.curOp)return Do(e.cm,_r)(e,t,i,n,o);var l=new wr(e,o),r=dt(t,i);if(n&&U(n,l,!1),r>0||0==r&&!1!==l.clearWhenEmpty)return l;if(l.replacedWith&&(l.collapsed=!0,l.widgetNode=A("span",[l.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||l.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(l.widgetNode.insertLeft=!0)),l.collapsed){if(ii(e,t.line,t,i,l)||t.line!=i.line&&ii(e,i.line,t,i,l))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ht()}l.addToHistory&&Al(e,{from:t,to:i,origin:"markText"},e.sel,NaN);var s,a=t.line,c=e.cm;if(e.iter(a,i.line+1,(function(n){c&&l.collapsed&&!c.options.lineWrapping&&ni(n)==c.display.maxLine&&(s=!0),l.collapsed&&a!=t.line&&lt(n,0),Vt(n,new Dt(l,a==t.line?t.ch:null,a==i.line?i.ch:null),e.cm&&e.cm.curOp),++a})),l.collapsed&&e.iter(t.line,i.line+1,(function(t){ai(e,t)&&lt(t,0)})),l.clearOnEnter&&ye(l,"beforeCursorEnter",(function(){return l.clear()})),l.readOnly&&(Ot(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),l.collapsed&&(l.id=++yr,l.atomic=!0),c){if(s&&(c.curOp.updateMaxLine=!0),l.collapsed)Un(c,t.line,i.line+1);else if(l.className||l.startStyle||l.endStyle||l.css||l.attributes||l.title)for(var u=t.line;u<=i.line;u++)Wn(c,u,"text");l.atomic&&Yl(c.doc),Mi(c,"markerAdded",c,l)}return l}wr.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&No(e),Se(this,"clear")){var i=this.find();i&&Mi(this,"clear",i.from,i.to)}for(var n=null,o=null,l=0;l<this.lines.length;++l){var r=this.lines[l],s=Ft(r.markedSpans,this);e&&!this.collapsed?Wn(e,rt(r),"text"):e&&(null!=s.to&&(o=rt(r)),null!=s.from&&(n=rt(r))),r.markedSpans=Pt(r.markedSpans,s),null==s.from&&this.collapsed&&!ai(this.doc,r)&&e&&lt(r,Rn(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var a=0;a<this.lines.length;++a){var c=ni(this.lines[a]),u=di(c);u>e.display.maxLineLength&&(e.display.maxLine=c,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=n&&e&&this.collapsed&&Un(e,n,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Yl(e.doc)),e&&Mi(e,"markerCleared",e,this,n,o),t&&zo(e),this.parent&&this.parent.clear()}},wr.prototype.find=function(e,t){var i,n;null==e&&"bookmark"==this.type&&(e=1);for(var o=0;o<this.lines.length;++o){var l=this.lines[o],r=Ft(l.markedSpans,this);if(null!=r.from&&(i=ut(t?l:rt(l),r.from),-1==e))return i;if(null!=r.to&&(n=ut(t?l:rt(l),r.to),1==e))return n}return i&&{from:i,to:n}},wr.prototype.changed=function(){var e=this,t=this.find(-1,!0),i=this,n=this.doc.cm;t&&n&&Ho(n,(function(){var o=t.line,l=rt(t.line),r=rn(n,l);if(r&&(gn(r),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!ai(i.doc,o)&&null!=i.height){var s=i.height;i.height=null;var a=Gi(i)-s;a&&lt(o,o.height+a)}Mi(n,"markerChanged",n,e)}))},wr.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=q(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},wr.prototype.detachLine=function(e){if(this.lines.splice(q(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},Le(wr);var Cr=function(e,t){this.markers=e,this.primary=t;for(var i=0;i<e.length;++i)e[i].parent=this};function xr(e,t,i,n,o){(n=U(n)).shared=!1;var l=[_r(e,t,i,n,o)],r=l[0],s=n.widgetNode;return xl(e,(function(e){s&&(n.widgetNode=s.cloneNode(!0)),l.push(_r(e,vt(e,t),vt(e,i),n,o));for(var a=0;a<e.linked.length;++a)if(e.linked[a].isParent)return;r=ee(l)})),new Cr(l,r)}function kr(e){return e.findMarks(ut(e.first,0),e.clipPos(ut(e.lastLine())),(function(e){return e.parent}))}function Sr(e,t){for(var i=0;i<t.length;i++){var n=t[i],o=n.find(),l=e.clipPos(o.from),r=e.clipPos(o.to);if(dt(l,r)){var s=_r(e,l,r,n.primary,n.primary.type);n.markers.push(s),s.parent=n}}}function Lr(e){for(var t=function(t){var i=e[t],n=[i.primary.doc];xl(i.primary.doc,(function(e){return n.push(e)}));for(var o=0;o<i.markers.length;o++){var l=i.markers[o];-1==q(n,l.doc)&&(l.parent=null,i.markers.splice(o--,1))}},i=0;i<e.length;i++)t(i)}Cr.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Mi(this,"clear")}},Cr.prototype.find=function(e,t){return this.primary.find(e,t)},Le(Cr);var Er=0,Tr=function(e,t,i,n,o){if(!(this instanceof Tr))return new Tr(e,t,i,n,o);null==i&&(i=0),gr.call(this,[new fr([new pi("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=i;var l=ut(i,0);this.sel=pl(l),this.history=new El(null),this.id=++Er,this.modeOption=t,this.lineSep=n,this.direction="rtl"==o?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Cl(this,{from:l,to:l,text:e}),Gl(this,pl(l),$)};Tr.prototype=oe(gr.prototype,{constructor:Tr,iter:function(e,t,i){i?this.iterN(e-this.first,t-e,i):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var i=0,n=0;n<t.length;++n)i+=t[n].height;this.insertInner(e-this.first,t,i)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=ot(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Po((function(e){var t=ut(this.first,0),i=this.first+this.size-1;nr(this,{from:t,to:ut(i,it(this,i).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&fo(this.cm,0,0),Gl(this,pl(t),$)})),replaceRange:function(e,t,i,n){cr(this,e,t=vt(this,t),i=i?vt(this,i):t,n)},getRange:function(e,t,i){var n=nt(this,vt(this,e),vt(this,t));return!1===i?n:""===i?n.join(""):n.join(i||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(at(this,e))return it(this,e)},getLineNumber:function(e){return rt(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=it(this,e)),ni(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return vt(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Po((function(e,t,i){jl(this,vt(this,"number"==typeof e?ut(e,t||0):e),null,i)})),setSelection:Po((function(e,t,i){jl(this,vt(this,e),vt(this,t||e),i)})),extendSelection:Po((function(e,t,i){Vl(this,vt(this,e),t&&vt(this,t),i)})),extendSelections:Po((function(e,t){Ul(this,yt(this,e),t)})),extendSelectionsBy:Po((function(e,t){Ul(this,yt(this,te(this.sel.ranges,e)),t)})),setSelections:Po((function(e,t,i){if(e.length){for(var n=[],o=0;o<e.length;o++)n[o]=new dl(vt(this,e[o].anchor),vt(this,e[o].head||e[o].anchor));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Gl(this,hl(this.cm,n,t),i)}})),addSelection:Po((function(e,t,i){var n=this.sel.ranges.slice(0);n.push(new dl(vt(this,e),vt(this,t||e))),Gl(this,hl(this.cm,n,n.length-1),i)})),getSelection:function(e){for(var t,i=this.sel.ranges,n=0;n<i.length;n++){var o=nt(this,i[n].from(),i[n].to());t=t?t.concat(o):o}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],i=this.sel.ranges,n=0;n<i.length;n++){var o=nt(this,i[n].from(),i[n].to());!1!==e&&(o=o.join(e||this.lineSeparator())),t[n]=o}return t},replaceSelection:function(e,t,i){for(var n=[],o=0;o<this.sel.ranges.length;o++)n[o]=e;this.replaceSelections(n,t,i||"+input")},replaceSelections:Po((function(e,t,i){for(var n=[],o=this.sel,l=0;l<o.ranges.length;l++){var r=o.ranges[l];n[l]={from:r.from(),to:r.to(),text:this.splitLines(e[l]),origin:i}}for(var s=t&&"end"!=t&&bl(this,n,t),a=n.length-1;a>=0;a--)nr(this,n[a]);s?Zl(this,s):this.cm&&po(this.cm)})),undo:Po((function(){lr(this,"undo")})),redo:Po((function(){lr(this,"redo")})),undoSelection:Po((function(){lr(this,"undo",!0)})),redoSelection:Po((function(){lr(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,i=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var o=0;o<e.undone.length;o++)e.undone[o].ranges||++i;return{undo:t,redo:i}},clearHistory:function(){var e=this;this.history=new El(this.history),xl(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Fl(this.history.done),undone:Fl(this.history.undone)}},setHistory:function(e){var t=this.history=new El(this.history);t.done=Fl(e.done.slice(0),null,!0),t.undone=Fl(e.undone.slice(0),null,!0)},setGutterMarker:Po((function(e,t,i){return pr(this,e,"gutter",(function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=i,!i&&ae(n)&&(e.gutterMarkers=null),!0}))})),clearGutter:Po((function(e){var t=this;this.iter((function(i){i.gutterMarkers&&i.gutterMarkers[e]&&pr(t,i,"gutter",(function(){return i.gutterMarkers[e]=null,ae(i.gutterMarkers)&&(i.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!at(this,e))return null;if(t=e,!(e=it(this,e)))return null}else if(null==(t=rt(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Po((function(e,t,i){return pr(this,e,"gutter"==t?"gutter":"class",(function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[n]){if(S(i).test(e[n]))return!1;e[n]+=" "+i}else e[n]=i;return!0}))})),removeLineClass:Po((function(e,t,i){return pr(this,e,"gutter"==t?"gutter":"class",(function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",o=e[n];if(!o)return!1;if(null==i)e[n]=null;else{var l=o.match(S(i));if(!l)return!1;var r=l.index+l[0].length;e[n]=o.slice(0,l.index)+(l.index&&r!=o.length?" ":"")+o.slice(r)||null}return!0}))})),addLineWidget:Po((function(e,t,i){return br(this,e,t,i)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,i){return _r(this,vt(this,e),vt(this,t),i,i&&i.type||"range")},setBookmark:function(e,t){var i={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return _r(this,e=vt(this,e),e,i,"bookmark")},findMarksAt:function(e){var t=[],i=it(this,(e=vt(this,e)).line).markedSpans;if(i)for(var n=0;n<i.length;++n){var o=i[n];(null==o.from||o.from<=e.ch)&&(null==o.to||o.to>=e.ch)&&t.push(o.marker.parent||o.marker)}return t},findMarks:function(e,t,i){e=vt(this,e),t=vt(this,t);var n=[],o=e.line;return this.iter(e.line,t.line+1,(function(l){var r=l.markedSpans;if(r)for(var s=0;s<r.length;s++){var a=r[s];null!=a.to&&o==e.line&&e.ch>=a.to||null==a.from&&o!=e.line||null!=a.from&&o==t.line&&a.from>=t.ch||i&&!i(a.marker)||n.push(a.marker.parent||a.marker)}++o})),n},getAllMarks:function(){var e=[];return this.iter((function(t){var i=t.markedSpans;if(i)for(var n=0;n<i.length;++n)null!=i[n].from&&e.push(i[n].marker)})),e},posFromIndex:function(e){var t,i=this.first,n=this.lineSeparator().length;return this.iter((function(o){var l=o.text.length+n;if(l>e)return t=e,!0;e-=l,++i})),vt(this,ut(i,t))},indexFromPos:function(e){var t=(e=vt(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var i=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+i})),t},copy:function(e){var t=new Tr(ot(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,i=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<i&&(i=e.to);var n=new Tr(ot(this,t,i),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Sr(n,kr(this)),n},unlinkDoc:function(e){if(e instanceof Us&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Lr(kr(this));break}if(e.history==this.history){var i=[e.id];xl(e,(function(e){return i.push(e.id)}),!0),e.history=new El(null),e.history.done=Fl(this.history.done,i),e.history.undone=Fl(this.history.undone,i)}},iterLinkedDocs:function(e){xl(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Fe(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Po((function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&Ll(this.cm))}))}),Tr.prototype.eachLine=Tr.prototype.iter;var Nr=0;function zr(e){var t=this;if(Mr(t),!xe(t,e)&&!$i(t.display,e)){Ee(e),r&&(Nr=+new Date);var i=Pn(t,e,!0),n=e.dataTransfer.files;if(i&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var o=n.length,l=Array(o),s=0,a=function(){++s==o&&Do(t,(function(){var e={from:i=vt(t.doc,i),to:i,text:t.doc.splitLines(l.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:"paste"};nr(t.doc,e),Zl(t.doc,pl(vt(t.doc,i),vt(t.doc,fl(e))))}))()},c=function(e,i){if(t.options.allowDropFileTypes&&-1==q(t.options.allowDropFileTypes,e.type))a();else{var n=new FileReader;n.onerror=function(){return a()},n.onload=function(){var e=n.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(l[i]=e),a()},n.readAsText(e)}},u=0;u<n.length;u++)c(n[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(i)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var d=e.dataTransfer.getData("Text");if(d){var h;if(t.state.draggingText&&!t.state.draggingText.copy&&(h=t.listSelections()),$l(t.doc,pl(i,i)),h)for(var p=0;p<h.length;++p)cr(t.doc,"",h[p].anchor,h[p].head,"drag");t.replaceSelection(d,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Ar(e,t){if(r&&(!e.state.draggingText||+new Date-Nr<100))ze(t);else if(!xe(e,t)&&!$i(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!p)){var i=z("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",h&&(i.width=i.height=1,e.display.wrapper.appendChild(i),i._top=i.offsetTop),t.dataTransfer.setDragImage(i,0,0),h&&i.parentNode.removeChild(i)}}function Br(e,t){var i=Pn(e,t);if(i){var n=document.createDocumentFragment();Yn(e,i,n),e.display.dragCursor||(e.display.dragCursor=z("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),N(e.display.dragCursor,n)}}function Mr(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Rr(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),i=[],n=0;n<t.length;n++){var o=t[n].CodeMirror;o&&i.push(o)}i.length&&i[0].operation((function(){for(var t=0;t<i.length;t++)e(i[t])}))}}var Ir=!1;function Or(){Ir||(Hr(),Ir=!0)}function Hr(){var e;ye(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Rr(Dr)}),100))})),ye(window,"blur",(function(){return Rr(no)}))}function Dr(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Fr={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Pr=0;Pr<10;Pr++)Fr[Pr+48]=Fr[Pr+96]=String(Pr);for(var Vr=65;Vr<=90;Vr++)Fr[Vr]=String.fromCharCode(Vr);for(var Ur=1;Ur<=12;Ur++)Fr[Ur+111]=Fr[Ur+63235]="F"+Ur;var Wr={};function jr(e){var t,i,n,o,l=e.split(/-(?!$)/);e=l[l.length-1];for(var r=0;r<l.length-1;r++){var s=l[r];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))i=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);n=!0}}return t&&(e="Alt-"+e),i&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function qr(e){var t={};for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];if(/^(name|fallthrough|(de|at)tach)$/.test(i))continue;if("..."==n){delete e[i];continue}for(var o=te(i.split(" "),jr),l=0;l<o.length;l++){var r=void 0,s=void 0;l==o.length-1?(s=o.join(" "),r=n):(s=o.slice(0,l+1).join(" "),r="...");var a=t[s];if(a){if(a!=r)throw new Error("Inconsistent bindings for "+s)}else t[s]=r}delete e[i]}for(var c in t)e[c]=t[c];return e}function Zr(e,t,i,n){var o=(t=Yr(t)).call?t.call(e,n):t[e];if(!1===o)return"nothing";if("..."===o)return"multi";if(null!=o&&i(o))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Zr(e,t.fallthrough,i,n);for(var l=0;l<t.fallthrough.length;l++){var r=Zr(e,t.fallthrough[l],i,n);if(r)return r}}}function Gr(e){var t="string"==typeof e?e:Fr[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function $r(e,t,i){var n=e;return t.altKey&&"Alt"!=n&&(e="Alt-"+e),(x?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(e="Ctrl-"+e),(x?t.ctrlKey:t.metaKey)&&"Mod"!=n&&(e="Cmd-"+e),!i&&t.shiftKey&&"Shift"!=n&&(e="Shift-"+e),e}function Kr(e,t){if(h&&34==e.keyCode&&e.char)return!1;var i=Fr[e.keyCode];return null!=i&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(i=e.code),$r(i,e,t))}function Yr(e){return"string"==typeof e?Wr[e]:e}function Xr(e,t){for(var i=e.doc.sel.ranges,n=[],o=0;o<i.length;o++){for(var l=t(i[o]);n.length&&dt(l.from,ee(n).to)<=0;){var r=n.pop();if(dt(r.from,l.from)<0){l.from=r.from;break}}n.push(l)}Ho(e,(function(){for(var t=n.length-1;t>=0;t--)cr(e.doc,"",n[t].from,n[t].to,"+delete");po(e)}))}function Jr(e,t,i){var n=de(e.text,t+i,i);return n<0||n>e.text.length?null:n}function Qr(e,t,i){var n=Jr(e,t.ch,i);return null==n?null:new ut(t.line,n,i<0?"after":"before")}function es(e,t,i,n,o){if(e){"rtl"==t.doc.direction&&(o=-o);var l=ve(i,t.doc.direction);if(l){var r,s=o<0?ee(l):l[0],a=o<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var c=sn(t,i);r=o<0?i.text.length-1:0;var u=an(t,c,r).top;r=he((function(e){return an(t,c,e).top==u}),o<0==(1==s.level)?s.from:s.to-1,r),"before"==a&&(r=Jr(i,r,1))}else r=o<0?s.to:s.from;return new ut(n,r,a)}}return new ut(n,o<0?i.text.length:0,o<0?"before":"after")}function ts(e,t,i,n){var o=ve(t,e.doc.direction);if(!o)return Qr(t,i,n);i.ch>=t.text.length?(i.ch=t.text.length,i.sticky="before"):i.ch<=0&&(i.ch=0,i.sticky="after");var l=ge(o,i.ch,i.sticky),r=o[l];if("ltr"==e.doc.direction&&r.level%2==0&&(n>0?r.to>i.ch:r.from<i.ch))return Qr(t,i,n);var s,a=function(e,i){return Jr(t,e instanceof ut?e.ch:e,i)},c=function(i){return e.options.lineWrapping?(s=s||sn(e,t),Nn(e,t,s,i)):{begin:0,end:t.text.length}},u=c("before"==i.sticky?a(i,-1):i.ch);if("rtl"==e.doc.direction||1==r.level){var d=1==r.level==n<0,h=a(i,d?1:-1);if(null!=h&&(d?h<=r.to&&h<=u.end:h>=r.from&&h>=u.begin)){var p=d?"before":"after";return new ut(i.line,h,p)}}var f=function(e,t,n){for(var l=function(e,t){return t?new ut(i.line,a(e,1),"before"):new ut(i.line,e,"after")};e>=0&&e<o.length;e+=t){var r=o[e],s=t>0==(1!=r.level),c=s?n.begin:a(n.end,-1);if(r.from<=c&&c<r.to)return l(c,s);if(c=s?r.from:a(r.to,-1),n.begin<=c&&c<n.end)return l(c,s)}},g=f(l+n,n,u);if(g)return g;var m=n>0?u.end:a(u.begin,-1);return null==m||n>0&&m==t.text.length||!(g=f(n>0?0:o.length-1,n,c(m)))?null:g}Wr.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Wr.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Wr.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Wr.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Wr.default=y?Wr.macDefault:Wr.pcDefault;var is={selectAll:tr,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),$)},killLine:function(e){return Xr(e,(function(t){if(t.empty()){var i=it(e.doc,t.head.line).text.length;return t.head.ch==i&&t.head.line<e.lastLine()?{from:t.head,to:ut(t.head.line+1,0)}:{from:t.head,to:ut(t.head.line,i)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return Xr(e,(function(t){return{from:ut(t.from().line,0),to:vt(e.doc,ut(t.to().line+1,0))}}))},delLineLeft:function(e){return Xr(e,(function(e){return{from:ut(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return Xr(e,(function(t){var i=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:i},"div"),to:t.from()}}))},delWrappedLineRight:function(e){return Xr(e,(function(t){var i=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:i},"div");return{from:t.from(),to:n}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(ut(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(ut(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return ns(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return ls(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return os(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var i=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:i},"div")}),Y)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var i=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:i},"div")}),Y)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var i=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:i},"div");return n.ch<e.getLine(n.line).search(/\S/)?ls(e,t.head):n}),Y)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],i=e.listSelections(),n=e.options.tabSize,o=0;o<i.length;o++){var l=i[o].from(),r=W(e.getLine(l.line),l.ch,n);t.push(Q(n-r%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Ho(e,(function(){for(var t=e.listSelections(),i=[],n=0;n<t.length;n++)if(t[n].empty()){var o=t[n].head,l=it(e.doc,o.line).text;if(l)if(o.ch==l.length&&(o=new ut(o.line,o.ch-1)),o.ch>0)o=new ut(o.line,o.ch+1),e.replaceRange(l.charAt(o.ch-1)+l.charAt(o.ch-2),ut(o.line,o.ch-2),o,"+transpose");else if(o.line>e.doc.first){var r=it(e.doc,o.line-1).text;r&&(o=new ut(o.line,1),e.replaceRange(l.charAt(0)+e.doc.lineSeparator()+r.charAt(r.length-1),ut(o.line-1,r.length-1),o,"+transpose"))}i.push(new dl(o,o))}e.setSelections(i)}))},newlineAndIndent:function(e){return Ho(e,(function(){for(var t=e.listSelections(),i=t.length-1;i>=0;i--)e.replaceRange(e.doc.lineSeparator(),t[i].anchor,t[i].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);po(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function ns(e,t){var i=it(e.doc,t),n=ni(i);return n!=i&&(t=rt(n)),es(!0,e,n,t,1)}function os(e,t){var i=it(e.doc,t),n=oi(i);return n!=i&&(t=rt(n)),es(!0,e,i,t,-1)}function ls(e,t){var i=ns(e,t.line),n=it(e.doc,i.line),o=ve(n,e.doc.direction);if(!o||0==o[0].level){var l=Math.max(i.ch,n.text.search(/\S/)),r=t.line==i.line&&t.ch<=l&&t.ch;return ut(i.line,r?0:l,i.sticky)}return i}function rs(e,t,i){if("string"==typeof t&&!(t=is[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,o=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),i&&(e.display.shift=!1),o=t(e)!=G}finally{e.display.shift=n,e.state.suppressEdits=!1}return o}function ss(e,t,i){for(var n=0;n<e.state.keyMaps.length;n++){var o=Zr(t,e.state.keyMaps[n],i,e);if(o)return o}return e.options.extraKeys&&Zr(t,e.options.extraKeys,i,e)||Zr(t,e.options.keyMap,i,e)}var as=new j;function cs(e,t,i,n){var o=e.state.keySeq;if(o){if(Gr(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:as.set(50,(function(){e.state.keySeq==o&&(e.state.keySeq=null,e.display.input.reset())})),us(e,o+" "+t,i,n))return!0}return us(e,t,i,n)}function us(e,t,i,n){var o=ss(e,t,n);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&Mi(e,"keyHandled",e,t,i),"handled"!=o&&"multi"!=o||(Ee(i),Qn(e)),!!o}function ds(e,t){var i=Kr(t,!0);return!!i&&(t.shiftKey&&!e.state.keySeq?cs(e,"Shift-"+i,t,(function(t){return rs(e,t,!0)}))||cs(e,i,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return rs(e,t)})):cs(e,i,t,(function(t){return rs(e,t)})))}function hs(e,t,i){return cs(e,"'"+i+"'",t,(function(t){return rs(e,t,!0)}))}var ps=null;function fs(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=M(D(t)),xe(t,e)))){r&&s<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var o=ds(t,e);h&&(ps=o?n:null,o||88!=n||Ve||!(y?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),i&&!y&&!o&&46==n&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||gs(t)}}function gs(e){var t=e.display.lineDiv;function i(e){18!=e.keyCode&&e.altKey||(E(t,"CodeMirror-crosshair"),_e(document,"keyup",i),_e(document,"mouseover",i))}R(t,"CodeMirror-crosshair"),ye(document,"keyup",i),ye(document,"mouseover",i)}function ms(e){16==e.keyCode&&(this.doc.sel.shift=!1),xe(this,e)}function vs(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||$i(t.display,e)||xe(t,e)||e.ctrlKey&&!e.altKey||y&&e.metaKey)){var i=e.keyCode,n=e.charCode;if(h&&i==ps)return ps=null,void Ee(e);if(!h||e.which&&!(e.which<10)||!ds(t,e)){var o=String.fromCharCode(null==n?i:n);"\b"!=o&&(hs(t,e,o)||t.display.input.onKeyPress(e))}}}var bs,ys,ws=400,_s=function(e,t,i){this.time=e,this.pos=t,this.button=i};function Cs(e,t){var i=+new Date;return ys&&ys.compare(i,e,t)?(bs=ys=null,"triple"):bs&&bs.compare(i,e,t)?(ys=new _s(i,e,t),bs=null,"double"):(bs=new _s(i,e,t),ys=null,"single")}function xs(e){var t=this,i=t.display;if(!(xe(t,e)||i.activeTouch&&i.input.supportsTouch()))if(i.input.ensurePolled(),i.shift=e.shiftKey,$i(i,e))a||(i.scroller.draggable=!1,setTimeout((function(){return i.scroller.draggable=!0}),100));else if(!Bs(t,e)){var n=Pn(t,e),o=Be(e),l=n?Cs(n,o):"single";P(t).focus(),1==o&&t.state.selectingText&&t.state.selectingText(e),n&&ks(t,o,n,l,e)||(1==o?n?Ls(t,n,l,e):Ae(e)==i.scroller&&Ee(e):2==o?(n&&Vl(t.doc,n),setTimeout((function(){return i.input.focus()}),20)):3==o&&(k?t.display.input.onContextMenu(e):to(t)))}}function ks(e,t,i,n,o){var l="Click";return"double"==n?l="Double"+l:"triple"==n&&(l="Triple"+l),cs(e,$r(l=(1==t?"Left":2==t?"Middle":"Right")+l,o),o,(function(t){if("string"==typeof t&&(t=is[t]),!t)return!1;var n=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n=t(e,i)!=G}finally{e.state.suppressEdits=!1}return n}))}function Ss(e,t,i){var n=e.getOption("configureMouse"),o=n?n(e,t,i):{};if(null==o.unit){var l=w?i.shiftKey&&i.metaKey:i.altKey;o.unit=l?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==o.extend||e.doc.extend)&&(o.extend=e.doc.extend||i.shiftKey),null==o.addNew&&(o.addNew=y?i.metaKey:i.ctrlKey),null==o.moveOnDrag&&(o.moveOnDrag=!(y?i.altKey:i.ctrlKey)),o}function Ls(e,t,i,n){r?setTimeout(V(eo,e),0):e.curOp.focus=M(D(e));var o,l=Ss(e,i,n),s=e.doc.sel;e.options.dragDrop&&Ie&&!e.isReadOnly()&&"single"==i&&(o=s.contains(t))>-1&&(dt((o=s.ranges[o]).from(),t)<0||t.xRel>0)&&(dt(o.to(),t)>0||t.xRel<0)?Es(e,n,t,l):Ns(e,n,t,l)}function Es(e,t,i,n){var o=e.display,l=!1,c=Do(e,(function(t){a&&(o.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:to(e)),_e(o.wrapper.ownerDocument,"mouseup",c),_e(o.wrapper.ownerDocument,"mousemove",u),_e(o.scroller,"dragstart",d),_e(o.scroller,"drop",c),l||(Ee(t),n.addNew||Vl(e.doc,i,null,null,n.extend),a&&!p||r&&9==s?setTimeout((function(){o.wrapper.ownerDocument.body.focus({preventScroll:!0}),o.input.focus()}),20):o.input.focus())})),u=function(e){l=l||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},d=function(){return l=!0};a&&(o.scroller.draggable=!0),e.state.draggingText=c,c.copy=!n.moveOnDrag,ye(o.wrapper.ownerDocument,"mouseup",c),ye(o.wrapper.ownerDocument,"mousemove",u),ye(o.scroller,"dragstart",d),ye(o.scroller,"drop",c),e.state.delayingBlurEvent=!0,setTimeout((function(){return o.input.focus()}),20),o.scroller.dragDrop&&o.scroller.dragDrop()}function Ts(e,t,i){if("char"==i)return new dl(t,t);if("word"==i)return e.findWordAt(t);if("line"==i)return new dl(ut(t.line,0),vt(e.doc,ut(t.line+1,0)));var n=i(e,t);return new dl(n.from,n.to)}function Ns(e,t,i,n){r&&to(e);var o=e.display,l=e.doc;Ee(t);var s,a,c=l.sel,u=c.ranges;if(n.addNew&&!n.extend?(a=l.sel.contains(i),s=a>-1?u[a]:new dl(i,i)):(s=l.sel.primary(),a=l.sel.primIndex),"rectangle"==n.unit)n.addNew||(s=new dl(i,i)),i=Pn(e,t,!0,!0),a=-1;else{var d=Ts(e,i,n.unit);s=n.extend?Pl(s,d.anchor,d.head,n.extend):d}n.addNew?-1==a?(a=u.length,Gl(l,hl(e,u.concat([s]),a),{scroll:!1,origin:"*mouse"})):u.length>1&&u[a].empty()&&"char"==n.unit&&!n.extend?(Gl(l,hl(e,u.slice(0,a).concat(u.slice(a+1)),0),{scroll:!1,origin:"*mouse"}),c=l.sel):Wl(l,a,s,K):(a=0,Gl(l,new ul([s],0),K),c=l.sel);var h=i;function p(t){if(0!=dt(h,t))if(h=t,"rectangle"==n.unit){for(var o=[],r=e.options.tabSize,u=W(it(l,i.line).text,i.ch,r),d=W(it(l,t.line).text,t.ch,r),p=Math.min(u,d),f=Math.max(u,d),g=Math.min(i.line,t.line),m=Math.min(e.lastLine(),Math.max(i.line,t.line));g<=m;g++){var v=it(l,g).text,b=X(v,p,r);p==f?o.push(new dl(ut(g,b),ut(g,b))):v.length>b&&o.push(new dl(ut(g,b),ut(g,X(v,f,r))))}o.length||o.push(new dl(i,i)),Gl(l,hl(e,c.ranges.slice(0,a).concat(o),a),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var y,w=s,_=Ts(e,t,n.unit),C=w.anchor;dt(_.anchor,C)>0?(y=_.head,C=gt(w.from(),_.anchor)):(y=_.anchor,C=ft(w.to(),_.head));var x=c.ranges.slice(0);x[a]=zs(e,new dl(vt(l,C),y)),Gl(l,hl(e,x,a),K)}}var f=o.wrapper.getBoundingClientRect(),g=0;function m(t){var i=++g,r=Pn(e,t,!0,"rectangle"==n.unit);if(r)if(0!=dt(r,h)){e.curOp.focus=M(D(e)),p(r);var s=ro(o,l);(r.line>=s.to||r.line<s.from)&&setTimeout(Do(e,(function(){g==i&&m(t)})),150)}else{var a=t.clientY<f.top?-20:t.clientY>f.bottom?20:0;a&&setTimeout(Do(e,(function(){g==i&&(o.scroller.scrollTop+=a,m(t))})),50)}}function v(t){e.state.selectingText=!1,g=1/0,t&&(Ee(t),o.input.focus()),_e(o.wrapper.ownerDocument,"mousemove",b),_e(o.wrapper.ownerDocument,"mouseup",y),l.history.lastSelOrigin=null}var b=Do(e,(function(e){0!==e.buttons&&Be(e)?m(e):v(e)})),y=Do(e,v);e.state.selectingText=y,ye(o.wrapper.ownerDocument,"mousemove",b),ye(o.wrapper.ownerDocument,"mouseup",y)}function zs(e,t){var i=t.anchor,n=t.head,o=it(e.doc,i.line);if(0==dt(i,n)&&i.sticky==n.sticky)return t;var l=ve(o);if(!l)return t;var r=ge(l,i.ch,i.sticky),s=l[r];if(s.from!=i.ch&&s.to!=i.ch)return t;var a,c=r+(s.from==i.ch==(1!=s.level)?0:1);if(0==c||c==l.length)return t;if(n.line!=i.line)a=(n.line-i.line)*("ltr"==e.doc.direction?1:-1)>0;else{var u=ge(l,n.ch,n.sticky),d=u-r||(n.ch-i.ch)*(1==s.level?-1:1);a=u==c-1||u==c?d<0:d>0}var h=l[c+(a?-1:0)],p=a==(1==h.level),f=p?h.from:h.to,g=p?"after":"before";return i.ch==f&&i.sticky==g?t:new dl(new ut(i.line,f,g),n)}function As(e,t,i,n){var o,l;if(t.touches)o=t.touches[0].clientX,l=t.touches[0].clientY;else try{o=t.clientX,l=t.clientY}catch(e){return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&Ee(t);var r=e.display,s=r.lineDiv.getBoundingClientRect();if(l>s.bottom||!Se(e,i))return Ne(t);l-=s.top-r.viewOffset;for(var a=0;a<e.display.gutterSpecs.length;++a){var c=r.gutters.childNodes[a];if(c&&c.getBoundingClientRect().right>=o)return Ce(e,i,e,st(e.doc,l),e.display.gutterSpecs[a].className,t),Ne(t)}}function Bs(e,t){return As(e,t,"gutterClick",!0)}function Ms(e,t){$i(e.display,t)||Rs(e,t)||xe(e,t,"contextmenu")||k||e.display.input.onContextMenu(t)}function Rs(e,t){return!!Se(e,"gutterContextMenu")&&As(e,t,"gutterContextMenu",!1)}function Is(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),vn(e)}_s.prototype.compare=function(e,t,i){return this.time+ws>e&&0==dt(t,this.pos)&&i==this.button};var Os={toString:function(){return"CodeMirror.Init"}},Hs={},Ds={};function Fs(e){var t=e.optionHandlers;function i(i,n,o,l){e.defaults[i]=n,o&&(t[i]=l?function(e,t,i){i!=Os&&o(e,t,i)}:o)}e.defineOption=i,e.Init=Os,i("value","",(function(e,t){return e.setValue(t)}),!0),i("mode",null,(function(e,t){e.doc.modeOption=t,yl(e)}),!0),i("indentUnit",2,yl,!0),i("indentWithTabs",!1),i("smartIndent",!0),i("tabSize",4,(function(e){wl(e),vn(e),Un(e)}),!0),i("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var i=[],n=e.doc.first;e.doc.iter((function(e){for(var o=0;;){var l=e.text.indexOf(t,o);if(-1==l)break;o=l+t.length,i.push(ut(n,l))}n++}));for(var o=i.length-1;o>=0;o--)cr(e.doc,t,i[o],ut(i[o].line,i[o].ch+t.length))}})),i("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,(function(e,t,i){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),i!=Os&&e.refresh()})),i("specialCharPlaceholder",wi,(function(e){return e.refresh()}),!0),i("electricChars",!0),i("inputStyle",b?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),i("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),i("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),i("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),i("rtlMoveVisually",!_),i("wholeLineUpdateBefore",!0),i("theme","default",(function(e){Is(e),nl(e)}),!0),i("keyMap","default",(function(e,t,i){var n=Yr(t),o=i!=Os&&Yr(i);o&&o.detach&&o.detach(e,n),n.attach&&n.attach(e,o||null)})),i("extraKeys",null),i("configureMouse",null),i("lineWrapping",!1,Vs,!0),i("gutters",[],(function(e,t){e.display.gutterSpecs=tl(t,e.options.lineNumbers),nl(e)}),!0),i("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?Hn(e.display)+"px":"0",e.refresh()}),!0),i("coverGutterNextToScrollbar",!1,(function(e){return ko(e)}),!0),i("scrollbarStyle","native",(function(e){Eo(e),ko(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),i("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=tl(e.options.gutters,t),nl(e)}),!0),i("firstLineNumber",1,nl,!0),i("lineNumberFormatter",(function(e){return e}),nl,!0),i("showCursorWhenSelecting",!1,$n,!0),i("resetSelectionOnContextMenu",!0),i("lineWiseCopyCut",!0),i("pasteLinesPerSelection",!0),i("selectionsMayTouch",!1),i("readOnly",!1,(function(e,t){"nocursor"==t&&(no(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),i("screenReaderLabel",null,(function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)})),i("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),i("dragDrop",!0,Ps),i("allowDropFileTypes",null),i("cursorBlinkRate",530),i("cursorScrollMargin",0),i("cursorHeight",1,$n,!0),i("singleCursorHeightPerLine",!0,$n,!0),i("workTime",100),i("workDelay",100),i("flattenSpans",!0,wl,!0),i("addModeClass",!1,wl,!0),i("pollInterval",100),i("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),i("historyEventDelay",1250),i("viewportMargin",10,(function(e){return e.refresh()}),!0),i("maxHighlightLength",1e4,wl,!0),i("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),i("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),i("autofocus",null),i("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),i("phrases",null)}function Ps(e,t,i){if(!t!=!(i&&i!=Os)){var n=e.display.dragFunctions,o=t?ye:_e;o(e.display.scroller,"dragstart",n.start),o(e.display.scroller,"dragenter",n.enter),o(e.display.scroller,"dragover",n.over),o(e.display.scroller,"dragleave",n.leave),o(e.display.scroller,"drop",n.drop)}}function Vs(e){e.options.lineWrapping?(R(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(E(e.display.wrapper,"CodeMirror-wrap"),hi(e)),Fn(e),Un(e),vn(e),setTimeout((function(){return ko(e)}),100)}function Us(e,t){var i=this;if(!(this instanceof Us))return new Us(e,t);this.options=t=t?U(t):{},U(Hs,t,!1);var n=t.value;"string"==typeof n?n=new Tr(n,t.mode,null,t.lineSeparator,t.direction):t.mode&&(n.modeOption=t.mode),this.doc=n;var o=new Us.inputStyles[t.inputStyle](this),l=this.display=new ol(e,n,o,t);for(var c in l.wrapper.CodeMirror=this,Is(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Eo(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new j,keySeq:null,specialChars:null},t.autofocus&&!b&&l.input.focus(),r&&s<11&&setTimeout((function(){return i.display.input.reset(!0)}),20),Ws(this),Or(),No(this),this.curOp.forceUpdate=!0,kl(this,n),t.autofocus&&!b||this.hasFocus()?setTimeout((function(){i.hasFocus()&&!i.state.focused&&io(i)}),20):no(this),Ds)Ds.hasOwnProperty(c)&&Ds[c](this,t[c],Os);el(this),t.finishInit&&t.finishInit(this);for(var u=0;u<js.length;++u)js[u](this);zo(this),a&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(l.lineDiv).textRendering&&(l.lineDiv.style.textRendering="auto")}function Ws(e){var t=e.display;ye(t.scroller,"mousedown",Do(e,xs)),ye(t.scroller,"dblclick",r&&s<11?Do(e,(function(t){if(!xe(e,t)){var i=Pn(e,t);if(i&&!Bs(e,t)&&!$i(e.display,t)){Ee(t);var n=e.findWordAt(i);Vl(e.doc,n.anchor,n.head)}}})):function(t){return xe(e,t)||Ee(t)}),ye(t.scroller,"contextmenu",(function(t){return Ms(e,t)})),ye(t.input.getField(),"contextmenu",(function(i){t.scroller.contains(i.target)||Ms(e,i)}));var i,n={end:0};function o(){t.activeTouch&&(i=setTimeout((function(){return t.activeTouch=null}),1e3),(n=t.activeTouch).end=+new Date)}function l(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function a(e,t){if(null==t.left)return!0;var i=t.left-e.left,n=t.top-e.top;return i*i+n*n>400}ye(t.scroller,"touchstart",(function(o){if(!xe(e,o)&&!l(o)&&!Bs(e,o)){t.input.ensurePolled(),clearTimeout(i);var r=+new Date;t.activeTouch={start:r,moved:!1,prev:r-n.end<=300?n:null},1==o.touches.length&&(t.activeTouch.left=o.touches[0].pageX,t.activeTouch.top=o.touches[0].pageY)}})),ye(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),ye(t.scroller,"touchend",(function(i){var n=t.activeTouch;if(n&&!$i(t,i)&&null!=n.left&&!n.moved&&new Date-n.start<300){var l,r=e.coordsChar(t.activeTouch,"page");l=!n.prev||a(n,n.prev)?new dl(r,r):!n.prev.prev||a(n,n.prev.prev)?e.findWordAt(r):new dl(ut(r.line,0),vt(e.doc,ut(r.line+1,0))),e.setSelection(l.anchor,l.head),e.focus(),Ee(i)}o()})),ye(t.scroller,"touchcancel",o),ye(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(bo(e,t.scroller.scrollTop),wo(e,t.scroller.scrollLeft,!0),Ce(e,"scroll",e))})),ye(t.scroller,"mousewheel",(function(t){return cl(e,t)})),ye(t.scroller,"DOMMouseScroll",(function(t){return cl(e,t)})),ye(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){xe(e,t)||ze(t)},over:function(t){xe(e,t)||(Br(e,t),ze(t))},start:function(t){return Ar(e,t)},drop:Do(e,zr),leave:function(t){xe(e,t)||Mr(e)}};var c=t.input.getField();ye(c,"keyup",(function(t){return ms.call(e,t)})),ye(c,"keydown",Do(e,fs)),ye(c,"keypress",Do(e,vs)),ye(c,"focus",(function(t){return io(e,t)})),ye(c,"blur",(function(t){return no(e,t)}))}Us.defaults=Hs,Us.optionHandlers=Ds;var js=[];function qs(e,t,i,n){var o,l=e.doc;null==i&&(i="add"),"smart"==i&&(l.mode.indent?o=kt(e,t).state:i="prev");var r=e.options.tabSize,s=it(l,t),a=W(s.text,null,r);s.stateAfter&&(s.stateAfter=null);var c,u=s.text.match(/^\s*/)[0];if(n||/\S/.test(s.text)){if("smart"==i&&((c=l.mode.indent(o,s.text.slice(u.length),s.text))==G||c>150)){if(!n)return;i="prev"}}else c=0,i="not";"prev"==i?c=t>l.first?W(it(l,t-1).text,null,r):0:"add"==i?c=a+e.options.indentUnit:"subtract"==i?c=a-e.options.indentUnit:"number"==typeof i&&(c=a+i),c=Math.max(0,c);var d="",h=0;if(e.options.indentWithTabs)for(var p=Math.floor(c/r);p;--p)h+=r,d+="\t";if(h<c&&(d+=Q(c-h)),d!=u)return cr(l,d,ut(t,0),ut(t,u.length),"+input"),s.stateAfter=null,!0;for(var f=0;f<l.sel.ranges.length;f++){var g=l.sel.ranges[f];if(g.head.line==t&&g.head.ch<u.length){var m=ut(t,u.length);Wl(l,f,new dl(m,m));break}}}Us.defineInitHook=function(e){return js.push(e)};var Zs=null;function Gs(e){Zs=e}function $s(e,t,i,n,o){var l=e.doc;e.display.shift=!1,n||(n=l.sel);var r=+new Date-200,s="paste"==o||e.state.pasteIncoming>r,a=Fe(t),c=null;if(s&&n.ranges.length>1)if(Zs&&Zs.text.join("\n")==t){if(n.ranges.length%Zs.text.length==0){c=[];for(var u=0;u<Zs.text.length;u++)c.push(l.splitLines(Zs.text[u]))}}else a.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(c=te(a,(function(e){return[e]})));for(var d=e.curOp.updateInput,h=n.ranges.length-1;h>=0;h--){var p=n.ranges[h],f=p.from(),g=p.to();p.empty()&&(i&&i>0?f=ut(f.line,f.ch-i):e.state.overwrite&&!s?g=ut(g.line,Math.min(it(l,g.line).text.length,g.ch+ee(a).length)):s&&Zs&&Zs.lineWise&&Zs.text.join("\n")==a.join("\n")&&(f=g=ut(f.line,0)));var m={from:f,to:g,text:c?c[h%c.length]:a,origin:o||(s?"paste":e.state.cutIncoming>r?"cut":"+input")};nr(e.doc,m),Mi(e,"inputRead",e,m)}t&&!s&&Ys(e,t),po(e),e.curOp.updateInput<2&&(e.curOp.updateInput=d),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Ks(e,t){var i=e.clipboardData&&e.clipboardData.getData("Text");if(i)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||!t.hasFocus()||Ho(t,(function(){return $s(t,i,0,null,"paste")})),!0}function Ys(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var i=e.doc.sel,n=i.ranges.length-1;n>=0;n--){var o=i.ranges[n];if(!(o.head.ch>100||n&&i.ranges[n-1].head.line==o.head.line)){var l=e.getModeAt(o.head),r=!1;if(l.electricChars){for(var s=0;s<l.electricChars.length;s++)if(t.indexOf(l.electricChars.charAt(s))>-1){r=qs(e,o.head.line,"smart");break}}else l.electricInput&&l.electricInput.test(it(e.doc,o.head.line).text.slice(0,o.head.ch))&&(r=qs(e,o.head.line,"smart"));r&&Mi(e,"electricInput",e,o.head.line)}}}function Xs(e){for(var t=[],i=[],n=0;n<e.doc.sel.ranges.length;n++){var o=e.doc.sel.ranges[n].head.line,l={anchor:ut(o,0),head:ut(o+1,0)};i.push(l),t.push(e.getRange(l.anchor,l.head))}return{text:t,ranges:i}}function Js(e,t,i,n){e.setAttribute("autocorrect",i?"on":"off"),e.setAttribute("autocapitalize",n?"on":"off"),e.setAttribute("spellcheck",!!t)}function Qs(){var e=z("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),t=z("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return a?e.style.width="1000px":e.setAttribute("wrap","off"),m&&(e.style.border="1px solid black"),t}function ea(e){var t=e.optionHandlers,i=e.helpers={};e.prototype={constructor:e,focus:function(){P(this).focus(),this.display.input.focus()},setOption:function(e,i){var n=this.options,o=n[e];n[e]==i&&"mode"!=e||(n[e]=i,t.hasOwnProperty(e)&&Do(this,t[e])(this,i,o),Ce(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Yr(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,i=0;i<t.length;++i)if(t[i]==e||t[i].name==e)return t.splice(i,1),!0},addOverlay:Fo((function(t,i){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");ie(this.state.overlays,{mode:n,modeSpec:t,opaque:i&&i.opaque,priority:i&&i.priority||0},(function(e){return e.priority})),this.state.modeGen++,Un(this)})),removeOverlay:Fo((function(e){for(var t=this.state.overlays,i=0;i<t.length;++i){var n=t[i].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(i,1),this.state.modeGen++,void Un(this)}})),indentLine:Fo((function(e,t,i){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),at(this.doc,e)&&qs(this,e,t,i)})),indentSelection:Fo((function(e){for(var t=this.doc.sel.ranges,i=-1,n=0;n<t.length;n++){var o=t[n];if(o.empty())o.head.line>i&&(qs(this,o.head.line,e,!0),i=o.head.line,n==this.doc.sel.primIndex&&po(this));else{var l=o.from(),r=o.to(),s=Math.max(i,l.line);i=Math.min(this.lastLine(),r.line-(r.ch?0:1))+1;for(var a=s;a<i;++a)qs(this,a,e);var c=this.doc.sel.ranges;0==l.ch&&t.length==c.length&&c[n].from().ch>0&&Wl(this.doc,n,new dl(l,c[n].to()),$)}}})),getTokenAt:function(e,t){return Nt(this,e,t)},getLineTokens:function(e,t){return Nt(this,ut(e),t,!0)},getTokenTypeAt:function(e){e=vt(this.doc,e);var t,i=xt(this,it(this.doc,e.line)),n=0,o=(i.length-1)/2,l=e.ch;if(0==l)t=i[2];else for(;;){var r=n+o>>1;if((r?i[2*r-1]:0)>=l)o=r;else{if(!(i[2*r+1]<l)){t=i[2*r+2];break}n=r+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var i=this.doc.mode;return i.innerMode?e.innerMode(i,this.getTokenAt(t).state).mode:i},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!i.hasOwnProperty(t))return n;var o=i[t],l=this.getModeAt(e);if("string"==typeof l[t])o[l[t]]&&n.push(o[l[t]]);else if(l[t])for(var r=0;r<l[t].length;r++){var s=o[l[t][r]];s&&n.push(s)}else l.helperType&&o[l.helperType]?n.push(o[l.helperType]):o[l.name]&&n.push(o[l.name]);for(var a=0;a<o._global.length;a++){var c=o._global[a];c.pred(l,this)&&-1==q(n,c.val)&&n.push(c.val)}return n},getStateAfter:function(e,t){var i=this.doc;return kt(this,(e=mt(i,null==e?i.first+i.size-1:e))+1,t).state},cursorCoords:function(e,t){var i=this.doc.sel.primary();return kn(this,null==e?i.head:"object"==typeof e?vt(this.doc,e):e?i.from():i.to(),t||"page")},charCoords:function(e,t){return xn(this,vt(this.doc,e),t||"page")},coordsChar:function(e,t){return En(this,(e=Cn(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Cn(this,{top:e,left:0},t||"page").top,st(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,i){var n,o=!1;if("number"==typeof e){var l=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>l&&(e=l,o=!0),n=it(this.doc,e)}else n=e;return _n(this,n,{top:0,left:0},t||"page",i||o).top+(o?this.doc.height-ui(n):0)},defaultTextHeight:function(){return Rn(this.display)},defaultCharWidth:function(){return In(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,i,n,o){var l=this.display,r=(e=kn(this,vt(this.doc,e))).bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),l.sizer.appendChild(t),"over"==n)r=e.top;else if("above"==n||"near"==n){var a=Math.max(l.wrapper.clientHeight,this.doc.height),c=Math.max(l.sizer.clientWidth,l.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>a)&&e.top>t.offsetHeight?r=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=a&&(r=e.bottom),s+t.offsetWidth>c&&(s=c-t.offsetWidth)}t.style.top=r+"px",t.style.left=t.style.right="","right"==o?(s=l.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==o?s=0:"middle"==o&&(s=(l.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),i&&co(this,{left:s,top:r,right:s+t.offsetWidth,bottom:r+t.offsetHeight})},triggerOnKeyDown:Fo(fs),triggerOnKeyPress:Fo(vs),triggerOnKeyUp:ms,triggerOnMouseDown:Fo(xs),execCommand:function(e){if(is.hasOwnProperty(e))return is[e].call(null,this)},triggerElectric:Fo((function(e){Ys(this,e)})),findPosH:function(e,t,i,n){var o=1;t<0&&(o=-1,t=-t);for(var l=vt(this.doc,e),r=0;r<t&&!(l=ta(this.doc,l,o,i,n)).hitSide;++r);return l},moveH:Fo((function(e,t){var i=this;this.extendSelectionsBy((function(n){return i.display.shift||i.doc.extend||n.empty()?ta(i.doc,n.head,e,t,i.options.rtlMoveVisually):e<0?n.from():n.to()}),Y)})),deleteH:Fo((function(e,t){var i=this.doc.sel,n=this.doc;i.somethingSelected()?n.replaceSelection("",null,"+delete"):Xr(this,(function(i){var o=ta(n,i.head,e,t,!1);return e<0?{from:o,to:i.head}:{from:i.head,to:o}}))})),findPosV:function(e,t,i,n){var o=1,l=n;t<0&&(o=-1,t=-t);for(var r=vt(this.doc,e),s=0;s<t;++s){var a=kn(this,r,"div");if(null==l?l=a.left:a.left=l,(r=ia(this,a,o,i)).hitSide)break}return r},moveV:Fo((function(e,t){var i=this,n=this.doc,o=[],l=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy((function(r){if(l)return e<0?r.from():r.to();var s=kn(i,r.head,"div");null!=r.goalColumn&&(s.left=r.goalColumn),o.push(s.left);var a=ia(i,s,e,t);return"page"==t&&r==n.sel.primary()&&ho(i,xn(i,a,"div").top-s.top),a}),Y),o.length)for(var r=0;r<n.sel.ranges.length;r++)n.sel.ranges[r].goalColumn=o[r]})),findWordAt:function(e){var t=it(this.doc,e.line).text,i=e.ch,n=e.ch;if(t){var o=this.getHelper(e,"wordChars");"before"!=e.sticky&&n!=t.length||!i?++n:--i;for(var l=t.charAt(i),r=se(l,o)?function(e){return se(e,o)}:/\s/.test(l)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!se(e)};i>0&&r(t.charAt(i-1));)--i;for(;n<t.length&&r(t.charAt(n));)++n}return new dl(ut(e.line,i),ut(e.line,n))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?R(this.display.cursorDiv,"CodeMirror-overwrite"):E(this.display.cursorDiv,"CodeMirror-overwrite"),Ce(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==M(D(this))},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Fo((function(e,t){fo(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Ji(this)-this.display.barHeight,width:e.scrollWidth-Ji(this)-this.display.barWidth,clientHeight:en(this),clientWidth:Qi(this)}},scrollIntoView:Fo((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:ut(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?go(this,e):vo(this,e.from,e.to,e.margin)})),setSize:Fo((function(e,t){var i=this,n=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.options.lineWrapping&&mn(this);var o=this.display.viewFrom;this.doc.iter(o,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Wn(i,o,"widget");break}++o})),this.curOp.forceUpdate=!0,Ce(this,"refresh",this)})),operation:function(e){return Ho(this,e)},startOperation:function(){return No(this)},endOperation:function(){return zo(this)},refresh:Fo((function(){var e=this.display.cachedTextHeight;Un(this),this.curOp.forceUpdate=!0,vn(this),fo(this,this.doc.scrollLeft,this.doc.scrollTop),Xo(this.display),(null==e||Math.abs(e-Rn(this.display))>.5||this.options.lineWrapping)&&Fn(this),Ce(this,"refresh",this)})),swapDoc:Fo((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),kl(this,e),vn(this),this.display.input.reset(),fo(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Mi(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Le(e),e.registerHelper=function(t,n,o){i.hasOwnProperty(t)||(i[t]=e[t]={_global:[]}),i[t][n]=o},e.registerGlobalHelper=function(t,n,o,l){e.registerHelper(t,n,l),i[t]._global.push({pred:o,val:l})}}function ta(e,t,i,n,o){var l=t,r=i,s=it(e,t.line),a=o&&"rtl"==e.direction?-i:i;function c(){var i=t.line+a;return!(i<e.first||i>=e.first+e.size)&&(t=new ut(i,t.ch,t.sticky),s=it(e,i))}function u(l){var r;if("codepoint"==n){var u=s.text.charCodeAt(t.ch+(i>0?0:-1));if(isNaN(u))r=null;else{var d=i>0?u>=55296&&u<56320:u>=56320&&u<57343;r=new ut(t.line,Math.max(0,Math.min(s.text.length,t.ch+i*(d?2:1))),-i)}}else r=o?ts(e.cm,s,t,i):Qr(s,t,i);if(null==r){if(l||!c())return!1;t=es(o,e.cm,s,t.line,a)}else t=r;return!0}if("char"==n||"codepoint"==n)u();else if("column"==n)u(!0);else if("word"==n||"group"==n)for(var d=null,h="group"==n,p=e.cm&&e.cm.getHelper(t,"wordChars"),f=!0;!(i<0)||u(!f);f=!1){var g=s.text.charAt(t.ch)||"\n",m=se(g,p)?"w":h&&"\n"==g?"n":!h||/\s/.test(g)?null:"p";if(!h||f||m||(m="s"),d&&d!=m){i<0&&(i=1,u(),t.sticky="after");break}if(m&&(d=m),i>0&&!u(!f))break}var v=Ql(e,t,l,r,!0);return ht(l,v)&&(v.hitSide=!0),v}function ia(e,t,i,n){var o,l,r=e.doc,s=t.left;if("page"==n){var a=Math.min(e.display.wrapper.clientHeight,P(e).innerHeight||r(e).documentElement.clientHeight),c=Math.max(a-.5*Rn(e.display),3);o=(i>0?t.bottom:t.top)+i*c}else"line"==n&&(o=i>0?t.bottom+3:t.top-3);for(;(l=En(e,s,o)).outside;){if(i<0?o<=0:o>=r.height){l.hitSide=!0;break}o+=5*i}return l}var na=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new j,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function oa(e,t){var i=rn(e,t.line);if(!i||i.hidden)return null;var n=it(e.doc,t.line),o=nn(i,n,t.line),l=ve(n,e.doc.direction),r="left";l&&(r=ge(l,t.ch)%2?"right":"left");var s=dn(o.map,t.ch,r);return s.offset="right"==s.collapse?s.end:s.start,s}function la(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function ra(e,t){return t&&(e.bad=!0),e}function sa(e,t,i,n,o){var l="",r=!1,s=e.doc.lineSeparator(),a=!1;function c(e){return function(t){return t.id==e}}function u(){r&&(l+=s,a&&(l+=s),r=a=!1)}function d(e){e&&(u(),l+=e)}function h(t){if(1==t.nodeType){var i=t.getAttribute("cm-text");if(i)return void d(i);var l,p=t.getAttribute("cm-marker");if(p){var f=e.findMarks(ut(n,0),ut(o+1,0),c(+p));return void(f.length&&(l=f[0].find(0))&&d(nt(e.doc,l.from,l.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var g=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;g&&u();for(var m=0;m<t.childNodes.length;m++)h(t.childNodes[m]);/^(pre|p)$/i.test(t.nodeName)&&(a=!0),g&&(r=!0)}else 3==t.nodeType&&d(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;h(t),t!=i;)t=t.nextSibling,a=!1;return l}function aa(e,t,i){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[i]))return ra(e.clipPos(ut(e.display.viewTo-1)),!0);t=null,i=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var o=0;o<e.display.view.length;o++){var l=e.display.view[o];if(l.node==n)return ca(l,t,i)}}function ca(e,t,i){var n=e.text.firstChild,o=!1;if(!t||!B(n,t))return ra(ut(rt(e.line),0),!0);if(t==n&&(o=!0,t=n.childNodes[i],i=0,!t)){var l=e.rest?ee(e.rest):e.line;return ra(ut(rt(l),l.text.length),o)}var r=3==t.nodeType?t:null,s=t;for(r||1!=t.childNodes.length||3!=t.firstChild.nodeType||(r=t.firstChild,i&&(i=r.nodeValue.length));s.parentNode!=n;)s=s.parentNode;var a=e.measure,c=a.maps;function u(t,i,n){for(var o=-1;o<(c?c.length:0);o++)for(var l=o<0?a.map:c[o],r=0;r<l.length;r+=3){var s=l[r+2];if(s==t||s==i){var u=rt(o<0?e.line:e.rest[o]),d=l[r]+n;return(n<0||s!=t)&&(d=l[r+(n?1:0)]),ut(u,d)}}}var d=u(r,s,i);if(d)return ra(d,o);for(var h=s.nextSibling,p=r?r.nodeValue.length-i:0;h;h=h.nextSibling){if(d=u(h,h.firstChild,0))return ra(ut(d.line,d.ch-p),o);p+=h.textContent.length}for(var f=s.previousSibling,g=i;f;f=f.previousSibling){if(d=u(f,f.firstChild,-1))return ra(ut(d.line,d.ch+g),o);g+=f.textContent.length}}na.prototype.init=function(e){var t=this,i=this,n=i.cm,o=i.div=e.lineDiv;function l(e){for(var t=e.target;t;t=t.parentNode){if(t==o)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function r(e){if(l(e)&&!xe(n,e)){if(n.somethingSelected())Gs({lineWise:!1,text:n.getSelections()}),"cut"==e.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var t=Xs(n);Gs({lineWise:!0,text:t.text}),"cut"==e.type&&n.operation((function(){n.setSelections(t.ranges,0,$),n.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var r=Zs.text.join("\n");if(e.clipboardData.setData("Text",r),e.clipboardData.getData("Text")==r)return void e.preventDefault()}var s=Qs(),a=s.firstChild;Js(a),n.display.lineSpace.insertBefore(s,n.display.lineSpace.firstChild),a.value=Zs.text.join("\n");var c=M(F(o));O(a),setTimeout((function(){n.display.lineSpace.removeChild(s),c.focus(),c==o&&i.showPrimarySelection()}),50)}}o.contentEditable=!0,Js(o,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize),ye(o,"paste",(function(e){!l(e)||xe(n,e)||Ks(e,n)||s<=11&&setTimeout(Do(n,(function(){return t.updateFromDOM()})),20)})),ye(o,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),ye(o,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),ye(o,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),ye(o,"touchstart",(function(){return i.forceCompositionEnd()})),ye(o,"input",(function(){t.composing||t.readFromDOMSoon()})),ye(o,"copy",r),ye(o,"cut",r)},na.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},na.prototype.prepareSelection=function(){var e=Kn(this.cm,!1);return e.focus=M(F(this.div))==this.div,e},na.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},na.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},na.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,n=t.doc.sel.primary(),o=n.from(),l=n.to();if(t.display.viewTo==t.display.viewFrom||o.line>=t.display.viewTo||l.line<t.display.viewFrom)e.removeAllRanges();else{var r=aa(t,e.anchorNode,e.anchorOffset),s=aa(t,e.focusNode,e.focusOffset);if(!r||r.bad||!s||s.bad||0!=dt(gt(r,s),o)||0!=dt(ft(r,s),l)){var a=t.display.view,c=o.line>=t.display.viewFrom&&oa(t,o)||{node:a[0].measure.map[2],offset:0},u=l.line<t.display.viewTo&&oa(t,l);if(!u){var d=a[a.length-1].measure,h=d.maps?d.maps[d.maps.length-1]:d.map;u={node:h[h.length-1],offset:h[h.length-2]-h[h.length-3]}}if(c&&u){var p,f=e.rangeCount&&e.getRangeAt(0);try{p=L(c.node,c.offset,u.offset,u.node)}catch(e){}p&&(!i&&t.state.focused?(e.collapse(c.node,c.offset),p.collapsed||(e.removeAllRanges(),e.addRange(p))):(e.removeAllRanges(),e.addRange(p)),f&&null==e.anchorNode?e.addRange(f):i&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},na.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},na.prototype.showMultipleSelections=function(e){N(this.cm.display.cursorDiv,e.cursors),N(this.cm.display.selectionDiv,e.selection)},na.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},na.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return B(this.div,t)},na.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&M(F(this.div))==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},na.prototype.blur=function(){this.div.blur()},na.prototype.getField=function(){return this.div},na.prototype.supportsTouch=function(){return!0},na.prototype.receivedFocus=function(){var e=this,t=this;function i(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,i))}this.selectionInEditor()?setTimeout((function(){return e.pollSelection()}),20):Ho(this.cm,(function(){return t.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,i)},na.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},na.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(v&&u&&this.cm.display.gutterSpecs.length&&la(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var i=aa(t,e.anchorNode,e.anchorOffset),n=aa(t,e.focusNode,e.focusOffset);i&&n&&Ho(t,(function(){Gl(t.doc,pl(i,n),$),(i.bad||n.bad)&&(t.curOp.selectionChanged=!0)}))}}},na.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,i,n=this.cm,o=n.display,l=n.doc.sel.primary(),r=l.from(),s=l.to();if(0==r.ch&&r.line>n.firstLine()&&(r=ut(r.line-1,it(n.doc,r.line-1).length)),s.ch==it(n.doc,s.line).text.length&&s.line<n.lastLine()&&(s=ut(s.line+1,0)),r.line<o.viewFrom||s.line>o.viewTo-1)return!1;r.line==o.viewFrom||0==(e=Vn(n,r.line))?(t=rt(o.view[0].line),i=o.view[0].node):(t=rt(o.view[e].line),i=o.view[e-1].node.nextSibling);var a,c,u=Vn(n,s.line);if(u==o.view.length-1?(a=o.viewTo-1,c=o.lineDiv.lastChild):(a=rt(o.view[u+1].line)-1,c=o.view[u+1].node.previousSibling),!i)return!1;for(var d=n.doc.splitLines(sa(n,i,c,t,a)),h=nt(n.doc,ut(t,0),ut(a,it(n.doc,a).text.length));d.length>1&&h.length>1;)if(ee(d)==ee(h))d.pop(),h.pop(),a--;else{if(d[0]!=h[0])break;d.shift(),h.shift(),t++}for(var p=0,f=0,g=d[0],m=h[0],v=Math.min(g.length,m.length);p<v&&g.charCodeAt(p)==m.charCodeAt(p);)++p;for(var b=ee(d),y=ee(h),w=Math.min(b.length-(1==d.length?p:0),y.length-(1==h.length?p:0));f<w&&b.charCodeAt(b.length-f-1)==y.charCodeAt(y.length-f-1);)++f;if(1==d.length&&1==h.length&&t==r.line)for(;p&&p>r.ch&&b.charCodeAt(b.length-f-1)==y.charCodeAt(y.length-f-1);)p--,f++;d[d.length-1]=b.slice(0,b.length-f).replace(/^\u200b+/,""),d[0]=d[0].slice(p).replace(/\u200b+$/,"");var _=ut(t,p),C=ut(a,h.length?ee(h).length-f:0);return d.length>1||d[0]||dt(_,C)?(cr(n.doc,d,_,C,"+input"),!0):void 0},na.prototype.ensurePolled=function(){this.forceCompositionEnd()},na.prototype.reset=function(){this.forceCompositionEnd()},na.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},na.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},na.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Ho(this.cm,(function(){return Un(e.cm)}))},na.prototype.setUneditable=function(e){e.contentEditable="false"},na.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Do(this.cm,$s)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},na.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},na.prototype.onContextMenu=function(){},na.prototype.resetPosition=function(){},na.prototype.needsContentAttribute=!0;var ua=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new j,this.hasSelection=!1,this.composing=null,this.resetting=!1};function da(e,t){if((t=t?U(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var i=M(F(e));t.autofocus=i==e||null!=e.getAttribute("autofocus")&&i==document.body}function n(){e.value=s.getValue()}var o;if(e.form&&(ye(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var l=e.form;o=l.submit;try{var r=l.submit=function(){n(),l.submit=o,l.submit(),l.submit=r}}catch(e){}}t.finishInit=function(i){i.save=n,i.getTextArea=function(){return e},i.toTextArea=function(){i.toTextArea=isNaN,n(),e.parentNode.removeChild(i.getWrapperElement()),e.style.display="",e.form&&(_e(e.form,"submit",n),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=o))}},e.style.display="none";var s=Us((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return s}function ha(e){e.off=_e,e.on=ye,e.wheelEventPixels=al,e.Doc=Tr,e.splitLines=Fe,e.countColumn=W,e.findColumn=X,e.isWordChar=re,e.Pass=G,e.signal=Ce,e.Line=pi,e.changeEnd=fl,e.scrollbarModel=Lo,e.Pos=ut,e.cmpPos=dt,e.modes=je,e.mimeModes=qe,e.resolveMode=$e,e.getMode=Ke,e.modeExtensions=Ye,e.extendMode=Xe,e.copyState=Je,e.startState=et,e.innerMode=Qe,e.commands=is,e.keyMap=Wr,e.keyName=Kr,e.isModifierKey=Gr,e.lookupKey=Zr,e.normalizeKeyMap=qr,e.StringStream=tt,e.SharedTextMarker=Cr,e.TextMarker=wr,e.LineWidget=mr,e.e_preventDefault=Ee,e.e_stopPropagation=Te,e.e_stop=ze,e.addClass=R,e.contains=B,e.rmClass=E,e.keyNames=Fr}ua.prototype.init=function(e){var t=this,i=this,n=this.cm;this.createField(e);var o=this.textarea;function l(e){if(!xe(n,e)){if(n.somethingSelected())Gs({lineWise:!1,text:n.getSelections()});else{if(!n.options.lineWiseCopyCut)return;var t=Xs(n);Gs({lineWise:!0,text:t.text}),"cut"==e.type?n.setSelections(t.ranges,null,$):(i.prevInput="",o.value=t.text.join("\n"),O(o))}"cut"==e.type&&(n.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),m&&(o.style.width="0px"),ye(o,"input",(function(){r&&s>=9&&t.hasSelection&&(t.hasSelection=null),i.poll()})),ye(o,"paste",(function(e){xe(n,e)||Ks(e,n)||(n.state.pasteIncoming=+new Date,i.fastPoll())})),ye(o,"cut",l),ye(o,"copy",l),ye(e.scroller,"paste",(function(t){if(!$i(e,t)&&!xe(n,t)){if(!o.dispatchEvent)return n.state.pasteIncoming=+new Date,void i.focus();var l=new Event("paste");l.clipboardData=t.clipboardData,o.dispatchEvent(l)}})),ye(e.lineSpace,"selectstart",(function(t){$i(e,t)||Ee(t)})),ye(o,"compositionstart",(function(){var e=n.getCursor("from");i.composing&&i.composing.range.clear(),i.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}})),ye(o,"compositionend",(function(){i.composing&&(i.poll(),i.composing.range.clear(),i.composing=null)}))},ua.prototype.createField=function(e){this.wrapper=Qs(),this.textarea=this.wrapper.firstChild;var t=this.cm.options;Js(this.textarea,t.spellcheck,t.autocorrect,t.autocapitalize)},ua.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},ua.prototype.prepareSelection=function(){var e=this.cm,t=e.display,i=e.doc,n=Kn(e);if(e.options.moveInputWithCursor){var o=kn(e,i.sel.primary().head,"div"),l=t.wrapper.getBoundingClientRect(),r=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,o.top+r.top-l.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,o.left+r.left-l.left))}return n},ua.prototype.showSelection=function(e){var t=this.cm.display;N(t.cursorDiv,e.cursors),N(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},ua.prototype.reset=function(e){if(!(this.contextMenuPending||this.composing&&e)){var t=this.cm;if(this.resetting=!0,t.somethingSelected()){this.prevInput="";var i=t.getSelection();this.textarea.value=i,t.state.focused&&O(this.textarea),r&&s>=9&&(this.hasSelection=i)}else e||(this.prevInput=this.textarea.value="",r&&s>=9&&(this.hasSelection=null));this.resetting=!1}},ua.prototype.getField=function(){return this.textarea},ua.prototype.supportsTouch=function(){return!1},ua.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!b||M(F(this.textarea))!=this.textarea))try{this.textarea.focus()}catch(e){}},ua.prototype.blur=function(){this.textarea.blur()},ua.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},ua.prototype.receivedFocus=function(){this.slowPoll()},ua.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},ua.prototype.fastPoll=function(){var e=!1,t=this;function i(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,i))}t.pollingFast=!0,t.polling.set(20,i)},ua.prototype.poll=function(){var e=this,t=this.cm,i=this.textarea,n=this.prevInput;if(this.contextMenuPending||this.resetting||!t.state.focused||Pe(i)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var o=i.value;if(o==n&&!t.somethingSelected())return!1;if(r&&s>=9&&this.hasSelection===o||y&&/[\uf700-\uf7ff]/.test(o))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var l=o.charCodeAt(0);if(8203!=l||n||(n="​"),8666==l)return this.reset(),this.cm.execCommand("undo")}for(var a=0,c=Math.min(n.length,o.length);a<c&&n.charCodeAt(a)==o.charCodeAt(a);)++a;return Ho(t,(function(){$s(t,o.slice(a),n.length-a,null,e.composing?"*compose":null),o.length>1e3||o.indexOf("\n")>-1?i.value=e.prevInput="":e.prevInput=o,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},ua.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},ua.prototype.onKeyPress=function(){r&&s>=9&&(this.hasSelection=null),this.fastPoll()},ua.prototype.onContextMenu=function(e){var t=this,i=t.cm,n=i.display,o=t.textarea;t.contextMenuPending&&t.contextMenuPending();var l=Pn(i,e),c=n.scroller.scrollTop;if(l&&!h){i.options.resetSelectionOnContextMenu&&-1==i.doc.sel.contains(l)&&Do(i,Gl)(i.doc,pl(l),$);var u,d=o.style.cssText,p=t.wrapper.style.cssText,f=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",o.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-f.top-5)+"px; left: "+(e.clientX-f.left-5)+"px;\n      z-index: 1000; background: "+(r?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",a&&(u=o.ownerDocument.defaultView.scrollY),n.input.focus(),a&&o.ownerDocument.defaultView.scrollTo(null,u),n.input.reset(),i.somethingSelected()||(o.value=t.prevInput=" "),t.contextMenuPending=v,n.selForContextMenu=i.doc.sel,clearTimeout(n.detectingSelectAll),r&&s>=9&&m(),k){ze(e);var g=function(){_e(window,"mouseup",g),setTimeout(v,20)};ye(window,"mouseup",g)}else setTimeout(v,50)}function m(){if(null!=o.selectionStart){var e=i.somethingSelected(),l="​"+(e?o.value:"");o.value="⇚",o.value=l,t.prevInput=e?"":"​",o.selectionStart=1,o.selectionEnd=l.length,n.selForContextMenu=i.doc.sel}}function v(){if(t.contextMenuPending==v&&(t.contextMenuPending=!1,t.wrapper.style.cssText=p,o.style.cssText=d,r&&s<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=c),null!=o.selectionStart)){(!r||r&&s<9)&&m();var e=0,l=function(){n.selForContextMenu==i.doc.sel&&0==o.selectionStart&&o.selectionEnd>0&&"​"==t.prevInput?Do(i,tr)(i):e++<10?n.detectingSelectAll=setTimeout(l,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(l,200)}}},ua.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},ua.prototype.setUneditable=function(){},ua.prototype.needsContentAttribute=!1,Fs(Us),ea(Us);var pa="iter insert remove copy getEditor constructor".split(" ");for(var fa in Tr.prototype)Tr.prototype.hasOwnProperty(fa)&&q(pa,fa)<0&&(Us.prototype[fa]=function(e){return function(){return e.apply(this.doc,arguments)}}(Tr.prototype[fa]));return Le(Tr),Us.inputStyles={textarea:ua,contenteditable:na},Us.defineMode=function(e){Us.defaults.mode||"null"==e||(Us.defaults.mode=e),Ze.apply(this,arguments)},Us.defineMIME=Ge,Us.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),Us.defineMIME("text/plain","null"),Us.defineExtension=function(e,t){Us.prototype[e]=t},Us.defineDocExtension=function(e,t){Tr.prototype[e]=t},Us.fromTextArea=da,ha(Us),Us.version="5.65.17",Us}()},2413:(e,t,i)=>{!function(e){"use strict";function t(e){for(var t={},i=0;i<e.length;++i)t[e[i].toLowerCase()]=!0;return t}e.defineMode("css",(function(t,i){var n=i.inline;i.propertyKeywords||(i=e.resolveMode("text/css"));var o,l,r=t.indentUnit,s=i.tokenHooks,a=i.documentTypes||{},c=i.mediaTypes||{},u=i.mediaFeatures||{},d=i.mediaValueKeywords||{},h=i.propertyKeywords||{},p=i.nonStandardPropertyKeywords||{},f=i.fontProperties||{},g=i.counterDescriptors||{},m=i.colorKeywords||{},v=i.valueKeywords||{},b=i.allowNested,y=i.lineComment,w=!0===i.supportsAtComponent,_=!1!==t.highlightNonStandardPropertyKeywords;function C(e,t){return o=t,e}function x(e,t){var i=e.next();if(s[i]){var n=s[i](e,t);if(!1!==n)return n}return"@"==i?(e.eatWhile(/[\w\\\-]/),C("def",e.current())):"="==i||("~"==i||"|"==i)&&e.eat("=")?C(null,"compare"):'"'==i||"'"==i?(t.tokenize=k(i),t.tokenize(e,t)):"#"==i?(e.eatWhile(/[\w\\\-]/),C("atom","hash")):"!"==i?(e.match(/^\s*\w*/),C("keyword","important")):/\d/.test(i)||"."==i&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),C("number","unit")):"-"!==i?/[,+>*\/]/.test(i)?C(null,"select-op"):"."==i&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?C("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(i)?C(null,i):e.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(e.current())&&(t.tokenize=S),C("variable callee","variable")):/[\w\\\-]/.test(i)?(e.eatWhile(/[\w\\\-]/),C("property","word")):C(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),C("number","unit")):e.match(/^-[\w\\\-]*/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?C("variable-2","variable-definition"):C("variable-2","variable")):e.match(/^\w+-/)?C("meta","meta"):void 0}function k(e){return function(t,i){for(var n,o=!1;null!=(n=t.next());){if(n==e&&!o){")"==e&&t.backUp(1);break}o=!o&&"\\"==n}return(n==e||!o&&")"!=e)&&(i.tokenize=null),C("string","string")}}function S(e,t){return e.next(),e.match(/^\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=k(")"),C(null,"(")}function L(e,t,i){this.type=e,this.indent=t,this.prev=i}function E(e,t,i,n){return e.context=new L(i,t.indentation()+(!1===n?0:r),e.context),i}function T(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function N(e,t,i){return B[i.context.type](e,t,i)}function z(e,t,i,n){for(var o=n||1;o>0;o--)i.context=i.context.prev;return N(e,t,i)}function A(e){var t=e.current().toLowerCase();l=v.hasOwnProperty(t)?"atom":m.hasOwnProperty(t)?"keyword":"variable"}var B={top:function(e,t,i){if("{"==e)return E(i,t,"block");if("}"==e&&i.context.prev)return T(i);if(w&&/@component/i.test(e))return E(i,t,"atComponentBlock");if(/^@(-moz-)?document$/i.test(e))return E(i,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(e))return E(i,t,"atBlock");if(/^@(font-face|counter-style)/i.test(e))return i.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return E(i,t,"at");if("hash"==e)l="builtin";else if("word"==e)l="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return E(i,t,"interpolation");if(":"==e)return"pseudo";if(b&&"("==e)return E(i,t,"parens")}return i.context.type},block:function(e,t,i){if("word"==e){var n=t.current().toLowerCase();return h.hasOwnProperty(n)?(l="property","maybeprop"):p.hasOwnProperty(n)?(l=_?"string-2":"property","maybeprop"):b?(l=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(l+=" error","maybeprop")}return"meta"==e?"block":b||"hash"!=e&&"qualifier"!=e?B.top(e,t,i):(l="error","block")},maybeprop:function(e,t,i){return":"==e?E(i,t,"prop"):N(e,t,i)},prop:function(e,t,i){if(";"==e)return T(i);if("{"==e&&b)return E(i,t,"propBlock");if("}"==e||"{"==e)return z(e,t,i);if("("==e)return E(i,t,"parens");if("hash"!=e||/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(t.current())){if("word"==e)A(t);else if("interpolation"==e)return E(i,t,"interpolation")}else l+=" error";return"prop"},propBlock:function(e,t,i){return"}"==e?T(i):"word"==e?(l="property","maybeprop"):i.context.type},parens:function(e,t,i){return"{"==e||"}"==e?z(e,t,i):")"==e?T(i):"("==e?E(i,t,"parens"):"interpolation"==e?E(i,t,"interpolation"):("word"==e&&A(t),"parens")},pseudo:function(e,t,i){return"meta"==e?"pseudo":"word"==e?(l="variable-3",i.context.type):N(e,t,i)},documentTypes:function(e,t,i){return"word"==e&&a.hasOwnProperty(t.current())?(l="tag",i.context.type):B.atBlock(e,t,i)},atBlock:function(e,t,i){if("("==e)return E(i,t,"atBlock_parens");if("}"==e||";"==e)return z(e,t,i);if("{"==e)return T(i)&&E(i,t,b?"block":"top");if("interpolation"==e)return E(i,t,"interpolation");if("word"==e){var n=t.current().toLowerCase();l="only"==n||"not"==n||"and"==n||"or"==n?"keyword":c.hasOwnProperty(n)?"attribute":u.hasOwnProperty(n)?"property":d.hasOwnProperty(n)?"keyword":h.hasOwnProperty(n)?"property":p.hasOwnProperty(n)?_?"string-2":"property":v.hasOwnProperty(n)?"atom":m.hasOwnProperty(n)?"keyword":"error"}return i.context.type},atComponentBlock:function(e,t,i){return"}"==e?z(e,t,i):"{"==e?T(i)&&E(i,t,b?"block":"top",!1):("word"==e&&(l="error"),i.context.type)},atBlock_parens:function(e,t,i){return")"==e?T(i):"{"==e||"}"==e?z(e,t,i,2):B.atBlock(e,t,i)},restricted_atBlock_before:function(e,t,i){return"{"==e?E(i,t,"restricted_atBlock"):"word"==e&&"@counter-style"==i.stateArg?(l="variable","restricted_atBlock_before"):N(e,t,i)},restricted_atBlock:function(e,t,i){return"}"==e?(i.stateArg=null,T(i)):"word"==e?(l="@font-face"==i.stateArg&&!f.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==i.stateArg&&!g.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(e,t,i){return"word"==e?(l="variable","keyframes"):"{"==e?E(i,t,"top"):N(e,t,i)},at:function(e,t,i){return";"==e?T(i):"{"==e||"}"==e?z(e,t,i):("word"==e?l="tag":"hash"==e&&(l="builtin"),"at")},interpolation:function(e,t,i){return"}"==e?T(i):"{"==e||";"==e?z(e,t,i):("word"==e?l="variable":"variable"!=e&&"("!=e&&")"!=e&&(l="error"),"interpolation")}};return{startState:function(e){return{tokenize:null,state:n?"block":"top",stateArg:null,context:new L(n?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var i=(t.tokenize||x)(e,t);return i&&"object"==typeof i&&(o=i[1],i=i[0]),l=i,"comment"!=o&&(t.state=B[t.state](o,e,t)),l},indent:function(e,t){var i=e.context,n=t&&t.charAt(0),o=i.indent;return"prop"!=i.type||"}"!=n&&")"!=n||(i=i.prev),i.prev&&("}"!=n||"block"!=i.type&&"top"!=i.type&&"interpolation"!=i.type&&"restricted_atBlock"!=i.type?(")"!=n||"parens"!=i.type&&"atBlock_parens"!=i.type)&&("{"!=n||"at"!=i.type&&"atBlock"!=i.type)||(o=Math.max(0,i.indent-r)):o=(i=i.prev).indent),o},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:y,fold:"brace"}}));var i=["domain","regexp","url","url-prefix"],n=t(i),o=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],l=t(o),r=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],s=t(r),a=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],c=t(a),u=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],d=t(u),h=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],p=t(h),f=t(["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),g=t(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),m=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],v=t(m),b=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],y=t(b),w=i.concat(o).concat(r).concat(a).concat(u).concat(h).concat(m).concat(b);function _(e,t){for(var i,n=!1;null!=(i=e.next());){if(n&&"/"==i){t.tokenize=null;break}n="*"==i}return["comment","comment"]}e.registerHelper("hintWords","css",w),e.defineMIME("text/css",{documentTypes:n,mediaTypes:l,mediaFeatures:s,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:p,fontProperties:f,counterDescriptors:g,colorKeywords:v,valueKeywords:y,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=_,_(e,t))}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:l,mediaFeatures:s,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:p,colorKeywords:v,valueKeywords:y,fontProperties:f,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=_,_(e,t)):["operator","operator"]},":":function(e){return!!e.match(/^\s*\{/,!1)&&[null,null]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:l,mediaFeatures:s,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:p,colorKeywords:v,valueKeywords:y,fontProperties:f,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=_,_(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:n,mediaTypes:l,mediaFeatures:s,propertyKeywords:d,nonStandardPropertyKeywords:p,fontProperties:f,counterDescriptors:g,colorKeywords:v,valueKeywords:y,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=_,_(e,t))}},name:"css",helperType:"gss"})}(i(216))},9949:(e,t,i)=>{!function(e){"use strict";var t={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function i(e,t,i){var n=e.current(),o=n.search(t);return o>-1?e.backUp(n.length-o):n.match(/<\/?$/)&&(e.backUp(n.length),e.match(t,!1)||e.match(n)),i}var n={};function o(e){var t=n[e];return t||(n[e]=new RegExp("\\s+"+e+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*"))}function l(e,t){var i=e.match(o(t));return i?/^\s*(.*?)\s*$/.exec(i[2])[1]:""}function r(e,t){return new RegExp((t?"^":"")+"</\\s*"+e+"\\s*>","i")}function s(e,t){for(var i in e)for(var n=t[i]||(t[i]=[]),o=e[i],l=o.length-1;l>=0;l--)n.unshift(o[l])}function a(e,t){for(var i=0;i<e.length;i++){var n=e[i];if(!n[0]||n[1].test(l(t,n[0])))return n[2]}}e.defineMode("htmlmixed",(function(n,o){var l=e.getMode(n,{name:"xml",htmlMode:!0,multilineTagIndentFactor:o.multilineTagIndentFactor,multilineTagIndentPastTag:o.multilineTagIndentPastTag,allowMissingTagName:o.allowMissingTagName}),c={},u=o&&o.tags,d=o&&o.scriptTypes;if(s(t,c),u&&s(u,c),d)for(var h=d.length-1;h>=0;h--)c.script.unshift(["type",d[h].matches,d[h].mode]);function p(t,o){var s,u=l.token(t,o.htmlState),d=/\btag\b/.test(u);if(d&&!/[<>\s\/]/.test(t.current())&&(s=o.htmlState.tagName&&o.htmlState.tagName.toLowerCase())&&c.hasOwnProperty(s))o.inTag=s+" ";else if(o.inTag&&d&&/>$/.test(t.current())){var h=/^([\S]+) (.*)/.exec(o.inTag);o.inTag=null;var f=">"==t.current()&&a(c[h[1]],h[2]),g=e.getMode(n,f),m=r(h[1],!0),v=r(h[1],!1);o.token=function(e,t){return e.match(m,!1)?(t.token=p,t.localState=t.localMode=null,null):i(e,v,t.localMode.token(e,t.localState))},o.localMode=g,o.localState=e.startState(g,l.indent(o.htmlState,"",""))}else o.inTag&&(o.inTag+=t.current(),t.eol()&&(o.inTag+=" "));return u}return{startState:function(){return{token:p,inTag:null,localMode:null,localState:null,htmlState:e.startState(l)}},copyState:function(t){var i;return t.localState&&(i=e.copyState(t.localMode,t.localState)),{token:t.token,inTag:t.inTag,localMode:t.localMode,localState:i,htmlState:e.copyState(l,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,i,n){return!t.localMode||/^\s*<\//.test(i)?l.indent(t.htmlState,i,n):t.localMode.indent?t.localMode.indent(t.localState,i,n):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||l}}}}),"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")}(i(216),i(9525),i(7149),i(2413))},7149:(e,t,i)=>{!function(e){"use strict";e.defineMode("javascript",(function(t,i){var n,o,l=t.indentUnit,r=i.statementIndent,s=i.jsonld,a=i.json||s,c=!1!==i.trackScope,u=i.typescript,d=i.wordCharacters||/[\w$\xa1-\uffff]/,h=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),i=e("keyword b"),n=e("keyword c"),o=e("keyword d"),l=e("operator"),r={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:i,do:i,try:i,finally:i,return:o,break:o,continue:o,new:e("new"),delete:n,void:n,throw:n,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:l,typeof:l,instanceof:l,true:r,false:r,null:r,undefined:r,NaN:r,Infinity:r,this:e("this"),class:e("class"),super:e("atom"),yield:n,export:e("export"),import:e("import"),extends:n,await:n}}(),p=/[+\-*&%=<>!?|~^@]/,f=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function g(e){for(var t,i=!1,n=!1;null!=(t=e.next());){if(!i){if("/"==t&&!n)return;"["==t?n=!0:n&&"]"==t&&(n=!1)}i=!i&&"\\"==t}}function m(e,t,i){return n=e,o=i,t}function v(e,t){var i=e.next();if('"'==i||"'"==i)return t.tokenize=b(i),t.tokenize(e,t);if("."==i&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return m("number","number");if("."==i&&e.match(".."))return m("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(i))return m(i);if("="==i&&e.eat(">"))return m("=>","operator");if("0"==i&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return m("number","number");if(/\d/.test(i))return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),m("number","number");if("/"==i)return e.eat("*")?(t.tokenize=y,y(e,t)):e.eat("/")?(e.skipToEnd(),m("comment","comment")):ot(e,t,1)?(g(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),m("regexp","string-2")):(e.eat("="),m("operator","operator",e.current()));if("`"==i)return t.tokenize=w,w(e,t);if("#"==i&&"!"==e.peek())return e.skipToEnd(),m("meta","meta");if("#"==i&&e.eatWhile(d))return m("variable","property");if("<"==i&&e.match("!--")||"-"==i&&e.match("->")&&!/\S/.test(e.string.slice(0,e.start)))return e.skipToEnd(),m("comment","comment");if(p.test(i))return">"==i&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=i&&"="!=i||e.eat("="):/[<>*+\-|&?]/.test(i)&&(e.eat(i),">"==i&&e.eat(i))),"?"==i&&e.eat(".")?m("."):m("operator","operator",e.current());if(d.test(i)){e.eatWhile(d);var n=e.current();if("."!=t.lastType){if(h.propertyIsEnumerable(n)){var o=h[n];return m(o.type,o.style,n)}if("async"==n&&e.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return m("async","keyword",n)}return m("variable","variable",n)}}function b(e){return function(t,i){var n,o=!1;if(s&&"@"==t.peek()&&t.match(f))return i.tokenize=v,m("jsonld-keyword","meta");for(;null!=(n=t.next())&&(n!=e||o);)o=!o&&"\\"==n;return o||(i.tokenize=v),m("string","string")}}function y(e,t){for(var i,n=!1;i=e.next();){if("/"==i&&n){t.tokenize=v;break}n="*"==i}return m("comment","comment")}function w(e,t){for(var i,n=!1;null!=(i=e.next());){if(!n&&("`"==i||"$"==i&&e.eat("{"))){t.tokenize=v;break}n=!n&&"\\"==i}return m("quasi","string-2",e.current())}var _="([{}])";function C(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var i=e.string.indexOf("=>",e.start);if(!(i<0)){if(u){var n=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,i));n&&(i=n.index)}for(var o=0,l=!1,r=i-1;r>=0;--r){var s=e.string.charAt(r),a=_.indexOf(s);if(a>=0&&a<3){if(!o){++r;break}if(0==--o){"("==s&&(l=!0);break}}else if(a>=3&&a<6)++o;else if(d.test(s))l=!0;else if(/["'\/`]/.test(s))for(;;--r){if(0==r)return;if(e.string.charAt(r-1)==s&&"\\"!=e.string.charAt(r-2)){r--;break}}else if(l&&!o){++r;break}}l&&!o&&(t.fatArrowAt=r)}}var x={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function k(e,t,i,n,o,l){this.indented=e,this.column=t,this.type=i,this.prev=o,this.info=l,null!=n&&(this.align=n)}function S(e,t){if(!c)return!1;for(var i=e.localVars;i;i=i.next)if(i.name==t)return!0;for(var n=e.context;n;n=n.prev)for(i=n.vars;i;i=i.next)if(i.name==t)return!0}function L(e,t,i,n,o){var l=e.cc;for(E.state=e,E.stream=o,E.marked=null,E.cc=l,E.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((l.length?l.pop():a?q:W)(i,n)){for(;l.length&&l[l.length-1].lex;)l.pop()();return E.marked?E.marked:"variable"==i&&S(e,n)?"variable-2":t}}var E={state:null,column:null,marked:null,cc:null};function T(){for(var e=arguments.length-1;e>=0;e--)E.cc.push(arguments[e])}function N(){return T.apply(null,arguments),!0}function z(e,t){for(var i=t;i;i=i.next)if(i.name==e)return!0;return!1}function A(e){var t=E.state;if(E.marked="def",c){if(t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var n=B(e,t.context);if(null!=n)return void(t.context=n)}else if(!z(e,t.localVars))return void(t.localVars=new I(e,t.localVars));i.globalVars&&!z(e,t.globalVars)&&(t.globalVars=new I(e,t.globalVars))}}function B(e,t){if(t){if(t.block){var i=B(e,t.prev);return i?i==t.prev?t:new R(i,t.vars,!0):null}return z(e,t.vars)?t:new R(t.prev,new I(e,t.vars),!1)}return null}function M(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function R(e,t,i){this.prev=e,this.vars=t,this.block=i}function I(e,t){this.name=e,this.next=t}var O=new I("this",new I("arguments",null));function H(){E.state.context=new R(E.state.context,E.state.localVars,!1),E.state.localVars=O}function D(){E.state.context=new R(E.state.context,E.state.localVars,!0),E.state.localVars=null}function F(){E.state.localVars=E.state.context.vars,E.state.context=E.state.context.prev}function P(e,t){var i=function(){var i=E.state,n=i.indented;if("stat"==i.lexical.type)n=i.lexical.indented;else for(var o=i.lexical;o&&")"==o.type&&o.align;o=o.prev)n=o.indented;i.lexical=new k(n,E.stream.column(),e,null,i.lexical,t)};return i.lex=!0,i}function V(){var e=E.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function U(e){function t(i){return i==e?N():";"==e||"}"==i||")"==i||"]"==i?T():N(t)}return t}function W(e,t){return"var"==e?N(P("vardef",t),Te,U(";"),V):"keyword a"==e?N(P("form"),G,W,V):"keyword b"==e?N(P("form"),W,V):"keyword d"==e?E.stream.match(/^\s*$/,!1)?N():N(P("stat"),K,U(";"),V):"debugger"==e?N(U(";")):"{"==e?N(P("}"),D,he,V,F):";"==e?N():"if"==e?("else"==E.state.lexical.info&&E.state.cc[E.state.cc.length-1]==V&&E.state.cc.pop()(),N(P("form"),G,W,V,Re)):"function"==e?N(De):"for"==e?N(P("form"),D,Ie,W,F,V):"class"==e||u&&"interface"==t?(E.marked="keyword",N(P("form","class"==e?e:t),We,V)):"variable"==e?u&&"declare"==t?(E.marked="keyword",N(W)):u&&("module"==t||"enum"==t||"type"==t)&&E.stream.match(/^\s*\w/,!1)?(E.marked="keyword","enum"==t?N(tt):"type"==t?N(Pe,U("operator"),ve,U(";")):N(P("form"),Ne,U("{"),P("}"),he,V,V)):u&&"namespace"==t?(E.marked="keyword",N(P("form"),q,W,V)):u&&"abstract"==t?(E.marked="keyword",N(W)):N(P("stat"),le):"switch"==e?N(P("form"),G,U("{"),P("}","switch"),D,he,V,V,F):"case"==e?N(q,U(":")):"default"==e?N(U(":")):"catch"==e?N(P("form"),H,j,W,V,F):"export"==e?N(P("stat"),Ge,V):"import"==e?N(P("stat"),Ke,V):"async"==e?N(W):"@"==t?N(q,W):T(P("stat"),q,U(";"),V)}function j(e){if("("==e)return N(Ve,U(")"))}function q(e,t){return $(e,t,!1)}function Z(e,t){return $(e,t,!0)}function G(e){return"("!=e?T():N(P(")"),K,U(")"),V)}function $(e,t,i){if(E.state.fatArrowAt==E.stream.start){var n=i?te:ee;if("("==e)return N(H,P(")"),ue(Ve,")"),V,U("=>"),n,F);if("variable"==e)return T(H,Ne,U("=>"),n,F)}var o=i?X:Y;return x.hasOwnProperty(e)?N(o):"function"==e?N(De,o):"class"==e||u&&"interface"==t?(E.marked="keyword",N(P("form"),Ue,V)):"keyword c"==e||"async"==e?N(i?Z:q):"("==e?N(P(")"),K,U(")"),V,o):"operator"==e||"spread"==e?N(i?Z:q):"["==e?N(P("]"),et,V,o):"{"==e?de(se,"}",null,o):"quasi"==e?T(J,o):"new"==e?N(ie(i)):N()}function K(e){return e.match(/[;\}\)\],]/)?T():T(q)}function Y(e,t){return","==e?N(K):X(e,t,!1)}function X(e,t,i){var n=0==i?Y:X,o=0==i?q:Z;return"=>"==e?N(H,i?te:ee,F):"operator"==e?/\+\+|--/.test(t)||u&&"!"==t?N(n):u&&"<"==t&&E.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?N(P(">"),ue(ve,">"),V,n):"?"==t?N(q,U(":"),o):N(o):"quasi"==e?T(J,n):";"!=e?"("==e?de(Z,")","call",n):"."==e?N(re,n):"["==e?N(P("]"),K,U("]"),V,n):u&&"as"==t?(E.marked="keyword",N(ve,n)):"regexp"==e?(E.state.lastType=E.marked="operator",E.stream.backUp(E.stream.pos-E.stream.start-1),N(o)):void 0:void 0}function J(e,t){return"quasi"!=e?T():"${"!=t.slice(t.length-2)?N(J):N(K,Q)}function Q(e){if("}"==e)return E.marked="string-2",E.state.tokenize=w,N(J)}function ee(e){return C(E.stream,E.state),T("{"==e?W:q)}function te(e){return C(E.stream,E.state),T("{"==e?W:Z)}function ie(e){return function(t){return"."==t?N(e?oe:ne):"variable"==t&&u?N(Se,e?X:Y):T(e?Z:q)}}function ne(e,t){if("target"==t)return E.marked="keyword",N(Y)}function oe(e,t){if("target"==t)return E.marked="keyword",N(X)}function le(e){return":"==e?N(V,W):T(Y,U(";"),V)}function re(e){if("variable"==e)return E.marked="property",N()}function se(e,t){return"async"==e?(E.marked="property",N(se)):"variable"==e||"keyword"==E.style?(E.marked="property","get"==t||"set"==t?N(ae):(u&&E.state.fatArrowAt==E.stream.start&&(i=E.stream.match(/^\s*:\s*/,!1))&&(E.state.fatArrowAt=E.stream.pos+i[0].length),N(ce))):"number"==e||"string"==e?(E.marked=s?"property":E.style+" property",N(ce)):"jsonld-keyword"==e?N(ce):u&&M(t)?(E.marked="keyword",N(se)):"["==e?N(q,pe,U("]"),ce):"spread"==e?N(Z,ce):"*"==t?(E.marked="keyword",N(se)):":"==e?T(ce):void 0;var i}function ae(e){return"variable"!=e?T(ce):(E.marked="property",N(De))}function ce(e){return":"==e?N(Z):"("==e?T(De):void 0}function ue(e,t,i){function n(o,l){if(i?i.indexOf(o)>-1:","==o){var r=E.state.lexical;return"call"==r.info&&(r.pos=(r.pos||0)+1),N((function(i,n){return i==t||n==t?T():T(e)}),n)}return o==t||l==t?N():i&&i.indexOf(";")>-1?T(e):N(U(t))}return function(i,o){return i==t||o==t?N():T(e,n)}}function de(e,t,i){for(var n=3;n<arguments.length;n++)E.cc.push(arguments[n]);return N(P(t,i),ue(e,t),V)}function he(e){return"}"==e?N():T(W,he)}function pe(e,t){if(u){if(":"==e)return N(ve);if("?"==t)return N(pe)}}function fe(e,t){if(u&&(":"==e||"in"==t))return N(ve)}function ge(e){if(u&&":"==e)return E.stream.match(/^\s*\w+\s+is\b/,!1)?N(q,me,ve):N(ve)}function me(e,t){if("is"==t)return E.marked="keyword",N()}function ve(e,t){return"keyof"==t||"typeof"==t||"infer"==t||"readonly"==t?(E.marked="keyword",N("typeof"==t?Z:ve)):"variable"==e||"void"==t?(E.marked="type",N(ke)):"|"==t||"&"==t?N(ve):"string"==e||"number"==e||"atom"==e?N(ke):"["==e?N(P("]"),ue(ve,"]",","),V,ke):"{"==e?N(P("}"),ye,V,ke):"("==e?N(ue(xe,")"),be,ke):"<"==e?N(ue(ve,">"),ve):"quasi"==e?T(_e,ke):void 0}function be(e){if("=>"==e)return N(ve)}function ye(e){return e.match(/[\}\)\]]/)?N():","==e||";"==e?N(ye):T(we,ye)}function we(e,t){return"variable"==e||"keyword"==E.style?(E.marked="property",N(we)):"?"==t||"number"==e||"string"==e?N(we):":"==e?N(ve):"["==e?N(U("variable"),fe,U("]"),we):"("==e?T(Fe,we):e.match(/[;\}\)\],]/)?void 0:N()}function _e(e,t){return"quasi"!=e?T():"${"!=t.slice(t.length-2)?N(_e):N(ve,Ce)}function Ce(e){if("}"==e)return E.marked="string-2",E.state.tokenize=w,N(_e)}function xe(e,t){return"variable"==e&&E.stream.match(/^\s*[?:]/,!1)||"?"==t?N(xe):":"==e?N(ve):"spread"==e?N(xe):T(ve)}function ke(e,t){return"<"==t?N(P(">"),ue(ve,">"),V,ke):"|"==t||"."==e||"&"==t?N(ve):"["==e?N(ve,U("]"),ke):"extends"==t||"implements"==t?(E.marked="keyword",N(ve)):"?"==t?N(ve,U(":"),ve):void 0}function Se(e,t){if("<"==t)return N(P(">"),ue(ve,">"),V,ke)}function Le(){return T(ve,Ee)}function Ee(e,t){if("="==t)return N(ve)}function Te(e,t){return"enum"==t?(E.marked="keyword",N(tt)):T(Ne,pe,Be,Me)}function Ne(e,t){return u&&M(t)?(E.marked="keyword",N(Ne)):"variable"==e?(A(t),N()):"spread"==e?N(Ne):"["==e?de(Ae,"]"):"{"==e?de(ze,"}"):void 0}function ze(e,t){return"variable"!=e||E.stream.match(/^\s*:/,!1)?("variable"==e&&(E.marked="property"),"spread"==e?N(Ne):"}"==e?T():"["==e?N(q,U("]"),U(":"),ze):N(U(":"),Ne,Be)):(A(t),N(Be))}function Ae(){return T(Ne,Be)}function Be(e,t){if("="==t)return N(Z)}function Me(e){if(","==e)return N(Te)}function Re(e,t){if("keyword b"==e&&"else"==t)return N(P("form","else"),W,V)}function Ie(e,t){return"await"==t?N(Ie):"("==e?N(P(")"),Oe,V):void 0}function Oe(e){return"var"==e?N(Te,He):"variable"==e?N(He):T(He)}function He(e,t){return")"==e?N():";"==e?N(He):"in"==t||"of"==t?(E.marked="keyword",N(q,He)):T(q,He)}function De(e,t){return"*"==t?(E.marked="keyword",N(De)):"variable"==e?(A(t),N(De)):"("==e?N(H,P(")"),ue(Ve,")"),V,ge,W,F):u&&"<"==t?N(P(">"),ue(Le,">"),V,De):void 0}function Fe(e,t){return"*"==t?(E.marked="keyword",N(Fe)):"variable"==e?(A(t),N(Fe)):"("==e?N(H,P(")"),ue(Ve,")"),V,ge,F):u&&"<"==t?N(P(">"),ue(Le,">"),V,Fe):void 0}function Pe(e,t){return"keyword"==e||"variable"==e?(E.marked="type",N(Pe)):"<"==t?N(P(">"),ue(Le,">"),V):void 0}function Ve(e,t){return"@"==t&&N(q,Ve),"spread"==e?N(Ve):u&&M(t)?(E.marked="keyword",N(Ve)):u&&"this"==e?N(pe,Be):T(Ne,pe,Be)}function Ue(e,t){return"variable"==e?We(e,t):je(e,t)}function We(e,t){if("variable"==e)return A(t),N(je)}function je(e,t){return"<"==t?N(P(">"),ue(Le,">"),V,je):"extends"==t||"implements"==t||u&&","==e?("implements"==t&&(E.marked="keyword"),N(u?ve:q,je)):"{"==e?N(P("}"),qe,V):void 0}function qe(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||u&&M(t))&&E.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1)?(E.marked="keyword",N(qe)):"variable"==e||"keyword"==E.style?(E.marked="property",N(Ze,qe)):"number"==e||"string"==e?N(Ze,qe):"["==e?N(q,pe,U("]"),Ze,qe):"*"==t?(E.marked="keyword",N(qe)):u&&"("==e?T(Fe,qe):";"==e||","==e?N(qe):"}"==e?N():"@"==t?N(q,qe):void 0}function Ze(e,t){if("!"==t)return N(Ze);if("?"==t)return N(Ze);if(":"==e)return N(ve,Be);if("="==t)return N(Z);var i=E.state.lexical.prev;return T(i&&"interface"==i.info?Fe:De)}function Ge(e,t){return"*"==t?(E.marked="keyword",N(Qe,U(";"))):"default"==t?(E.marked="keyword",N(q,U(";"))):"{"==e?N(ue($e,"}"),Qe,U(";")):T(W)}function $e(e,t){return"as"==t?(E.marked="keyword",N(U("variable"))):"variable"==e?T(Z,$e):void 0}function Ke(e){return"string"==e?N():"("==e?T(q):"."==e?T(Y):T(Ye,Xe,Qe)}function Ye(e,t){return"{"==e?de(Ye,"}"):("variable"==e&&A(t),"*"==t&&(E.marked="keyword"),N(Je))}function Xe(e){if(","==e)return N(Ye,Xe)}function Je(e,t){if("as"==t)return E.marked="keyword",N(Ye)}function Qe(e,t){if("from"==t)return E.marked="keyword",N(q)}function et(e){return"]"==e?N():T(ue(Z,"]"))}function tt(){return T(P("form"),Ne,U("{"),P("}"),ue(it,"}"),V,V)}function it(){return T(Ne,Be)}function nt(e,t){return"operator"==e.lastType||","==e.lastType||p.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}function ot(e,t,i){return t.tokenize==v&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(i||0)))}return H.lex=D.lex=!0,F.lex=!0,V.lex=!0,{startState:function(e){var t={tokenize:v,lastType:"sof",cc:[],lexical:new k((e||0)-l,0,"block",!1),localVars:i.localVars,context:i.localVars&&new R(null,null,!1),indented:e||0};return i.globalVars&&"object"==typeof i.globalVars&&(t.globalVars=i.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),C(e,t)),t.tokenize!=y&&e.eatSpace())return null;var i=t.tokenize(e,t);return"comment"==n?i:(t.lastType="operator"!=n||"++"!=o&&"--"!=o?n:"incdec",L(t,i,n,o,e))},indent:function(t,n){if(t.tokenize==y||t.tokenize==w)return e.Pass;if(t.tokenize!=v)return 0;var o,s=n&&n.charAt(0),a=t.lexical;if(!/^\s*else\b/.test(n))for(var c=t.cc.length-1;c>=0;--c){var u=t.cc[c];if(u==V)a=a.prev;else if(u!=Re&&u!=F)break}for(;("stat"==a.type||"form"==a.type)&&("}"==s||(o=t.cc[t.cc.length-1])&&(o==Y||o==X)&&!/^[,\.=+\-*:?[\(]/.test(n));)a=a.prev;r&&")"==a.type&&"stat"==a.prev.type&&(a=a.prev);var d=a.type,h=s==d;return"vardef"==d?a.indented+("operator"==t.lastType||","==t.lastType?a.info.length+1:0):"form"==d&&"{"==s?a.indented:"form"==d?a.indented+l:"stat"==d?a.indented+(nt(t,n)?r||l:0):"switch"!=a.info||h||0==i.doubleIndentSwitch?a.align?a.column+(h?0:1):a.indented+(h?0:l):a.indented+(/^(?:case|default)\b/.test(n)?l:2*l)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:a?null:"/*",blockCommentEnd:a?null:"*/",blockCommentContinue:a?null:" * ",lineComment:a?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:a?"json":"javascript",jsonldMode:s,jsonMode:a,expressionAllowed:ot,skipExpression:function(t){L(t,"atom","atom","true",new e.StringStream("",2,null))}}})),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/manifest+json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(i(216))},9525:(e,t,i)=>{!function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},i={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};e.defineMode("xml",(function(n,o){var l,r,s=n.indentUnit,a={},c=o.htmlMode?t:i;for(var u in c)a[u]=c[u];for(var u in o)a[u]=o[u];function d(e,t){function i(i){return t.tokenize=i,i(e,t)}var n=e.next();return"<"==n?e.eat("!")?e.eat("[")?e.match("CDATA[")?i(f("atom","]]>")):null:e.match("--")?i(f("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),i(g(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=f("meta","?>"),"meta"):(l=e.eat("/")?"closeTag":"openTag",t.tokenize=h,"tag bracket"):"&"==n?(e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error":(e.eatWhile(/[^&<]/),null)}function h(e,t){var i=e.next();if(">"==i||"/"==i&&e.eat(">"))return t.tokenize=d,l=">"==i?"endTag":"selfcloseTag","tag bracket";if("="==i)return l="equals",null;if("<"==i){t.tokenize=d,t.state=w,t.tagName=t.tagStart=null;var n=t.tokenize(e,t);return n?n+" tag error":"tag error"}return/[\'\"]/.test(i)?(t.tokenize=p(i),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function p(e){var t=function(t,i){for(;!t.eol();)if(t.next()==e){i.tokenize=h;break}return"string"};return t.isInAttribute=!0,t}function f(e,t){return function(i,n){for(;!i.eol();){if(i.match(t)){n.tokenize=d;break}i.next()}return e}}function g(e){return function(t,i){for(var n;null!=(n=t.next());){if("<"==n)return i.tokenize=g(e+1),i.tokenize(t,i);if(">"==n){if(1==e){i.tokenize=d;break}return i.tokenize=g(e-1),i.tokenize(t,i)}}return"meta"}}function m(e){return e&&e.toLowerCase()}function v(e,t,i){this.prev=e.context,this.tagName=t||"",this.indent=e.indented,this.startOfLine=i,(a.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function b(e){e.context&&(e.context=e.context.prev)}function y(e,t){for(var i;;){if(!e.context)return;if(i=e.context.tagName,!a.contextGrabbers.hasOwnProperty(m(i))||!a.contextGrabbers[m(i)].hasOwnProperty(m(t)))return;b(e)}}function w(e,t,i){return"openTag"==e?(i.tagStart=t.column(),_):"closeTag"==e?C:w}function _(e,t,i){return"word"==e?(i.tagName=t.current(),r="tag",S):a.allowMissingTagName&&"endTag"==e?(r="tag bracket",S(e,t,i)):(r="error",_)}function C(e,t,i){if("word"==e){var n=t.current();return i.context&&i.context.tagName!=n&&a.implicitlyClosed.hasOwnProperty(m(i.context.tagName))&&b(i),i.context&&i.context.tagName==n||!1===a.matchClosing?(r="tag",x):(r="tag error",k)}return a.allowMissingTagName&&"endTag"==e?(r="tag bracket",x(e,t,i)):(r="error",k)}function x(e,t,i){return"endTag"!=e?(r="error",x):(b(i),w)}function k(e,t,i){return r="error",x(e,t,i)}function S(e,t,i){if("word"==e)return r="attribute",L;if("endTag"==e||"selfcloseTag"==e){var n=i.tagName,o=i.tagStart;return i.tagName=i.tagStart=null,"selfcloseTag"==e||a.autoSelfClosers.hasOwnProperty(m(n))?y(i,n):(y(i,n),i.context=new v(i,n,o==i.indented)),w}return r="error",S}function L(e,t,i){return"equals"==e?E:(a.allowMissing||(r="error"),S(e,t,i))}function E(e,t,i){return"string"==e?T:"word"==e&&a.allowUnquoted?(r="string",S):(r="error",S(e,t,i))}function T(e,t,i){return"string"==e?T:S(e,t,i)}return d.isInText=!0,{startState:function(e){var t={tokenize:d,state:w,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;l=null;var i=t.tokenize(e,t);return(i||l)&&"comment"!=i&&(r=null,t.state=t.state(l||i,e,t),r&&(i="error"==r?i+" error":r)),i},indent:function(t,i,n){var o=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+s;if(o&&o.noIndent)return e.Pass;if(t.tokenize!=h&&t.tokenize!=d)return n?n.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==a.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+s*(a.multilineTagIndentFactor||1);if(a.alignCDATA&&/<!\[CDATA\[/.test(i))return 0;var l=i&&/^<(\/)?([\w_:\.-]*)/.exec(i);if(l&&l[1])for(;o;){if(o.tagName==l[2]){o=o.prev;break}if(!a.implicitlyClosed.hasOwnProperty(m(o.tagName)))break;o=o.prev}else if(l)for(;o;){var r=a.contextGrabbers[m(o.tagName)];if(!r||!r.hasOwnProperty(m(l[2])))break;o=o.prev}for(;o&&o.prev&&!o.startOfLine;)o=o.prev;return o?o.indent+s:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:a.htmlMode?"html":"xml",helperType:a.htmlMode?"html":"xml",skipAttribute:function(e){e.state==E&&(e.state=S)},xmlCurrentTag:function(e){return e.tagName?{name:e.tagName,close:"closeTag"==e.type}:null},xmlCurrentContext:function(e){for(var t=[],i=e.context;i;i=i.prev)t.push(i.tagName);return t.reverse()}}})),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}(i(216))},9709:function(e){"use strict";var t,i;t="undefined"!=typeof window?window:this,i=function(e,t){const i={code:"ckb",toolbar:{default:"بنه‌ڕه‌ت",save:"پاشه‌كه‌وتكردن",font:"فۆنت",formats:"Formats",fontSize:"قه‌باره‌",bold:"تۆخكردن",underline:"هێڵ به‌ژێردا بێنه‌",italic:"لار",strike:"هێڵ به‌ناودا بێنه‌",subscript:"ژێرسکریپت",superscript:"سەرنووس",removeFormat:"لابردنی فۆرمات",fontColor:"ره‌نگی فۆنت",hiliteColor:"ره‌نگی دیاركراو",indent:"بۆشایی بەجێهێشتن",outdent:"لابردنی بۆشایی",align:"ئاراسته‌",alignLeft:"لای چه‌پ",alignRight:"لای راست",alignCenter:"ناوه‌ند",alignJustify:"به‌رێكی دابه‌ش بكه‌",list:"لیست",orderList:"لیستی ریزكراو",unorderList:"لیستی ریزنه‌كراو",horizontalRule:"هێڵی ئاسۆیی",hr_solid:"پته‌و",hr_dotted:"نوكته‌ نوكته‌",hr_dashed:"داش داش",table:"خشته‌",link:"به‌سته‌ر",math:"بیركاری",image:"وێنه‌",video:"ڤیدیۆ",audio:"ده‌نگ",fullScreen:"پڕ به‌ شاشه‌",showBlocks:"بڵۆك نیشانبده",codeView:"بینینی كۆده‌كان",undo:"وەک خۆی لێ بکەوە",redo:"هەڵگەڕاندنەوە",preview:"پێشبینین",print:"پرینت",tag_p:"په‌ره‌گراف",tag_div:"ی ئاسایی (DIV)",tag_h:"سەرپەڕە",tag_blockquote:"ده‌ق",tag_pre:"كۆد",template:"قاڵب",lineHeight:"بڵندی دێر",paragraphStyle:"ستایلی په‌ره‌گراف",textStyle:"ستایلی نوسین",imageGallery:"گاله‌ری وێنه‌كان",dir_ltr:"من اليسار إلى اليمين",dir_rtl:"من اليمين الى اليسار",mention:"تنويه ب"},dialogBox:{linkBox:{title:"به‌سته‌ر دابنێ",url:"به‌سته‌ر",text:"تێكستی به‌سته‌ر",newWindowCheck:"له‌ په‌نجه‌ره‌یه‌كی نوێ بكه‌ره‌وه‌",downloadLinkCheck:"رابط التحميل",bookmark:"المرجعية"},mathBox:{title:"بیركاری",inputLabel:"نیشانه‌كانی بیركاری",fontSizeLabel:"قه‌باره‌ی فۆنت",previewLabel:"پێشبینین"},imageBox:{title:"وێنه‌یه‌ك دابنێ",file:"فایلێك هه‌ڵبژێره‌",url:"به‌سته‌ری وێنه‌",altText:"نوسینی جێگره‌وه‌"},videoBox:{title:"ڤیدیۆیه‌ك دابنێ",file:"فایلێك هه‌ڵبژێره‌",url:"YouTube/Vimeo به‌سته‌ری له‌ناودانان وه‌ك "},audioBox:{title:"ده‌نگێك دابنێ",file:"فایلێك هه‌ڵبژێره‌",url:"به‌سته‌ری ده‌نگ"},browser:{tags:"تاگه‌كان",search:"گه‌ران"},caption:"پێناسه‌یه‌ك دابنێ",close:"داخستن",submitButton:"ناردن",revertButton:"بیگەڕێنەوە سەر باری سەرەتایی",proportion:"رێژه‌كان وه‌ك خۆی بهێڵه‌وه‌",basic:"سه‌ره‌تایی",left:"چه‌پ",right:"راست",center:"ناوەڕاست",width:"پانی",height:"به‌رزی",size:"قه‌باره‌",ratio:"رێژه‌"},controller:{edit:"دەسکاریکردن",unlink:"سڕینەوەی بەستەر",remove:"سڕینه‌وه‌",insertRowAbove:"ریزك له‌ سه‌ره‌وه‌ زیادبكه‌",insertRowBelow:"ریزێك له‌ خواره‌وه‌ زیادبكه‌",deleteRow:"ریز بسره‌وه‌",insertColumnBefore:"ستونێك له‌ پێشه‌وه‌ زیادبكه‌",insertColumnAfter:"ستونێك له‌ دواوه‌ زیادبكه‌",deleteColumn:"ستونێك بسره‌وه‌",fixedColumnWidth:"پانی ستون نه‌گۆربكه‌",resize100:"قه‌باره‌ بگۆره‌ بۆ ١٠٠%",resize75:"قه‌باره‌ بگۆره‌ بۆ ٧٥%",resize50:"قه‌باره‌ بگۆره‌ بۆ ٥٠%",resize25:"قه‌باره‌ بگۆره‌ بۆ ٢٥%",autoSize:"قه‌باره‌ی خۆكارانه‌",mirrorHorizontal:"هه‌ڵگه‌رێنه‌وه‌ به‌ده‌وری ته‌وه‌ره‌ی ئاسۆیی",mirrorVertical:"هه‌ڵگه‌رێنه‌وه‌ به‌ده‌وری ته‌وه‌ره‌ی ستونی",rotateLeft:"بسوڕێنه‌ به‌لای چه‌پدا",rotateRight:"بسورێنه‌ به‌لای راستدا",maxSize:"گه‌وره‌ترین قه‌باره‌",minSize:"بچوكترین قه‌باره‌",tableHeader:"سه‌ردێری خشته‌ك",mergeCells:"خانه‌كان تێكه‌ڵبكه‌",splitCells:"خانه‌كان لێك جیابكه‌وه‌",HorizontalSplit:"جیاكردنه‌وه‌ی ئاسۆیی",VerticalSplit:"جیاكردنه‌وه‌ی ستونی"},menu:{spaced:"بۆشای هه‌بێت",bordered:"لێواری هه‌بێت",neon:"نیۆن",translucent:"كه‌مێك وه‌ك شووشه‌",shadow:"سێبه‌ر",code:"كۆد"}};return void 0===t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"ckb",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return i(e)}:i(t)},3555:function(e){"use strict";var t,i;t="undefined"!=typeof window?window:this,i=function(e,t){const i={code:"cs",toolbar:{default:"Výchozí",save:"Uložit",font:"Písmo",formats:"Formáty",fontSize:"Velikost",bold:"Tučné",underline:"Podtržení",italic:"Kurzíva",strike:"Přeškrtnutí",subscript:"Dolní index",superscript:"Horní index",removeFormat:"Odebrat formát",fontColor:"Barva písma",hiliteColor:"Barva zvýraznění",indent:"Odsadit",outdent:"Předsadit",align:"Zarovnat",alignLeft:"Zarovnat vlevo",alignRight:"Zarovnat vpravo",alignCenter:"Zarovnat na střed",alignJustify:"Zarovnat do bloku",list:"Seznam",orderList:"Seřazený seznam",unorderList:"Neřazený seznam",horizontalRule:"Vodorovná čára",hr_solid:"Nepřerušovaná",hr_dotted:"Tečkovaná",hr_dashed:"Čárkovaná",table:"Tabulka",link:"Odkaz",math:"Matematika",image:"Obrázek",video:"Video",audio:"Zvuk",fullScreen:"Celá obrazovka",showBlocks:"Zobrazit bloky",codeView:"Zobrazení kódu",undo:"Zpět",redo:"Opakovat",preview:"Náhled",print:"tisk",tag_p:"Odstavec",tag_div:"Normální (DIV)",tag_h:"Záhlaví",tag_blockquote:"Citovat",tag_pre:"Kód",template:"Šablona",lineHeight:"Výška řádku",paragraphStyle:"Styl odstavce",textStyle:"Styl textu",imageGallery:"Obrázková galerie",dir_ltr:"Zleva doprava",dir_rtl:"Zprava doleva",mention:"Zmínka"},dialogBox:{linkBox:{title:"Vložit odkaz",url:"URL pro odkaz",text:"Text k zobrazení",newWindowCheck:"Otevřít v novém okně",downloadLinkCheck:"Odkaz ke stažení",bookmark:"Záložka"},mathBox:{title:"Matematika",inputLabel:"Matematická notace",fontSizeLabel:"Velikost písma",previewLabel:"Náhled"},imageBox:{title:"Vložit obrázek",file:"Vybrat ze souborů",url:"URL obrázku",altText:"Alternativní text"},videoBox:{title:"Vložit video",file:"Vybrat ze souborů",url:"URL pro vložení médií, YouTube/Vimeo"},audioBox:{title:"Vložit zvuk",file:"Vybrat ze souborů",url:"Adresa URL zvuku"},browser:{tags:"Štítky",search:"Hledat"},caption:"Vložit popis",close:"Zavřít",submitButton:"Odeslat",revertButton:"Vrátit zpět",proportion:"Omezení proporcí",basic:"Základní",left:"Vlevo",right:"Vpravo",center:"Střed",width:"Šířka",height:"Výška",size:"Velikost",ratio:"Poměr"},controller:{edit:"Upravit",unlink:"Odpojit",remove:"Odebrat",insertRowAbove:"Vložit řádek výše",insertRowBelow:"Vložit řádek níže",deleteRow:"Smazat řádek",insertColumnBefore:"Vložit sloupec před",insertColumnAfter:"Vložit sloupec za",deleteColumn:"Smazat sloupec",fixedColumnWidth:"Pevná šířka sloupce",resize100:"Změnit velikost 100%",resize75:"Změnit velikost 75%",resize50:"Změnit velikost 50%",resize25:"Změnit velikost 25%",autoSize:"Automatická velikost",mirrorHorizontal:"Zrcadlo, horizontální",mirrorVertical:"Zrcadlo, vertikální",rotateLeft:"Otočit doleva",rotateRight:"Otočit doprava",maxSize:"Max. velikost",minSize:"Min. velikost",tableHeader:"Záhlaví tabulky",mergeCells:"Spojit buňky",splitCells:"Rozdělit buňky",HorizontalSplit:"Vodorovné rozdělení",VerticalSplit:"Svislé rozdělení"},menu:{spaced:"Rozložené",bordered:"Ohraničené",neon:"Neon",translucent:"Průsvitné",shadow:"Stín",code:"Kód"}};return void 0===t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"cs",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return i(e)}:i(t)},742:function(e){"use strict";var t,i;t="undefined"!=typeof window?window:this,i=function(e,t){const i={code:"da",toolbar:{default:"Default",save:"Gem",font:"Skrifttype",formats:"Format",fontSize:"Skriftstørrelse",bold:"Fed",underline:"Understreget",italic:"Skråskrift",strike:"Overstreget",subscript:"Sænket skrift",superscript:"Hævet skrift",removeFormat:"Fjern formatering",fontColor:"Skriftfarve",hiliteColor:"Baggrundsfarve",indent:"Ryk ind",outdent:"Ryk ud",align:"Justering",alignLeft:"Venstrejustering",alignRight:"Højrejustering",alignCenter:"Midterjustering",alignJustify:"Tilpas margin",list:"Lister",orderList:"Nummereret liste",unorderList:"Uordnet liste",horizontalRule:"Horisontal linie",hr_solid:"Almindelig",hr_dotted:"Punkteret",hr_dashed:"Streget",table:"Tabel",link:"Link",math:"Math",image:"Billede",video:"Video",audio:"Audio",fullScreen:"Fuld skærm",showBlocks:"Vis blokke",codeView:"Vis koder",undo:"Undo",redo:"Redo",preview:"Preview",print:"Print",tag_p:"Paragraph",tag_div:"Normal (DIV)",tag_h:"Overskrift",tag_blockquote:"Citer",tag_pre:"Code",template:"Schablone",lineHeight:"Linjehøjde",paragraphStyle:"Afsnitstil",textStyle:"Tekststil",imageGallery:"Billedgalleri",dir_ltr:"Venstre til højre",dir_rtl:"Højre til venstre",mention:"Nævne"},dialogBox:{linkBox:{title:"Indsæt link",url:"URL til link",text:"Tekst for link",newWindowCheck:"Åben i nyt faneblad",downloadLinkCheck:"Download link",bookmark:"Bogmærke"},mathBox:{title:"Math",inputLabel:"Matematisk notation",fontSizeLabel:"Skriftstørrelse",previewLabel:"Preview"},imageBox:{title:"Indsæt billede",file:"Indsæt fra fil",url:"Indsæt fra URL",altText:"Alternativ tekst"},videoBox:{title:"Indsæt Video",file:"Indsæt fra fil",url:"Indlejr video / YouTube,Vimeo"},audioBox:{title:"Indsæt Audio",file:"Indsæt fra fil",url:"Indsæt fra URL"},browser:{tags:"Tags",search:"Søg"},caption:"Indsæt beskrivelse",close:"Luk",submitButton:"Gennemfør",revertButton:"Gendan",proportion:"Bevar proportioner",basic:"Basis",left:"Venstre",right:"Højre",center:"Center",width:"Bredde",height:"Højde",size:"Størrelse",ratio:"Forhold"},controller:{edit:"Rediger",unlink:"Fjern link",remove:"Fjern",insertRowAbove:"Indsæt række foroven",insertRowBelow:"Indsæt række nedenfor",deleteRow:"Slet række",insertColumnBefore:"Indsæt kolonne før",insertColumnAfter:"Indsæt kolonne efter",deleteColumn:"Slet kolonne",fixedColumnWidth:"Fast søjlebredde",resize100:"Forstør 100%",resize75:"Forstør 75%",resize50:"Forstør 50%",resize25:"Forstør 25%",autoSize:"Auto størrelse",mirrorHorizontal:"Spejling, horisontal",mirrorVertical:"Spejling, vertikal",rotateLeft:"Roter til venstre",rotateRight:"Toter til højre",maxSize:"Max størrelse",minSize:"Min størrelse",tableHeader:"Tabel overskrift",mergeCells:"Sammenlæg celler (merge)",splitCells:"Opdel celler",HorizontalSplit:"Opdel horisontalt",VerticalSplit:"Opdel vertikalt"},menu:{spaced:"Brev Afstand",bordered:"Afgrænsningslinje",neon:"Neon",translucent:"Gennemsigtig",shadow:"Skygge",code:"Code"}};return void 0===t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"da",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return i(e)}:i(t)},4986:function(e){"use strict";var t,i;t="undefined"!=typeof window?window:this,i=function(e,t){const i={code:"de",toolbar:{default:"Standard",save:"Speichern",font:"Schriftart",formats:"Format",fontSize:"Schriftgröße",bold:"Fett",underline:"Unterstrichen",italic:"Kursiv",strike:"Durchgestrichen",subscript:"Tiefgestellt",superscript:"Hochgestellt",removeFormat:"Format entfernen",fontColor:"Schriftfarbe",hiliteColor:"Farbe für Hervorhebungen",indent:"Einzug vergrößern",outdent:"Einzug verkleinern",align:"Ausrichtung",alignLeft:"Links ausrichten",alignRight:"Rechts ausrichten",alignCenter:"Zentriert ausrichten",alignJustify:"Blocksatz",list:"Liste",orderList:"Nummerierte Liste",unorderList:"Aufzählung",horizontalRule:"Horizontale Linie",hr_solid:"Strich",hr_dotted:"Gepunktet",hr_dashed:"Gestrichelt",table:"Tabelle",link:"Link",math:"Mathematik",image:"Bild",video:"Video",audio:"Audio",fullScreen:"Vollbild",showBlocks:"Blockformatierungen anzeigen",codeView:"Quelltext anzeigen",undo:"Rückgängig",redo:"Wiederholen",preview:"Vorschau",print:"Drucken",tag_p:"Absatz",tag_div:"Normal (DIV)",tag_h:"Header",tag_blockquote:"Zitat",tag_pre:"Quellcode",template:"Vorlage",lineHeight:"Zeilenhöhe",paragraphStyle:"Absatzstil",textStyle:"Textstil",imageGallery:"Bildergalerie",dir_ltr:"Links nach rechts",dir_rtl:"Rechts nach links",mention:"Erwähnen"},dialogBox:{linkBox:{title:"Link einfügen",url:"Link-URL",text:"Link-Text",newWindowCheck:"In neuem Fenster anzeigen",downloadLinkCheck:"Download-Link",bookmark:"Lesezeichen"},mathBox:{title:"Mathematik",inputLabel:"Mathematische Notation",fontSizeLabel:"Schriftgröße",previewLabel:"Vorschau"},imageBox:{title:"Bild einfügen",file:"Datei auswählen",url:"Bild-URL",altText:"Alternativer Text"},videoBox:{title:"Video einfügen",file:"Datei auswählen",url:"Video-URL, YouTube/Vimeo"},audioBox:{title:"Audio einfügen",file:"Datei auswählen",url:"Audio-URL"},browser:{tags:"Stichworte",search:"Suche"},caption:"Beschreibung eingeben",close:"Schließen",submitButton:"Übernehmen",revertButton:"Rückgängig",proportion:"Seitenverhältnis beibehalten",basic:"Standard",left:"Links",right:"Rechts",center:"Zentriert",width:"Breite",height:"Höhe",size:"Größe",ratio:"Verhältnis"},controller:{edit:"Bearbeiten",unlink:"Link entfernen",remove:"Löschen",insertRowAbove:"Zeile oberhalb einfügen",insertRowBelow:"Zeile unterhalb einfügen",deleteRow:"Zeile löschen",insertColumnBefore:"Spalte links einfügen",insertColumnAfter:"Spalte rechts einfügen",deleteColumn:"Spalte löschen",fixedColumnWidth:"Feste Spaltenbreite",resize100:"Zoom 100%",resize75:"Zoom 75%",resize50:"Zoom 50%",resize25:"Zoom 25%",autoSize:"Automatische Größenanpassung",mirrorHorizontal:"Horizontal spiegeln",mirrorVertical:"Vertikal spiegeln",rotateLeft:"Nach links drehen",rotateRight:"Nach rechts drehen",maxSize:"Maximale Größe",minSize:"Mindestgröße",tableHeader:"Tabellenüberschrift",mergeCells:"Zellen verbinden",splitCells:"Zellen teilen",HorizontalSplit:"Horizontal teilen",VerticalSplit:"Vertikal teilen"},menu:{spaced:"Buchstabenabstand",bordered:"Umrandet",neon:"Neon",translucent:"Durchscheinend",shadow:"Schatten",code:"Quellcode"}};return void 0===t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"de",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return i(e)}:i(t)},1918:function(e){"use strict";var t,i;t="undefined"!=typeof window?window:this,i=function(e,t){const i={code:"en",toolbar:{default:"Default",save:"Save",font:"Font",formats:"Formats",fontSize:"Size",bold:"Bold",underline:"Underline",italic:"Italic",strike:"Strike",subscript:"Subscript",superscript:"Superscript",removeFormat:"Remove Format",fontColor:"Font Color",hiliteColor:"Highlight Color",indent:"Indent",outdent:"Outdent",align:"Align",alignLeft:"Align left",alignRight:"Align right",alignCenter:"Align center",alignJustify:"Align justify",list:"List",orderList:"Ordered list",unorderList:"Unordered list",horizontalRule:"Horizontal line",hr_solid:"Solid",hr_dotted:"Dotted",hr_dashed:"Dashed",table:"Table",link:"Link",math:"Math",image:"Image",video:"Video",audio:"Audio",fullScreen:"Full screen",showBlocks:"Show blocks",codeView:"Code view",undo:"Undo",redo:"Redo",preview:"Preview",print:"print",tag_p:"Paragraph",tag_div:"Normal (DIV)",tag_h:"Header",tag_blockquote:"Quote",tag_pre:"Code",template:"Template",lineHeight:"Line height",paragraphStyle:"Paragraph style",textStyle:"Text style",imageGallery:"Image gallery",dir_ltr:"Left to right",dir_rtl:"Right to left",mention:"Mention"},dialogBox:{linkBox:{title:"Insert Link",url:"URL to link",text:"Text to display",newWindowCheck:"Open in new window",downloadLinkCheck:"Download link",bookmark:"Bookmark"},mathBox:{title:"Math",inputLabel:"Mathematical Notation",fontSizeLabel:"Font Size",previewLabel:"Preview"},imageBox:{title:"Insert image",file:"Select from files",url:"Image URL",altText:"Alternative text"},videoBox:{title:"Insert Video",file:"Select from files",url:"Media embed URL, YouTube/Vimeo"},audioBox:{title:"Insert Audio",file:"Select from files",url:"Audio URL"},browser:{tags:"Tags",search:"Search"},caption:"Insert description",close:"Close",submitButton:"Submit",revertButton:"Revert",proportion:"Constrain proportions",basic:"Basic",left:"Left",right:"Right",center:"Center",width:"Width",height:"Height",size:"Size",ratio:"Ratio"},controller:{edit:"Edit",unlink:"Unlink",remove:"Remove",insertRowAbove:"Insert row above",insertRowBelow:"Insert row below",deleteRow:"Delete row",insertColumnBefore:"Insert column before",insertColumnAfter:"Insert column after",deleteColumn:"Delete column",fixedColumnWidth:"Fixed column width",resize100:"Resize 100%",resize75:"Resize 75%",resize50:"Resize 50%",resize25:"Resize 25%",autoSize:"Auto size",mirrorHorizontal:"Mirror, Horizontal",mirrorVertical:"Mirror, Vertical",rotateLeft:"Rotate left",rotateRight:"Rotate right",maxSize:"Max size",minSize:"Min size",tableHeader:"Table header",mergeCells:"Merge cells",splitCells:"Split Cells",HorizontalSplit:"Horizontal split",VerticalSplit:"Vertical split"},menu:{spaced:"Spaced",bordered:"Bordered",neon:"Neon",translucent:"Translucent",shadow:"Shadow",code:"Code"}};return void 0===t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"en",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return i(e)}:i(t)},8425:function(e){"use strict";var t,i;t="undefined"!=typeof window?window:this,i=function(e,t){const i={code:"es",toolbar:{default:"Valor por defecto",save:"Guardar",font:"Fuente",formats:"Formato",fontSize:"Tamaño de fuente",bold:"Negrita",underline:"Subrayado",italic:"Cursiva",strike:"Tachado",subscript:"Subíndice",superscript:"Superíndice",removeFormat:"Eliminar formato",fontColor:"Color de fuente",hiliteColor:"Color de resaltado",indent:"Más tabulación",outdent:"Menos tabulación",align:"Alinear",alignLeft:"Alinear a la izquierda",alignRight:"Alinear a la derecha",alignCenter:"Alinear al centro",alignJustify:"Justificar",list:"Lista",orderList:"Lista ordenada",unorderList:"Lista desordenada",horizontalRule:"Horizontal line",hr_solid:"Línea horizontal solida",hr_dotted:"Línea horizontal punteada",hr_dashed:"Línea horizontal discontinua",table:"Tabla",link:"Link",math:"Matemáticas",image:"Imagen",video:"Video",audio:"Audio",fullScreen:"Pantalla completa",showBlocks:"Ver bloques",codeView:"Ver código fuente",undo:"UndoDeshacer última acción",redo:"Rehacer última acción",preview:"Vista previa",print:"Imprimir",tag_p:"Párrafo",tag_div:"Normal (DIV)",tag_h:"Header",tag_blockquote:"Cita",tag_pre:"Código",template:"Plantilla",lineHeight:"Altura de la línea",paragraphStyle:"Estilo del parrafo",textStyle:"Estilo del texto",imageGallery:"Galería de imágenes",dir_ltr:"De izquierda a derecha",dir_rtl:"De derecha a izquierda",mention:"Mencionar"},dialogBox:{linkBox:{title:"Insertar Link",url:"¿Hacia que URL lleva el link?",text:"Texto para mostrar",newWindowCheck:"Abrir en una nueva ventana",downloadLinkCheck:"Enlace de descarga",bookmark:"Marcador"},mathBox:{title:"Matemáticas",inputLabel:"Notación Matemática",fontSizeLabel:"Tamaño de fuente",previewLabel:"Vista previa"},imageBox:{title:"Insertar imagen",file:"Seleccionar desde los archivos",url:"URL de la imagen",altText:"Texto alternativo"},videoBox:{title:"Insertar Video",file:"Seleccionar desde los archivos",url:"¿URL del vídeo? Youtube/Vimeo"},audioBox:{title:"Insertar Audio",file:"Seleccionar desde los archivos",url:"URL de la audio"},browser:{tags:"Etiquetas",search:"Buscar"},caption:"Insertar descripción",close:"Cerrar",submitButton:"Enviar",revertButton:"revertir",proportion:"Restringir las proporciones",basic:"Basico",left:"Izquierda",right:"derecha",center:"Centro",width:"Ancho",height:"Alto",size:"Tamaño",ratio:"Proporción"},controller:{edit:"Editar",unlink:"Desvincular",remove:"RemoveQuitar",insertRowAbove:"Insertar fila arriba",insertRowBelow:"Insertar fila debajo",deleteRow:"Eliminar fila",insertColumnBefore:"Insertar columna antes",insertColumnAfter:"Insertar columna después",deleteColumn:"Eliminar columna",fixedColumnWidth:"Ancho de columna fijo",resize100:"Redimensionar 100%",resize75:"Redimensionar 75%",resize50:"Redimensionar 50%",resize25:"Redimensionar 25%",autoSize:"Tamaño automático",mirrorHorizontal:"Espejo, Horizontal",mirrorVertical:"Espejo, Vertical",rotateLeft:"Girar a la izquierda",rotateRight:"Girar a la derecha",maxSize:"Tamaño máximo",minSize:"Tamaño minímo",tableHeader:"Encabezado de tabla",mergeCells:"Combinar celdas",splitCells:"Dividir celdas",HorizontalSplit:"División horizontal",VerticalSplit:"División vertical"},menu:{spaced:"Espaciado",bordered:"Bordeado",neon:"Neón",translucent:"Translúcido",shadow:"Sombreado",code:"Código"}};return void 0===t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"es",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return i(e)}:i(t)},561:function(e){"use strict";var t,i;t="undefined"!=typeof window?window:this,i=function(e,t){const i={code:"fr",toolbar:{default:"Défaut",save:"Sauvegarder",font:"Police",formats:"Formats",fontSize:"Taille",bold:"Gras",underline:"Souligné",italic:"Italique",strike:"Barré",subscript:"Indice",superscript:"Exposant",removeFormat:"Effacer le formatage",fontColor:"Couleur du texte",hiliteColor:"Couleur en arrière plan",indent:"Indenter",outdent:"Désindenter",align:"Alignement",alignLeft:"À gauche",alignRight:"À droite",alignCenter:"Centré",alignJustify:"Justifié",list:"Liste",orderList:"Ordonnée",unorderList:"Non-ordonnée",horizontalRule:"Ligne horizontale",hr_solid:"Solide",hr_dotted:"Points",hr_dashed:"Tirets",table:"Table",link:"Lien",math:"Math",image:"Image",video:"Video",audio:"Audio",fullScreen:"Plein écran",showBlocks:"Voir les blocs",codeView:"Voir le code",undo:"Annuler",redo:"Rétablir",preview:"Prévisualiser",print:"Imprimer",tag_p:"Paragraphe",tag_div:"Normal (DIV)",tag_h:"Titre",tag_blockquote:"Citation",tag_pre:"Code",template:"Template",lineHeight:"Hauteur de la ligne",paragraphStyle:"Style de paragraphe",textStyle:"Style de texte",imageGallery:"Galerie d'images",dir_ltr:"De gauche à droite",dir_rtl:"De droite à gauche",mention:"Mention"},dialogBox:{linkBox:{title:"Insérer un lien",url:"Adresse URL du lien",text:"Texte à afficher",newWindowCheck:"Ouvrir dans une nouvelle fenêtre",downloadLinkCheck:"Lien de téléchargement",bookmark:"Signet"},mathBox:{title:"Math",inputLabel:"Notation mathématique",fontSizeLabel:"Taille",previewLabel:"Prévisualiser"},imageBox:{title:"Insérer une image",file:"Sélectionner le fichier",url:"Adresse URL du fichier",altText:"Texte Alternatif"},videoBox:{title:"Insérer une vidéo",file:"Sélectionner le fichier",url:"URL d’intégration du média, YouTube/Vimeo"},audioBox:{title:"Insérer un fichier audio",file:"Sélectionner le fichier",url:"Adresse URL du fichier"},browser:{tags:"Mots clés",search:"Chercher"},caption:"Insérer une description",close:"Fermer",submitButton:"Appliquer",revertButton:"Revenir en arrière",proportion:"Maintenir le rapport hauteur/largeur",basic:"Basique",left:"Gauche",right:"Droite",center:"Centré",width:"Largeur",height:"Hauteur",size:"Taille",ratio:"Rapport"},controller:{edit:"Modifier",unlink:"Supprimer un lien",remove:"Effacer",insertRowAbove:"Insérer une ligne en dessous",insertRowBelow:"Insérer une ligne au dessus",deleteRow:"Effacer la ligne",insertColumnBefore:"Insérer une colonne avant",insertColumnAfter:"Insérer une colonne après",deleteColumn:"Effacer la colonne",fixedColumnWidth:"Largeur de colonne fixe",resize100:"Redimensionner à 100%",resize75:"Redimensionner à 75%",resize50:"Redimensionner à 50%",resize25:"Redimensionner à 25%",autoSize:"Taille automatique",mirrorHorizontal:"Mirroir, Horizontal",mirrorVertical:"Mirroir, Vertical",rotateLeft:"Rotation à gauche",rotateRight:"Rotation à droite",maxSize:"Taille max",minSize:"Taille min",tableHeader:"En-tête de table",mergeCells:"Fusionner les cellules",splitCells:"Diviser les Cellules",HorizontalSplit:"Scission horizontale",VerticalSplit:"Scission verticale"},menu:{spaced:"Espacement",bordered:"Ligne de démarcation",neon:"Néon",translucent:"Translucide",shadow:"Ombre",code:"Code"}};return void 0===t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"fr",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return i(e)}:i(t)},7662:function(e){"use strict";var t,i;t="undefined"!=typeof window?window:this,i=function(e,t){const i={code:"he",toolbar:{default:"ברירת מחדל",save:"שמור",font:"גופן",formats:"עיצוב",fontSize:"גודל",bold:"מודגש",underline:"קו תחתון",italic:"נטוי",strike:"קו חוצה",subscript:"עילי",superscript:"תחתי",removeFormat:"הסר עיצוב",fontColor:"צבע גופן",hiliteColor:"צבע קו תחתון",indent:"הגדל כניסה",outdent:"הקטן כניסה",align:"יישור",alignLeft:"יישר לשמאל",alignRight:"יישר לימין",alignCenter:"מרכז",alignJustify:"יישר לשני הצדדים",list:"רשימה",orderList:"מספור",unorderList:"תבליטים",horizontalRule:"קו אופקי",hr_solid:"קו",hr_dotted:"נקודות",hr_dashed:"מקפים",table:"טבלה",link:"קישור",math:"מתמטיקה",image:"תמונה",video:"חוזי",audio:"שמע",fullScreen:"מסך מלא",showBlocks:"הצג גושים",codeView:"הצג קוד",undo:"בטל",redo:"חזור",preview:"תצוגה מקדימה",print:"הדפס",tag_p:"פסקה",tag_div:"רגילה (DIV)",tag_h:"כותרת",tag_blockquote:"ציטוט",tag_pre:"קוד",template:"תבנית",lineHeight:"גובה השורה",paragraphStyle:"סגנון פסקה",textStyle:"סגנון גופן",imageGallery:"גלרית תמונות",dir_ltr:"משמאל לימין",dir_rtl:"מימין לשמאל",mention:"הזכר"},dialogBox:{linkBox:{title:"הכנס קשור",url:"כתובת קשור",text:"תיאור",newWindowCheck:"פתח בחלון חדש",downloadLinkCheck:"קישור להורדה",bookmark:"סמניה"},mathBox:{title:"נוסחה",inputLabel:"סימנים מתמטים",fontSizeLabel:"גודל גופן",previewLabel:"תצוגה מקדימה"},imageBox:{title:"הכנס תמונה",file:"בחר מקובץ",url:"כתובת URL תמונה",altText:"תיאור (תגית alt)"},videoBox:{title:"הכנס סרטון",file:"בחר מקובץ",url:"כתובת הטמעה YouTube/Vimeo"},audioBox:{title:"הכנס שמע",file:"בחר מקובץ",url:"כתובת URL שמע"},browser:{tags:"תג",search:"חפש"},caption:"הכנס תיאור",close:"סגור",submitButton:"שלח",revertButton:"בטל",proportion:"שמר יחס",basic:"בסיסי",left:"שמאל",right:"ימין",center:"מרכז",width:"רוחב",height:"גובה",size:"גודל",ratio:"יחס"},controller:{edit:"ערוך",unlink:"הסר קישורים",remove:"הסר",insertRowAbove:"הכנס שורה מעל",insertRowBelow:"הכנס שורה מתחת",deleteRow:"מחק שורה",insertColumnBefore:"הכנס עמודה לפני",insertColumnAfter:"הכנס עמודה אחרי",deleteColumn:"מחק עמודה",fixedColumnWidth:"קבע רוחב עמודות",resize100:"ללא הקטנה",resize75:"הקטן 75%",resize50:"הקטן 50%",resize25:"הקטן 25%",autoSize:"הקטן אוטומטית",mirrorHorizontal:"הפוך לרוחב",mirrorVertical:"הפוך לגובה",rotateLeft:"סובב שמאלה",rotateRight:"סובב ימינה",maxSize:"גודל מרבי",minSize:"גודל מזערי",tableHeader:"כותרת טבלה",mergeCells:"מזג תאים",splitCells:"פצל תא",HorizontalSplit:"פצל לגובה",VerticalSplit:"פצל לרוחב"},menu:{spaced:"מרווח",bordered:"בעל מיתאר",neon:"זוהר",translucent:"שקוף למחצה",shadow:"צל",code:"קוד"}};return void 0===t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"he",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return i(e)}:i(t)},7182:function(e){"use strict";var t,i;t="undefined"!=typeof window?window:this,i=function(e,t){const i={code:"hu",toolbar:{default:"Alapértelmezett",save:"Mentés",font:"Betűtípus",formats:"Formázás",fontSize:"Betűméret",bold:"Félkövér",underline:"Aláhúzott",italic:"Dőlt",strike:"Áthúzott",subscript:"Alsó index",superscript:"Felső index",removeFormat:"Formázás törlése",fontColor:"Betűszín",hiliteColor:"Háttérszín",indent:"Behúzás növelése",outdent:"Behúzás csökkentése",align:"Igazítás",alignLeft:"Balra igazítás",alignRight:"Jobbra igazítás",alignCenter:"Középre igazítás",alignJustify:"Sorkizárt",list:"Lista",orderList:"Számozott lista",unorderList:"Számozatlan lista",horizontalRule:"Elválasztó",hr_solid:"Folytonos",hr_dotted:"Pontozott",hr_dashed:"Szaggatott",table:"Táblázat",link:"Hivatkozás",math:"Matematika",image:"Kép",video:"Videó",audio:"Hang",fullScreen:"Teljes képernyő",showBlocks:"Blokkok megjelenítése",codeView:"Forráskód nézet",undo:"Visszavonás",redo:"Visszavonás visszavonása",preview:"Előnézet",print:"Nyomtatás",tag_p:"Bekezdés",tag_div:"Normál (DIV)",tag_h:"Fejléc",tag_blockquote:"Idézet",tag_pre:"Kód",template:"Minta",lineHeight:"Sormagasság",paragraphStyle:"Bekezdésstílus",textStyle:"Karakterstílus",imageGallery:"Képgalléria",dir_ltr:"Balról jobbra",dir_rtl:"Jobbról balra",mention:"Említés"},dialogBox:{linkBox:{title:"Link beszúrása",url:"URL",text:"Megjelenített szöveg",newWindowCheck:"Megnyitás új ablakban",downloadLinkCheck:"Letöltési hivatkozás",bookmark:"Könyvjelző"},mathBox:{title:"Matematika",inputLabel:"Matematikai jelölések",fontSizeLabel:"Betűméret",previewLabel:"Előnézet"},imageBox:{title:"Kép beszúrása",file:"Fájlfeltöltés",url:"Képhivatkozás",altText:"Alternatív szöveg"},videoBox:{title:"Videó beszúrása",file:"Fájlfeltöltés",url:"Beágyazható URL, YouTube/Vimeo"},audioBox:{title:"Hang beszúrása",file:"Fájlfeltöltés",url:"Hang URL"},browser:{tags:"Címkék",search:"Keresés"},caption:"Képaláírás",close:"Bezárás",submitButton:"Küldés",revertButton:"Mégse",proportion:"Méretkorlátok",basic:"Alapszintű",left:"Balra",right:"Jobbra",center:"Középre",width:"Szélesség",height:"Magasság",size:"Méret",ratio:"Képarány"},controller:{edit:"Szerkesztés",unlink:"Link eltávolítása",remove:"Törlés",insertRowAbove:"Új sor fölötte",insertRowBelow:"Új sor alatta",deleteRow:"Sor törlése",insertColumnBefore:"Új oszlop balra",insertColumnAfter:"Új oszlop jobbra",deleteColumn:"Oszlop törlése",fixedColumnWidth:"Rögzített oszlopszélesség",resize100:"Átméretezés: 100%",resize75:"Átméretezés: 75%",resize50:"Átméretezés: 50%",resize25:"Átméretezés: 25%",autoSize:"Automatikus méret",mirrorHorizontal:"Vízszintes tükrözés",mirrorVertical:"Függőleges tükrözés",rotateLeft:"Forgatás balra",rotateRight:"Forgatás jobbra",maxSize:"Maximális méret",minSize:"Minimális méret",tableHeader:"Táblázatfejléc",mergeCells:"Cellák egyesítése",splitCells:"Cellák szétválasztása",HorizontalSplit:"Szétválasztás vízszintesen",VerticalSplit:"Szétválasztás függőlegesen"},menu:{spaced:"Ritkított",bordered:"Keretezett",neon:"Neon",translucent:"Áttetsző",shadow:"Árnyék",code:"Kód"}};return void 0===t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"hu",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return i(e)}:i(t)},5296:function(e){"use strict";var t,i;t="undefined"!=typeof window?window:this,i=function(e,t){const i={code:"it",toolbar:{default:"Predefinita",save:"Salva",font:"Font",formats:"Formato",fontSize:"Grandezza",bold:"Grassetto",underline:"Sottolineato",italic:"Corsivo",strike:"Barrato",subscript:"Apice",superscript:"Pedice",removeFormat:"Rimuovi formattazione",fontColor:"Colore testo",hiliteColor:"Colore sottolineatura",indent:"Aumenta rientro",outdent:"Riduci rientro",align:"Allinea",alignLeft:"Allinea a sinistra",alignRight:"Allinea a destra",alignCenter:"Allinea al centro",alignJustify:"Giustifica testo",list:"Elenco",orderList:"Elenco numerato",unorderList:"Elenco puntato",horizontalRule:"Linea orizzontale",hr_solid:"Linea continua",hr_dotted:"Puntini",hr_dashed:"Trattini",table:"Tabella",link:"Collegamento ipertestuale",math:"Formula matematica",image:"Immagine",video:"Video",audio:"Audio",fullScreen:"A tutto schermo",showBlocks:"Visualizza blocchi",codeView:"Visualizza codice",undo:"Annulla",redo:"Ripristina",preview:"Anteprima",print:"Stampa",tag_p:"Paragrafo",tag_div:"Normale (DIV)",tag_h:"Titolo",tag_blockquote:"Citazione",tag_pre:"Codice",template:"Modello",lineHeight:"Interlinea",paragraphStyle:"Stile paragrafo",textStyle:"Stile testo",imageGallery:"Galleria di immagini",dir_ltr:"Da sinistra a destra",dir_rtl:"Da destra a sinistra",mention:"Menzione"},dialogBox:{linkBox:{title:"Inserisci un link",url:"Indirizzo",text:"Testo da visualizzare",newWindowCheck:"Apri in una nuova finestra",downloadLinkCheck:"Link per scaricare",bookmark:"Segnalibro"},mathBox:{title:"Matematica",inputLabel:"Notazione matematica",fontSizeLabel:"Grandezza testo",previewLabel:"Anteprima"},imageBox:{title:"Inserisci immagine",file:"Seleziona da file",url:"Indirizzo immagine",altText:"Testo alternativo (ALT)"},videoBox:{title:"Inserisci video",file:"Seleziona da file",url:"Indirizzo video di embed, YouTube/Vimeo"},audioBox:{title:"Inserisci audio",file:"Seleziona da file",url:"Indirizzo audio"},browser:{tags:"tag",search:"Ricerca"},caption:"Inserisci didascalia",close:"Chiudi",submitButton:"Invia",revertButton:"Annulla",proportion:"Proporzionale",basic:"Da impostazione",left:"Sinistra",right:"Destra",center:"Centrato",width:"Larghezza",height:"Altezza",size:"Dimensioni",ratio:"Rapporto"},controller:{edit:"Modifica",unlink:"Elimina link",remove:"Rimuovi",insertRowAbove:"Inserisci riga sopra",insertRowBelow:"Inserisci riga sotto",deleteRow:"Cancella riga",insertColumnBefore:"Inserisci colonna prima",insertColumnAfter:"Inserisci colonna dopo",deleteColumn:"Cancella colonna",fixedColumnWidth:"Larghezza delle colonne fissa",resize100:"Ridimensiona 100%",resize75:"Ridimensiona 75%",resize50:"Ridimensiona 50%",resize25:"Ridimensiona 25%",autoSize:"Ridimensione automatica",mirrorHorizontal:"Capovolgi orizzontalmente",mirrorVertical:"Capovolgi verticalmente",rotateLeft:"Ruota a sinistra",rotateRight:"Ruota a destra",maxSize:"Dimensione massima",minSize:"Dimensione minima",tableHeader:"Intestazione tabella",mergeCells:"Unisci celle",splitCells:"Dividi celle",HorizontalSplit:"Separa orizontalmente",VerticalSplit:"Separa verticalmente"},menu:{spaced:"Spaziato",bordered:"Bordato",neon:"Luminoso",translucent:"Traslucido",shadow:"Ombra",code:"Codice"}};return void 0===t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"it",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG una finestra con un documento");return i(e)}:i(t)},3268:function(e){"use strict";var t,i;t="undefined"!=typeof window?window:this,i=function(e,t){const i={code:"ja",toolbar:{default:"デフォルト",save:"保存",font:"フォント",formats:"段落形式",fontSize:"サイズ",bold:"太字",underline:"下線",italic:"イタリック",strike:"取り消し線",subscript:"下付き",superscript:"上付き",removeFormat:"形式を削除",fontColor:"文字色",hiliteColor:"文字の背景色",indent:"インデント",outdent:"インデント",align:"ソート",alignLeft:"左揃え",alignRight:"右揃え",alignCenter:"中央揃え",alignJustify:"両端揃え",list:"リスト",orderList:"数値ブリット",unorderList:"円形ブリット",horizontalRule:"水平線を挿入",hr_solid:"実線",hr_dotted:"点線",hr_dashed:"ダッシュ",table:"テーブル",link:"リンク",math:"数学",image:"画像",video:"動画",audio:"オーディオ",fullScreen:"フルスクリーン",showBlocks:"ブロック表示",codeView:"HTMLの編集",undo:"元に戻す",redo:"再実行",preview:"プレビュー",print:"印刷",tag_p:"本文",tag_div:"基本（DIV）",tag_h:"タイトル",tag_blockquote:"引用",tag_pre:"コード",template:"テンプレート",lineHeight:"行の高さ",paragraphStyle:"段落スタイル",textStyle:"テキストスタイル",imageGallery:"イメージギャラリー",dir_ltr:"左から右へ",dir_rtl:"右から左に",mention:"言及する"},dialogBox:{linkBox:{title:"リンクの挿入",url:"インターネットアドレス",text:"画面のテキスト",newWindowCheck:"別ウィンドウで開く",downloadLinkCheck:"ダウンロードリンク",bookmark:"ブックマーク"},mathBox:{title:"数学",inputLabel:"数学表記",fontSizeLabel:"サイズ",previewLabel:"プレビュー"},imageBox:{title:"画像の挿入",file:"ファイルの選択",url:"イメージアドレス",altText:"置換文字列"},videoBox:{title:"動画を挿入",file:"ファイルの選択",url:"メディア埋め込みアドレス, YouTube/Vimeo"},audioBox:{title:"オーディオを挿入",file:"ファイルの選択",url:"オーディオアドレス"},browser:{tags:"タグ",search:"探す"},caption:"説明付け",close:"閉じる",submitButton:"確認",revertButton:"元に戻す",proportion:"の割合カスタマイズ",basic:"基本",left:"左",right:"右",center:"中央",width:"横",height:"縦",size:"サイズ",ratio:"比率"},controller:{edit:"編集",unlink:"リンク解除",remove:"削除",insertRowAbove:"上に行を挿入",insertRowBelow:"下に行を挿入",deleteRow:"行の削除",insertColumnBefore:"左に列を挿入",insertColumnAfter:"右に列を挿入",deleteColumn:"列を削除する",fixedColumnWidth:"固定列幅",resize100:"100％ サイズ",resize75:"75％ サイズ",resize50:"50％ サイズ",resize25:"25％ サイズ",autoSize:"自動サイズ",mirrorHorizontal:"左右反転",mirrorVertical:"上下反転",rotateLeft:"左に回転",rotateRight:"右に回転",maxSize:"最大サイズ",minSize:"最小サイズ",tableHeader:"表のヘッダー",mergeCells:"セルの結合",splitCells:"セルを分割",HorizontalSplit:"横分割",VerticalSplit:"垂直分割"},menu:{spaced:"文字間隔",bordered:"境界線",neon:"ネオン",translucent:"半透明",shadow:"影",code:"コード"}};return void 0===t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"ja",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return i(e)}:i(t)},7847:function(e){"use strict";var t,i;t="undefined"!=typeof window?window:this,i=function(e,t){const i={code:"ko",toolbar:{default:"기본값",save:"저장",font:"글꼴",formats:"문단 형식",fontSize:"크기",bold:"굵게",underline:"밑줄",italic:"기울임",strike:"취소선",subscript:"아래 첨자",superscript:"위 첨자",removeFormat:"형식 제거",fontColor:"글자색",hiliteColor:"배경색",indent:"들여쓰기",outdent:"내어쓰기",align:"정렬",alignLeft:"왼쪽 정렬",alignRight:"오른쪽 정렬",alignCenter:"가운데 정렬",alignJustify:"양쪽 정렬",list:"리스트",orderList:"숫자형 리스트",unorderList:"원형 리스트",horizontalRule:"가로 줄 삽입",hr_solid:"실선",hr_dotted:"점선",hr_dashed:"대시",table:"테이블",link:"링크",math:"수식",image:"이미지",video:"동영상",audio:"오디오",fullScreen:"전체 화면",showBlocks:"블록 보기",codeView:"HTML 편집",undo:"실행 취소",redo:"다시 실행",preview:"미리보기",print:"인쇄",tag_p:"본문",tag_div:"기본 (DIV)",tag_h:"제목",tag_blockquote:"인용문",tag_pre:"코드",template:"템플릿",lineHeight:"줄 높이",paragraphStyle:"문단 스타일",textStyle:"글자 스타일",imageGallery:"이미지 갤러리",dir_ltr:"왼쪽에서 오른쪽",dir_rtl:"오른쪽에서 왼쪽",mention:"멘션"},dialogBox:{linkBox:{title:"링크 삽입",url:"인터넷 주소",text:"화면 텍스트",newWindowCheck:"새창으로 열기",downloadLinkCheck:"다운로드 링크",bookmark:"북마크"},mathBox:{title:"수식",inputLabel:"수학적 표기법",fontSizeLabel:"글자 크기",previewLabel:"미리보기"},imageBox:{title:"이미지 삽입",file:"파일 선택",url:"이미지 주소",altText:"대체 문자열"},videoBox:{title:"동영상 삽입",file:"파일 선택",url:"미디어 임베드 주소, 유튜브/비메오"},audioBox:{title:"오디오 삽입",file:"파일 선택",url:"오디오 파일 주소"},browser:{tags:"태그",search:"검색"},caption:"설명 넣기",close:"닫기",submitButton:"확인",revertButton:"되돌리기",proportion:"비율 맞춤",basic:"기본",left:"왼쪽",right:"오른쪽",center:"가운데",width:"가로",height:"세로",size:"크기",ratio:"비율"},controller:{edit:"편집",unlink:"링크 해제",remove:"삭제",insertRowAbove:"위에 행 삽입",insertRowBelow:"아래에 행 삽입",deleteRow:"행 삭제",insertColumnBefore:"왼쪽에 열 삽입",insertColumnAfter:"오른쪽에 열 삽입",deleteColumn:"열 삭제",fixedColumnWidth:"고정 된 열 너비",resize100:"100% 크기",resize75:"75% 크기",resize50:"50% 크기",resize25:"25% 크기",autoSize:"자동 크기",mirrorHorizontal:"좌우 반전",mirrorVertical:"상하 반전",rotateLeft:"왼쪽으로 회전",rotateRight:"오른쪽으로 회전",maxSize:"최대화",minSize:"최소화",tableHeader:"테이블 제목",mergeCells:"셀 병합",splitCells:"셀 분할",HorizontalSplit:"가로 분할",VerticalSplit:"세로 분할"},menu:{spaced:"글자 간격",bordered:"경계선",neon:"네온",translucent:"반투명",shadow:"그림자",code:"코드"}};return void 0===t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"ko",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return i(e)}:i(t)},6911:function(e){"use strict";var t,i;t="undefined"!=typeof window?window:this,i=function(e,t){const i={code:"lv",toolbar:{default:"Noklusējuma",save:"Saglabāt",font:"Fonts",formats:"Formāti",fontSize:"Fonta lielums",bold:"Treknraksts",underline:"Pasvītrot",italic:"Slīpraksts",strike:"Pārsvītrojums",subscript:"Apakšraksts",superscript:"Augšraksts",removeFormat:"Noņemt formātu",fontColor:"Fonta krāsa",hiliteColor:"Teksta iezīmēšanas krāsa",indent:"Palielināt atkāpi",outdent:"Samazināt atkāpi",align:"Izlīdzināt",alignLeft:"Līdzināt pa kreisi",alignRight:"Līdzināt pa labi",alignCenter:"Centrēt",alignJustify:"Taisnot",list:"Saraksts",orderList:"Numerācija",unorderList:"Aizzimes",horizontalRule:"Horizontāla līnija",hr_solid:"Ciets",hr_dotted:"Punktiņš",hr_dashed:"Braša",table:"Tabula",link:"Saite",math:"Matemātika",image:"Attēls",video:"Video",audio:"Audio",fullScreen:"Pilnekrāna režīms",showBlocks:"Parādit blokus",codeView:"Koda skats",undo:"Atsaukt",redo:"Atkārtot",preview:"Priekšskatījums",print:"Drukāt",tag_p:"Paragrāfs",tag_div:"Normāli (DIV)",tag_h:"Galvene",tag_blockquote:"Citāts",tag_pre:"Kods",template:"Veidne",lineHeight:"Līnijas augstums",paragraphStyle:"Paragrāfa stils",textStyle:"Teksta stils",imageGallery:"Attēlu galerija",dir_ltr:"No kreisās uz labo",dir_rtl:"No labās uz kreiso",mention:"Pieminēt"},dialogBox:{linkBox:{title:"Ievietot saiti",url:"Saites URL",text:"Parādāmais teksts",newWindowCheck:"Atvērt jaunā logā",downloadLinkCheck:"Lejupielādes saite",bookmark:"Grāmatzīme"},mathBox:{title:"Matemātika",inputLabel:"Matemātiskā notācija",fontSizeLabel:"Fonta lielums",previewLabel:"Priekšskatījums"},imageBox:{title:"Ievietot attēlu",file:"Izvēlieties no failiem",url:"Attēla URL",altText:"Alternatīvs teksts"},videoBox:{title:"Ievietot video",file:"Izvēlieties no failiem",url:"Multivides iegulšanas URL, YouTube/Vimeo"},audioBox:{title:"Ievietot audio",file:"Izvēlieties no failiem",url:"Audio URL"},browser:{tags:"Tagi",search:"Meklēt"},caption:"Ievietot aprakstu",close:"Aizvērt",submitButton:"Iesniegt",revertButton:"Atjaunot",proportion:"Ierobežo proporcijas",basic:"Nav iesaiņojuma",left:"Pa kreisi",right:"Labajā pusē",center:"Centrs",width:"Platums",height:"Augstums",size:"Izmērs",ratio:"Attiecība"},controller:{edit:"Rediģēt",unlink:"Atsaistīt",remove:"Noņemt",insertRowAbove:"Ievietot rindu virs",insertRowBelow:"Ievietot rindu zemāk",deleteRow:"Dzēst rindu",insertColumnBefore:"Ievietot kolonnu pirms",insertColumnAfter:"Ievietot kolonnu aiz",deleteColumn:"Dzēst kolonnu",fixColumnWidth:"Fiksēts kolonnas platums",resize100:"Mainīt izmēru 100%",resize75:"Mainīt izmēru 75%",resize50:"Mainīt izmēru 50%",resize25:"Mainīt izmēru 25%",autoSize:"Automātiskais izmērs",mirrorHorizontal:"Spogulis, horizontāls",mirrorVertical:"Spogulis, vertikāls",rotateLeft:"Pagriezt pa kreisi",rotateRight:"Pagriezt pa labi",maxSize:"Maksimālais izmērs",minSize:"Minimālais izmērs",tableHeader:"Tabulas galvene",mergeCells:"Apvienot šūnas",splitCells:"Sadalīt šūnas",HorizontalSplit:"Horizontāls sadalījums",VerticalSplit:"Vertikāls sadalījums"},menu:{spaced:"Ar atstarpi",bordered:"Robežojās",neon:"Neona",translucent:"Caurspīdīgs",shadow:"Ēna",code:"Kods"}};return void 0===t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"lv",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return i(e)}:i(t)},3035:function(e){"use strict";var t,i;t="undefined"!=typeof window?window:this,i=function(e,t){const i={code:"nl",toolbar:{default:"Standaard",save:"Opslaan",font:"Lettertype",formats:"Formaten",fontSize:"Lettergrootte",bold:"Vetgedrukt",underline:"Onderstrepen",italic:"Cursief",strike:"Doorstrepen",subscript:"Subscript",superscript:"Superscript",removeFormat:"Opmaak verwijderen",fontColor:"Tekstkleur",hiliteColor:"Tekst markeren",indent:"Inspringen",outdent:"Inspringen ongedaan maken",align:"Uitlijnen",alignLeft:"Links uitlijnen",alignRight:"Rechts uitlijnen",alignCenter:"In het midden uitlijnen",alignJustify:"Uitvullen",list:"Lijst",orderList:"Geordende lijst",unorderList:"Ongeordende lijst",horizontalRule:"Horizontale regel",hr_solid:"Standaard",hr_dotted:"Gestippeld",hr_dashed:"Gestreept",table:"Tabel",link:"Link",math:"Wiskunde",image:"Afbeelding",video:"Video",audio:"Audio",fullScreen:"Volledig scherm",showBlocks:"Blokken tonen",codeView:"Broncode weergeven",undo:"Ongedaan maken",redo:"Ongedaan maken herstellen",preview:"Voorbeeldweergave",print:"Printen",tag_p:"Alinea",tag_div:"Normaal (div)",tag_h:"Kop",tag_blockquote:"Citaat",tag_pre:"Code",template:"Sjabloon",lineHeight:"Lijnhoogte",paragraphStyle:"Alineastijl",textStyle:"Tekststijl",imageGallery:"Galerij",dir_ltr:"Van links naar rechts",dir_rtl:"Rechts naar links",mention:"Vermelding"},dialogBox:{linkBox:{title:"Link invoegen",url:"URL",text:"Tekst van de link",newWindowCheck:"In een nieuw tabblad openen",downloadLinkCheck:"Downloadlink",bookmark:"Bladwijzer"},mathBox:{title:"Wiskunde",inputLabel:"Wiskundige notatie",fontSizeLabel:"Lettergrootte",previewLabel:"Voorbeeld"},imageBox:{title:"Afbeelding invoegen",file:"Selecteer een bestand van uw apparaat",url:"URL",altText:"Alt-tekst"},videoBox:{title:"Video invoegen",file:"Selecteer een bestand van uw apparaat",url:"Embedded URL (YouTube/Vimeo)"},audioBox:{title:"Audio invoegen",file:"Selecteer een bestand van uw apparaat",url:"URL"},browser:{tags:"Tags",search:"Zoeken"},caption:"Omschrijving toevoegen",close:"Sluiten",submitButton:"Toepassen",revertButton:"Standaardwaarden herstellen",proportion:"Verhouding behouden",basic:"Standaard",left:"Links",right:"Rechts",center:"Midden",width:"Breedte",height:"Hoogte",size:"Grootte",ratio:"Verhouding"},controller:{edit:"Bewerken",unlink:"Ontkoppelen",remove:"Verwijderen",insertRowAbove:"Rij hierboven invoegen",insertRowBelow:"Rij hieronder invoegen",deleteRow:"Rij verwijderen",insertColumnBefore:"Kolom links invoegen",insertColumnAfter:"Kolom rechts invoegen",deleteColumn:"Kolom verwijderen",fixedColumnWidth:"Vaste kolombreedte",resize100:"Formaat wijzigen: 100%",resize75:"Formaat wijzigen: 75%",resize50:"Formaat wijzigen: 50%",resize25:"Formaat wijzigen: 25%",autoSize:"Automatische grootte",mirrorHorizontal:"Horizontaal spiegelen",mirrorVertical:"Verticaal spiegelen",rotateLeft:"Naar links draaien",rotateRight:"Naar rechts draaien",maxSize:"Maximale grootte",minSize:"Minimale grootte",tableHeader:"Tabelkoppen",mergeCells:"Cellen samenvoegen",splitCells:"Cellen splitsen",HorizontalSplit:"Horizontaal splitsen",VerticalSplit:"Verticaal splitsen"},menu:{spaced:"Uit elkaar",bordered:"Omlijnd",neon:"Neon",translucent:"Doorschijnend",shadow:"Schaduw",code:"Code"}};return void 0===t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"nl",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return i(e)}:i(t)},3581:function(e){"use strict";var t,i;t="undefined"!=typeof window?window:this,i=function(e,t){const i={code:"pl",toolbar:{default:"Domyślne",save:"Zapisz",font:"Czcionka",formats:"Formaty",fontSize:"Rozmiar",bold:"Pogrubienie",underline:"Podkreślenie",italic:"Kursywa",strike:"Przekreślenie",subscript:"Indeks dolny",superscript:"Indeks górny",removeFormat:"Wyczyść formatowanie",fontColor:"Kolor tekstu",hiliteColor:"Kolor tła tekstu",indent:"Zwiększ wcięcie",outdent:"Zmniejsz wcięcie",align:"Wyrównaj",alignLeft:"Do lewej",alignRight:"Do prawej",alignCenter:"Do środka",alignJustify:"Wyjustuj",list:"Lista",orderList:"Lista numerowana",unorderList:"Lista wypunktowana",horizontalRule:"Pozioma linia",hr_solid:"Ciągła",hr_dotted:"Kropkowana",hr_dashed:"Przerywana",table:"Tabela",link:"Odnośnik",math:"Matematyczne",image:"Obraz",video:"Wideo",audio:"Audio",fullScreen:"Pełny ekran",showBlocks:"Pokaż bloki",codeView:"Widok kodu",undo:"Cofnij",redo:"Ponów",preview:"Podgląd",print:"Drukuj",tag_p:"Akapit",tag_div:"Blok (DIV)",tag_h:"Nagłówek H",tag_blockquote:"Cytat",tag_pre:"Kod",template:"Szablon",lineHeight:"Odstęp między wierszami",paragraphStyle:"Styl akapitu",textStyle:"Styl tekstu",imageGallery:"Galeria obrazów",dir_ltr:"Od lewej do prawej",dir_rtl:"Od prawej do lewej",mention:"Wzmianka"},dialogBox:{linkBox:{title:"Wstaw odnośnik",url:"Adres URL",text:"Tekst do wyświetlenia",newWindowCheck:"Otwórz w nowym oknie",downloadLinkCheck:"Link do pobrania",bookmark:"Zakładka"},mathBox:{title:"Matematyczne",inputLabel:"Zapis matematyczny",fontSizeLabel:"Rozmiar czcionki",previewLabel:"Podgląd"},imageBox:{title:"Wstaw obraz",file:"Wybierz plik",url:"Adres URL obrazka",altText:"Tekst alternatywny"},videoBox:{title:"Wstaw wideo",file:"Wybierz plik",url:"Adres URL video, np. YouTube/Vimeo"},audioBox:{title:"Wstaw audio",file:"Wybierz plik",url:"Adres URL audio"},browser:{tags:"Tagi",search:"Szukaj"},caption:"Wstaw opis",close:"Zamknij",submitButton:"Zatwierdź",revertButton:"Cofnij zmiany",proportion:"Ogranicz proporcje",basic:"Bez wyrównania",left:"Do lewej",right:"Do prawej",center:"Do środka",width:"Szerokość",height:"Wysokość",size:"Rozmiar",ratio:"Proporcje"},controller:{edit:"Edycja",unlink:"Usuń odnośnik",remove:"Usuń",insertRowAbove:"Wstaw wiersz powyżej",insertRowBelow:"Wstaw wiersz poniżej",deleteRow:"Usuń wiersz",insertColumnBefore:"Wstaw kolumnę z lewej",insertColumnAfter:"Wstaw kolumnę z prawej",deleteColumn:"Usuń kolumnę",fixedColumnWidth:"Stała szerokość kolumny",resize100:"Zmień rozmiar - 100%",resize75:"Zmień rozmiar - 75%",resize50:"Zmień rozmiar - 50%",resize25:"Zmień rozmiar - 25%",autoSize:"Rozmiar automatyczny",mirrorHorizontal:"Odbicie lustrzane w poziomie",mirrorVertical:"Odbicie lustrzane w pionie",rotateLeft:"Obróć w lewo",rotateRight:"Obróć w prawo",maxSize:"Maksymalny rozmiar",minSize:"Minimalny rozmiar",tableHeader:"Nagłówek tabeli",mergeCells:"Scal komórki",splitCells:"Podziel komórki",HorizontalSplit:"Podział poziomy",VerticalSplit:"Podział pionowy"},menu:{spaced:"Rozstawiony",bordered:"Z obwódką",neon:"Neon",translucent:"Półprzezroczysty",shadow:"Cień",code:"Kod"}};return void 0===t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"pl",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return i(e)}:i(t)},628:function(e){"use strict";var t,i;t="undefined"!=typeof window?window:this,i=function(e,t){const i={code:"pt_br",toolbar:{default:"Padrão",save:"Salvar",font:"Fonte",formats:"Formatos",fontSize:"Tamanho",bold:"Negrito",underline:"Sublinhado",italic:"Itálico",strike:"Riscado",subscript:"Subescrito",superscript:"Sobrescrito",removeFormat:"Remover Formatação",fontColor:"Cor da Fonte",hiliteColor:"Cor de destaque",indent:"Recuo",outdent:"Avançar",align:"Alinhar",alignLeft:"Alinhar à esquerda",alignRight:"Alinhar à direita",alignCenter:"Centralizar",alignJustify:"Justificar",list:"Lista",orderList:"Lista ordenada",unorderList:"Lista desordenada",horizontalRule:"Linha horizontal",hr_solid:"sólida",hr_dotted:"pontilhada",hr_dashed:"tracejada",table:"Tabela",link:"Link",math:"Matemática",image:"Imagem",video:"Vídeo",audio:"Áudio",fullScreen:"Tela cheia",showBlocks:"Mostrar blocos",codeView:"Mostrar códigos",undo:"Voltar",redo:"Refazer",preview:"Prever",print:"Imprimir",tag_p:"Paragráfo",tag_div:"(DIV) Normal",tag_h:"Cabeçalho",tag_blockquote:"Citar",tag_pre:"Código",template:"Modelo",lineHeight:"Altura da linha",paragraphStyle:"Estilo do parágrafo",textStyle:"Estilo do texto",imageGallery:"Galeria de imagens",dir_ltr:"Esquerda para direita",dir_rtl:"Direita para esquerda",mention:"Menção"},dialogBox:{linkBox:{title:"Inserir link",url:"URL para link",text:"Texto a mostrar",newWindowCheck:"Abrir em nova guia",downloadLinkCheck:"Link para Download",bookmark:"marcar páginas"},mathBox:{title:"Matemática",inputLabel:"Notação matemática",fontSizeLabel:"Tamanho",previewLabel:"Prever"},imageBox:{title:"Inserir imagens",file:"Selecionar arquivos",url:"URL da imagem",altText:"Texto alternativo"},videoBox:{title:"Inserir vídeo",file:"Selecionar arquivos",url:"URL do YouTube/Vimeo"},audioBox:{title:"Inserir áudio",file:"Selecionar arquivos",url:"URL da áudio"},browser:{tags:"Tag",search:"Procurar"},caption:"Inserir descrição",close:"Fechar",submitButton:"Enviar",revertButton:"Reverter",proportion:"Restringir proporções",basic:"Básico",left:"Esquerda",right:"Direita",center:"Centro",width:"Largura",height:"Altura",size:"Tamanho",ratio:"Proporções"},controller:{edit:"Editar",unlink:"Remover link",remove:"Remover",insertRowAbove:"Inserir linha acima",insertRowBelow:"Inserir linha abaixo",deleteRow:"Deletar linha",insertColumnBefore:"Inserir coluna antes",insertColumnAfter:"Inserir coluna depois",deleteColumn:"Deletar coluna",fixedColumnWidth:"Largura fixa da coluna",resize100:"Redimensionar para 100%",resize75:"Redimensionar para 75%",resize50:"Redimensionar para 50%",resize25:"Redimensionar para 25%",autoSize:"Tamanho automático",mirrorHorizontal:"Espelho, Horizontal",mirrorVertical:"Espelho, Vertical",rotateLeft:"Girar para esquerda",rotateRight:"Girar para direita",maxSize:"Tam máx",minSize:"Tam mín",tableHeader:"Cabeçalho da tabela",mergeCells:"Mesclar células",splitCells:"Dividir células",HorizontalSplit:"Divisão horizontal",VerticalSplit:"Divisão vertical"},menu:{spaced:"Espaçado",bordered:"Com borda",neon:"Neon",translucent:"Translúcido",shadow:"Sombreado",code:"Código"}};return void 0===t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"pt_br",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return i(e)}:i(t)},7426:function(e){"use strict";var t,i;t="undefined"!=typeof window?window:this,i=function(e,t){const i={code:"ro",toolbar:{default:"Default",save:"Salvează",font:"Font",formats:"Format",fontSize:"Dimensiune",bold:"Îngroșat",underline:"Subliniat",italic:"Înclinat",strike:"Tăiat",subscript:"Subscript",superscript:"Superscript",removeFormat:"Șterge formatare",fontColor:"Culoare font",hiliteColor:"Culoare de evidențiere",indent:"Indentează",outdent:"Fără indentare",align:"Aliniere",alignLeft:"Aliniere la stânga",alignRight:"Aliniere la dreapta",alignCenter:"Aliniere la centru",alignJustify:"Aliniere stânga - dreapta",list:"Listă",orderList:"Listă ordonată",unorderList:"Listă neordonată",horizontalRule:"Linie orizontală",hr_solid:"Solid",hr_dotted:"Punctat",hr_dashed:"Punctate",table:"Tabel",link:"Link",math:"Matematică",image:"Imagine",video:"Video",audio:"Audio",fullScreen:"Tot ecranul",showBlocks:"Arată blocuri",codeView:"Vizualizare cod",undo:"Anulează",redo:"Refă",preview:"Previzualizare",print:"printează",tag_p:"Paragraf",tag_div:"Normal (DIV)",tag_h:"Antet",tag_blockquote:"Quote",tag_pre:"Citat",template:"Template",lineHeight:"Înălțime linie",paragraphStyle:"Stil paragraf",textStyle:"Stil text",imageGallery:"Galerie de imagini",dir_ltr:"De la stânga la dreapta",dir_rtl:"De la dreapta la stanga",mention:"Mentiune"},dialogBox:{linkBox:{title:"Inserează Link",url:"Adresă link",text:"Text de afișat",newWindowCheck:"Deschide în fereastră nouă",downloadLinkCheck:"Link de descărcare",bookmark:"Marcaj"},mathBox:{title:"Matematică",inputLabel:"Notație matematică",fontSizeLabel:"Dimensiune font",previewLabel:"Previzualizare"},imageBox:{title:"Inserează imagine",file:"Selectează",url:"URL imagine",altText:"text alternativ"},videoBox:{title:"Inserează video",file:"Selectează",url:"Include URL, youtube/vimeo"},audioBox:{title:"Inserează Audio",file:"Selectează",url:"URL Audio"},browser:{tags:"Etichete",search:"Căutareim"},caption:"Inserează descriere",close:"Închide",submitButton:"Salvează",revertButton:"Revenire",proportion:"Constrânge proporțiile",basic:"De bază",left:"Stânga",right:"Dreapta",center:"Centru",width:"Lățime",height:"Înălțime",size:"Dimensiune",ratio:"Ratie"},controller:{edit:"Editează",unlink:"Scoate link",remove:"Elimină",insertRowAbove:"Inserează rând deasupra",insertRowBelow:"Inserează rând dedesupt",deleteRow:"Șterge linie",insertColumnBefore:"Inserează coloană înainte",insertColumnAfter:"Inserează coloană după",deleteColumn:"Șterge coloană",fixedColumnWidth:"Lățime fixă coloană",resize100:"Redimensionare 100%",resize75:"Redimensionare 75%",resize50:"Redimensionare 50%",resize25:"Redimensionare 25%",autoSize:"Dimensiune automată",mirrorHorizontal:"Oglindă, orizontal",mirrorVertical:"Oglindă, vertical",rotateLeft:"Rotește la stânga",rotateRight:"Rotește la dreapta",maxSize:"Dimensiune maximă",minSize:"Dimensiune minimă",tableHeader:"Antet tabel",mergeCells:"Îmbină celule",splitCells:"Divizează celule",HorizontalSplit:"Despicare orizontală",VerticalSplit:"Despicare verticală"},menu:{spaced:"Spațiat",bordered:"Mărginit",neon:"Neon",translucent:"Translucent",shadow:"Umbră",code:"Citat"}};return void 0===t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"ro",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return i(e)}:i(t)},2240:function(e){"use strict";var t,i;t="undefined"!=typeof window?window:this,i=function(e,t){const i={code:"ru",toolbar:{default:"По умолчанию",save:"Сохранить",font:"Шрифт",formats:"Стиль абзаца",fontSize:"Размер шрифта",bold:"Полужирный",underline:"Подчёркнутый",italic:"Курсив",strike:"Зачеркнутый",subscript:"Нижний индекс",superscript:"Верхний индекс",removeFormat:"Очистить форматирование",fontColor:"Цвет текста",hiliteColor:"Цвет фона",indent:"Увеличить отступ",outdent:"Уменьшить отступ",align:"Выравнивание",alignLeft:"Слева",alignRight:"Справа",alignCenter:"По центру",alignJustify:"По ширине",list:"Списки",orderList:"Нумерованный",unorderList:"Маркированный",horizontalRule:"Горизонтальная линия",hr_solid:"Сплошная",hr_dotted:"Пунктир",hr_dashed:"Штриховая",table:"Таблица",link:"Ссылка",math:"математический",image:"Изображение",video:"Видео",audio:"Аудио",fullScreen:"Полный экран",showBlocks:"Блочный вид",codeView:"Редактировать HTML",undo:"Отменить",redo:"Вернуть",preview:"Предварительный просмотр",print:"Печать",tag_p:"Текст",tag_div:"Базовый",tag_h:"Заголовок",tag_blockquote:"Цитата",tag_pre:"Код",template:"Шаблон",lineHeight:"Высота линии",paragraphStyle:"Стиль абзаца",textStyle:"Стиль текста",imageGallery:"Галерея",dir_ltr:"Слева направо",dir_rtl:"Справа налево",mention:"Упоминание"},dialogBox:{linkBox:{title:"Вставить ссылку",url:"Ссылка",text:"Текст",newWindowCheck:"Открывать в новом окне",downloadLinkCheck:"Ссылка для скачивания",bookmark:"Закладка"},mathBox:{title:"математический",inputLabel:"Математическая запись",fontSizeLabel:"Кегль",previewLabel:"Предварительный просмотр"},imageBox:{title:"Вставить изображение",file:"Выберите файл",url:"Адрес изображения",altText:"Текстовое описание изображения"},videoBox:{title:"Вставить видео",file:"Выберите файл",url:"Ссылка на видео, Youtube,Vimeo"},audioBox:{title:"Вставить аудио",file:"Выберите файл",url:"Адрес аудио"},browser:{tags:"Теги",search:"Поиск"},caption:"Добавить подпись",close:"Закрыть",submitButton:"Подтвердить",revertButton:"Сбросить",proportion:"Сохранить пропорции",basic:"Без обтекания",left:"Слева",right:"Справа",center:"По центру",width:"Ширина",height:"Высота",size:"Размер",ratio:"Соотношение"},controller:{edit:"Изменить",unlink:"Убрать ссылку",remove:"Удалить",insertRowAbove:"Вставить строку выше",insertRowBelow:"Вставить строку ниже",deleteRow:"Удалить строку",insertColumnBefore:"Вставить столбец слева",insertColumnAfter:"Вставить столбец справа",deleteColumn:"Удалить столбец",fixedColumnWidth:"Фиксированная ширина столбца",resize100:"Размер 100%",resize75:"Размер 75%",resize50:"Размер 50%",resize25:"Размер 25%",autoSize:"Авто размер",mirrorHorizontal:"Отразить по горизонтали",mirrorVertical:"Отразить по вертикали",rotateLeft:"Повернуть против часовой стрелки",rotateRight:"Повернуть по часовой стрелке",maxSize:"Ширина по размеру страницы",minSize:"Ширина по содержимому",tableHeader:"Строка заголовков",mergeCells:"Объединить ячейки",splitCells:"Разделить ячейку",HorizontalSplit:"Разделить горизонтально",VerticalSplit:"Разделить вертикально"},menu:{spaced:"интервал",bordered:"Граничная Линия",neon:"неон",translucent:"полупрозрачный",shadow:"Тень",code:"Код"}};return void 0===t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"ru",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return i(e)}:i(t)},1097:function(e){"use strict";var t,i;t="undefined"!=typeof window?window:this,i=function(e,t){const i={code:"se",toolbar:{default:"Default",save:"Spara",font:"Typsnitt",formats:"Format",fontSize:"Textstorlek",bold:"Fet",underline:"Understruket",italic:"Kursiv",strike:"Överstruket",subscript:"Sänkt skrift",superscript:"Höjd skrift",removeFormat:"Ta bort formattering",fontColor:"Textfärg",hiliteColor:"Bakgrundsfärg",indent:"Minska indrag",outdent:"Öka indrag",align:"Justering",alignLeft:"Vänsterjustering",alignRight:"Högerjustering",alignCenter:"Mittenjusteirng",alignJustify:"Justera indrag",list:"Listor",orderList:"Numrerad lista",unorderList:"Oordnad lista",horizontalRule:"Horisontell linje",hr_solid:"Solid",hr_dotted:"Punkter",hr_dashed:"Prickad",table:"Tabell",link:"Länk",math:"Math",image:"Bild",video:"Video",audio:"Ljud",fullScreen:"Helskärm",showBlocks:"Visa block",codeView:"Visa koder",undo:"Ångra",redo:"Gör om",preview:"Preview",print:"Print",tag_p:"Paragraf",tag_div:"Normal (DIV)",tag_h:"Rubrik",tag_blockquote:"Citer",tag_pre:"Kod",template:"Mall",lineHeight:"Linjehöjd",paragraphStyle:"Stil på stycke",textStyle:"Textstil",imageGallery:"Bildgalleri",dir_ltr:"Vänster till höger",dir_rtl:"Höger till vänster",mention:"Namn"},dialogBox:{linkBox:{title:"Lägg till länk",url:"URL till länk",text:"Länktext",newWindowCheck:"Öppna i nytt fönster",downloadLinkCheck:"Nedladdningslänk",bookmark:"Bokmärke"},mathBox:{title:"Math",inputLabel:"Matematisk notation",fontSizeLabel:"Textstorlek",previewLabel:"Preview"},imageBox:{title:"Lägg till bild",file:"Lägg till från fil",url:"Lägg till från URL",altText:"Alternativ text"},videoBox:{title:"Lägg till video",file:"Lägg till från fil",url:"Bädda in video / YouTube,Vimeo"},audioBox:{title:"Lägg till ljud",file:"Lägg till från fil",url:"Lägg till från URL"},browser:{tags:"Tags",search:"Sök"},caption:"Lägg till beskrivning",close:"Stäng",submitButton:"Skicka",revertButton:"Återgå",proportion:"Spara proportioner",basic:"Basic",left:"Vänster",right:"Höger",center:"Center",width:"Bredd",height:"Höjd",size:"Storlek",ratio:"Förhållande"},controller:{edit:"Redigera",unlink:"Ta bort länk",remove:"Ta bort",insertRowAbove:"Lägg till rad över",insertRowBelow:"Lägg till rad under",deleteRow:"Ta bort rad",insertColumnBefore:"Lägg till kolumn före",insertColumnAfter:"Lägg till kolumn efter",deleteColumn:"Ta bort kolumner",fixedColumnWidth:"Fast kolumnbredd",resize100:"Förstora 100%",resize75:"Förstora 75%",resize50:"Förstora 50%",resize25:"Förstora 25%",autoSize:"Autostorlek",mirrorHorizontal:"Spegling, horisontell",mirrorVertical:"Spegling, vertikal",rotateLeft:"Rotera till vänster",rotateRight:"Rotera till höger",maxSize:"Maxstorlek",minSize:"Minsta storlek",tableHeader:"Rubrik tabell",mergeCells:"Sammanfoga celler (merge)",splitCells:"Separera celler",HorizontalSplit:"Separera horisontalt",VerticalSplit:"Separera vertikalt"},menu:{spaced:"Avstånd",bordered:"Avgränsningslinje",neon:"Neon",translucent:"Genomskinlig",shadow:"Skugga",code:"Kod"}};return void 0===t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"se",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return i(e)}:i(t)},7335:function(e){"use strict";var t,i;t="undefined"!=typeof window?window:this,i=function(e,t){const i={code:"ua",toolbar:{default:"По замовчуванням",save:"Зберегти",font:"Шрифт",formats:"Стиль абзацу",fontSize:"Розмір шрифту",bold:"Жирний",underline:"Підкреслений",italic:"Курсив",strike:"Перекреслити",subscript:"Нижній індекс",superscript:"Верхній індекс",removeFormat:"Очистити форматування",fontColor:"Колір тексту",hiliteColor:"Колір виділення",indent:"Збільшити відступ",outdent:"Зменшити відступ",align:"Вирівнювання",alignLeft:"За лівим краєм",alignRight:"За правим краєм",alignCenter:"По центру",alignJustify:"За шириною",list:"Список",orderList:"Нумерований",unorderList:"Маркований",horizontalRule:"Горизонтальна лінія",hr_solid:"Суцільна",hr_dotted:"Пунктирна",hr_dashed:"Штрихова",table:"Таблиця",link:"Посилання",math:"Формула",image:"Зображення",video:"Відео",audio:"Аудіо",fullScreen:"Повний екран",showBlocks:"Показати блоки",codeView:"Редагувати як HTML",undo:"Скасувати",redo:"Виконати знову",preview:"Попередній перегляд",print:"Друк",tag_p:"Абзац",tag_div:"Базовий",tag_h:"Заголовок",tag_blockquote:"Цитата",tag_pre:"Код",template:"Шаблон",lineHeight:"Висота лінії",paragraphStyle:"Стиль абзацу",textStyle:"Стиль тексту",imageGallery:"Галерея",dir_ltr:"Зліва направо",dir_rtl:"Справа наліво",mention:"Згадати"},dialogBox:{linkBox:{title:"Вставити посилання",url:"Посилання",text:"Текст",newWindowCheck:"Відкривати в новому вікні",downloadLinkCheck:"Посилання для завантаження",bookmark:"Закладка"},mathBox:{title:"Формула",inputLabel:"Математична запис",fontSizeLabel:"Розмір шрифту",previewLabel:"Попередній перегляд"},imageBox:{title:"Вставити зображення",file:"Виберіть файл",url:"Посилання на зображення",altText:"Текстовий опис зображення"},videoBox:{title:"Вставити відео",file:"Виберіть файл",url:"Посилання на відео, Youtube, Vimeo"},audioBox:{title:"Вставити аудіо",file:"Виберіть файл",url:"Посилання на аудіо"},browser:{tags:"Теги",search:"Пошук"},caption:"Додати підпис",close:"Закрити",submitButton:"Підтвердити",revertButton:"Скинути",proportion:"Зберегти пропорції",basic:"Без обтікання",left:"Зліва",right:"Справа",center:"По центру",width:"Ширина",height:"Висота",size:"Розмір",ratio:"Співвідношення"},controller:{edit:"Змінити",unlink:"Прибрати посилання",remove:"Видалити",insertRowAbove:"Вставити рядок вище",insertRowBelow:"Вставити рядок нижче",deleteRow:"Видалити рядок",insertColumnBefore:"Вставити стовпець зліва",insertColumnAfter:"Вставити стовпець справа",deleteColumn:"Видалити стовпець",fixedColumnWidth:"Фіксована ширина стовпця",resize100:"Розмір 100%",resize75:"Розмір 75%",resize50:"Розмір 50%",resize25:"Розмір 25%",autoSize:"Авто розмір",mirrorHorizontal:"Відобразити по горизонталі",mirrorVertical:"Відобразити по вертикалі",rotateLeft:"Повернути проти годинникової стрілки",rotateRight:"Повернути за годинниковою стрілкою",maxSize:"Ширина за розміром сторінки",minSize:"Ширина за вмістом",tableHeader:"Заголовок таблиці",mergeCells:"Об'єднати клітинки",splitCells:"Розділити клітинку",HorizontalSplit:"Розділити горизонтально",VerticalSplit:"Розділити вертикально"},menu:{spaced:"Інтервал",bordered:"З лініями",neon:"Неон",translucent:"Напівпрозорий",shadow:"Тінь",code:"Код"}};return void 0===t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"ua",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return i(e)}:i(t)},7674:function(e){"use strict";var t,i;t="undefined"!=typeof window?window:this,i=function(e,t){const i={code:"ur",toolbar:{default:"طے شدہ",save:"محفوظ کریں",font:"فونٹ",formats:"فارمیٹس",fontSize:"سائز",bold:"بولڈ",underline:"انڈر لائن",italic:"ترچھا",strike:"لکیرہ کردہ",subscript:"ذیلی",superscript:"انتہائی",removeFormat:"فارمیٹ کو حذف دیں",fontColor:"لکھائی کا رنگ",hiliteColor:"نمایاں رنگ",indent:"حاشیہ",outdent:"ہاشیہ واپس",align:"رخ",alignLeft:"بائیں طرف",alignRight:"دائیں طرف",alignCenter:"مرکز میں طرف",alignJustify:"ہر طرف برابر",list:"فہرست",orderList:"ترتیب شدہ فہرست",unorderList:"غیر ترتیب شدہ فہرست",horizontalRule:"لکیر",hr_solid:"ٹھوس",hr_dotted:"نقطے دار",hr_dashed:"ڈیشڈ",table:"میز",link:"لنک",math:"ریاضی",image:"تصویر",video:"ویڈیو",audio:"آواز",fullScreen:"پوری اسکرین",showBlocks:"ڈبے دکھائیں",codeView:"کوڈ کا نظارہ",undo:"واپس کریں",redo:"دوبارہ کریں",preview:"پیشنظر",print:"پرنٹ کریں",tag_p:"پیراگراف",tag_div:"عام (div)",tag_h:"ہیڈر",tag_blockquote:"اقتباس",tag_pre:"کوڈ",template:"سانچہ",lineHeight:"لکیر کی اونچائی",paragraphStyle:"عبارت کا انداز",textStyle:"متن کا انداز",imageGallery:"تصویری نگارخانہ",dir_ltr:"بائیں سے دائیں",dir_rtl:"دائیں سے بائیں",mention:"تذکرہ"},dialogBox:{linkBox:{title:"لنک داخل کریں",url:"لنک کرنے کے لیے URL",text:"ظاہر کرنے کے لیے متن",newWindowCheck:"نئی ونڈو میں کھولیں",downloadLinkCheck:"ڈاؤن لوڈ لنک",bookmark:"بک مارک"},mathBox:{title:"ریاضی",inputLabel:"ریاضیاتی اشارے",fontSizeLabel:"حرف کا سائز",previewLabel:"پیش نظارہ"},imageBox:{title:"تصویر داخل کریں",file:"فائلوں سے منتخب کریں",url:"تصویری URL",altText:"متبادل متن"},videoBox:{title:"ویڈیو داخل کریں",file:"فائلوں سے منتخب کریں",url:"ذرائع ابلاغ کا یو آر ایل، یوٹیوب/ویمیو"},audioBox:{title:"آواز داخل کریں",file:"فائلوں سے منتخب کریں",url:"آواز URL"},browser:{tags:"ٹیگز",search:"تلاش کریں"},caption:"عنوان",close:"بند کریں",submitButton:"بھیجیں",revertButton:"واپس",proportion:"تناسب کو محدود کریں",basic:"بنیادی",left:"بائیں",right:"دائیں",center:"مرکز",width:"چوڑائی",height:"اونچائی",size:"حجم",ratio:"تناسب"},controller:{edit:"ترمیم",unlink:"لنک ختم کریں",remove:"حذف",insertRowAbove:"اوپر قطار شامل کریں",insertRowBelow:"نیچے قطار شامل کریں",deleteRow:"قطار کو حذف کریں",insertColumnBefore:"پہلے ستون شامل کریں",insertColumnAfter:"اس کے بعد ستون شامل کریں",deleteColumn:"ستون حذف کریں",fixedColumnWidth:"مقررہ ستون کی چوڑائی",resize100:"100% کا حجم تبدیل کریں",resize75:"75% کا حجم تبدیل کریں",resize50:"50% کا حجم تبدیل کریں",resize25:"25% کا حجم تبدیل کریں",autoSize:"ازخود حجم",mirrorHorizontal:"آئینہ، افقی",mirrorVertical:"آئینہ، عمودی",rotateLeft:"بائیں گھومو",rotateRight:"دائیں گھمائیں",maxSize:"زیادہ سے زیادہ سائز",minSize:"کم از کم سائز",tableHeader:"میز کی سرخی",mergeCells:"حجروں کو ضم کریں",splitCells:"حجروں کو علیدہ کرو",HorizontalSplit:"افقی تقسیم",VerticalSplit:"عمودی تقسیم"},menu:{spaced:"فاصلہ",bordered:"سرحدی",neon:"نیین",translucent:"پارباسی",shadow:"سایہ",code:"کوڈ"}};return void 0===t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"ur",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return i(e)}:i(t)},4295:function(e){"use strict";var t,i;t="undefined"!=typeof window?window:this,i=function(e,t){const i={code:"zh_cn",toolbar:{default:"默认",save:"保存",font:"字体",formats:"格式",fontSize:"字号",bold:"粗体",underline:"下划线",italic:"斜体",strike:"删除线",subscript:"下标",superscript:"上标",removeFormat:"清除格式",fontColor:"字体颜色",hiliteColor:"背景颜色",indent:"增加缩进",outdent:"减少缩进",align:"对齐方式",alignLeft:"左对齐",alignRight:"右对齐",alignCenter:"居中",alignJustify:"两端对齐",list:"列表",orderList:"有序列表",unorderList:"无序列表",horizontalRule:"水平线",hr_solid:"实线",hr_dotted:"点线",hr_dashed:"虚线",table:"表格",link:"超链接",math:"数学",image:"图片",video:"视频",audio:"音讯",fullScreen:"全屏",showBlocks:"显示块区域",codeView:"代码视图",undo:"撤消",redo:"恢复",preview:"预览",print:"打印",tag_p:"段落",tag_div:"正文 (DIV)",tag_h:"标题",tag_blockquote:"引用",tag_pre:"代码",template:"模板",lineHeight:"行高",paragraphStyle:"段落样式",textStyle:"文字样式",imageGallery:"图片库",dir_ltr:"左到右",dir_rtl:"右到左",mention:"提到"},dialogBox:{linkBox:{title:"插入超链接",url:"网址",text:"要显示的文字",newWindowCheck:"在新标签页中打开",downloadLinkCheck:"下载链接",bookmark:"书签"},mathBox:{title:"数学",inputLabel:"数学符号",fontSizeLabel:"字号",previewLabel:"预览"},imageBox:{title:"插入图片",file:"上传图片",url:"图片网址",altText:"替换文字"},videoBox:{title:"插入视频",file:"上传图片",url:"嵌入网址, Youtube,Vimeo"},audioBox:{title:"插入音频",file:"上传图片",url:"音频网址"},browser:{tags:"标签",search:"搜索"},caption:"标题",close:"取消",submitButton:"确定",revertButton:"恢复",proportion:"比例",basic:"基本",left:"左",right:"右",center:"居中",width:"宽度",height:"高度",size:"尺寸",ratio:"比"},controller:{edit:"编辑",unlink:"去除链接",remove:"删除",insertRowAbove:"在上方插入",insertRowBelow:"在下方插入",deleteRow:"删除行",insertColumnBefore:"在左侧插入",insertColumnAfter:"在右侧插入",deleteColumn:"删除列",fixedColumnWidth:"固定列宽",resize100:"放大 100%",resize75:"放大 75%",resize50:"放大 50%",resize25:"放大 25%",mirrorHorizontal:"翻转左右",mirrorVertical:"翻转上下",rotateLeft:"向左旋转",rotateRight:"向右旋转",maxSize:"最大尺寸",minSize:"最小尺寸",tableHeader:"表格标题",mergeCells:"合并单元格",splitCells:"分割单元格",HorizontalSplit:"水平分割",VerticalSplit:"垂直分割"},menu:{spaced:"间隔开",bordered:"边界线",neon:"霓虹灯",translucent:"半透明",shadow:"阴影",code:"代码"}};return void 0===t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"zh_cn",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return i(e)}:i(t)},9254:function(e){"use strict";var t,i;t="undefined"!=typeof window?window:this,i=function(e,t){const i={name:"component",set_container:function(e,t){const i=this.util.createElement("DIV");return i.className="se-component "+t,i.appendChild(e),i},set_cover:function(e){const t=this.util.createElement("FIGURE");return t.appendChild(e),t},create_caption:function(){const e=this.util.createElement("FIGCAPTION");return e.innerHTML="<div>"+this.lang.dialogBox.caption+"</div>",e}};return void 0===t&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"component",{enumerable:!0,writable:!1,configurable:!1,value:i})),i},"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_MODULES a window with a document");return i(e)}:i(t)},7793:function(e){"use strict";var t,i;t="undefined"!=typeof window?window:this,i=function(e,t){const i={name:"dialog",add:function(e){const t=e.context;t.dialog={kind:"",updateModal:!1,_closeSignal:!1};let i=e.util.createElement("DIV");i.className="se-dialog sun-editor-common";let n=e.util.createElement("DIV");n.className="se-dialog-back",n.style.display="none";let o=e.util.createElement("DIV");o.className="se-dialog-inner",o.style.display="none",i.appendChild(n),i.appendChild(o),t.dialog.modalArea=i,t.dialog.back=n,t.dialog.modal=o,t.dialog.modal.addEventListener("mousedown",this._onMouseDown_dialog.bind(e)),t.dialog.modal.addEventListener("click",this._onClick_dialog.bind(e)),t.element.relative.appendChild(i),i=null,n=null,o=null},_onMouseDown_dialog:function(e){/se-dialog-inner/.test(e.target.className)?this.context.dialog._closeSignal=!0:this.context.dialog._closeSignal=!1},_onClick_dialog:function(e){(/close/.test(e.target.getAttribute("data-command"))||this.context.dialog._closeSignal)&&this.plugins.dialog.close.call(this)},open:function(e,t){if(this.modalForm)return!1;this.plugins.dialog._bindClose&&(this._d.removeEventListener("keydown",this.plugins.dialog._bindClose),this.plugins.dialog._bindClose=null),this.plugins.dialog._bindClose=function(e){/27/.test(e.keyCode)&&this.plugins.dialog.close.call(this)}.bind(this),this._d.addEventListener("keydown",this.plugins.dialog._bindClose),this.context.dialog.updateModal=t,"full"===this.options.popupDisplay?this.context.dialog.modalArea.style.position="fixed":this.context.dialog.modalArea.style.position="absolute",this.context.dialog.kind=e,this.modalForm=this.context[e].modal;const i=this.context[e].focusElement;"function"==typeof this.plugins[e].on&&this.plugins[e].on.call(this,t),this.context.dialog.modalArea.style.display="block",this.context.dialog.back.style.display="block",this.context.dialog.modal.style.display="block",this.modalForm.style.display="block",i&&i.focus()},_bindClose:null,close:function(){this.plugins.dialog._bindClose&&(this._d.removeEventListener("keydown",this.plugins.dialog._bindClose),this.plugins.dialog._bindClose=null);const e=this.context.dialog.kind;this.modalForm.style.display="none",this.context.dialog.back.style.display="none",this.context.dialog.modalArea.style.display="none",this.context.dialog.updateModal=!1,"function"==typeof this.plugins[e].init&&this.plugins[e].init.call(this),this.context.dialog.kind="",this.modalForm=null,this.focus()}};return void 0===t&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"dialog",{enumerable:!0,writable:!1,configurable:!1,value:i})),i},"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_MODULES a window with a document");return i(e)}:i(t)},1023:function(e){"use strict";var t,i;t="undefined"!=typeof window?window:this,i=function(e,t){const i={name:"fileBrowser",_xmlHttp:null,_loading:null,add:function(e){const t=e.context;t.fileBrowser={_closeSignal:!1,area:null,header:null,tagArea:null,body:null,list:null,tagElements:null,items:[],selectedTags:[],selectorHandler:null,contextPlugin:"",columnSize:4};let i=e.util.createElement("DIV");i.className="se-file-browser sun-editor-common";let n=e.util.createElement("DIV");n.className="se-file-browser-back";let o=e.util.createElement("DIV");o.className="se-file-browser-inner",o.innerHTML=this.set_browser(e),i.appendChild(n),i.appendChild(o),this._loading=i.querySelector(".se-loading-box"),t.fileBrowser.area=i,t.fileBrowser.header=o.querySelector(".se-file-browser-header"),t.fileBrowser.titleArea=o.querySelector(".se-file-browser-title"),t.fileBrowser.tagArea=o.querySelector(".se-file-browser-tags"),t.fileBrowser.body=o.querySelector(".se-file-browser-body"),t.fileBrowser.list=o.querySelector(".se-file-browser-list"),t.fileBrowser.tagArea.addEventListener("click",this.onClickTag.bind(e)),t.fileBrowser.list.addEventListener("click",this.onClickFile.bind(e)),o.addEventListener("mousedown",this._onMouseDown_browser.bind(e)),o.addEventListener("click",this._onClick_browser.bind(e)),t.element.relative.appendChild(i),i=null,n=null,o=null},set_browser:function(e){const t=e.lang;return'<div class="se-file-browser-content"><div class="se-file-browser-header"><button type="button" data-command="close" class="se-btn se-file-browser-close" class="close" title="'+t.dialogBox.close+'" aria-label="'+t.dialogBox.close+'">'+e.icons.cancel+'</button><span class="se-file-browser-title"></span><div class="se-file-browser-tags"></div></div><div class="se-file-browser-body"><div class="se-loading-box sun-editor-common"><div class="se-loading-effect"></div></div><div class="se-file-browser-list"></div></div></div>'},_onMouseDown_browser:function(e){/se-file-browser-inner/.test(e.target.className)?this.context.fileBrowser._closeSignal=!0:this.context.fileBrowser._closeSignal=!1},_onClick_browser:function(e){e.stopPropagation(),(/close/.test(e.target.getAttribute("data-command"))||this.context.fileBrowser._closeSignal)&&this.plugins.fileBrowser.close.call(this)},open:function(e,t){this.plugins.fileBrowser._bindClose&&(this._d.removeEventListener("keydown",this.plugins.fileBrowser._bindClose),this.plugins.fileBrowser._bindClose=null),this.plugins.fileBrowser._bindClose=function(e){/27/.test(e.keyCode)&&this.plugins.fileBrowser.close.call(this)}.bind(this),this._d.addEventListener("keydown",this.plugins.fileBrowser._bindClose);const i=this.context.fileBrowser;i.contextPlugin=e,i.selectorHandler=t;const n=this.context[e],o=n.listClass;this.util.hasClass(i.list,o)||(i.list.className="se-file-browser-list "+o),"full"===this.options.popupDisplay?i.area.style.position="fixed":i.area.style.position="absolute",i.titleArea.textContent=n.title,i.area.style.display="block",this.context[e].directData?this.plugins.fileBrowser._drawListItem.call(this,this.context[e].directData,!0):this.plugins.fileBrowser._drawFileList.call(this,this.context[e].url,this.context[e].header)},_bindClose:null,close:function(){const e=this.plugins.fileBrowser;e._xmlHttp&&e._xmlHttp.abort(),e._bindClose&&(this._d.removeEventListener("keydown",e._bindClose),e._bindClose=null);const t=this.context.fileBrowser;t.area.style.display="none",t.selectorHandler=null,t.selectedTags=[],t.items=[],t.list.innerHTML=t.tagArea.innerHTML=t.titleArea.textContent="","function"==typeof this.plugins[t.contextPlugin].init&&this.plugins[t.contextPlugin].init.call(this),t.contextPlugin=""},showBrowserLoading:function(){this._loading.style.display="block"},closeBrowserLoading:function(){this._loading.style.display="none"},_drawFileList:function(e,t){const i=this.plugins.fileBrowser,n=i._xmlHttp=this.util.getXMLHttpRequest();if(n.onreadystatechange=i._callBackGet.bind(this,n),n.open("get",e,!0),null!==t&&"object"==typeof t&&this._w.Object.keys(t).length>0)for(let e in t)n.setRequestHeader(e,t[e]);n.send(null),this.plugins.fileBrowser.showBrowserLoading()},_callBackGet:function(e){if(4===e.readyState)if(this.plugins.fileBrowser._xmlHttp=null,200===e.status)try{const t=JSON.parse(e.responseText);t.result.length>0?this.plugins.fileBrowser._drawListItem.call(this,t.result,!0):t.nullMessage&&(this.context.fileBrowser.list.innerHTML=t.nullMessage)}catch(e){throw Error('[SUNEDITOR.fileBrowser.drawList.fail] cause : "'+e.message+'"')}finally{this.plugins.fileBrowser.closeBrowserLoading(),this.context.fileBrowser.body.style.maxHeight=this._w.innerHeight-this.context.fileBrowser.header.offsetHeight-50+"px"}else if(this.plugins.fileBrowser.closeBrowserLoading(),0!==e.status){const t=e.responseText?JSON.parse(e.responseText):e,i="[SUNEDITOR.fileBrowser.get.serverException] status: "+e.status+", response: "+(t.errorMessage||e.responseText);throw Error(i)}},_drawListItem:function(e,t){const i=this.context.fileBrowser,n=this.context[i.contextPlugin],o=[],l=e.length,r=n.columnSize||i.columnSize,s=r<=1?1:Math.round(l/r)||1,a=n.itemTemplateHandler;let c="",u='<div class="se-file-item-column">',d=1;for(let i,n,h=0;h<l;h++)if(i=e[h],n=i.tag?"string"==typeof i.tag?i.tag.split(","):i.tag:[],n=i.tag=n.map((function(e){return e.trim()})),u+=a(i),(h+1)%s==0&&d<r&&h+1<l&&(d++,u+='</div><div class="se-file-item-column">'),t&&n.length>0)for(let e,t=0,i=n.length;t<i;t++)e=n[t],e&&-1===o.indexOf(e)&&(o.push(e),c+='<a title="'+e+'" aria-label="'+e+'">'+e+"</a>");u+="</div>",i.list.innerHTML=u,t&&(i.items=e,i.tagArea.innerHTML=c,i.tagElements=i.tagArea.querySelectorAll("A"))},onClickTag:function(e){const t=e.target;if(!this.util.isAnchor(t))return;const i=t.textContent,n=this.plugins.fileBrowser,o=this.context.fileBrowser,l=o.tagArea.querySelector('a[title="'+i+'"]'),r=o.selectedTags,s=r.indexOf(i);s>-1?(r.splice(s,1),this.util.removeClass(l,"on")):(r.push(i),this.util.addClass(l,"on")),n._drawListItem.call(this,0===r.length?o.items:o.items.filter((function(e){return e.tag.some((function(e){return r.indexOf(e)>-1}))})),!1)},onClickFile:function(e){e.preventDefault(),e.stopPropagation();const t=this.context.fileBrowser,i=t.list;let n=e.target,o=null;if(n!==i){for(;i!==n.parentNode&&(o=n.getAttribute("data-command"),!o);)n=n.parentNode;o&&((t.selectorHandler||this.context[t.contextPlugin].selectorHandler)(n,n.parentNode.querySelector(".__se__img_name").textContent),this.plugins.fileBrowser.close.call(this))}}};return void 0===t&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"fileBrowser",{enumerable:!0,writable:!1,configurable:!1,value:i})),i},"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_MODULES a window with a document");return i(e)}:i(t)},5900:function(e){"use strict";var t,i;t="undefined"!=typeof window?window:this,i=function(e,t){const i={name:"fileManager",_xmlHttp:null,_checkMediaComponent:function(e){return!/IMG/i.test(e)||!/FIGURE/i.test(e.parentElement.nodeName)||!/FIGURE/i.test(e.parentElement.parentElement.nodeName)},upload:function(e,t,i,n,o){this.showLoading();const l=this.plugins.fileManager,r=l._xmlHttp=this.util.getXMLHttpRequest();if(r.onreadystatechange=l._callBackUpload.bind(this,r,n,o),r.open("post",e,!0),null!==t&&"object"==typeof t&&this._w.Object.keys(t).length>0)for(let e in t)r.setRequestHeader(e,t[e]);r.send(i)},_callBackUpload:function(e,t,i){if(4===e.readyState)if(200===e.status)try{t(e)}catch(e){throw Error('[SUNEDITOR.fileManager.upload.callBack.fail] cause : "'+e.message+'"')}finally{this.closeLoading()}else{this.closeLoading();const t=e.responseText?JSON.parse(e.responseText):e;if("function"!=typeof i||i("",t,this)){const i="[SUNEDITOR.fileManager.upload.serverException] status: "+e.status+", response: "+(t.errorMessage||e.responseText);throw this.functions.noticeOpen(i),Error(i)}}},checkInfo:function(e,t,i,n,o){let l=[];for(let e=0,i=t.length;e<i;e++)l=l.concat([].slice.call(this.context.element.wysiwyg.querySelectorAll(t[e]+':not([data-se-embed="true"])')));const r=this.plugins.fileManager,s=this.context[e],a=s._infoList,c=r.setInfo.bind(this);if(l.length===a.length){if(this._componentsInfoReset){for(let t=0,n=l.length;t<n;t++)c(e,l[t],i,null,o);return}{let e=!1;for(let t,i=0,n=a.length;i<n;i++)if(t=a[i],0===l.filter((function(e){return t.src===e.src&&t.index.toString()===e.getAttribute("data-index")})).length){e=!0;break}if(!e)return}}const u=o?this.context.resizing._resize_plugin:"";o&&(this.context.resizing._resize_plugin=e);const d=[],h=[];for(let e=0,t=a.length;e<t;e++)h[e]=a[e].index;for(s.__updateTags=l;l.length>0;){const t=l.shift();this.util.getParentElement(t,this.util.isMediaComponent)&&r._checkMediaComponent(t)?!t.getAttribute("data-index")||h.indexOf(1*t.getAttribute("data-index"))<0?(d.push(s._infoIndex),t.removeAttribute("data-index"),c(e,t,i,null,o)):d.push(1*t.getAttribute("data-index")):(d.push(s._infoIndex),n(t))}for(let e,t=0;t<a.length;t++)e=a[t].index,d.indexOf(e)>-1||(a.splice(t,1),"function"==typeof i&&i(null,e,"delete",null,0,this),t--);o&&(this.context.resizing._resize_plugin=u)},setInfo:function(e,t,i,n,o){const l=o?this.context.resizing._resize_plugin:"";o&&(this.context.resizing._resize_plugin=e);const r=this.plugins[e],s=this.context[e],a=s._infoList;let c=t.getAttribute("data-index"),u=null,d="";if(n||(n={name:t.getAttribute("data-file-name")||("string"==typeof t.src?t.src.split("/").pop():""),size:t.getAttribute("data-file-size")||0}),!c||this._componentsInfoInit)d="create",c=s._infoIndex++,t.setAttribute("data-index",c),t.setAttribute("data-file-name",n.name),t.setAttribute("data-file-size",n.size),u={src:t.src,index:1*c,name:n.name,size:n.size},a.push(u);else{d="update",c*=1;for(let e=0,t=a.length;e<t;e++)if(c===a[e].index){u=a[e];break}u||(c=s._infoIndex++,u={index:c},a.push(u)),u.src=t.src,u.name=t.getAttribute("data-file-name"),u.size=1*t.getAttribute("data-file-size")}if(u.element=t,u.delete=r.destroy.bind(this,t),u.select=function(e){e.scrollIntoView(!0),this._w.setTimeout(r.select.bind(this,e))}.bind(this,t),o){if(!t.getAttribute("origin-size")&&t.naturalWidth&&t.setAttribute("origin-size",t.naturalWidth+","+t.naturalHeight),!t.getAttribute("data-origin")){const e=this.util.getParentElement(t,this.util.isMediaComponent),i=this.util.getParentElement(t,"FIGURE"),n=this.plugins.resizing._module_getSizeX.call(this,s,t,i,e),o=this.plugins.resizing._module_getSizeY.call(this,s,t,i,e);t.setAttribute("data-origin",n+","+o),t.setAttribute("data-size",n+","+o)}if(!t.style.width){const e=(t.getAttribute("data-size")||t.getAttribute("data-origin")||"").split(",");r.onModifyMode.call(this,t,null),r.applySize.call(this,e[0],e[1])}this.context.resizing._resize_plugin=l}"function"==typeof i&&i(t,c,d,u,--s._uploadFileLength<0?0:s._uploadFileLength,this)},deleteInfo:function(e,t,i){if(t>=0){const n=this.context[e]._infoList;for(let e=0,o=n.length;e<o;e++)if(t===n[e].index)return n.splice(e,1),void("function"==typeof i&&i(null,t,"delete",null,0,this))}},resetInfo:function(e,t){const i=this.context[e];if("function"==typeof t){const e=i._infoList;for(let i=0,n=e.length;i<n;i++)t(null,e[i].index,"delete",null,0,this)}i._infoList=[],i._infoIndex=0}};return void 0===t&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"fileManager",{enumerable:!0,writable:!1,configurable:!1,value:i})),i},"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_MODULES a window with a document");return i(e)}:i(t)},2182:function(e){"use strict";var t,i;t="undefined"!=typeof window?window:this,i=function(e,t){const i={name:"resizing",add:function(e){const t=e.icons,i=e.context;i.resizing={_resizeClientX:0,_resizeClientY:0,_resize_plugin:"",_resize_w:0,_resize_h:0,_origin_w:0,_origin_h:0,_rotateVertical:!1,_resize_direction:"",_move_path:null,_isChange:!1,alignIcons:{basic:t.align_justify,left:t.align_left,right:t.align_right,center:t.align_center}};let n=this.setController_resize(e);i.resizing.resizeContainer=n,i.resizing.resizeDiv=n.querySelector(".se-modal-resize"),i.resizing.resizeDot=n.querySelector(".se-resize-dot"),i.resizing.resizeDisplay=n.querySelector(".se-resize-display");let o=this.setController_button(e);i.resizing.resizeButton=o;let l=i.resizing.resizeHandles=i.resizing.resizeDot.querySelectorAll("span");i.resizing.resizeButtonGroup=o.querySelector("._se_resizing_btn_group"),i.resizing.rotationButtons=o.querySelectorAll("._se_resizing_btn_group ._se_rotation"),i.resizing.percentageButtons=o.querySelectorAll("._se_resizing_btn_group ._se_percentage"),i.resizing.alignMenu=o.querySelector(".se-resizing-align-list"),i.resizing.alignMenuList=i.resizing.alignMenu.querySelectorAll("button"),i.resizing.alignButton=o.querySelector("._se_resizing_align_button"),i.resizing.autoSizeButton=o.querySelector("._se_resizing_btn_group ._se_auto_size"),i.resizing.captionButton=o.querySelector("._se_resizing_caption_button"),n.addEventListener("mousedown",(function(e){e.preventDefault()})),l[0].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(e)),l[1].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(e)),l[2].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(e)),l[3].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(e)),l[4].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(e)),l[5].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(e)),l[6].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(e)),l[7].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(e)),o.addEventListener("click",this.onClick_resizeButton.bind(e)),i.element.relative.appendChild(n),i.element.relative.appendChild(o),n=null,o=null,l=null},setController_resize:function(e){const t=e.util.createElement("DIV");return t.className="se-controller se-resizing-container",t.style.display="none",t.innerHTML='<div class="se-modal-resize"></div><div class="se-resize-dot"><span class="tl"></span><span class="tr"></span><span class="bl"></span><span class="br"></span><span class="lw"></span><span class="th"></span><span class="rw"></span><span class="bh"></span><div class="se-resize-display"></div></div>',t},setController_button:function(e){const t=e.lang,i=e.icons,n=e.util.createElement("DIV");return n.className="se-controller se-controller-resizing",n.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="se-btn-group _se_resizing_btn_group"><button type="button" data-command="percent" data-value="1" class="se-tooltip _se_percentage"><span>100%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.resize100+'</span></span></button><button type="button" data-command="percent" data-value="0.75" class="se-tooltip _se_percentage"><span>75%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.resize75+'</span></span></button><button type="button" data-command="percent" data-value="0.5" class="se-tooltip _se_percentage"><span>50%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.resize50+'</span></span></button><button type="button" data-command="auto" class="se-btn se-tooltip _se_auto_size">'+i.auto_size+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.autoSize+'</span></span></button><button type="button" data-command="rotate" data-value="-90" class="se-btn se-tooltip _se_rotation">'+i.rotate_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.rotateLeft+'</span></span></button><button type="button" data-command="rotate" data-value="90" class="se-btn se-tooltip _se_rotation">'+i.rotate_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.rotateRight+'</span></span></button></div><div class="se-btn-group" style="padding-top: 0;"><button type="button" data-command="mirror" data-value="h" class="se-btn se-tooltip">'+i.mirror_horizontal+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.mirrorHorizontal+'</span></span></button><button type="button" data-command="mirror" data-value="v" class="se-btn se-tooltip">'+i.mirror_vertical+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.mirrorVertical+'</span></span></button><button type="button" data-command="onalign" class="se-btn se-tooltip _se_resizing_align_button">'+i.align_justify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.toolbar.align+'</span></span></button><div class="se-btn-group-sub sun-editor-common se-list-layer se-resizing-align-list"><div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="basic">'+i.align_justify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.dialogBox.basic+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="left">'+i.align_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.dialogBox.left+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="center">'+i.align_center+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.dialogBox.center+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="right">'+i.align_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.dialogBox.right+'</span></span></button></li></ul></div></div><button type="button" data-command="caption" class="se-btn se-tooltip _se_resizing_caption_button">'+i.caption+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.dialogBox.caption+'</span></span></button><button type="button" data-command="revert" class="se-btn se-tooltip">'+i.revert+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.dialogBox.revertButton+'</span></span></button><button type="button" data-command="update" class="se-btn se-tooltip">'+i.modify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.edit+'</span></span></button><button type="button" data-command="delete" class="se-btn se-tooltip">'+i.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.remove+"</span></span></button></div>",n},_module_getSizeX:function(e,t,i,n){return t||(t=e._element),i||(i=e._cover),n||(n=e._container),t?/%$/.test(t.style.width)?(n&&this.util.getNumber(n.style.width,2)||100)+"%":t.style.width:""},_module_getSizeY:function(e,t,i,n){return t||(t=e._element),i||(i=e._cover),n||(n=e._container),n&&i?this.util.getNumber(i.style.paddingBottom,0)>0&&!this.context.resizing._rotateVertical?i.style.height:/%$/.test(t.style.height)&&/%$/.test(t.style.width)?(n&&this.util.getNumber(n.style.height,2)||100)+"%":t.style.height:t&&t.style.height||""},_module_setModifyInputSize:function(e,t){const i=e._onlyPercentage&&this.context.resizing._rotateVertical;e.proportion.checked=e._proportionChecked="false"!==e._element.getAttribute("data-proportion");let n=i?"":this.plugins.resizing._module_getSizeX.call(this,e);if(n===e._defaultSizeX&&(n=""),e._onlyPercentage&&(n=this.util.getNumber(n,2)),e.inputX.value=n,t.setInputSize.call(this,"x"),!e._onlyPercentage){let t=i?"":this.plugins.resizing._module_getSizeY.call(this,e);t===e._defaultSizeY&&(t=""),e._onlyPercentage&&(t=this.util.getNumber(t,2)),e.inputY.value=t}e.inputX.disabled=!!i,e.inputY.disabled=!!i,e.proportion.disabled=!!i,t.setRatio.call(this)},_module_setInputSize:function(e,t){if(e._onlyPercentage)"x"===t&&e.inputX.value>100&&(e.inputX.value=100);else if(e.proportion.checked&&e._ratio&&/\d/.test(e.inputX.value)&&/\d/.test(e.inputY.value)){const i=e.inputX.value.replace(/\d+|\./g,"")||e.sizeUnit,n=e.inputY.value.replace(/\d+|\./g,"")||e.sizeUnit;if(i!==n)return;const o="%"===i?2:0;"x"===t?e.inputY.value=this.util.getNumber(e._ratioY*this.util.getNumber(e.inputX.value,o),o)+n:e.inputX.value=this.util.getNumber(e._ratioX*this.util.getNumber(e.inputY.value,o),o)+i}},_module_setRatio:function(e){const t=e.inputX.value,i=e.inputY.value;if(e.proportion.checked&&/\d+/.test(t)&&/\d+/.test(i)){if((t.replace(/\d+|\./g,"")||e.sizeUnit)!==(i.replace(/\d+|\./g,"")||e.sizeUnit))e._ratio=!1;else if(!e._ratio){const n=this.util.getNumber(t,0),o=this.util.getNumber(i,0);e._ratio=!0,e._ratioX=n/o,e._ratioY=o/n}}else e._ratio=!1},_module_sizeRevert:function(e){e._onlyPercentage?e.inputX.value=e._origin_w>100?100:e._origin_w:(e.inputX.value=e._origin_w,e.inputY.value=e._origin_h)},_module_saveCurrentSize:function(e){const t=this.plugins.resizing._module_getSizeX.call(this,e),i=this.plugins.resizing._module_getSizeY.call(this,e);e._element.setAttribute("width",t.replace("px","")),e._element.setAttribute("height",i.replace("px","")),e._element.setAttribute("data-size",t+","+i),e._videoRatio&&(e._videoRatio=i)},call_controller_resize:function(e,t){const i=this.context.resizing,n=this.context[t];i._resize_plugin=t;const o=i.resizeContainer,l=i.resizeDiv,r=this.util.getOffset(e,this.context.element.wysiwygFrame),s=i._rotateVertical=/^(90|270)$/.test(Math.abs(e.getAttribute("data-rotate")).toString()),a=s?e.offsetHeight:e.offsetWidth,c=s?e.offsetWidth:e.offsetHeight,u=r.top,d=r.left-this.context.element.wysiwygFrame.scrollLeft;o.style.top=u+"px",o.style.left=d+"px",o.style.width=a+"px",o.style.height=c+"px",l.style.top="0px",l.style.left="0px",l.style.width=a+"px",l.style.height=c+"px";let h=e.getAttribute("data-align")||"basic";h="none"===h?"basic":h;const p=this.util.getParentElement(e,this.util.isComponent),f=this.util.getParentElement(e,"FIGURE"),g=this.plugins.resizing._module_getSizeX.call(this,n,e,f,p)||"auto",m=n._onlyPercentage&&"image"===t?"":", "+(this.plugins.resizing._module_getSizeY.call(this,n,e,f,p)||"auto");this.util.changeTxt(i.resizeDisplay,this.lang.dialogBox[h]+" ("+g+m+")"),i.resizeButtonGroup.style.display=n._resizing?"":"none";const v=!n._resizing||n._resizeDotHide||n._onlyPercentage?"none":"flex",b=i.resizeHandles;for(let e=0,t=b.length;e<t;e++)b[e].style.display=v;if(n._resizing){const e=i.rotationButtons;e[0].style.display=e[1].style.display=n._rotation?"":"none"}if(n._alignHide)i.alignButton.style.display="none";else{i.alignButton.style.display="";const e=i.alignMenuList;this.util.changeElement(i.alignButton.firstElementChild,i.alignIcons[h]);for(let t=0,i=e.length;t<i;t++)e[t].getAttribute("data-value")===h?this.util.addClass(e[t],"on"):this.util.removeClass(e[t],"on")}const y=i.percentageButtons,w=/%$/.test(e.style.width)&&/%$/.test(p.style.width)?this.util.getNumber(p.style.width,0)/100+"":"";for(let e=0,t=y.length;e<t;e++)y[e].getAttribute("data-value")===w?this.util.addClass(y[e],"active"):this.util.removeClass(y[e],"active");n._captionShow?(i.captionButton.style.display="",this.util.getChildElement(e.parentNode,"figcaption")?(this.util.addClass(i.captionButton,"active"),n._captionChecked=!0):(this.util.removeClass(i.captionButton,"active"),n._captionChecked=!1)):i.captionButton.style.display="none",o.style.display="block";const _={left:0,top:50};this.options.iframe&&(_.left-=this.context.element.wysiwygFrame.parentElement.offsetLeft,_.top-=this.context.element.wysiwygFrame.parentElement.offsetTop),this.setControllerPosition(i.resizeButton,o,"bottom",_),this.controllersOn(o,i.resizeButton,function(){this.util.setDisabledButtons.call(this.util,!1,this.resizingDisabledButtons),this.history._resetCachingButton()}.bind(this),e,t),this.util.setDisabledButtons(!0,this.resizingDisabledButtons),i._resize_w=a,i._resize_h=c;const C=(e.getAttribute("origin-size")||"").split(",");return i._origin_w=C[0]||e.naturalWidth,i._origin_h=C[1]||e.naturalHeight,{w:a,h:c,t:u,l:d}},_closeAlignMenu:null,openAlignMenu:function(){const e=this.context.resizing.alignButton;this.util.addClass(e,"on"),this.context.resizing.alignMenu.style.top=e.offsetTop+e.offsetHeight+"px",this.context.resizing.alignMenu.style.left=e.offsetLeft-e.offsetWidth/2+"px",this.context.resizing.alignMenu.style.display="block",this.plugins.resizing._closeAlignMenu=function(){this.util.removeClass(this.context.resizing.alignButton,"on"),this.context.resizing.alignMenu.style.display="none",this.removeDocEvent("click",this.plugins.resizing._closeAlignMenu),this.plugins.resizing._closeAlignMenu=null}.bind(this),this.addDocEvent("click",this.plugins.resizing._closeAlignMenu)},onClick_resizeButton:function(e){e.stopPropagation();const t=e.target,i=t.getAttribute("data-command")||t.parentNode.getAttribute("data-command");if(!i)return;const n=t.getAttribute("data-value")||t.parentNode.getAttribute("data-value"),o=this.context.resizing._resize_plugin,l=this.context[o],r=l._element,s=this.plugins[o];if(e.preventDefault(),"function"!=typeof this.plugins.resizing._closeAlignMenu||(this.plugins.resizing._closeAlignMenu(),"onalign"!==i)){switch(i){case"auto":this.plugins.resizing.resetTransform.call(this,r),s.setAutoSize.call(this),this.selectComponent(r,o);break;case"percent":let e=this.plugins.resizing._module_getSizeY.call(this,l);if(this.context.resizing._rotateVertical){const t=r.getAttribute("data-percentage");t&&(e=t.split(",")[1])}this.plugins.resizing.resetTransform.call(this,r),s.setPercentSize.call(this,100*n,null!==this.util.getNumber(e,0)&&/%$/.test(e)?e:""),this.selectComponent(r,o);break;case"mirror":const t=r.getAttribute("data-rotate")||"0";let i=r.getAttribute("data-rotateX")||"",a=r.getAttribute("data-rotateY")||"";"h"===n&&!this.context.resizing._rotateVertical||"v"===n&&this.context.resizing._rotateVertical?a=a?"":"180":i=i?"":"180",r.setAttribute("data-rotateX",i),r.setAttribute("data-rotateY",a),this.plugins.resizing._setTransForm(r,t,i,a);break;case"rotate":const c=this.context.resizing,u=1*r.getAttribute("data-rotate")+1*n,d=this._w.Math.abs(u)>=360?0:u;r.setAttribute("data-rotate",d),c._rotateVertical=/^(90|270)$/.test(this._w.Math.abs(d).toString()),this.plugins.resizing.setTransformSize.call(this,r,null,null),this.selectComponent(r,o);break;case"onalign":return void this.plugins.resizing.openAlignMenu.call(this);case"align":const h="basic"===n?"none":n;s.setAlign.call(this,h,null,null,null),this.selectComponent(r,o);break;case"caption":const p=!l._captionChecked;if(s.openModify.call(this,!0),l._captionChecked=l.captionCheckEl.checked=p,s.update_image.call(this,!1,!1,!1),p){const e=this.util.getChildElement(l._caption,(function(e){return 3===e.nodeType}));e?this.setRange(e,0,e,e.textContent.length):l._caption.focus(),this.controllersOff()}else this.selectComponent(r,o),s.openModify.call(this,!0);break;case"revert":s.setOriginSize.call(this),this.selectComponent(r,o);break;case"update":s.openModify.call(this),this.controllersOff();break;case"delete":s.destroy.call(this)}this.history.push(!1)}},resetTransform:function(e){const t=(e.getAttribute("data-size")||e.getAttribute("data-origin")||"").split(",");this.context.resizing._rotateVertical=!1,e.style.maxWidth="",e.style.transform="",e.style.transformOrigin="",e.setAttribute("data-rotate",""),e.setAttribute("data-rotateX",""),e.setAttribute("data-rotateY",""),this.plugins[this.context.resizing._resize_plugin].setSize.call(this,t[0]?t[0]:"auto",t[1]?t[1]:"",!0)},setTransformSize:function(e,t,i){let n=e.getAttribute("data-percentage");const o=this.context.resizing._rotateVertical,l=1*e.getAttribute("data-rotate");let r="";if(n&&!o)n=n.split(","),"auto"===n[0]&&"auto"===n[1]?this.plugins[this.context.resizing._resize_plugin].setAutoSize.call(this):this.plugins[this.context.resizing._resize_plugin].setPercentSize.call(this,n[0],n[1]);else{const n=this.util.getParentElement(e,"FIGURE"),s=t||e.offsetWidth,a=i||e.offsetHeight,c=(o?a:s)+"px",u=(o?s:a)+"px";this.plugins[this.context.resizing._resize_plugin].cancelPercentAttr.call(this),this.plugins[this.context.resizing._resize_plugin].setSize.call(this,s+"px",a+"px",!0),n.style.width=c,n.style.height=this.context[this.context.resizing._resize_plugin]._caption?"":u,o&&(r=90===l||-270===l?a/2+"px "+a/2+"px 0":s/2+"px "+s/2+"px 0")}e.style.transformOrigin=r,this.plugins.resizing._setTransForm(e,l.toString(),e.getAttribute("data-rotateX")||"",e.getAttribute("data-rotateY")||""),e.style.maxWidth=o?"none":"",this.plugins.resizing.setCaptionPosition.call(this,e)},_setTransForm:function(e,t,i,n){let o=(e.offsetWidth-e.offsetHeight)*(/-/.test(t)?1:-1),l="";if(/[1-9]/.test(t)&&(i||n))switch(l=i?"Y":"X",t){case"90":l=i&&n?"X":n?l:"";break;case"270":o*=-1,l=i&&n?"Y":i?l:"";break;case"-90":l=i&&n?"Y":i?l:"";break;case"-270":o*=-1,l=i&&n?"X":n?l:"";break;default:l=""}t%180==0&&(e.style.maxWidth=""),e.style.transform="rotate("+t+"deg)"+(i?" rotateX("+i+"deg)":"")+(n?" rotateY("+n+"deg)":"")+(l?" translate"+l+"("+o+"px)":"")},setCaptionPosition:function(e){const t=this.util.getChildElement(this.util.getParentElement(e,"FIGURE"),"FIGCAPTION");t&&(t.style.marginTop=(this.context.resizing._rotateVertical?e.offsetWidth-e.offsetHeight:0)+"px")},onMouseDown_resize_handle:function(e){e.stopPropagation(),e.preventDefault();const t=this.context.resizing,i=t._resize_direction=e.target.classList[0];t._resizeClientX=e.clientX,t._resizeClientY=e.clientY,this.context.element.resizeBackground.style.display="block",t.resizeButton.style.display="none",t.resizeDiv.style.float=/l/.test(i)?"right":/r/.test(i)?"left":"none";const n=function(e){if("keydown"===e.type&&27!==e.keyCode)return;const l=t._isChange;t._isChange=!1,this.removeDocEvent("mousemove",o),this.removeDocEvent("mouseup",n),this.removeDocEvent("keydown",n),"keydown"===e.type?(this.controllersOff(),this.context.element.resizeBackground.style.display="none",this.plugins[this.context.resizing._resize_plugin].init.call(this)):(this.plugins.resizing.cancel_controller_resize.call(this,i),l&&this.history.push(!1))}.bind(this),o=this.plugins.resizing.resizing_element.bind(this,t,i,this.context[t._resize_plugin]);this.addDocEvent("mousemove",o),this.addDocEvent("mouseup",n),this.addDocEvent("keydown",n)},resizing_element:function(e,t,i,n){const o=n.clientX,l=n.clientY;let r=i._element_w,s=i._element_h;const a=i._element_w+(/r/.test(t)?o-e._resizeClientX:e._resizeClientX-o),c=i._element_h+(/b/.test(t)?l-e._resizeClientY:e._resizeClientY-l),u=i._element_h/i._element_w*a;/t/.test(t)&&(e.resizeDiv.style.top=i._element_h-(/h/.test(t)?c:u)+"px"),/l/.test(t)&&(e.resizeDiv.style.left=i._element_w-a+"px"),/r|l/.test(t)&&(e.resizeDiv.style.width=a+"px",r=a),/^(t|b)[^h]$/.test(t)?(e.resizeDiv.style.height=u+"px",s=u):/^(t|b)h$/.test(t)&&(e.resizeDiv.style.height=c+"px",s=c),e._resize_w=r,e._resize_h=s,this.util.changeTxt(e.resizeDisplay,this._w.Math.round(r)+" x "+this._w.Math.round(s)),e._isChange=!0},cancel_controller_resize:function(e){const t=this.context.resizing._rotateVertical;this.controllersOff(),this.context.element.resizeBackground.style.display="none";let i=this._w.Math.round(t?this.context.resizing._resize_h:this.context.resizing._resize_w),n=this._w.Math.round(t?this.context.resizing._resize_w:this.context.resizing._resize_h);if(!t&&!/%$/.test(i)){const e=16,t=this.context.element.wysiwygFrame.clientWidth-2*e-2;this.util.getNumber(i,0)>t&&(n=this._w.Math.round(n/i*t),i=t)}const o=this.context.resizing._resize_plugin;this.plugins[o].setSize.call(this,i,n,!1,e),t&&this.plugins.resizing.setTransformSize.call(this,this.context[this.context.resizing._resize_plugin]._element,i,n),this.selectComponent(this.context[o]._element,o)}};return void 0===t&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"resizing",{enumerable:!0,writable:!1,configurable:!1,value:i})),i},"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_MODULES a window with a document");return i(e)}:i(t)}},t={};function i(n){var o=t[n];if(void 0!==o)return o.exports;var l=t[n]={exports:{}};return e[n].call(l.exports,l,l.exports,i),l.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e={documentSelector:".js-document",documentDisabledClass:"is-disabled",openingTriggerActiveClass:"is-active",delay:200},t=['[href]:not([tabindex^="-"])','input:not([disabled]):not([type="hidden"]):not([tabindex^="-"]):not([type="radio"])','input[type="radio"]:checked','select:not([disabled]):not([tabindex^="-"])','textarea:not([disabled]):not([tabindex^="-"])','button:not([disabled]):not([tabindex^="-"])','[tabindex]:not([tabindex^="-"])','[contenteditable="true"]:not([tabindex^="-"])'],n="Escape",o="Tab",l="F6";function r(e,t){let i=e;for(;i!==t&&i;)i=i.parentNode;return!!i}const s=Symbol("onClick"),a=Symbol("onKeydown"),c=Symbol("addEventDelegation"),u=Symbol("addEventListeners"),d=Symbol("removeEventListeners"),h=Symbol("addAttributes"),p=Symbol("removeAttributes"),f=Symbol("setAttributes"),g=Symbol("setFocusableElements"),m=Symbol("setFocus"),v=Symbol("restoreFocus"),b=Symbol("switchFocus"),y=Symbol("maintainFocus"),w=Symbol("addObserver"),_=Symbol("removeObserver");let C=e;const x=class{constructor(e,{onOpen:t=()=>{},onClose:i=()=>{},openingSelector:n,closingSelector:o,backdropSelector:l,helperSelector:r,labelledby:u,describedby:d,isModal:h=!0,isTooltip:p=!1,isOpen:f=!1,isCreated:m=!0,disableScroll:v=!0,enableAutoFocus:y=!0,openingTriggerActiveClass:w=C.openingTriggerActiveClass,delay:_=C.delay}={}){document.querySelector(e)?(this.config={dialogSelector:e,onOpen:t,onClose:i,openingSelector:n,closingSelector:o,backdropSelector:l,helperSelector:r,labelledby:u,describedby:d,isModal:h,isTooltip:p,isCreated:m,isOpen:f,disableScroll:v,enableAutoFocus:y,documentSelector:C.documentSelector,documentDisabledClass:C.documentDisabledClass,openingTriggerActiveClass:w,delay:_},this.dialog=document.querySelector(e),this.dialogArea=`${e}, ${n}`,this.openingTriggers=document.querySelectorAll(n),this.backdropTrigger=document.querySelector(l),this.helpers=document.querySelectorAll(r),this.document=document.querySelector(this.config.documentSelector)||document.querySelector("html"),this.documentIsAlreadyDisabled=!1,this.focusableElements=[],this.firstFocusableElement=null,this.lastFocusableElement=null,this.openingTrigger=null,this.closingTrigger=null,this.isCreated=!1,this.isOpen=!1,this.close=this.close.bind(this),this.toggle=this.toggle.bind(this),this[s]=this[s].bind(this),this[a]=this[a].bind(this),this[c]=this[c].bind(this),this[b]=this[b].bind(this),this.observer=new MutationObserver((e=>e.forEach((()=>this[g]())))),this.isInitialized=!0,m&&this.create()):this.isInitialized=!1}[s](e){this.config.isTooltip&&!e.target.closest(this.dialogArea)&&this.close(e),e.target===this.backdropTrigger&&this.close(e)}[a](e){switch(e.key){case n:e.stopPropagation(),this.close(e);break;case l:this.config.isModal||(this.config.isTooltip?this.close(e):this[v]());break;case o:this[y](e)}}[c](e){document.querySelectorAll(this.config.openingSelector).forEach((t=>{r(e.target,t)&&(this.openingTrigger=t,this.toggle(e))})),document.querySelectorAll(this.config.closingSelector).forEach((t=>{r(e.target,t)&&(this.closingTrigger=t,this.close())}))}[u](){document.addEventListener("click",this[s],{capture:!0}),this.dialog.addEventListener("keydown",this[a])}[d](){document.removeEventListener("click",this[s],{capture:!0}),this.dialog.removeEventListener("keydown",this[a]),this.openingTrigger&&this.openingTrigger.removeEventListener("keydown",this[b])}[h](){this.dialog.setAttribute("role","dialog"),this.dialog.setAttribute("tabindex",-1),this.dialog.setAttribute("aria-hidden",!0),this.config.labelledby&&this.dialog.setAttribute("aria-labelledby",this.config.labelledby),this.config.describedby&&this.dialog.setAttribute("aria-describedby",this.config.describedby),this.config.isModal&&this.dialog.setAttribute("aria-modal",!0),this.openingTriggers.forEach((e=>e.setAttribute("aria-haspopup","dialog")))}[p](){this.dialog.removeAttribute("role"),this.dialog.removeAttribute("tabindex"),this.dialog.removeAttribute("aria-hidden"),this.dialog.removeAttribute("aria-labelledby"),this.dialog.removeAttribute("aria-describedby"),this.dialog.removeAttribute("aria-modal"),this.config.disableScroll&&this.isOpen&&!this.documentIsAlreadyDisabled&&this.document.classList.remove(this.config.documentDisabledClass),this.openingTriggers.forEach((e=>e.removeAttribute("aria-haspopup"))),this.openingTrigger&&this.openingTrigger.classList.remove(this.config.openingTriggerActiveClass),this.helpers.forEach((e=>e.classList.remove(this.config.openingTriggerActiveClass)))}[f](){this.dialog.setAttribute("aria-hidden",!this.isOpen),this.config.disableScroll&&!this.documentIsAlreadyDisabled&&(this.isOpen?this.document.classList.add(this.config.documentDisabledClass):this.document.classList.remove(this.config.documentDisabledClass)),this.openingTrigger&&(this.isOpen?this.openingTrigger.classList.add(this.config.openingTriggerActiveClass):this.openingTrigger.classList.remove(this.config.openingTriggerActiveClass)),this.helpers.forEach((e=>{this.isOpen?e.classList.add(this.config.openingTriggerActiveClass):e.classList.remove(this.config.openingTriggerActiveClass)}))}[g](){const e=function(e){const t=[];return e.forEach((e=>{const i=e.getBoundingClientRect();(i.width>0||i.height>0)&&t.push(e)})),t}(this.dialog.querySelectorAll(t)),i=function(e,t,i){const n=e.querySelectorAll(t),o=[];let l=!1;return 0===n.length?i:(i.forEach((e=>{n.forEach((t=>{t.contains(e)&&(l=!0)})),l||o.push(e),l=!1})),o)}(this.dialog,'[role="dialog"]',e);this.focusableElements=i.length>0?i:[this.dialog],[this.firstFocusableElement]=this.focusableElements,this.lastFocusableElement=this.focusableElements[this.focusableElements.length-1]}[m](){this.config.enableAutoFocus&&window.setTimeout((()=>this.firstFocusableElement.focus()),this.config.delay)}[v](){this.config.enableAutoFocus&&window.setTimeout((()=>this.openingTrigger.focus()),this.config.delay),this.isOpen&&this.openingTrigger.addEventListener("keydown",this[b])}[b](e){e.key===l&&(this.openingTrigger.removeEventListener("keydown",this[b]),this[m]())}[y](e){e.shiftKey&&e.target===this.firstFocusableElement&&(e.preventDefault(),this.lastFocusableElement.focus()),e.shiftKey||e.target!==this.lastFocusableElement||(e.preventDefault(),this.firstFocusableElement.focus())}[w](){this.observer.observe(this.dialog,{childList:!0,attributes:!0,subtree:!0})}[_](){this.observer.disconnect()}open(){this.isInitialized&&this.isCreated&&!this.isOpen&&(this.isOpen=!0,this.documentIsAlreadyDisabled=this.document.classList.contains(this.config.documentDisabledClass),this[f](),this[u](),this[m](),this.config.onOpen(this.dialog,this.openingTrigger))}close(e){this.isInitialized&&this.isCreated&&this.isOpen&&(this.isOpen=!1,e&&e.preventDefault(),this[f](),this[d](),this.openingTrigger&&(!this.config.isTooltip||this.config.isTooltip&&e&&"click"!==e.type)&&this[v](),this.config.onClose(this.dialog,this.closingTrigger))}toggle(e){this.isInitialized&&this.isCreated&&(e&&e.preventDefault(),this.isOpen?this.close():this.open())}create(){this.isInitialized&&!this.isCreated&&(this.isCreated=!0,this[h](),this[g](),this[w](),this.config.isOpen&&this.open(),document.addEventListener("click",this[c],{capture:!0}))}destroy(){this.isInitialized&&this.isCreated&&(this.close(),this.isCreated=!1,this[p](),this[d](),this[_](),document.removeEventListener("click",this[c],{capture:!0}))}};var k=Object.prototype.toString,S=Array.isArray||function(e){return"[object Array]"===k.call(e)};function L(e){return"function"==typeof e}function E(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function T(e,t){return null!=e&&"object"==typeof e&&t in e}var N=RegExp.prototype.test;var z=/\S/;function A(e){return!function(e,t){return N.call(e,t)}(z,e)}var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};var M=/\s*/,R=/\s+/,I=/\s*=/,O=/\s*\}/,H=/#|\^|\/|>|\{|&|=|!/;function D(e){this.string=e,this.tail=e,this.pos=0}function F(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function P(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}D.prototype.eos=function(){return""===this.tail},D.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var i=t[0];return this.tail=this.tail.substring(i.length),this.pos+=i.length,i},D.prototype.scanUntil=function(e){var t,i=this.tail.search(e);switch(i){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,i),this.tail=this.tail.substring(i)}return this.pos+=t.length,t},F.prototype.push=function(e){return new F(e,this)},F.prototype.lookup=function(e){var t,i,n,o=this.cache;if(o.hasOwnProperty(e))t=o[e];else{for(var l,r,s,a=this,c=!1;a;){if(e.indexOf(".")>0)for(l=a.view,r=e.split("."),s=0;null!=l&&s<r.length;)s===r.length-1&&(c=T(l,r[s])||(i=l,n=r[s],null!=i&&"object"!=typeof i&&i.hasOwnProperty&&i.hasOwnProperty(n))),l=l[r[s++]];else l=a.view[e],c=T(a.view,e);if(c){t=l;break}a=a.parent}o[e]=t}return L(t)&&(t=t.call(this.view)),t},P.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},P.prototype.parse=function(e,t){var i=this.templateCache,n=e+":"+(t||V.tags).join(":"),o=void 0!==i,l=o?i.get(n):void 0;return null==l&&(l=function(e,t){if(!e)return[];var i,n,o,l=!1,r=[],s=[],a=[],c=!1,u=!1,d="",h=0;function p(){if(c&&!u)for(;a.length;)delete s[a.pop()];else a=[];c=!1,u=!1}function f(e){if("string"==typeof e&&(e=e.split(R,2)),!S(e)||2!==e.length)throw new Error("Invalid tags: "+e);i=new RegExp(E(e[0])+"\\s*"),n=new RegExp("\\s*"+E(e[1])),o=new RegExp("\\s*"+E("}"+e[1]))}f(t||V.tags);for(var g,m,v,b,y,w,_=new D(e);!_.eos();){if(g=_.pos,v=_.scanUntil(i))for(var C=0,x=v.length;C<x;++C)A(b=v.charAt(C))?(a.push(s.length),d+=b):(u=!0,l=!0,d+=" "),s.push(["text",b,g,g+1]),g+=1,"\n"===b&&(p(),d="",h=0,l=!1);if(!_.scan(i))break;if(c=!0,m=_.scan(H)||"name",_.scan(M),"="===m?(v=_.scanUntil(I),_.scan(I),_.scanUntil(n)):"{"===m?(v=_.scanUntil(o),_.scan(O),_.scanUntil(n),m="&"):v=_.scanUntil(n),!_.scan(n))throw new Error("Unclosed tag at "+_.pos);if(y=">"==m?[m,v,g,_.pos,d,h,l]:[m,v,g,_.pos],h++,s.push(y),"#"===m||"^"===m)r.push(y);else if("/"===m){if(!(w=r.pop()))throw new Error('Unopened section "'+v+'" at '+g);if(w[1]!==v)throw new Error('Unclosed section "'+w[1]+'" at '+g)}else"name"===m||"{"===m||"&"===m?u=!0:"="===m&&f(v)}if(p(),w=r.pop())throw new Error('Unclosed section "'+w[1]+'" at '+_.pos);return function(e){for(var t,i=[],n=i,o=[],l=0,r=e.length;l<r;++l)switch((t=e[l])[0]){case"#":case"^":n.push(t),o.push(t),n=t[4]=[];break;case"/":o.pop()[5]=t[2],n=o.length>0?o[o.length-1][4]:i;break;default:n.push(t)}return i}(function(e){for(var t,i,n=[],o=0,l=e.length;o<l;++o)(t=e[o])&&("text"===t[0]&&i&&"text"===i[0]?(i[1]+=t[1],i[3]=t[3]):(n.push(t),i=t));return n}(s))}(e,t),o&&i.set(n,l)),l},P.prototype.render=function(e,t,i,n){var o=this.getConfigTags(n),l=this.parse(e,o),r=t instanceof F?t:new F(t,void 0);return this.renderTokens(l,r,i,e,n)},P.prototype.renderTokens=function(e,t,i,n,o){for(var l,r,s,a="",c=0,u=e.length;c<u;++c)s=void 0,"#"===(r=(l=e[c])[0])?s=this.renderSection(l,t,i,n,o):"^"===r?s=this.renderInverted(l,t,i,n,o):">"===r?s=this.renderPartial(l,t,i,o):"&"===r?s=this.unescapedValue(l,t):"name"===r?s=this.escapedValue(l,t,o):"text"===r&&(s=this.rawValue(l)),void 0!==s&&(a+=s);return a},P.prototype.renderSection=function(e,t,i,n,o){var l=this,r="",s=t.lookup(e[1]);if(s){if(S(s))for(var a=0,c=s.length;a<c;++a)r+=this.renderTokens(e[4],t.push(s[a]),i,n,o);else if("object"==typeof s||"string"==typeof s||"number"==typeof s)r+=this.renderTokens(e[4],t.push(s),i,n,o);else if(L(s)){if("string"!=typeof n)throw new Error("Cannot use higher-order sections without the original template");s=s.call(t.view,n.slice(e[3],e[5]),(function(e){return l.render(e,t,i,o)})),null!=s&&(r+=s)}else r+=this.renderTokens(e[4],t,i,n,o);return r}},P.prototype.renderInverted=function(e,t,i,n,o){var l=t.lookup(e[1]);if(!l||S(l)&&0===l.length)return this.renderTokens(e[4],t,i,n,o)},P.prototype.indentPartial=function(e,t,i){for(var n=t.replace(/[^ \t]/g,""),o=e.split("\n"),l=0;l<o.length;l++)o[l].length&&(l>0||!i)&&(o[l]=n+o[l]);return o.join("\n")},P.prototype.renderPartial=function(e,t,i,n){if(i){var o=this.getConfigTags(n),l=L(i)?i(e[1]):i[e[1]];if(null!=l){var r=e[6],s=e[5],a=e[4],c=l;0==s&&a&&(c=this.indentPartial(l,a,r));var u=this.parse(c,o);return this.renderTokens(u,t,i,c,n)}}},P.prototype.unescapedValue=function(e,t){var i=t.lookup(e[1]);if(null!=i)return i},P.prototype.escapedValue=function(e,t,i){var n=this.getConfigEscape(i)||V.escape,o=t.lookup(e[1]);if(null!=o)return"number"==typeof o&&n===V.escape?String(o):n(o)},P.prototype.rawValue=function(e){return e[1]},P.prototype.getConfigTags=function(e){return S(e)?e:e&&"object"==typeof e?e.tags:void 0},P.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!S(e)?e.escape:void 0};var V={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){U.templateCache=e},get templateCache(){return U.templateCache}},U=new P;V.clearCache=function(){return U.clearCache()},V.parse=function(e,t){return U.parse(e,t)},V.render=function(e,t,i,n){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+((S(o=e)?"array":typeof o)+'" was given as the first argument for mustache#render(template, view, partials)'));var o;return U.render(e,t,i,n)},V.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return B[e]}))},V.Scanner=D,V.Context=F,V.Writer=P;const W=V,j={rtl:{italic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.5 15.8" xml:space="preserve"><g><path d="M0.3,0.1c0.3,0,0.5,0,0.7,0c1,0.1,1.7,0.1,2.2,0.1H4L7.2,0l0.2,1.1H7c-0.5,0-1,0.1-1.5,0.3v0.4l0.3,1.9L6,4.4L6.3,6 l0.1,0.4l0.1,0.5c0.1,0.2,0.1,0.4,0.2,0.7s0.1,0.6,0.2,0.9L7,9.1l0.6,2.8l0.3,1.4c0.1,0.4,0.2,0.7,0.4,1c0.4,0.2,0.8,0.3,1.2,0.4 l0.8,0.2l0.2,0.9l-1.1,0c-0.9-0.1-1.5-0.1-1.8-0.1h-2c-0.9,0.1-1.4,0.2-1.5,0.2c-0.1,0-0.2,0-0.3,0H3.4c-0.1,0-0.2,0-0.2,0 l-0.1-0.4c0-0.2-0.1-0.4-0.1-0.6l0.7-0.1c0.4,0,0.8-0.1,1.2-0.2c0-0.1,0-0.2,0-0.3l-0.1-0.5l-0.4-2.4L4,9.6L3.4,6.4 C3.2,5.7,3,4.7,2.7,3.3c0-0.3-0.1-0.5-0.1-0.8C2.5,2.1,2.4,1.9,2.3,1.6C2,1.4,1.6,1.3,1.3,1.2C0.9,1.2,0.5,1.1,0.2,0.9L0,0.4L0,0 L0.3,0.1L0.3,0.1z"/></g></svg>',indent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 12.4" xml:space="preserve"><g><g><path d="M15.5,10.1L15.5,10.1c0.1,0,0.3,0.1,0.3,0.3v1.7c0,0.1,0,0.1-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1l-15.2,0 c-0.1,0-0.1,0-0.2-0.1C0,12.2,0,12.2,0,12.1l0-1.7c0-0.1,0-0.1,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C0.3,10.1,15.5,10.1,15.5,10.1z M9.8,6.7c0.1,0,0.1,0,0.2,0.1C10.1,6.9,10.1,7,10.1,7v1.7c0,0.1,0,0.2-0.1,0.2C10,9,9.9,9,9.8,9L0.3,9C0.2,9,0.1,9,0.1,8.9 C0,8.9,0,8.8,0,8.7V7C0,7,0,6.9,0.1,6.8c0.1-0.1,0.1-0.1,0.2-0.1C0.3,6.7,9.8,6.7,9.8,6.7z M0.3,3.4h9.6h0c0.1,0,0.3,0.1,0.3,0.3 v1.7v0c0,0.1-0.1,0.3-0.3,0.3H0.3c-0.1,0-0.1,0-0.2-0.1C0,5.5,0,5.4,0,5.3V3.6c0-0.1,0-0.1,0.1-0.2C0.1,3.4,0.2,3.4,0.3,3.4 L0.3,3.4z M0.3,0l15.2,0c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2V2c0,0.1,0,0.2-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1H0.3 c-0.1,0-0.1,0-0.2-0.1C0,2.1,0,2,0,2l0-1.7c0-0.1,0-0.1,0.1-0.2C0.1,0,0.2,0,0.3,0z"/></g><path d="M13.1,3.5L15.7,6c0.1,0.1,0.1,0.3,0,0.4l-2.5,2.5C13.1,9,13,9,12.9,9c-0.1,0-0.1,0-0.2-0.1c-0.1-0.1-0.1-0.1-0.1-0.2V3.7 c0-0.1,0-0.2,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C13,3.4,13.1,3.4,13.1,3.5z"/></g></svg>',outdent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 12.4" xml:space="preserve"><g><g><path d="M15.5,10.1L15.5,10.1c0.1,0,0.3,0.1,0.3,0.3v1.7c0,0.1,0,0.1-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1l-15.2,0 c-0.1,0-0.1,0-0.2-0.1C0,12.2,0,12.2,0,12.1l0-1.7c0-0.1,0-0.1,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C0.3,10.1,15.5,10.1,15.5,10.1z M9.8,6.7c0.1,0,0.1,0,0.2,0.1C10.1,6.9,10.1,7,10.1,7v1.7c0,0.1,0,0.2-0.1,0.2C10,9,9.9,9,9.8,9L0.3,9C0.2,9,0.1,9,0.1,8.9 C0,8.9,0,8.8,0,8.7V7C0,7,0,6.9,0.1,6.8c0.1-0.1,0.1-0.1,0.2-0.1C0.3,6.7,9.8,6.7,9.8,6.7z M0.3,3.4h9.6h0c0.1,0,0.3,0.1,0.3,0.3 v1.7v0c0,0.1-0.1,0.3-0.3,0.3H0.3c-0.1,0-0.1,0-0.2-0.1C0,5.5,0,5.4,0,5.3V3.6c0-0.1,0-0.1,0.1-0.2C0.1,3.4,0.2,3.4,0.3,3.4 L0.3,3.4z M0.3,0l15.2,0c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2V2c0,0.1,0,0.2-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1H0.3 c-0.1,0-0.1,0-0.2-0.1C0,2.1,0,2,0,2l0-1.7c0-0.1,0-0.1,0.1-0.2C0.1,0,0.2,0,0.3,0z"/></g><path d="M15.5,3.4c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2v5.1c0,0.1,0,0.1-0.1,0.2C15.6,9,15.5,9,15.5,9 c-0.1,0-0.1,0-0.2-0.1l-2.5-2.5c-0.1-0.1-0.1-0.3,0-0.4l2.5-2.5C15.3,3.4,15.4,3.4,15.5,3.4z"/></g></svg>',list_bullets:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 12.4" xml:space="preserve"><g><path d="M12.4,10.7c0,0.9,0.8,1.7,1.7,1.7c0.9,0,1.7-0.8,1.7-1.7C15.7,9.8,15,9,14.1,9c-0.4,0-0.9,0.2-1.2,0.5 C12.5,9.8,12.4,10.2,12.4,10.7C12.4,10.7,12.4,10.7,12.4,10.7z M12.4,6.2c0,0.9,0.8,1.7,1.7,1.7c0.4,0,0.9-0.2,1.2-0.5 c0.3-0.3,0.4-0.7,0.4-1.1c0-0.9-0.7-1.7-1.6-1.7C13.1,4.6,12.4,5.3,12.4,6.2C12.4,6.2,12.4,6.2,12.4,6.2z M0,9.8v1.7 c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1l10.7,0c0,0,0,0,0,0c0.1,0,0.3-0.1,0.3-0.3V9.8c0-0.1,0-0.1-0.1-0.2 C11.1,9.6,11,9.6,11,9.6l-10.7,0c-0.1,0-0.1,0-0.2,0.1C0,9.7,0,9.8,0,9.8L0,9.8z M12.9,2.9c0.3,0.3,0.7,0.5,1.2,0.5 c0.4,0,0.9-0.2,1.2-0.5c0.7-0.7,0.7-1.7,0-2.4C14.9,0.2,14.5,0,14.1,0c-0.4,0-0.9,0.2-1.2,0.5c-0.3,0.3-0.5,0.7-0.5,1.2 C12.4,2.1,12.5,2.6,12.9,2.9z M0,5.3V7c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1H11c0.1,0,0.1,0,0.2-0.1 c0.1-0.1,0.1-0.1,0.1-0.2V5.3c0,0,0,0,0,0c0-0.1-0.1-0.3-0.3-0.3H0.3c-0.1,0-0.1,0-0.2,0.1C0,5.2,0,5.3,0,5.3L0,5.3z M0,0.8v1.7 c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1h10.7c0.1,0,0.1,0,0.2-0.1c0,0,0.1-0.1,0.1-0.2V0.8c0-0.1,0-0.1-0.1-0.2 c0-0.1-0.1-0.1-0.2-0.1H0.3c-0.1,0-0.1,0-0.2,0.1C0,0.7,0,0.8,0,0.8L0,0.8z"/></g></svg>',list_number:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.7" xml:space="preserve"><g><path d="M0,11.5l0,1.7c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1H11c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2v-1.7 c0-0.1,0-0.1-0.1-0.2c-0.1-0.1-0.1-0.1-0.2-0.1H0.3c-0.1,0-0.2,0-0.2,0.1C0,11.4,0,11.4,0,11.5L0,11.5z M0,8.7c0,0.1,0,0.1,0.1,0.2 C0.1,8.9,0.2,9,0.3,9H11c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2V7c0-0.1,0-0.1-0.1-0.2c-0.1-0.1-0.1-0.1-0.2-0.1l-10.7,0 c-0.1,0-0.2,0-0.2,0.1C0,6.8,0,6.9,0,7C0,7,0,8.7,0,8.7z M0,2.5v1.7c0,0.1,0,0.1,0.1,0.2c0,0,0.1,0.1,0.2,0.1l10.7,0 c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2V2.4c0-0.1,0-0.1-0.1-0.2c-0.1,0-0.1,0-0.2,0H0.3c-0.1,0-0.1,0-0.2,0 C0,2.3,0,2.4,0,2.5L0,2.5z"/></g><path d="M15.6,14.2c0-0.3-0.1-0.6-0.3-0.8c-0.2-0.2-0.4-0.4-0.7-0.4l0.9-1v-0.8h-2.9v1.3h0.9v-0.5h0.9l0,0c-0.1,0.1-0.2,0.2-0.3,0.3 s-0.2,0.3-0.4,0.5l-0.3,0.3l0.2,0.5c0.6,0,0.9,0.1,0.9,0.5c0,0.1-0.1,0.3-0.2,0.4c-0.1,0.1-0.3,0.1-0.4,0.1c-0.3,0-0.7-0.1-0.9-0.3 l-0.5,0.8c0.4,0.4,0.9,0.6,1.5,0.6c0.4,0,0.9-0.1,1.2-0.4C15.5,15.1,15.6,14.7,15.6,14.2z"/><path d="M15.6,8.7h-0.9v0.5h-1.1c0-0.2,0.2-0.4,0.4-0.5c0.2-0.2,0.4-0.3,0.7-0.4c0.3-0.2,0.5-0.3,0.7-0.6c0.2-0.2,0.3-0.5,0.3-0.8 c0-0.4-0.2-0.8-0.5-1c-0.6-0.4-1.4-0.5-2-0.1c-0.3,0.2-0.5,0.4-0.6,0.7L13.3,7c0.1-0.3,0.4-0.5,0.7-0.5c0.1,0,0.3,0,0.3,0.1 c0.1,0.1,0.1,0.2,0.1,0.3c0,0.2-0.1,0.3-0.2,0.4c-0.2,0.1-0.3,0.3-0.5,0.4c-0.2,0.1-0.4,0.3-0.6,0.4c-0.2,0.2-0.4,0.4-0.5,0.6 c-0.1,0.2-0.2,0.5-0.2,0.8c0,0.2,0,0.3,0,0.5h3.2L15.6,8.7L15.6,8.7z"/><path d="M15.6,3.6h-1V0h-0.9l-1.2,1.1l0.6,0.7c0.2-0.1,0.3-0.3,0.4-0.5l0,0v2.2h-0.9v0.9h3L15.6,3.6L15.6,3.6z"/></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.7" xml:space="preserve"><g><path d="M7.4,9.9l3.1,3.1c0.3,0.3,0.8,0.5,1.3,0.5c0.5,0,0.9-0.2,1.3-0.5c0,0,0,0,0,0c0.7-0.7,0.7-1.9,0-2.6L9.9,7.3 c0-0.1,0-0.2,0-0.3C9.9,7,10,7,10.1,7l2.2-0.2c0.1,0,0.1,0,0.2,0.1l2.1,2.1c0.4,0.4,0.7,0.8,0.9,1.3c0.2,0.5,0.3,1,0.3,1.5 c0,0.5-0.1,1-0.3,1.5c-0.8,2-3.2,3-5.2,2.2c-0.5-0.2-0.9-0.5-1.3-0.9l-2.1-2.1c-0.1,0-0.1-0.1-0.1-0.2L7,10.1C7,10,7,9.9,7.1,9.9 C7.2,9.8,7.3,9.9,7.4,9.9z M1.2,1.1C1.6,0.7,2,0.4,2.5,0.3c1-0.4,2.1-0.4,3.1,0C6,0.4,6.5,0.7,6.8,1.1L9,3.2C9,3.3,9.1,3.3,9,3.4 L8.8,5.6c0,0.1-0.1,0.2-0.2,0.2c-0.1,0.1-0.2,0.1-0.3,0L5.3,2.7C5,2.3,4.5,2.1,4,2.1c-0.5,0-0.9,0.2-1.3,0.5c0,0,0,0,0,0 C2,3.4,2,4.5,2.7,5.2l3.1,3.2c0.1,0.1,0.1,0.2,0,0.3c0,0.1-0.1,0.1-0.2,0.1L3.5,9C3.4,9,3.4,9,3.3,8.9L1.2,6.8c0,0,0,0,0,0 C-0.4,5.2-0.4,2.7,1.2,1.1L1.2,1.1z M14.3,6h-2.6c0,0,0,0,0,0c-0.1,0-0.2-0.1-0.2-0.2c0-0.1,0-0.2,0.1-0.3l2.5-0.7 c0.1,0,0.1,0,0.2,0c0.1,0,0.1,0.1,0.1,0.2l0.1,0.8c0,0.1,0,0.1-0.1,0.2C14.5,6,14.4,6,14.3,6L14.3,6z M10.2,4.1 c0,0.1-0.1,0.2-0.2,0.2l0,0c0,0,0,0,0,0C9.8,4.2,9.7,4.1,9.8,4L9.7,1.4c0-0.1,0-0.1,0.1-0.2c0.1,0,0.1,0,0.2,0h0.8 c0.1,0,0.1,0,0.2,0.1c0,0.1,0,0.1,0,0.2L10.2,4.1L10.2,4.1z M1.5,9.7h1.3h1.3c0.1,0,0.2,0.1,0.2,0.2c0,0.1,0,0.2-0.1,0.3l-2.5,0.6 H1.6c0,0-0.1,0-0.1,0c-0.1,0-0.1-0.1-0.1-0.2L1.2,9.9c0-0.1,0-0.1,0.1-0.2c0-0.1,0.1-0.1,0.2-0.1L1.5,9.7z M5.6,11.6 C5.6,11.6,5.6,11.6,5.6,11.6c0-0.1,0.1-0.2,0.3-0.1c0,0,0,0,0,0c0.1,0,0.2,0.1,0.2,0.2v2.6c0,0.1,0,0.1-0.1,0.2 c0,0-0.1,0.1-0.2,0.1L5,14.5c-0.1,0-0.1,0-0.2-0.1c0-0.1,0-0.1,0-0.2L5.6,11.6L5.6,11.6z"/></g></svg>',unlink:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.7" xml:space="preserve"><g><path d="M14.6,14.6c1.6-1.6,1.6-4.1,0-5.7l0,0l-3.1-3.1l-1.2,1.6l2.9,2.9c0.4,0.4,0.6,0.9,0.6,1.5c0,1.1-0.9,2.1-2.1,2.1l0,0 c-0.6,0-1.1-0.2-1.5-0.6l-0.4-0.4l-1.7,1l0.8,0.8C10.4,16.2,13,16.2,14.6,14.6L14.6,14.6L14.6,14.6z M3.6,6C3,5.9,2.6,5.5,2.3,5 S1.9,4,2.1,3.4C2.3,2.9,2.6,2.5,3,2.2C3.5,2,4.1,1.9,4.6,2l3.3,1.4l0.5-2L5.1,0.1C4-0.1,2.9,0,2,0.5C1.1,1.1,0.4,1.9,0.2,3 C-0.1,4,0,5.1,0.6,6C1.1,6.9,1.9,7.6,3,7.8l5.4,2l0.5-2L6.2,6.9L3.6,6z"/></g></svg>'},redo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.59 14.18"><g><path d="M11.58,18.48a6.84,6.84,0,1,1,6.85-6.85s0,.26,0,.67a8,8,0,0,1-.22,1.44l.91-.55a.51.51,0,0,1,.36,0,.45.45,0,0,1,.29.22.47.47,0,0,1,.06.36.45.45,0,0,1-.22.29L17.42,15.3l-.12,0h-.25l-.12-.06-.09-.09-.06-.07,0-.06-.87-2.12a.43.43,0,0,1,0-.37.49.49,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26l.44,1.09a6.51,6.51,0,0,0,.24-1.36,4.58,4.58,0,0,0,0-.64,5.83,5.83,0,0,0-1.73-4.17,5.88,5.88,0,0,0-8.34,0,5.9,5.9,0,0,0,4.17,10.06.51.51,0,0,1,.33.15.48.48,0,0,1,0,.68.53.53,0,0,1-.33.12Z" transform="translate(-4.48 -4.54)"/></g></svg>',undo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.59 14.18"><g><path d="M5,14a.43.43,0,0,1-.22-.29.46.46,0,0,1,.06-.36.43.43,0,0,1,.29-.22.56.56,0,0,1,.36,0l.91.55a8.27,8.27,0,0,1-.22-1.45,5.07,5.07,0,0,1,0-.67A6.85,6.85,0,1,1,13,18.47a.44.44,0,0,1-.33-.13.48.48,0,0,1,0-.68.51.51,0,0,1,.33-.15A5.89,5.89,0,0,0,17.15,7.45a5.88,5.88,0,0,0-8.33,0,5.84,5.84,0,0,0-1.73,4.17s0,.25,0,.65a6.49,6.49,0,0,0,.24,1.37l.44-1.09a.57.57,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26.43.43,0,0,1,0,.37L7.82,15l0,.09-.09.09-.1.07-.06,0H7.28l-.13,0-1.09-.63c-.65-.36-1-.57-1.1-.63Z" transform="translate(-4.49 -4.53)"/></g></svg>',bold:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.76 15.75"><g><path d="M6.4,3.76V19.5h6.76a5.55,5.55,0,0,0,2-.32,4.93,4.93,0,0,0,1.52-1,4.27,4.27,0,0,0,1.48-3.34,3.87,3.87,0,0,0-.69-2.37,5.74,5.74,0,0,0-.71-.83,3.44,3.44,0,0,0-1.1-.65,3.6,3.6,0,0,0,1.58-1.36,3.66,3.66,0,0,0,.53-1.93,3.7,3.7,0,0,0-1.21-2.87,4.65,4.65,0,0,0-3.25-1.1H6.4Zm2.46,6.65V5.57h3.52a4.91,4.91,0,0,1,1.36.15,2.3,2.3,0,0,1,.85.45,2.06,2.06,0,0,1,.74,1.71,2.3,2.3,0,0,1-.78,1.92,2.54,2.54,0,0,1-.86.46,4.7,4.7,0,0,1-1.32.15H8.86Zm0,7.27V12.15H12.7a4.56,4.56,0,0,1,1.38.17,3.43,3.43,0,0,1,.95.49,2.29,2.29,0,0,1,.92,2,2.73,2.73,0,0,1-.83,2.1,2.66,2.66,0,0,1-.83.58,3.25,3.25,0,0,1-1.26.2H8.86Z" transform="translate(-6.4 -3.75)"/></g></svg>',underline:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9.78 15.74"><g><path d="M14.64,3.76h2.52v7.72a4.51,4.51,0,0,1-.59,2.31,3.76,3.76,0,0,1-1.71,1.53,6.12,6.12,0,0,1-2.64.53,5,5,0,0,1-3.57-1.18,4.17,4.17,0,0,1-1.27-3.24V3.76H9.9v7.3a3,3,0,0,0,.55,2,2.3,2.3,0,0,0,1.83.65,2.26,2.26,0,0,0,1.8-.65,3.09,3.09,0,0,0,.55-2V3.76Zm2.52,13.31V19.5H7.39V17.08h9.77Z" transform="translate(-7.38 -3.76)"/></g></svg>',italic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.49 15.76"><g><path d="M17.16,3.79l.37,0-.06.38-.14.52A10,10,0,0,1,16.21,5a9.37,9.37,0,0,0-1,.32,6.68,6.68,0,0,0-.25.89c-.06.31-.11.59-.14.85-.3,1.36-.52,2.41-.68,3.14l-.61,3.18L13.1,15l-.43,2.4-.12.46a.62.62,0,0,0,0,.28c.44.1.85.17,1.23.22l.68.11a4.51,4.51,0,0,1-.08.6l-.09.42a.92.92,0,0,0-.23,0l-.43,0a1.37,1.37,0,0,1-.29,0c-.13,0-.63-.08-1.49-.16l-2,0c-.28,0-.87,0-1.78.12L7,19.5l.17-.88.8-.2A6.61,6.61,0,0,0,9.19,18,2.62,2.62,0,0,0,9.61,17l.28-1.41.58-2.75.12-.66c.05-.3.11-.58.17-.86s.12-.51.17-.69l.12-.48.12-.43.31-1.6.15-.65.31-1.91V5.14a3.86,3.86,0,0,0-1.48-.29l-.38,0,.2-1.06,3.24.14.75,0c.45,0,1.18,0,2.18-.09.23,0,.46,0,.71,0Z" transform="translate(-7.04 -3.76)"/></g></svg>',strike:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.9"><g><path d="M12.94,13a4.27,4.27,0,0,1,1.32.58,1.46,1.46,0,0,1,.55,1.2,1.87,1.87,0,0,1-.88,1.64,4.17,4.17,0,0,1-2.35.59,4.44,4.44,0,0,1-2.74-.71,2.72,2.72,0,0,1-1-2.17H5.57a4.56,4.56,0,0,0,1.55,3.7,7,7,0,0,0,4.47,1.23,6,6,0,0,0,4.07-1.3,4.24,4.24,0,0,0,1.52-3.37,4,4,0,0,0-.26-1.4h-4ZM6.37,10.24A3.27,3.27,0,0,1,6,8.68a4,4,0,0,1,1.48-3.3,5.92,5.92,0,0,1,3.88-1.21,5.58,5.58,0,0,1,3.91,1.24,4.36,4.36,0,0,1,1.45,3.17H14.44a2.12,2.12,0,0,0-.91-1.81,4.45,4.45,0,0,0-2.44-.55,3.69,3.69,0,0,0-2,.51A1.64,1.64,0,0,0,8.3,8.22a1.3,1.3,0,0,0,.48,1.11,7,7,0,0,0,2.1.78l.28.06.28.08H6.37Zm13.09.68a.73.73,0,0,1,.49.21.66.66,0,0,1,.2.48.64.64,0,0,1-.2.48.71.71,0,0,1-.49.19H5.1a.67.67,0,0,1-.49-.19.66.66,0,0,1-.2-.48.64.64,0,0,1,.2-.48.73.73,0,0,1,.49-.21H19.46Z" transform="translate(-4.41 -4.17)"/></g></svg>',subscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 14.61"><g><path d="M15.38,4.33H12.74L11.19,7c-.28.46-.51.87-.69,1.21L10.07,9h0l-.44-.8c-.22-.4-.45-.81-.71-1.23L7.34,4.33H4.68L8.26,10,4.4,16.08H7.1l1.69-2.83c.38-.63.72-1.22,1-1.78l.25-.46h0l.49.92c.24.45.48.89.74,1.32L13,16.08h2.61L11.84,10l1.77-2.84,1.77-2.85Zm4.77,13.75H17v-.15c0-.4.05-.64.16-.72a4.42,4.42,0,0,1,1.16-.31,3.3,3.3,0,0,0,1.54-.56A1.84,1.84,0,0,0,20.15,15a1.78,1.78,0,0,0-.44-1.41A2.8,2.8,0,0,0,18,13.25a2.71,2.71,0,0,0-1.69.37,1.83,1.83,0,0,0-.44,1.43v.23H17v-.23q0-.63.18-.78a1.62,1.62,0,0,1,.88-.15,1.59,1.59,0,0,1,.88.15q.18.15.18.75t-.18.75a3.58,3.58,0,0,1-1.18.33,3.33,3.33,0,0,0-1.52.51,1.57,1.57,0,0,0-.32,1.18v1.15h4.27v-.86Z" transform="translate(-4.4 -4.33)"/></g></svg>',superscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.42"><g><path d="M12,13.14l3.61-5.81H12.94L11.33,10c-.28.46-.51.88-.69,1.25l-.45.83h0l-.45-.85c-.22-.41-.45-.82-.71-1.24L7.4,7.33H4.68l3.66,5.81L4.4,19.33H7.14l1.74-2.87q.58-1,1-1.83l.25-.48h0l.51.94.75,1.37,1.72,2.87h2.67l-1.92-3.09c-1.12-1.8-1.76-2.83-1.92-3.1Zm4.84-4.41h0l0,.15h3.27v.86H15.77V8.58a1.66,1.66,0,0,1,.33-1.22,3.51,3.51,0,0,1,1.56-.51,3.68,3.68,0,0,0,1.21-.34c.13-.1.19-.36.19-.77S19,5.07,18.87,5A1.63,1.63,0,0,0,18,4.8a1.58,1.58,0,0,0-.91.17c-.13.11-.19.38-.19.8V6H15.78V5.76a1.87,1.87,0,0,1,.45-1.47A2.84,2.84,0,0,1,18,3.91a2.8,2.8,0,0,1,1.72.38,1.84,1.84,0,0,1,.45,1.44,1.91,1.91,0,0,1-.34,1.35,3.24,3.24,0,0,1-1.58.57A3.69,3.69,0,0,0,17,8c-.12.1-.17.35-.17.76Z" transform="translate(-4.4 -3.91)"/></g></svg>',erase:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.76"><g><path d="M13.69,17.2h6.46v1.31H8.56L4.41,14.37,14,4.75l6.06,6.06L16.89,14l-3.2,3.19Zm-4.61,0h2.77L14.09,15,9.88,10.75,6.25,14.38l1.41,1.41c.84.82,1.31,1.29,1.42,1.41Z" transform="translate(-4.41 -4.75)"/></g></svg>',indent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.36"><g><path d="M4.68,14.45a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V9.1a.27.27,0,0,1,.08-.19.28.28,0,0,1,.2-.08.25.25,0,0,1,.19.07l2.54,2.54a.29.29,0,0,1,0,.4L4.88,14.36a.24.24,0,0,1-.2.09Zm15.19,1.12a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87Zm0-3.38a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm0-3.37a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm.2-3.29a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z" transform="translate(-4.41 -5.44)"/></g></svg>',outdent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.36"><g><path d="M19.87,15.57a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87ZM7.5,14.45a.25.25,0,0,1-.2-.09L4.76,11.84a.29.29,0,0,1,0-.4L7.3,8.9a.29.29,0,0,1,.4,0,.31.31,0,0,1,.07.2v5.06a.32.32,0,0,1-.08.21.26.26,0,0,1-.19.08ZM19.87,8.82a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm0,3.37a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm.2-6.66a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z" transform="translate(-4.41 -5.44)"/></g></svg>',expansion:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M11.8,13.06l-5.1,5.1H9.51V19.5H4.41V14.4H5.75v2.81L8.3,14.66q2.25-2.23,2.55-2.55Zm8.35-9.3v5.1H18.81V6.05l-5.1,5.1-1-1,5.1-5.1H15.05V3.76Z" transform="translate(-4.41 -3.76)"/></g></svg>',reduction:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M14.91,10h2.87v1.38H12.55V6.12h1.38V9l5.24-5.24.48.49.49.48ZM6.77,11.92H12v5.23H10.62V14.26L5.37,19.5l-1-1L9.63,13.3H6.77Z" transform="translate(-4.4 -3.76)"/></g></svg>',code_view:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 11.8"><g><path d="M8.09,7.94a.76.76,0,0,1,.53.22.72.72,0,0,1,.21.52.76.76,0,0,1-.22.54L6.18,11.63l2.43,2.44a.69.69,0,0,1,.2.51.66.66,0,0,1-.21.51.75.75,0,0,1-.51.22.63.63,0,0,1-.51-.21h0L4.63,12.15a.7.7,0,0,1-.22-.53.67.67,0,0,1,.25-.55L7.57,8.16a.82.82,0,0,1,.52-.22Zm12.05,3.69a.7.7,0,0,1-.23.52L17,15.1h0a.66.66,0,0,1-.51.21.73.73,0,0,1-.51-.22.75.75,0,0,1-.22-.51.63.63,0,0,1,.21-.51l2.43-2.44L15.92,9.22a.73.73,0,0,1-.22-.53A.74.74,0,0,1,17,8.18h0l2.91,2.91a.67.67,0,0,1,.27.54Zm-5.9-5.9a.73.73,0,0,1,.61.32.71.71,0,0,1,.07.68L11,17a1,1,0,0,1-.22.32.6.6,0,0,1-.35.16.75.75,0,0,1-.69-.26.69.69,0,0,1-.12-.72L13.56,6.23a.75.75,0,0,1,.26-.35.74.74,0,0,1,.42-.15Z" transform="translate(-4.41 -5.73)"/></g></svg>',preview:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.65 15.66"><g><path d="M16.19,14.43l2.49,2.49a.73.73,0,0,1,.21.52.67.67,0,0,1-.22.51.7.7,0,0,1-.52.22.69.69,0,0,1-.51-.21l-2.49-2.48a5.17,5.17,0,0,1-1.34.69,4.64,4.64,0,0,1-1.48.24,4.78,4.78,0,1,1,0-9.56,4.79,4.79,0,0,1,1.84.36,4.9,4.9,0,0,1,1.56,1,4.77,4.77,0,0,1,.46,6.18ZM10,14a3.3,3.3,0,0,0,2.34.93A3.37,3.37,0,0,0,14.7,14a3.3,3.3,0,0,0-1.08-5.41,3.47,3.47,0,0,0-2.56,0A3,3,0,0,0,10,9.28,3.31,3.31,0,0,0,10,14ZM16,4a3.86,3.86,0,0,1,2.77,1.14A3.9,3.9,0,0,1,20,7.85v4a.77.77,0,0,1-.22.53.7.7,0,0,1-.52.21.72.72,0,0,1-.74-.74v-4a2.46,2.46,0,0,0-.72-1.73A2.37,2.37,0,0,0,16,5.45H8.53A2.42,2.42,0,0,0,6.08,7.89v7.52a2.41,2.41,0,0,0,.71,1.73,2.46,2.46,0,0,0,1.74.72h4.08a.73.73,0,0,1,0,1.46H8.53a3.85,3.85,0,0,1-2.78-1.14A3.93,3.93,0,0,1,4.6,15.4V7.87A3.94,3.94,0,0,1,5.76,5.09,3.88,3.88,0,0,1,8.54,4H16Z" transform="translate(-4.45 -3.8)"/></g></svg>',print:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16.05 16.04"><g><path d="M19.76,15.84a1.29,1.29,0,0,0,.39-.92V8.35A2.05,2.05,0,0,0,19.57,7a1.93,1.93,0,0,0-1.38-.57H6.37a1.95,1.95,0,0,0-2,2v6.56a1.23,1.23,0,0,0,.38.92,1.35,1.35,0,0,0,.93.38h2V14.9l-2,0V8.35a.67.67,0,0,1,.18-.47.62.62,0,0,1,.48-.19H18.18a.6.6,0,0,1,.46.19.66.66,0,0,1,.18.47V14.9h-2v1.32h2A1.35,1.35,0,0,0,19.76,15.84ZM17.52,7.69V5.06a1.31,1.31,0,0,0-.38-.92,1.34,1.34,0,0,0-.94-.38H8.34A1.3,1.3,0,0,0,7,5.06V7.69H8.34V5.06h7.87V7.69h1.31ZM8.34,12.93h7.87l0,5.26H8.34V12.93Zm7.87,5.26v0Zm.65,1.31a.6.6,0,0,0,.46-.19.72.72,0,0,0,.2-.47V12.29a.74.74,0,0,0-.2-.47.6.6,0,0,0-.46-.19H7.68a.6.6,0,0,0-.46.19.72.72,0,0,0-.2.47v6.55a.74.74,0,0,0,.2.47.6.6,0,0,0,.46.19h9.18ZM16.67,9.28a.7.7,0,0,0-.94,0,.63.63,0,0,0-.18.46.67.67,0,0,0,.18.47.68.68,0,0,0,.94,0,.66.66,0,0,0,.18-.47A.58.58,0,0,0,16.67,9.28Z" transform="translate(-4.25 -3.61)"/></g></svg>',template:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.27 15.64"><g><path d="M18.18,19.16a1,1,0,0,0,1-1V5.73a1,1,0,0,0-1-1h-2v1h2V18.19H6.37V5.73h2v-1h-2A.94.94,0,0,0,5.68,5a1,1,0,0,0-.29.7V18.18a.94.94,0,0,0,.29.69,1,1,0,0,0,.69.29H18.18ZM9.82,10.31h4.92a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H9.82a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15Zm5.9,4.92H8.83a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h6.89a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.51.51,0,0,0-.5-.5ZM7.36,12.77a.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h8.85a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H7.85a.49.49,0,0,0-.35.15.52.52,0,0,0-.14.35Z" transform="translate(-5.14 -3.77)"/><path d="M14.24,6.71a1,1,0,0,0,1-1,1,1,0,0,0-1-1,1,1,0,0,0-1-1h-2a.94.94,0,0,0-.69.28,1,1,0,0,0-.29.7A.94.94,0,0,0,9.62,5a.91.91,0,0,0-.29.69,1,1,0,0,0,.29.7,1,1,0,0,0,.69.29h3.93Z" transform="translate(-5.14 -3.77)"/></g></svg>',line_height:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 13.56"><g><path d="M4.4,4.88V8.26a2,2,0,0,0,.5.39s.1,0,.18-.12a.62.62,0,0,0,.17-.28c.06-.19.13-.44.21-.74s.14-.52.19-.66a.58.58,0,0,1,.21-.3,2.41,2.41,0,0,1,.63-.21,3.83,3.83,0,0,1,.88-.12,9.15,9.15,0,0,1,1.31.06.16.16,0,0,1,.11,0,.26.26,0,0,1,.06.14,4,4,0,0,1,0,.49v2l.05,3.77c0,1.41,0,2.68-.05,3.81a1.79,1.79,0,0,1-.11.49,10.68,10.68,0,0,1-1.4.45,1.12,1.12,0,0,0-.69.43v.31l0,.22.61,0c.85-.08,1.54-.12,2.06-.12a19.76,19.76,0,0,1,2.09.08,15.08,15.08,0,0,0,1.64.08,1.4,1.4,0,0,0,.29,0,1.58,1.58,0,0,0,0-.26l-.05-.43a2.26,2.26,0,0,0-.43-.17l-.77-.22-.15,0a2.55,2.55,0,0,1-.78-.28,2.56,2.56,0,0,1-.11-.75l0-1.29,0-3.15V7.53a10.51,10.51,0,0,1,.06-1.2,3.83,3.83,0,0,1,.6,0l1.88,0a2.18,2.18,0,0,1,.38,0,.45.45,0,0,1,.23.17.9.9,0,0,1,.05.25c0,.16.06.35.1.58a3.33,3.33,0,0,0,.14.55A6.39,6.39,0,0,0,15,9a2.91,2.91,0,0,0,.6-.15,2.77,2.77,0,0,0,0-.46l0-.51,0-2.95-.25,0-.38,0L15,4.94a.71.71,0,0,1-.18.15.45.45,0,0,1-.25.07l-.29,0H8.75l-.15,0H7.45a17,17,0,0,1-1.86,0L5.36,5l-.25-.13ZM19.75,16.14h-.69v-9h.69A.4.4,0,0,0,20.13,7c.06-.11,0-.24-.1-.39L18.92,5.15a.52.52,0,0,0-.86,0L17,6.58c-.12.15-.16.28-.1.39s.18.16.38.16h.69v9h-.69a.4.4,0,0,0-.38.16c-.06.11,0,.24.1.39l1.11,1.43a.52.52,0,0,0,.86,0L20,16.69c.12-.15.16-.28.1-.39a.4.4,0,0,0-.38-.16Z" transform="translate(-4.4 -4.86)"/></g></svg>',paragraph_style:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.81 15.74"><g><path d="M18.18,3.76v2h-2V19.5h-2V5.73h-2V19.5h-2V11.63a3.94,3.94,0,0,1,0-7.87h7.87Z" transform="translate(-6.37 -3.76)"/></g></svg>',text_style:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.76 15.74"><g><path d="M17.68,6.71a2.22,2.22,0,0,0,1.06-.22.74.74,0,0,0,.42-.7.73.73,0,0,0-.08-.33.67.67,0,0,0-.17-.22,1,1,0,0,0-.31-.15L18.26,5l-.45-.09A15.27,15.27,0,0,0,13.26,5V4.74c0-.66-.63-1-1.92-1-.24,0-.43.15-.59.46a4,4,0,0,0-.36,1.14h0v0a26.45,26.45,0,0,1-3.5.35A2,2,0,0,0,5.77,6a.84.84,0,0,0-.37.79,2.14,2.14,0,0,0,.41,1.29,1.23,1.23,0,0,0,1.05.63,16.62,16.62,0,0,0,3.29-.45l-.34,3.35c-.16,1.61-.29,2.9-.37,3.86s-.12,1.66-.12,2.09l0,.65a5.15,5.15,0,0,0,.05.6,1.28,1.28,0,0,0,.16.54.34.34,0,0,0,.28.18,1.16,1.16,0,0,0,.79-.46,3.66,3.66,0,0,0,.68-1,22.08,22.08,0,0,0,1-4.33q.49-3.1.78-6.15a24.69,24.69,0,0,1,4.62-.84Z" transform="translate(-5.4 -3.76)"/></g></svg>',save:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M18.53,19.5l.2-.05A1.78,1.78,0,0,0,20.13,18l0-.09V7.14a2,2,0,0,0-.28-.64A3.18,3.18,0,0,0,19.43,6c-.5-.52-1-1-1.55-1.54A2.59,2.59,0,0,0,17.37,4a1.83,1.83,0,0,0-.61-.25H6l-.21,0a1.78,1.78,0,0,0-1.4,1.49l0,.1V17.87a2.49,2.49,0,0,0,.09.37,1.79,1.79,0,0,0,1.44,1.23l.09,0Zm-6.25-.6H6.92a.61.61,0,0,1-.68-.48.78.78,0,0,1,0-.22V12.3a.62.62,0,0,1,.69-.68H17.64a.62.62,0,0,1,.69.69V18.2a.64.64,0,0,1-.71.69H12.28ZM12,9.81H8.15a.63.63,0,0,1-.72-.71v-4a.64.64,0,0,1,.72-.72h7.66a.64.64,0,0,1,.72.72v4a.65.65,0,0,1-.74.72ZM13.5,5V9.18h1.78V5Z" transform="translate(-4.41 -3.76)"/></g></svg>',blockquote:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 475.082 475.081"><g><path d="M164.45,219.27h-63.954c-7.614,0-14.087-2.664-19.417-7.994c-5.327-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.416-51.678c14.276-14.272,31.503-21.411,51.678-21.411h18.271c4.948,0,9.229-1.809,12.847-5.424c3.616-3.617,5.424-7.898,5.424-12.847V54.819c0-4.948-1.809-9.233-5.424-12.85c-3.617-3.612-7.898-5.424-12.847-5.424h-18.271c-19.797,0-38.684,3.858-56.673,11.563c-17.987,7.71-33.545,18.132-46.68,31.267c-13.134,13.129-23.553,28.688-31.262,46.677C3.855,144.039,0,162.931,0,182.726v200.991c0,15.235,5.327,28.171,15.986,38.834c10.66,10.657,23.606,15.985,38.832,15.985h109.639c15.225,0,28.167-5.328,38.828-15.985c10.657-10.663,15.987-23.599,15.987-38.834V274.088c0-15.232-5.33-28.168-15.994-38.832C192.622,224.6,179.675,219.27,164.45,219.27z"/><path d="M459.103,235.256c-10.656-10.656-23.599-15.986-38.828-15.986h-63.953c-7.61,0-14.089-2.664-19.41-7.994c-5.332-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.409-51.678c14.271-14.272,31.497-21.411,51.682-21.411h18.267c4.949,0,9.233-1.809,12.848-5.424c3.613-3.617,5.428-7.898,5.428-12.847V54.819c0-4.948-1.814-9.233-5.428-12.85c-3.614-3.612-7.898-5.424-12.848-5.424h-18.267c-19.808,0-38.691,3.858-56.685,11.563c-17.984,7.71-33.537,18.132-46.672,31.267c-13.135,13.129-23.559,28.688-31.265,46.677c-7.707,17.987-11.567,36.879-11.567,56.674v200.991c0,15.235,5.332,28.171,15.988,38.834c10.657,10.657,23.6,15.985,38.828,15.985h109.633c15.229,0,28.171-5.328,38.827-15.985c10.664-10.663,15.985-23.599,15.985-38.834V274.088C475.082,258.855,469.76,245.92,459.103,235.256z"/></g></svg>',arrow_down:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 8.67"><g><path d="M18.79,7.52a.8.8,0,0,1,.56-.23.82.82,0,0,1,.79.79.8.8,0,0,1-.23.56l-7.07,7.07a.79.79,0,0,1-.57.25.77.77,0,0,1-.57-.25h0L4.64,8.65a.8.8,0,0,1-.23-.57.82.82,0,0,1,.79-.79.8.8,0,0,1,.56.23L12.28,14l3.26-3.26,3.25-3.26Z" transform="translate(-4.41 -7.29)"/></g></svg>',align_justify:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm0,5.9H20.15v-2H4.41v2Zm0,3.94H20.15v-2H4.41v2Zm0,3.93h7.87v-2H4.41v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm11.8,3.94H4.41v2H16.22v-2Zm-11.8,5.9H18.18v-2H4.41v2Zm0,3.93h9.84v-2H4.41v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm3.93,5.9H20.15v-2H8.34v2Zm-2,3.94H20.14v-2H6.37v2Zm3.94,3.93h9.84v-2H10.31v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_center:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm2,3.94v2H18.18v-2H6.37Zm-1,5.9H19.16v-2H5.39v2Zm2,3.93H17.2v-2H7.36v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',font_color:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.61"><g><path d="M18.5,15.57,14.28,4.32h-3.4L6.65,15.57h3l.8-2.26h4.23l.8,2.26h3ZM14,11.07H11.14L12.54,7,13.25,9c.41,1.18.64,1.86.7,2ZM4.41,16.69v2.24H20.15V16.69H4.41Z" transform="translate(-4.41 -4.32)"/></g></svg>',highlight_color:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.66 15.74"><g><path d="M12.32,9.31,13.38,13H11.21l.52-1.83q.46-1.61.54-1.83ZM4.44,3.76H20.1V19.5H4.44V3.76ZM14.71,17.32h2.63L13.7,6H10.89L7.26,17.32H9.89l.63-2.24h3.55l.32,1.12c.18.65.29,1,.32,1.12Z" transform="translate(-4.44 -3.76)"/></g></svg>',list_bullets:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.37"><g><path d="M7.77,16.12a1.59,1.59,0,0,0-.49-1.18,1.62,1.62,0,0,0-1.19-.49,1.68,1.68,0,1,0,0,3.36,1.67,1.67,0,0,0,1.68-1.69Zm0-4.48A1.67,1.67,0,0,0,6.09,10,1.68,1.68,0,0,0,4.9,12.82a1.62,1.62,0,0,0,1.19.49,1.67,1.67,0,0,0,1.68-1.67Zm12.38,3.64a.27.27,0,0,0-.08-.19.28.28,0,0,0-.2-.09H9.19a.28.28,0,0,0-.2.08.29.29,0,0,0-.08.19V17a.27.27,0,0,0,.28.28H19.87a.27.27,0,0,0,.19-.08.24.24,0,0,0,.08-.2V15.28ZM7.77,7.13a1.63,1.63,0,0,0-.49-1.2,1.61,1.61,0,0,0-1.19-.49,1.61,1.61,0,0,0-1.19.49,1.71,1.71,0,0,0,0,2.4,1.62,1.62,0,0,0,1.19.49,1.61,1.61,0,0,0,1.19-.49,1.63,1.63,0,0,0,.49-1.2Zm12.38,3.66a.28.28,0,0,0-.08-.2.29.29,0,0,0-.19-.08H9.19a.27.27,0,0,0-.28.28v1.69a.27.27,0,0,0,.08.19.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08.25.25,0,0,0,.08-.19V10.79Zm0-4.5a.27.27,0,0,0-.08-.19A.25.25,0,0,0,19.88,6H9.19A.28.28,0,0,0,9,6.1a.26.26,0,0,0-.08.19V8A.27.27,0,0,0,9,8.17a.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08A.25.25,0,0,0,20.14,8V6.29Z" transform="translate(-4.41 -5.44)"/></g></svg>',list_number:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.69 15.74"><g><path d="M7.66,18a1.24,1.24,0,0,0-.26-.78,1.17,1.17,0,0,0-.72-.42l.85-1V15H4.58v1.34h.94v-.46l.85,0h0c-.11.11-.22.23-.32.35s-.23.27-.37.47L5.39,17l.23.51c.61-.05.92.11.92.49a.42.42,0,0,1-.18.37.79.79,0,0,1-.45.12A1.41,1.41,0,0,1,5,18.15l-.51.77A2.06,2.06,0,0,0,6,19.5a1.8,1.8,0,0,0,1.2-.41A1.38,1.38,0,0,0,7.66,18Zm0-5.54H6.75V13H5.63A.72.72,0,0,1,6,12.51a5.45,5.45,0,0,1,.66-.45,2.71,2.71,0,0,0,.67-.57,1.19,1.19,0,0,0,.31-.81,1.29,1.29,0,0,0-.45-1,1.86,1.86,0,0,0-2-.11,1.51,1.51,0,0,0-.62.7l.74.52A.87.87,0,0,1,6,10.28a.51.51,0,0,1,.35.12.42.42,0,0,1,.13.33.55.55,0,0,1-.21.4,3,3,0,0,1-.5.38c-.19.13-.39.27-.58.42a2,2,0,0,0-.5.6,1.63,1.63,0,0,0-.21.81,3.89,3.89,0,0,0,.05.48h3.2V12.44Zm12.45,2.82a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2V17a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V15.26ZM7.69,7.32h-1V3.76H5.8L4.6,4.88l.63.68a1.85,1.85,0,0,0,.43-.48h0l0,2.24H4.74V8.2h3V7.32Zm12.43,3.42a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2v1.71a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V10.74Zm0-4.52A.27.27,0,0,0,20,6,.28.28,0,0,0,19.83,6H9.1A.32.32,0,0,0,8.89,6a.24.24,0,0,0-.08.19V7.93a.27.27,0,0,0,.08.19.32.32,0,0,0,.21.08H19.83A.32.32,0,0,0,20,8.12a.26.26,0,0,0,.08-.2V6.22Z" transform="translate(-4.43 -3.76)"/></g></svg>',table:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M4.41,8.05V3.76H8.7V8.05H4.41Zm5.71,0V3.76h4.3V8.05h-4.3Zm5.74-4.29h4.29V8.05H15.86V3.76Zm-11.45,10V9.48H8.7v4.3H4.41Zm5.71,0V9.48h4.3v4.3h-4.3Zm5.74,0V9.48h4.29v4.3H15.86ZM4.41,19.5V15.21H8.7V19.5H4.41Zm5.71,0V15.21h4.3V19.5h-4.3Zm5.74,0V15.21h4.29V19.5H15.86Z" transform="translate(-4.41 -3.76)"/></g></svg>',horizontal_rule:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 2.24"><g><path d="M20.15,12.75V10.51H4.41v2.24H20.15Z" transform="translate(-4.41 -10.51)"/></g></svg>',show_blocks:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.66 15.67"><g><path d="M19.72,5.58a1.64,1.64,0,0,0-1.64-1.64H6.23a1.62,1.62,0,0,0-1.16.48,1.63,1.63,0,0,0-.48,1.16V9.63a1.6,1.6,0,0,0,.48,1.16,1.62,1.62,0,0,0,1.16.47H18.09a1.67,1.67,0,0,0,1.16-.47,1.62,1.62,0,0,0,.48-1.16V5.58Zm-.94,4.05a.68.68,0,0,1-.7.7H6.23a.66.66,0,0,1-.48-.2.74.74,0,0,1-.21-.5V5.58a.66.66,0,0,1,.2-.48.71.71,0,0,1,.48-.21H18.08a.74.74,0,0,1,.5.21.66.66,0,0,1,.2.48ZM6.48,7.72a.21.21,0,0,0,.17-.07.22.22,0,0,0,.07-.17V7.06a1.27,1.27,0,0,1,.11-.52.37.37,0,0,1,.36-.23H8.77A.25.25,0,0,0,9,6.17a.19.19,0,0,0,0-.23.27.27,0,0,0-.2-.12H7.19a.88.88,0,0,0-.72.39,1.51,1.51,0,0,0-.23.85v.42a.24.24,0,0,0,.24.24Zm-.19.81a.21.21,0,0,0,.17-.07.26.26,0,0,0,.07-.17.24.24,0,0,0-.24-.24.2.2,0,0,0-.16.09.2.2,0,0,0-.07.16.22.22,0,0,0,.07.17.23.23,0,0,0,.16.06Zm8.46,5.1a1.63,1.63,0,0,0-.47-1.16A1.61,1.61,0,0,0,13.12,12H6.23a1.6,1.6,0,0,0-1.16.46,1.62,1.62,0,0,0-.48,1.16v4.05a1.64,1.64,0,0,0,1.64,1.64h6.89a1.6,1.6,0,0,0,1.16-.48,1.62,1.62,0,0,0,.47-1.16Zm-.94,4a.7.7,0,0,1-.2.49.65.65,0,0,1-.5.2H6.23a.66.66,0,0,1-.48-.2.75.75,0,0,1-.21-.49v-4a.74.74,0,0,1,.21-.5.66.66,0,0,1,.48-.2h6.89a.68.68,0,0,1,.7.7v4Zm6.15,0v-4a1.6,1.6,0,0,0-.48-1.16A1.67,1.67,0,0,0,18.32,12H17.1a1.63,1.63,0,0,0-1.16.47,1.61,1.61,0,0,0-.47,1.16v4a1.67,1.67,0,0,0,.47,1.16,1.62,1.62,0,0,0,1.16.48h1.22A1.64,1.64,0,0,0,20,17.68Zm-.94-4v4a.75.75,0,0,1-.21.49.62.62,0,0,1-.48.2H17.11a.69.69,0,0,1-.5-.2.7.7,0,0,1-.2-.49v-4a.68.68,0,0,1,.7-.7h1.22a.66.66,0,0,1,.48.2.72.72,0,0,1,.21.5Z" transform="translate(-4.44 -3.79)"/></g></svg>',cancel:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M14.15,11.63l5.61,5.61a1.29,1.29,0,0,1,.38.93,1.27,1.27,0,0,1-.4.93,1.25,1.25,0,0,1-.92.4,1.31,1.31,0,0,1-.94-.4l-5.61-5.61L6.67,19.1a1.31,1.31,0,0,1-.94.4,1.24,1.24,0,0,1-.92-.4,1.27,1.27,0,0,1-.4-.93,1.33,1.33,0,0,1,.38-.93l5.61-5.63L4.79,6a1.26,1.26,0,0,1-.38-.93,1.22,1.22,0,0,1,.4-.92,1.28,1.28,0,0,1,.92-.39,1.38,1.38,0,0,1,.94.38l5.61,5.61,5.61-5.61a1.33,1.33,0,0,1,.94-.38,1.26,1.26,0,0,1,.92.39,1.24,1.24,0,0,1,.4.92,1.29,1.29,0,0,1-.39.93L17,8.81l-2.8,2.82Z" transform="translate(-4.41 -3.76)"/></g></svg>',image:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.77"><g><path d="M8.77,8.72a.88.88,0,0,1-.61-.27.82.82,0,0,1-.25-.61.89.89,0,0,1,.25-.62A.82.82,0,0,1,8.77,7a.81.81,0,0,1,.61.25.83.83,0,0,1,.27.62.81.81,0,0,1-.25.61.91.91,0,0,1-.63.27Zm9.62-5a1.74,1.74,0,0,1,1.76,1.76V17.76a1.74,1.74,0,0,1-1.76,1.76H6.16A1.74,1.74,0,0,1,4.4,17.76V5.51A1.74,1.74,0,0,1,6.16,3.75H18.39Zm0,1.75H6.16v8L8.53,11.8a.94.94,0,0,1,.54-.17.86.86,0,0,1,.54.2L11.09,13l3.64-4.55a.78.78,0,0,1,.34-.25.85.85,0,0,1,.42-.07.89.89,0,0,1,.39.12.78.78,0,0,1,.28.29l2.24,3.67V5.51Zm0,12.24V15.6L15.3,10.53,11.89,14.8a.89.89,0,0,1-.59.32.82.82,0,0,1-.64-.18L9,13.62,6.16,15.74v2Z" transform="translate(-4.4 -3.75)"/></g></svg>',video:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.55"><g><path d="M20.15,10.26V18.9l-3.94-1.57v1.2H4.41V10.66H16.22v1.23l2-.81,2-.82ZM14.64,17h0V12.54h0v-.31H6V17h8.67Zm3.94-.37v-4l-2.37,1v2l1.18.48,1.19.48ZM7.94,9.86A2.77,2.77,0,0,1,5.19,7.11a2.76,2.76,0,0,1,5.51,0A2.78,2.78,0,0,1,7.94,9.86Zm0-3.93a1.21,1.21,0,0,0-.83.35,1.15,1.15,0,0,0-.34.84A1.09,1.09,0,0,0,7.11,8,1.15,1.15,0,0,0,8,8.28,1.13,1.13,0,0,0,9.11,7.12,1.16,1.16,0,0,0,7.94,5.93Zm5.9,3.93a2.34,2.34,0,0,1-1.67-.68,2.3,2.3,0,0,1-.68-1.67,2.35,2.35,0,0,1,4-1.67,2.37,2.37,0,0,1,0,3.34,2.33,2.33,0,0,1-1.68.68Zm0-3.14a.75.75,0,1,0,.55.22.73.73,0,0,0-.55-.22Z" transform="translate(-4.41 -4.35)"/></g></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.72"><g><path d="M13.05,13.63a.24.24,0,0,1,.15.22L13.42,16a.19.19,0,0,1-.08.18l-2.12,2.14a4.08,4.08,0,0,1-1.29.85A4,4,0,0,1,4.71,17a3.92,3.92,0,0,1-.3-1.52A4,4,0,0,1,4.71,14a3.91,3.91,0,0,1,.87-1.3L7.7,10.56a.25.25,0,0,1,.2-.06l2.17.22a.21.21,0,0,1,.19.15.24.24,0,0,1,0,.25L7.12,14.23a1.81,1.81,0,0,0,0,2.58,1.78,1.78,0,0,0,1.29.52,1.74,1.74,0,0,0,1.28-.52L12.8,13.7a.24.24,0,0,1,.25-.07ZM19,4.92a4,4,0,0,1,0,5.66L16.86,12.7a.25.25,0,0,1-.17.08l-2.2-.23a.21.21,0,0,1-.19-.15.22.22,0,0,1,0-.25L17.44,9a1.81,1.81,0,0,0,0-2.58,1.78,1.78,0,0,0-1.29-.52,1.74,1.74,0,0,0-1.28.52L11.76,9.57a.21.21,0,0,1-.25,0,.24.24,0,0,1-.16-.21l-.22-2.17a.19.19,0,0,1,.08-.18l2.12-2.14a4.08,4.08,0,0,1,1.29-.85,4.05,4.05,0,0,1,3.06,0,3.85,3.85,0,0,1,1.3.85ZM5.84,9.82a.25.25,0,0,1-.18-.08.19.19,0,0,1-.07-.19l.11-.77a.2.2,0,0,1,.11-.17.24.24,0,0,1,.2,0l2.5.72a.25.25,0,0,1,.15.27.22.22,0,0,1-.23.21l-2.59,0Zm4.12-2-.73-2.5a.27.27,0,0,1,0-.2A.21.21,0,0,1,9.41,5L10.19,5a.25.25,0,0,1,.19,0,.23.23,0,0,1,.08.18l-.05,2.61a.2.2,0,0,1-.19.23h0A.22.22,0,0,1,10,7.85Zm8.76,5.58a.25.25,0,0,1,.18.08.23.23,0,0,1,.06.2l-.11.77a.25.25,0,0,1-.11.17.21.21,0,0,1-.12,0l-.08,0L16,14a.25.25,0,0,1-.15-.27.22.22,0,0,1,.22-.21l1.29,0,1.33,0Zm-4.12,2,.74,2.51a.28.28,0,0,1,0,.2.23.23,0,0,1-.18.11l-.8.11a.23.23,0,0,1-.17-.07.25.25,0,0,1-.08-.18l0-2.61a.22.22,0,0,1,.22-.22.21.21,0,0,1,.26.15Z" transform="translate(-4.41 -3.77)"/></g></svg>',math:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.81 15.73"><g><path d="M17.19,5.73a1,1,0,0,0,.71-.29,1,1,0,0,0,.28-.7,1,1,0,0,0-1-1H7.35a1,1,0,0,0-1,1,.77.77,0,0,0,.13.47h0l4.58,6.43L6.68,17.81a1.25,1.25,0,0,0-.29.71.94.94,0,0,0,.28.7.92.92,0,0,0,.69.28H17.2a1,1,0,0,0,.71-.28,1,1,0,0,0,0-1.39.92.92,0,0,0-.71-.29H9.26l3.87-5.43a.86.86,0,0,0,0-.95L9.26,5.73h7.93Z" transform="translate(-6.38 -3.77)"/></g></svg>',unlink:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.72"><g><path d="M19,18.32a4,4,0,0,0,0-5.68L15.85,9.5l-1.17,1.55L17.57,14a2,2,0,0,1,.61,1.47,2.08,2.08,0,0,1-2.09,2.09,2,2,0,0,1-1.47-.61l-.38-.37-1.74,1,.8.78a4,4,0,0,0,5.68,0ZM8,9.77a2,2,0,0,1-1.27-1,1.89,1.89,0,0,1-.21-1.57A2.1,2.1,0,0,1,7.45,6,2,2,0,0,1,9,5.76L12.27,7.2l.49-2L9.48,3.9a4,4,0,0,0-3.06.41A3.82,3.82,0,0,0,4.56,6.73a3.8,3.8,0,0,0,.4,3A3.78,3.78,0,0,0,7.39,11.6l5.38,2,.49-2-2.64-.94L8,9.77Z" transform="translate(-4.41 -3.76)"/></g></svg>',table_header:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.74"><g><path d="M17,19.5v-.78H15.5v.78H17Zm-3,0v-.78H12.5v.78H14Zm-3,0v-.78H9.53v.78H11Zm-3,0v-.78H6.53v.78H8Zm10.55,0a1.73,1.73,0,0,0,.85-.35,1.67,1.67,0,0,0,.56-.76l-.71-.31a1.21,1.21,0,0,1-.35.4,1.34,1.34,0,0,1-.53.23l.08.38c.06.24.09.38.1.41Zm-13.7-.63.55-.55A.77.77,0,0,1,5.25,18a1.31,1.31,0,0,1-.06-.38v-.38H4.41v.38a2,2,0,0,0,.12.68,1.6,1.6,0,0,0,.35.57Zm15.27-2.12V15.26h-.78v1.49h.78Zm-15-1V14.23H4.41v1.49h.78Zm15-2V12.26h-.78v1.49h.78Zm-15-1V11.22H4.41v1.51h.78Zm15-2V9.26h-.78v1.51h.78Zm-15-1V8.17H4.41V9.74h.78Zm15-2V6.28h-.78V7.77h.78Zm-15-1.11V5.33L4.48,5.1a.77.77,0,0,0-.07.27,2.72,2.72,0,0,0,0,.28v1h.79ZM19.21,5l.63-.4A1.62,1.62,0,0,0,19.16,4a1.94,1.94,0,0,0-.91-.22v.78a1.31,1.31,0,0,1,.56.12.88.88,0,0,1,.4.36ZM6,4.54H7.78V3.76H6a.82.82,0,0,0-.28.06l.12.35c.07.21.1.33.11.36Zm10.8,0V3.76H15.28v.78h1.49Zm-3,0V3.76H12.28v.78h1.49Zm-3,0V3.76H9.28v.78h1.51ZM6,10.84h12.6V6.91H6Z" transform="translate(-4.4 -3.76)"/></g></svg>',merge_cell:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 15.74"><g><path d="M18.92,13.5h1.23v4.15A1.84,1.84,0,0,1,18.3,19.5H14V18.27H18.3a.6.6,0,0,0,.44-.18.59.59,0,0,0,.18-.44V13.5ZM18.3,3.76a1.84,1.84,0,0,1,1.85,1.85V9.82H18.92V5.6a.6.6,0,0,0-.18-.44A.59.59,0,0,0,18.3,5H14V3.76H18.3Zm1.85,8.51H15.6L17.26,14l-.86.86-3.14-3.17L16.4,8.51l.86.86L15.62,11h4.54v1.24Zm-13.9,6h4.27V19.5H6.25A1.84,1.84,0,0,1,4.4,17.65V13.5H5.63v4.15a.61.61,0,0,0,.62.62Zm0-14.51h4.27V5H6.25a.6.6,0,0,0-.44.18.57.57,0,0,0-.17.43V9.81H4.41V5.6A1.83,1.83,0,0,1,6.25,3.76Zm5,7.9L8.15,14.83,7.3,14,9,12.27H4.41V11H8.94L7.3,9.38,7.73,9l.43-.43Z" transform="translate(-4.4 -3.76)"/></g></svg>',split_cell:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.74"><g><path d="M10.37,12.25H6.74L8.4,13.94l-.87.86L4.41,11.63,7.53,8.5l.87.86L6.74,11h3.62v1.23Zm9.78-.61L17,14.81,16.13,14l1.66-1.69H14.16V11h3.63L16.13,9.37l.43-.43A5.24,5.24,0,0,1,17,8.51ZM18.9,8.22V5.61a.57.57,0,0,0-.18-.43A.65.65,0,0,0,18.29,5H12.88V18.28h5.41a.7.7,0,0,0,.44-.18.57.57,0,0,0,.18-.43V15h1.23v2.64a1.84,1.84,0,0,1-1.85,1.83h-12A1.84,1.84,0,0,1,4.94,19a1.81,1.81,0,0,1-.54-1.29V15H5.63v2.64a.57.57,0,0,0,.18.43.67.67,0,0,0,.44.18h5.41V5H6.25a.7.7,0,0,0-.44.18.56.56,0,0,0-.17.43V8.22H4.41V5.61A1.8,1.8,0,0,1,5,4.31a1.91,1.91,0,0,1,1.31-.55h12a1.89,1.89,0,0,1,1.31.55,1.8,1.8,0,0,1,.54,1.3V8.23H18.9Z" transform="translate(-4.4 -3.76)"/></g></svg>',caption:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.79"><g><path d="M4.41,18.52H20.15v-2H4.41ZM20,4.73H18.07V6h.65v.65H20V4.73ZM17,6V4.73H14.55V6H17ZM13.49,6V4.73H11V6h2.47ZM10,6V4.73H7.5V6H10ZM5.79,6h.65V4.73H4.5V6.67H5.8V6ZM4.5,11.34H5.79V8.48H4.5ZM6.44,13.8H5.79v-.65H4.5v1.94H6.44ZM17,15.09V13.8H14.55v1.29H17Zm-3.52,0V13.8H11v1.29h2.47Zm-3.53,0V13.8H7.5v1.29H10ZM20,13.16H18.72v.65h-.65V15.1H20Zm-1.29-1.82H20V8.48h-1.3v2.86Z" transform="translate(-4.41 -4.73)"/></g></svg>',edit:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.73"><g><path d="M7.51,5.68h6l1.52-1.57H6.94a2.4,2.4,0,0,0-1.79.82A2.8,2.8,0,0,0,4.41,6.8V17a2.55,2.55,0,0,0,.75,1.8A2.48,2.48,0,0,0,7,19.5H17.22a2.57,2.57,0,0,0,1.83-.74,2.52,2.52,0,0,0,.77-1.8V8.83l-1.58,1.54v6a1.54,1.54,0,0,1-1.53,1.53H7.51A1.54,1.54,0,0,1,6,16.41V7.21A1.52,1.52,0,0,1,7.51,5.68Zm5.63,7.47h0L10.7,10.74l-1,3.38,1.71-.48,1.7-.49Zm.34-.34h0l5.36-5.32L16.4,5.08,11,10.4l1.23,1.21,1.21,1.2ZM19.93,6.4a.82.82,0,0,0,.22-.48A.54.54,0,0,0,20,5.47L18.45,4A.67.67,0,0,0,18,3.77a.7.7,0,0,0-.48.21l-.74.72,2.44,2.43.37-.37.35-.36Z" transform="translate(-4.41 -3.77)"/></g></svg>',delete:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 15.74"><g><path d="M19.16,6.71a.94.94,0,0,0,.69-.28.91.91,0,0,0,.29-.68A1,1,0,0,0,19.85,5a.93.93,0,0,0-.69-.3H14.24A.94.94,0,0,0,14,4.06a.92.92,0,0,0-.7-.3h-2a1,1,0,0,0-.7.3.93.93,0,0,0-.28.68H5.39A.92.92,0,0,0,4.7,5a1,1,0,0,0-.29.71.91.91,0,0,0,.29.68,1,1,0,0,0,.69.28H19.16Zm-12.79,1a1,1,0,0,0-.7.3.94.94,0,0,0-.28.69v8.85A1.88,1.88,0,0,0,6,18.93a1.9,1.9,0,0,0,1.39.57H17.2a1.87,1.87,0,0,0,1.39-.58,1.91,1.91,0,0,0,.58-1.39V8.68A1,1,0,0,0,18.88,8a.89.89,0,0,0-.7-.29,1,1,0,0,0-.69.29.92.92,0,0,0-.29.68v7.87a1,1,0,0,1-1,1H8.34a.94.94,0,0,1-.69-.28,1,1,0,0,1-.29-.71V8.68a1,1,0,0,0-1-1Z" transform="translate(-4.41 -3.76)"/></g></svg>',modify:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.74"><g><path d="M19.79,15.23a.66.66,0,0,1,.3.38.59.59,0,0,1-.07.48l-.8,1.38a.66.66,0,0,1-.38.3.59.59,0,0,1-.48-.07l-.68-.38a4.55,4.55,0,0,1-1.34.77v.78a.64.64,0,0,1-.18.45.61.61,0,0,1-.45.18h-1.6a.6.6,0,0,1-.44-.18.66.66,0,0,1-.19-.45v-.78a4.36,4.36,0,0,1-1.32-.77l-.69.38a.58.58,0,0,1-.48.07.66.66,0,0,1-.38-.3l-.38-.66h.83a1.77,1.77,0,0,0,1.23-.52,1.72,1.72,0,0,0,.51-1.23v-.18a3,3,0,0,0,.49-.28l.15.09a1.83,1.83,0,0,0,.88.23A1.75,1.75,0,0,0,15.84,14l.88-1.52a1.7,1.7,0,0,0,.17-1.32,1.66,1.66,0,0,0-.3-.61,1.84,1.84,0,0,0-.51-.45l-.15-.09,0-.29,0-.28.15-.09a1,1,0,0,0,.26-.18l0,.06v.78a4.34,4.34,0,0,1,1.34.77l.68-.38a.68.68,0,0,1,.48-.06.64.64,0,0,1,.38.29l.8,1.38a.58.58,0,0,1,.07.48.63.63,0,0,1-.3.38l-.68.4a3.84,3.84,0,0,1,.08.76,4.13,4.13,0,0,1-.08.78l.34.18.32.2ZM10.17,7.86a1.9,1.9,0,0,1,1.35,3.23,1.85,1.85,0,0,1-1.35.55A1.9,1.9,0,0,1,8.83,8.41a1.92,1.92,0,0,1,1.34-.55Zm1.58,7.2a.73.73,0,0,1-.21.49.66.66,0,0,1-.48.2H9.29a.68.68,0,0,1-.69-.69V14.2a4.75,4.75,0,0,1-1.48-.86l-.75.45a.73.73,0,0,1-.7,0,.63.63,0,0,1-.25-.26L4.54,12a.67.67,0,0,1-.08-.53.71.71,0,0,1,.32-.42l.75-.43a4.8,4.8,0,0,1-.08-.85,4.71,4.71,0,0,1,.08-.85l-.74-.44a.71.71,0,0,1-.32-.42.65.65,0,0,1,.07-.54L5.42,6a.66.66,0,0,1,.42-.32l.18,0a.73.73,0,0,1,.35.09l.75.43A4.68,4.68,0,0,1,8.6,5.33V4.45a.68.68,0,0,1,.69-.69h1.77a.64.64,0,0,1,.48.2.73.73,0,0,1,.21.49v.88a4.75,4.75,0,0,1,1.48.85L14,5.75a.67.67,0,0,1,.34-.09l.18,0a.71.71,0,0,1,.42.32l.89,1.54a.67.67,0,0,1,.06.52.73.73,0,0,1-.32.43l-.75.42a4.8,4.8,0,0,1,.08.85,4.71,4.71,0,0,1-.08.85l.75.43a.66.66,0,0,1,.32.42.73.73,0,0,1-.06.54l-.89,1.52a.69.69,0,0,1-.25.26.7.7,0,0,1-.35.09.64.64,0,0,1-.34-.09l-.75-.45a4.87,4.87,0,0,1-1.48.86v.87ZM7.23,9.75a3,3,0,0,0,.86,2.08,2.94,2.94,0,1,0,4.16-4.16,3,3,0,0,0-2.08-.85A2.94,2.94,0,0,0,7.23,9.75Z" transform="translate(-4.44 -3.76)"/></g></svg>',revert:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 14.69"><g><path d="M18.26,15V12.3l1.89-2V15a2.58,2.58,0,0,1-.24,1c-.2.58-.75.92-1.65,1H7.56v2L4.41,15.63,7.56,13v2h10.7ZM6.3,8.28V11L4.41,13V8.28a2.58,2.58,0,0,1,.24-1c.2-.58.75-.92,1.65-1H17v-2l3.15,3.34L17,10.3v-2H6.3Z" transform="translate(-4.4 -4.28)"/></g></svg>',auto_size:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M6.71,17.19,6.89,16l1.21-.15A6,6,0,0,1,6.81,13.9a5.78,5.78,0,0,1-.45-2.27A6,6,0,0,1,8.1,7.45a5.83,5.83,0,0,1,4.17-1.73l1-1-1-1A7.89,7.89,0,0,0,5,14.64a7.73,7.73,0,0,0,1.71,2.55Zm5.57,2.31h0A7.86,7.86,0,0,0,17.85,6.07L17.67,7.3l-1.21.15a5.9,5.9,0,0,1,1.29,1.92,5.81,5.81,0,0,1,.45,2.26,5.91,5.91,0,0,1-5.9,5.9l-1,1,.49.49.47.5Z" transform="translate(-4.41 -3.76)"/></g></svg>',insert_row_below:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M15.7,1.3c-0.1-0.1-0.1-0.2-0.2-0.2L15.3,1H0.4L0.3,1.1c0,0-0.1,0.1-0.1,0.1c0,0-0.1,0.1-0.1,0.1L0,1.4v7.7l0.1,0.1c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h2.3V9.3l0.1-0.5L3,8.5l0.1-0.2c-0.1,0-0.2,0-0.3,0H1.2v-6h13.3v6h-1.6c-0.1,0-0.2,0-0.3,0l0.1,0.2l0.2,0.4C12.9,9,13,9.2,13,9.3v0.1h2.3l0.2-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1V1.4L15.7,1.3z"/><path d="M10.5,7.5C9.9,7.1,9.3,6.8,8.6,6.7c-0.2,0-0.5-0.1-0.7,0c-0.2,0-0.5,0-0.7,0C6.6,6.7,6.1,6.9,5.6,7.3C5.2,7.6,4.7,8,4.4,8.4C4.3,8.6,4.2,8.8,4.2,8.9C4.1,9.1,4,9.3,3.9,9.4C3.9,9.6,3.8,9.7,3.8,9.9c0,0.2-0.1,0.3-0.1,0.5v-0.1c-0.1,0.8,0.1,1.6,0.5,2.4c0.4,0.7,1,1.3,1.7,1.7c0.3,0.2,0.6,0.3,0.9,0.3c0.3,0.1,0.7,0.1,1,0.1c0.3,0,0.7,0,1-0.1c0.3-0.1,0.6-0.2,0.9-0.3c0.5-0.3,0.9-0.6,1.3-1c0.3-0.4,0.6-0.8,0.8-1.3c0.1-0.4,0.2-0.9,0.2-1.4c0-0.5-0.1-1-0.3-1.4C11.5,8.6,11.1,8,10.5,7.5z M10.1,11.3H8.5v1.6H8H7.9H7.3v0v-0.1v-1.4H5.7v-0.4v-0.2v-0.6h0h1.5V8.5h1.2v1.6h1.6V11.3z"/></g></svg>',insert_row_above:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M0.1,14.5c0.1,0.1,0.1,0.2,0.2,0.2l0.1,0.1h14.9l0.1-0.1c0,0,0.1-0.1,0.1-0.1c0,0,0.1-0.1,0.1-0.1l0.1-0.1V6.7l-0.1-0.1c0-0.1-0.1-0.1-0.2-0.2l-0.1-0.1h-2.3v0.1l-0.1,0.5l-0.2,0.4l-0.1,0.2c0.1,0,0.2,0,0.3,0h1.6v6H1.3v-6h1.6c0.1,0,0.2,0,0.3,0L3.1,7.3L2.9,6.9C2.8,6.8,2.8,6.6,2.7,6.5V6.3H0.4L0.3,6.4c-0.1,0-0.1,0.1-0.2,0.2L0,6.7v7.7L0.1,14.5z"/><path d="M5.3,8.3c0.6,0.5,1.2,0.8,1.9,0.9c0.2,0,0.5,0.1,0.7,0c0.2,0,0.5,0,0.7,0c0.6-0.1,1.1-0.3,1.6-0.6c0.5-0.3,0.9-0.7,1.2-1.2c0.1-0.2,0.2-0.3,0.3-0.5c0.1-0.2,0.2-0.4,0.2-0.5c0.1-0.1,0.1-0.3,0.1-0.4C12,5.8,12,5.6,12,5.4v0.1c0.1-0.8-0.1-1.6-0.5-2.4c-0.4-0.7-1-1.3-1.7-1.7C9.5,1.3,9.2,1.2,8.9,1.1C8.5,1,8.2,1,7.9,1c-0.3,0-0.7,0-1,0.1C6.6,1.2,6.3,1.3,6,1.4C5.5,1.7,5.1,2,4.7,2.4C4.4,2.8,4.1,3.3,3.9,3.8C3.8,4.2,3.7,4.7,3.7,5.2c0,0.5,0.1,1,0.3,1.4C4.3,7.2,4.7,7.8,5.3,8.3z M5.7,4.5h1.6V2.9h0.5h0.1h0.6v0v0.1v1.4H10v0.4v0.2v0.6h0H8.5v1.6H7.3V5.7H5.7V4.5z"/></g></svg>',insert_column_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M14.5,15.7c0.1-0.1,0.2-0.1,0.2-0.2l0.1-0.1V0.4l-0.1-0.1c0,0-0.1-0.1-0.1-0.1c0,0-0.1-0.1-0.1-0.1L14.4,0H6.7L6.6,0.1c-0.1,0-0.1,0.1-0.2,0.2L6.3,0.4v2.3h0.1l0.5,0.1L7.3,3l0.2,0.1c0-0.1,0-0.2,0-0.3V1.2h6v13.3h-6v-1.6c0-0.1,0-0.2,0-0.3l-0.2,0.1l-0.4,0.2C6.7,12.9,6.6,13,6.4,13H6.3v2.3l0.1,0.2c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h7.7L14.5,15.7z"/><path d="M8.3,10.5C8.7,10,9,9.3,9.1,8.6c0-0.2,0.1-0.5,0-0.7c0-0.2,0-0.5,0-0.7C9,6.7,8.8,6.1,8.5,5.7C8.2,5.2,7.8,4.8,7.3,4.5C7.2,4.4,7,4.3,6.9,4.2C6.7,4.1,6.5,4,6.4,4C6.2,3.9,6.1,3.9,5.9,3.8c-0.2,0-0.3-0.1-0.5-0.1h0.1C4.7,3.7,3.8,3.9,3.1,4.3C2.4,4.7,1.8,5.3,1.4,6C1.3,6.3,1.2,6.6,1.1,6.9C1,7.2,1,7.6,1,7.9c0,0.3,0,0.7,0.1,1c0.1,0.3,0.2,0.6,0.3,0.9c0.3,0.5,0.6,0.9,1,1.3c0.4,0.3,0.8,0.6,1.3,0.8C4.2,12,4.7,12.1,5.1,12c0.5,0,1-0.1,1.4-0.3C7.2,11.5,7.8,11.1,8.3,10.5zM4.5,10.1V8.5H2.9V8V7.9V7.3h0H3h1.4V5.7h0.4h0.2h0.6v0v1.5h1.6v1.2H5.7v1.6H4.5z"/></g></svg>',insert_column_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M1.3,0.1C1.2,0.2,1.1,0.2,1.1,0.3L1,0.4v14.9l0.1,0.1c0,0,0.1,0.1,0.1,0.1c0,0,0.1,0.1,0.1,0.1l0.1,0.1h7.7l0.1-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1v-2.3H9.3l-0.5-0.1l-0.4-0.2l-0.2-0.1c0,0.1,0,0.2,0,0.3v1.6h-6V1.3h6v1.6c0,0.1,0,0.2,0,0.3l0.2-0.1l0.4-0.2C9,2.9,9.2,2.8,9.3,2.8h0.1V0.5L9.4,0.3c0-0.1-0.1-0.1-0.2-0.2L9.1,0H1.4L1.3,0.1z"/><path d="M7.5,5.3C7,5.8,6.7,6.5,6.6,7.2c0,0.2-0.1,0.5,0,0.7c0,0.2,0,0.5,0,0.7c0.1,0.6,0.3,1.1,0.6,1.6c0.3,0.5,0.7,0.9,1.2,1.2c0.2,0.1,0.3,0.2,0.5,0.3c0.2,0.1,0.4,0.2,0.5,0.2c0.1,0.1,0.3,0.1,0.4,0.1c0.2,0,0.3,0.1,0.5,0.1h-0.1c0.8,0.1,1.6-0.1,2.4-0.5c0.7-0.4,1.3-1,1.7-1.7c0.2-0.3,0.3-0.6,0.3-0.9c0.1-0.3,0.1-0.7,0.1-1c0-0.3,0-0.7-0.1-1c-0.1-0.3-0.2-0.6-0.3-0.9c-0.3-0.5-0.6-0.9-1-1.3C13,4.4,12.5,4.2,12,4c-0.4-0.1-0.9-0.2-1.4-0.2c-0.5,0-1,0.1-1.4,0.2C8.5,4.3,7.9,4.7,7.5,5.3z M11.3,5.7v1.6h1.6v0.5v0.1v0.6h0h-0.1h-1.4v1.6h-0.4h-0.2h-0.6v0V8.5H8.5V7.3h1.6V5.7H11.3z"/></g></svg>',delete_row:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 13.83"><g><path d="M4.7,18.46l.12.08H19.73l.12-.08a.58.58,0,0,0,.22-.22l.08-.12,0-7.69-.08-.11a.77.77,0,0,0-.18-.18l-.11-.08-2.31,0-.08.28-.1.29a1.58,1.58,0,0,1-.12.29l-.14.34s0,0,.18,0H18.9v6H5.64v-6H7.35c.14,0,.2,0,.18,0l-.14-.34a2.85,2.85,0,0,1-.12-.29l-.1-.29-.07-.27-2.31,0-.11.08a.77.77,0,0,0-.18.18l-.08.11,0,7.69.08.12a.47.47,0,0,0,.09.12l.13.09ZM12.11,13a4,4,0,0,0,1.46-.21,4.51,4.51,0,0,0,1.31-.71A4,4,0,0,0,16.26,10a4.32,4.32,0,0,0-.08-2.54,4.34,4.34,0,0,0-1-1.52,4.15,4.15,0,0,0-1.54-1,4.34,4.34,0,0,0-1.35-.22A4.07,4.07,0,0,0,11,4.93,3.94,3.94,0,0,0,9.24,6.07,3.92,3.92,0,0,0,8.15,8.88a3.91,3.91,0,0,0,.12.95A4.16,4.16,0,0,0,12.11,13Zm2.35-4.14v.58H10.09V8.27h4.37v.58Z" transform="translate(-4.4 -4.71)"/></g></svg>',delete_column:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.81 15.74"><g><path d="M5.66,19.42l.12.08,7.69,0,.11-.08a.77.77,0,0,0,.18-.18l.08-.11,0-2.32-.15,0-.45-.15-.42-.18-.17-.07a1,1,0,0,0,0,.27v1.63h-6V5h6V6.62a.9.9,0,0,0,0,.26l.17-.07.42-.17a3.91,3.91,0,0,1,.45-.15l.15,0,0-2.32L13.75,4a.77.77,0,0,0-.18-.18l-.11-.08H5.79l-.13.07a.63.63,0,0,0-.21.22l-.08.12V19.08l.08.12a.47.47,0,0,0,.09.12.35.35,0,0,0,.12.1Zm9-3.67a4.16,4.16,0,0,0,2.36-.51,4.08,4.08,0,0,0,1.67-1.72,4,4,0,0,0,.35-.91,3.79,3.79,0,0,0,.1-1,4.71,4.71,0,0,0-.11-1,5,5,0,0,0-.3-.87,4.25,4.25,0,0,0-1-1.25,4.49,4.49,0,0,0-1.34-.81A4.26,4.26,0,0,0,15,7.48a3.88,3.88,0,0,0-1.41.25A4.32,4.32,0,0,0,11.86,9,4,4,0,0,0,11,10.94a4.4,4.4,0,0,0-.05.68,4.5,4.5,0,0,0,.05.68,3.93,3.93,0,0,0,.61,1.57,4.22,4.22,0,0,0,1.18,1.2,4.59,4.59,0,0,0,.48.27c.2.1.37.17.5.22a2.44,2.44,0,0,0,.45.12,4.61,4.61,0,0,0,.5.07Zm2.54-4.12v.58H12.87V11h4.37v.59Z" transform="translate(-5.37 -3.76)"/></g></svg>',fixed_column_width:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6,5H18A1,1 0 0,1 19,6A1,1 0 0,1 18,7H6A1,1 0 0,1 5,6A1,1 0 0,1 6,5M21,2V4H3V2H21M15,8H17V22H15V8M7,8H9V22H7V8M11,8H13V22H11V8Z" /></svg>',rotate_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M0.5,10.2c0,0.1,0,0.2,0,0.3v0.2l0,0c0.1,0.3,0.3,0.6,0.4,0.9l0,0C1,11.8,1.3,12,1.5,11.9h0.1h0.2h0.1c0.1-0.1,0.3-0.3,0.4-0.5v-0.2c0-0.1,0-0.2-0.1-0.3l0,0c-0.2-0.2-0.3-0.4-0.3-0.7l0,0C1.8,10,1.7,9.9,1.5,9.8c-0.1,0-0.2,0-0.3,0H0.9C0.7,9.9,0.6,10,0.5,10.2L0.5,10.2z"/><path d="M2.2,11.5L2.2,11.5L2.2,11.5z"/><path d="M5.9,3.6L5.9,3.6L5.9,3.6z"/><path d="M0.1,7.9c0,0.3,0,0.6,0,0.9l0,0l0,0l0,0l0,0c0,0.2,0.1,0.3,0.2,0.4l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0l0,0c0.2,0,0.4-0.1,0.5-0.3l0,0c0-0.1,0.1-0.3,0.1-0.4V8.6l0,0c0-0.2,0-0.5,0-0.7l0,0c0-0.2-0.1-0.4-0.2-0.5C1.1,7.3,0.9,7.2,0.7,7.2S0.3,7.3,0.2,7.4C0.1,7.5,0,7.7,0.1,7.9z"/><path d="M1.9,12.7L1.9,12.7c0,0.2,0,0.4,0.2,0.5l0,0l0.2,0.3l0,0c0.2,0.1,0.3,0.2,0.5,0.4l0,0l0,0l0,0l0,0C2.9,14,3,14.1,3.2,14.1s0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5v-0.1c0-0.2-0.1-0.4-0.2-0.5l0,0l-0.4-0.4l-0.2-0.2l0,0C3,12.1,2.8,12,2.6,12l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0C2,12.3,1.9,12.5,1.9,12.7z"/><path d="M6.6,15c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,0.2,0.2,0.4,0.3l0,0c0.3,0,0.5,0,0.7,0h0.3l0,0c0.2,0,0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5l0,0l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0H7.9c-0.1,0-0.3,0-0.5,0l0,0H7.3c-0.2-0.1-0.3,0-0.5,0.1l0,0C6.7,14.6,6.6,14.8,6.6,15L6.6,15L6.6,15L6.6,15z"/><path d="M4.2,7.4C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.1,0.1,0.3,0.2,0.5,0.2s0.3-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0C11.5,7.3,11,6.7,10,5.8l0,0L8.4,4.2l0,0C8.3,4.1,8.1,4,7.9,4S7.5,4.1,7.4,4.2L4.2,7.4L4.2,7.4z M6.8,9L5.7,7.9l2.2-2.2l2.3,2.2l-2.3,2.2C7.7,9.9,7.3,9.5,6.8,9L6.8,9z"/><path d="M4.1,14.1C4,14.2,4,14.3,4,14.4v0.2l0,0c0.1,0.1,0.2,0.3,0.4,0.4l0,0c0.3,0.1,0.6,0.2,0.9,0.4h0.1h0.1l0,0c0.2,0,0.3-0.1,0.5-0.1l0,0c0.2-0.1,0.3-0.3,0.3-0.4l0,0l0,0l0,0l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3l0,0C6.1,14.2,6,14.1,5.8,14l0,0c-0.3-0.1-0.5-0.2-0.8-0.2l0,0c-0.1-0.1-0.2-0.1-0.3-0.1H4.5C4.3,13.7,4.2,13.9,4.1,14.1z"/><path d="M9.3,14.4c0,0.1-0.1,0.3,0,0.4V15l0,0c0,0.1,0.1,0.3,0.5,0.4c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1l0,0c0.3-0.1,0.6-0.2,0.9-0.3l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0.1-0.3c0-0.1-0.1-0.2-0.1-0.3l0,0c-0.1-0.2-0.2-0.3-0.4-0.4l0,0h-0.3c-0.1,0-0.2,0-0.3,0l0,0c-0.2,0.1-0.5,0.2-0.8,0.3l0,0C9.5,14.1,9.4,14.2,9.3,14.4L9.3,14.4z"/><path d="M11.4,14.7L11.4,14.7L11.4,14.7z"/><path d="M9.5,15.3L9.5,15.3L9.5,15.3z"/><path d="M15.9,7.9c0-1-0.2-2-0.6-3l0,0c-0.4-1-1-1.9-1.7-2.6C12.8,1.6,12,1,11,0.6l0,0C10.1,0.2,9,0,8,0C7.3,0,6.5,0.1,5.8,0.3l0,0C5.2,0.5,4.6,0.8,4,1.1L3.1,0.2l0,0C2.9,0.1,2.8,0,2.6,0H2.4l0,0C2.2,0,2,0.2,1.9,0.4l0,0L0.1,4.9l0,0C0,5,0,5.1,0,5.2c0,0.2,0.1,0.4,0.2,0.5l0,0c0.2,0.1,0.3,0.2,0.5,0.2h0.1H1l0,0l4.7-1.8l0,0C5.9,4,6.1,3.8,6.1,3.6V3.4C6.1,3.2,6,3,5.9,2.9l0,0L5.1,2.1c0.4-0.2,0.8-0.4,1.3-0.5c0.5-0.1,1.1-0.2,1.7-0.2c0.9,0,1.7,0.2,2.5,0.5l0,0c0.8,0.3,1.5,0.8,2.1,1.4c0.6,0.6,1.1,1.3,1.4,2.1l0,0c0.3,0.8,0.5,1.6,0.5,2.5s-0.2,1.7-0.5,2.5l0,0c-0.3,0.8-0.8,1.5-1.4,2.1c-0.2,0.2-0.4,0.3-0.6,0.5l0,0c-0.2,0.1-0.3,0.3-0.3,0.5v0.1c0,0.1,0,0.3,0.1,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0c0.1,0,0.3-0.1,0.4-0.2l0,0l0,0l0,0l0,0c0.2-0.2,0.5-0.4,0.7-0.6l0,0l0,0l0,0l0,0c0.7-0.8,1.3-1.6,1.7-2.6C15.6,10,15.8,9,15.9,7.9z M1.9,4C2,3.8,2.1,3.5,2.3,3.1l0,0L2.7,2l1.2,1.2L1.9,4z"/><path d="M6.8,15.5L6.8,15.5L6.8,15.5z"/></g></svg>',rotate_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M9.9,15.3L9.9,15.3L9.9,15.3z"/><path d="M6.9,15.1L6.9,15.1c0,0.1,0.1,0.3,0.2,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0h0.3c0.2,0,0.4,0,0.7,0l0,0c0.2-0.1,0.3-0.2,0.4-0.3c0.1-0.1,0.2-0.2,0.2-0.4V15c0-0.2-0.1-0.4-0.2-0.4c-0.2-0.1-0.3-0.2-0.5-0.2H8.4l0,0c-0.1,0-0.3,0-0.5,0H7.6l0,0c-0.2,0-0.4,0.1-0.5,0.2C7,14.7,6.9,14.9,6.9,15.1z"/><path d="M6.5,14.4L6.5,14.4L6.5,14.4z"/><path d="M5.8,5.8L5.8,5.8c-1,0.9-1.5,1.5-1.7,1.6l0,0C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.2,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0L8.4,4.2C8.3,4.1,8.1,4,7.9,4C7.7,4,7.5,4.1,7.4,4.2l0,0L5.8,5.8z M5.6,7.9l2.3-2.2l2.2,2.2L9,9l0,0l0,0l0,0l0,0c-0.5,0.6-0.9,0.9-1.1,1.1L5.6,7.9z"/><path d="M9,15.5L9,15.5L9,15.5z"/><path d="M9.6,14.7v0.2l0,0l0,0l0,0l0,0c0.1,0.2,0.1,0.3,0.3,0.3c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1h0.1c0.3-0.1,0.6-0.3,0.9-0.4l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0,0v-0.2c0-0.1,0-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4H11c-0.1,0-0.2,0.1-0.3,0.1l0,0c-0.2,0.1-0.4,0.2-0.7,0.3l0,0l0,0c-0.1,0.1-0.3,0.2-0.4,0.4C9.6,14.5,9.6,14.6,9.6,14.7z"/><path d="M9,14.5L9,14.5L9,14.5z"/><path d="M9.6,14.4L9.6,14.4L9.6,14.4z"/><path d="M11.7,14L11.7,14L11.7,14z"/><path d="M15.6,7.4L15.6,7.4L15.6,7.4z"/><path d="M15,9.4c0.2,0,0.4,0,0.6-0.2l0,0c0.1-0.1,0.2-0.2,0.2-0.4l0,0l0,0l0,0l0,0c0-0.3,0-0.6,0-0.9c0-0.2-0.1-0.4-0.2-0.5c-0.1-0.1-0.3-0.2-0.5-0.2s-0.4,0.1-0.5,0.2c-0.1,0.1-0.2,0.3-0.2,0.5l0,0c0,0.2,0,0.4,0,0.7l0,0v0.1c0,0.1,0,0.3,0.1,0.4l0,0C14.6,9.3,14.8,9.4,15,9.4L15,9.4L15,9.4z"/><path d="M14,12h0.1h0.2h0.1c0.2,0,0.5-0.2,0.6-0.4l0,0c0.2-0.3,0.3-0.6,0.4-0.9l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4h-0.3c-0.1,0-0.2,0-0.3,0C14.2,9.9,14,10,14,10.3l0,0c-0.1,0.2-0.2,0.5-0.3,0.7l0,0c-0.1,0.1-0.1,0.2-0.1,0.3v0.2l0,0l0,0C13.6,11.6,13.8,11.8,14,12z"/><path d="M14.6,7.4L14.6,7.4L14.6,7.4z"/><path d="M4.4,14.2c-0.1,0.1-0.1,0.2-0.1,0.3l0.1,0.2c0,0.2,0.2,0.3,0.3,0.4l0,0c0.3,0.1,0.6,0.3,1.1,0.4l0,0h0.1l0,0c0.1,0,0.2-0.1,0.4-0.2c0.1,0,0.2-0.2,0.3-0.3l0,0v-0.2c0-0.1-0.1-0.3-0.2-0.4c-0.1-0.1-0.2-0.2-0.4-0.3l0,0c-0.2-0.1-0.5-0.2-0.7-0.3l0,0c-0.1,0-0.2,0-0.3,0H4.7l0,0C4.6,13.9,4.4,14,4.4,14.2L4.4,14.2z"/><path d="M11.9,13.3c0,0.2,0.1,0.4,0.2,0.6c0.1,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l0,0l0,0l0,0c0.1-0.1,0.3-0.3,0.4-0.4l0,0l0.2-0.3l0,0c0.1-0.2,0.2-0.3,0.2-0.5l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.2,0.2l-0.4,0.4l0,0C12,13,11.9,13.1,11.9,13.3L11.9,13.3z"/><path d="M12.1,13.8L12.1,13.8L12.1,13.8z"/><path d="M11.9,13.3L11.9,13.3L11.9,13.3z"/><path d="M15.9,5.2c0-0.1-0.1-0.2-0.1-0.3l0,0L14,0.4l0,0C13.9,0.2,13.7,0,13.5,0l0,0l0,0h-0.2c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.9,0.9c-0.5-0.3-1.1-0.6-1.8-0.8l0,0C9.4,0.1,8.7,0,7.9,0c-1,0-2,0.2-3,0.6S3,1.6,2.3,2.3C1.6,3.1,1,3.9,0.6,4.9l0,0C0.2,5.8,0,6.8,0,7.9c0,1,0.2,2,0.6,3s0.9,1.8,1.7,2.6l0,0l0,0l0,0l0,0c0.2,0.2,0.5,0.4,0.7,0.6l0,0l0,0l0,0l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0c0.2,0,0.4-0.1,0.6-0.3l0,0c0.1-0.1,0.1-0.3,0.1-0.4v-0.1l0,0C4.1,13.3,4,13.1,3.9,13l0,0c-0.2-0.1-0.4-0.3-0.6-0.5c-0.6-0.6-1.1-1.3-1.4-2.1l0,0C1.6,9.6,1.4,8.8,1.4,7.9s0.2-1.7,0.5-2.5l0,0c0.3-0.8,0.8-1.5,1.4-2.1c0.6-0.6,1.3-1.1,2.1-1.4l0,0C6.2,1.6,7,1.4,7.9,1.4c0.6,0,1.1,0.1,1.7,0.2c0.5,0.1,0.9,0.3,1.3,0.5l-0.8,0.8l0,0C10,3.1,9.9,3.2,9.9,3.4v0.2l0,0l0,0c0,0.2,0.2,0.4,0.4,0.5l0,0l4.5,1.8l0,0H15h0.1c0.2,0,0.4-0.1,0.5-0.2l0,0C15.7,5.6,15.8,5.4,15.9,5.2z M11.8,3.2L13,2l0.4,1.1l0,0c0.2,0.4,0.3,0.7,0.4,0.9L11.8,3.2z"/></g></svg>',mirror_horizontal:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.75 15.74"><g><path d="M13.75,3.76l5.9,15.74h-5.9V3.76ZM4.9,19.5,10.8,3.76V19.5H4.9Z" transform="translate(-4.9 -3.76)"/></g></svg>',mirror_vertical:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.75"><g><path d="M20.15,13.1,4.41,19V13.1H20.15ZM4.41,4.25l15.74,5.9H4.41V4.25Z" transform="translate(-4.41 -4.25)"/></g></svg>',checked:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 12.1"><g><path d="M4.59,12.23l.12.18L9.43,17.5a.58.58,0,0,0,.84,0L20,7.45h0a.58.58,0,0,0,0-.84l-.85-.85a.58.58,0,0,0-.84,0H18.2l-8.12,8.41a.29.29,0,0,1-.42,0l-3.4-3.63a.58.58,0,0,0-.84,0l-.85.85a.6.6,0,0,0-.14.21.51.51,0,0,0,0,.44c.05.06.1.13.16.19Z" transform="translate(-4.38 -5.58)"/></g></svg>',line_break:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,6a1,1,0,0,0-1,1v4a1,1,0,0,1-1,1H7.41l1.3-1.29A1,1,0,0,0,7.29,9.29l-3,3a1,1,0,0,0-.21.33,1,1,0,0,0,0,.76,1,1,0,0,0,.21.33l3,3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42L7.41,14H17a3,3,0,0,0,3-3V7A1,1,0,0,0,19,6Z"/></svg>',audio:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z" /></svg>',image_gallery:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="30 30 150 150"><g><path d="M152.775,120.548V51.651c0-12.271-9.984-22.254-22.254-22.254H43.727c-12.271,0-22.254,9.983-22.254,22.254v68.896c0,12.27,9.983,22.254,22.254,22.254h86.795C142.791,142.802,152.775,132.817,152.775,120.548z M36.394,51.651c0-4.042,3.291-7.333,7.333-7.333h86.795c4.042,0,7.332,3.291,7.332,7.333v23.917l-14.938-17.767c-1.41-1.678-3.487-2.649-5.68-2.658h-0.029c-2.184,0-4.255,0.954-5.674,2.613L76.709,98.519l-9.096-9.398c-1.427-1.474-3.392-2.291-5.448-2.273c-2.052,0.025-4.004,0.893-5.396,2.4L36.394,111.32V51.651z M41.684,127.585l20.697-22.416l9.312,9.622c1.461,1.511,3.489,2.334,5.592,2.27c2.101-0.066,4.075-1.013,5.44-2.612l34.436-40.308l20.693,24.613v21.794c0,4.042-3.29,7.332-7.332,7.332H43.727C43.018,127.88,42.334,127.775,41.684,127.585z M182.616,152.5V75.657c0-4.12-3.34-7.46-7.461-7.46c-4.119,0-7.46,3.34-7.46,7.46V152.5c0,4.112-3.347,7.46-7.461,7.46h-94c-4.119,0-7.46,3.339-7.46,7.459c0,4.123,3.341,7.462,7.46,7.462h94C172.576,174.881,182.616,164.841,182.616,152.5z"/></g></svg>',bookmark:'<svg viewBox="0 0 24 24"><path d="M17,3H7A2,2 0 0,0 5,5V21L12,18L19,21V5C19,3.89 18.1,3 17,3Z" /></svg>',download:'<svg viewBox="0 0 24 24"><path d="M2 12H4V17H20V12H22V17C22 18.11 21.11 19 20 19H4C2.9 19 2 18.11 2 17V12M12 15L17.55 9.54L16.13 8.13L13 11.25V2H11V11.25L7.88 8.13L6.46 9.55L12 15Z" /></svg>',dir_ltr:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M9 4v4c-1.1 0-2-.9-2-2s.9-2 2-2m8-2H9C6.79 2 5 3.79 5 6s1.79 4 4 4v5h2V4h2v11h2V4h2V2zm0 12v3H5v2h12v3l4-4-4-4z"/></svg>',dir_rtl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M10 4v4c-1.1 0-2-.9-2-2s.9-2 2-2m8-2h-8C7.79 2 6 3.79 6 6s1.79 4 4 4v5h2V4h2v11h2V4h2V2zM8 14l-4 4 4 4v-3h12v-2H8v-3z"/></svg>',alert_outline:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z" /></svg>',more_text:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 10 180 180"><g><path d="M49.711,142.188h49.027c2.328,0.002,4.394,1.492,5.129,3.699l9.742,29.252c0.363,1.092,1.385,1.828,2.537,1.83l15.883,0.01c0.859,0,1.667-0.412,2.17-1.109s0.641-1.594,0.37-2.41l-16.625-50.045L86.503,28.953c-0.36-1.097-1.383-1.839-2.537-1.842H64.532c-1.153-0.001-2.178,0.736-2.542,1.831L13.847,173.457c-0.271,0.816-0.135,1.713,0.369,2.412c0.503,0.697,1.311,1.109,2.171,1.109h15.872c1.151,0,2.173-0.736,2.537-1.828l9.793-29.287C45.325,143.66,47.39,142.18,49.711,142.188L49.711,142.188z M53.493,119.098l15.607-46.9c0.744-2.196,2.806-3.674,5.125-3.674s4.381,1.478,5.125,3.674l15.607,46.904c0.537,1.621,0.263,3.402-0.736,4.789c-1.018,1.408-2.649,2.24-4.386,2.24H58.615c-1.736,0-3.368-0.832-4.386-2.24C53.23,122.504,52.956,120.721,53.493,119.098L53.493,119.098z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_paragraph:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 10 180 180"><g><path d="M128.39,28.499H63.493c-25.558,0-46.354,20.796-46.354,46.354c0,25.559,20.796,46.353,46.354,46.353h9.271v55.625h18.542V47.04h9.271V176.83h18.543V47.04h9.271V28.499z M72.764,102.664h-9.271c-15.337,0-27.813-12.475-27.813-27.812c0-15.336,12.476-27.813,27.813-27.813h9.271V102.664z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_plus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="35 30 140 140"><g><path d="M137.215,102.045c0,3.498-2.835,6.332-6.333,6.332H24.549c-3.498,0-6.334-2.834-6.334-6.332l0,0c0-3.498,2.836-6.333,6.334-6.333h106.333C134.38,95.711,137.215,98.547,137.215,102.045L137.215,102.045z M77.715,161.545c-3.498,0-6.333-2.836-6.333-6.334V48.878c0-3.498,2.836-6.333,6.333-6.333l0,0c3.498,0,6.334,2.835,6.334,6.333v106.333C84.049,158.709,81.213,161.545,77.715,161.545L77.715,161.545z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.632,190.465,66.177,190.465,63.32L190.465,63.32z M190.465,101.993c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.888,1.026,5.353,3.056,7.396c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.993L190.465,101.993z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_horizontal:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 3.58"><g><path d="M4.64,10.73a1.84,1.84,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0A1.79,1.79,0,0,1,8,11.63a1.84,1.84,0,0,1-.25.9,1.69,1.69,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2.08,2.08,0,0,1,4.64,10.73Zm6.09,0a1.84,1.84,0,0,1,.65-.65,1.78,1.78,0,0,1,2.67,1.55,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.76,1.76,0,0,1-1.79,0,1.79,1.79,0,0,1-.64-2.44Zm6.08,0a1.69,1.69,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0,1.79,1.79,0,0,1,.9,1.54,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2,2,0,0,1,16.81,10.73Z" transform="translate(-4.39 -9.84)"/></g></svg>',more_vertical:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 3.94 15.75"><g><path d="M12.28,7.69a1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,2,2,0,0,1,1.39-.58,1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58Zm0,2a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39A1.92,1.92,0,0,1,13.67,13a2,2,0,0,1-1.39.58A1.92,1.92,0,0,1,10.89,13a2,2,0,0,1-.58-1.39,2,2,0,0,1,2-2Zm0,5.9a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,1.94,1.94,0,0,1,1.39-.58Z" transform="translate(-10.31 -3.75)"/></g></svg>',attachment:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8.38 15.68"><g><path d="M15.23,6h1v9.78a3.88,3.88,0,0,1-1.31,2.45,4,4,0,0,1-6.57-2.45V7A3,3,0,0,1,9.2,4.89a3,3,0,0,1,5,2.09v8.31a1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39V8h1v7.32a1,1,0,0,0,.29.69,1,1,0,0,0,.69.28A.9.9,0,0,0,13,16a1,1,0,0,0,.29-.69V7a1.92,1.92,0,0,0-.58-1.39A2,2,0,0,0,11.27,5a1.92,1.92,0,0,0-1.39.58A2,2,0,0,0,9.33,7v8.31a3,3,0,1,0,5.9,0V6Z" transform="translate(-8.08 -3.78)"/></g></svg>',map:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.7 15.62"><g><path d="M12.05,12.42a2.93,2.93,0,1,1,2.07-5A2.88,2.88,0,0,1,15,9.49a3,3,0,0,1-.86,2.07,2.89,2.89,0,0,1-2.07.86Zm0-5.36a2.43,2.43,0,0,0-1.72,4.16,2.48,2.48,0,0,0,1.72.72,2.44,2.44,0,0,0,0-4.88Zm0-3.3A5.84,5.84,0,0,1,17.9,9.62a9.94,9.94,0,0,1-1.73,5A33.59,33.59,0,0,1,12.84,19a1.52,1.52,0,0,1-.23.2,1,1,0,0,1-.55.2h0a1,1,0,0,1-.55-.2,1.52,1.52,0,0,1-.23-.2,33.59,33.59,0,0,1-3.33-4.32,9.93,9.93,0,0,1-1.72-5,5.84,5.84,0,0,1,5.85-5.86ZM12,18.34l.08.05.06-.06a35.58,35.58,0,0,0,3.06-3.93,9.35,9.35,0,0,0,1.74-4.77,4.88,4.88,0,0,0-4.88-4.88A4.79,4.79,0,0,0,8.6,6.17,4.84,4.84,0,0,0,7.17,9.62,9.29,9.29,0,0,0,8.91,14.4,36,36,0,0,0,12,18.34Z" transform="translate(-6.2 -3.76)"/></g></svg>',magic_stick:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 15.75"><g><path d="M19.86,19.21a1,1,0,0,0,.28-.68,1,1,0,0,0-.28-.7L13,10.93a1,1,0,0,0-.7-.28,1,1,0,0,0-.68,1.65l6.9,6.9a1,1,0,0,0,.69.29.93.93,0,0,0,.69-.28ZM9.19,8.55a3,3,0,0,0,1.68,0,14.12,14.12,0,0,0,1.41-.32A11.26,11.26,0,0,0,10.8,7.06c-.56-.36-.86-.56-.91-.58S10,5.91,10,5.11s0-1.26-.15-1.37a4.35,4.35,0,0,0-1.19.71c-.53.4-.81.62-.87.68a9,9,0,0,0-2-.6,6.84,6.84,0,0,0-.76-.09s0,.27.08.77a8.6,8.6,0,0,0,.61,2q-.09.09-.69.87a3.59,3.59,0,0,0-.68,1.17c.12.17.57.23,1.36.15S7,9.26,7.15,9.23s.21.36.57.91a10.49,10.49,0,0,0,1.14,1.48c0-.1.14-.57.31-1.4a3,3,0,0,0,0-1.67Z" transform="translate(-4.41 -3.74)"/></g></svg>',empty_file:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12.78 15.75"><g><path d="M14.73,3.76,18.67,7.7v9.84a2,2,0,0,1-2,2H7.84a1.89,1.89,0,0,1-1.38-.58,2,2,0,0,1-.57-1.39V5.73a1.93,1.93,0,0,1,.57-1.38,2,2,0,0,1,1.38-.58h6.62l.26,0v0Zm2.95,4.92h-2a1.93,1.93,0,0,1-1.38-.57,2,2,0,0,1-.58-1.4V6.17c0-.36,0-.84,0-1.43H7.85a1,1,0,0,0-.7.29,1,1,0,0,0-.29.7V17.54a1,1,0,0,0,.29.69,1,1,0,0,0,.69.29h8.85a1,1,0,0,0,.71-.29.92.92,0,0,0,.28-.69Zm0-1L14.73,4.74v2A1,1,0,0,0,15,7.4a1,1,0,0,0,.69.29Z" transform="translate(-5.89 -3.76)"/></g></svg>'};var q=i(1918),Z=i.n(q);const G={_d:null,_w:null,isIE:null,isIE_Edge:null,isOSX_IOS:null,isChromium:null,isMobile:null,isResizeObserverSupported:null,_propertiesInit:function(){this._d||(this._d=document,this._w=window,this.isIE=navigator.userAgent.indexOf("Trident")>-1,this.isIE_Edge=navigator.userAgent.indexOf("Trident")>-1||navigator.appVersion.indexOf("Edge")>-1,this.isOSX_IOS=/(Mac|iPhone|iPod|iPad)/.test(navigator.platform),this.isChromium=!!window.chrome,this.isResizeObserverSupported="function"==typeof ResizeObserver,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&"ontouchstart"in window)},_allowedEmptyNodeList:".se-component, pre, blockquote, hr, li, table, img, iframe, video, audio, canvas",_HTMLConvertor:function(e){const t={"&":"&amp;"," ":"&nbsp;","'":"&apos;",'"':"&quot;","<":"&lt;",">":"&gt;"};return e.replace(/&|\u00A0|'|"|<|>/g,(function(e){return"string"==typeof t[e]?t[e]:e}))},zeroWidthSpace:String.fromCharCode(8203),zeroWidthRegExp:new RegExp(String.fromCharCode(8203),"g"),onlyZeroWidthRegExp:new RegExp("^"+String.fromCharCode(8203)+"+$"),fontValueMap:{"xx-small":1,"x-small":2,small:3,medium:4,large:5,"x-large":6,"xx-large":7},onlyZeroWidthSpace:function(e){return null!=e&&("string"!=typeof e&&(e=e.textContent),""===e||this.onlyZeroWidthRegExp.test(e))},getXMLHttpRequest:function(){if(!this._w.ActiveXObject)return this._w.XMLHttpRequest?new XMLHttpRequest:null;try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){return null}}},getValues:function(e){return e?this._w.Object.keys(e).map((function(t){return e[t]})):[]},camelToKebabCase:function(e){return"string"==typeof e?e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})):e.map((function(e){return G.camelToKebabCase(e)}))},kebabToCamelCase:function(e){return"string"==typeof e?e.replace(/-[a-zA-Z]/g,(function(e){return e.replace("-","").toUpperCase()})):e.map((function(e){return G.camelToKebabCase(e)}))},createElement:function(e){return this._d.createElement(e)},createTextNode:function(e){return this._d.createTextNode(e||"")},HTMLEncoder:function(e){const t={"<":"$lt;",">":"$gt;"};return e.replace(/<|>/g,(function(e){return"string"==typeof t[e]?t[e]:e}))},HTMLDecoder:function(e){const t={"$lt;":"<","$gt;":">"};return e.replace(/\$lt;|\$gt;/g,(function(e){return"string"==typeof t[e]?t[e]:e}))},hasOwn:function(e,t){return this._hasOwn.call(e,t)},_hasOwn:Object.prototype.hasOwnProperty,getIncludePath:function(e,t){let i="";const n=[],o="js"===t?"script":"link",l="js"===t?"src":"href";let r="(?:";for(let t=0,i=e.length;t<i;t++)r+=e[t]+(t<i-1?"|":")");const s=new this._w.RegExp("(^|.*[\\/])"+r+"(\\.[^\\/]+)?."+t+"(?:\\?.*|;.*)?$","i"),a=new this._w.RegExp(".+\\."+t+"(?:\\?.*|;.*)?$","i");for(let e=this._d.getElementsByTagName(o),t=0;t<e.length;t++)a.test(e[t][l])&&n.push(e[t]);for(let e=0;e<n.length;e++){let t=n[e][l].match(s);if(t){i=t[0];break}}if(""===i&&(i=n.length>0?n[0][l]:""),-1===i.indexOf(":/")&&"//"!==i.slice(0,2)&&(i=0===i.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+i:location.href.match(/^[^\?]*\/(?:)/)[0]+i),!i)throw"[SUNEDITOR.util.getIncludePath.fail] The SUNEDITOR installation path could not be automatically detected. (name: +"+name+", extension: "+t+")";return i},getPageStyle:function(e){let t="";const i=(e||this._d).styleSheets;for(let e,n=0,o=i.length;n<o;n++){try{e=i[n].cssRules}catch(e){continue}if(e)for(let i=0,n=e.length;i<n;i++)t+=e[i].cssText}return t},getIframeDocument:function(e){let t=e.contentWindow||e.contentDocument;return t.document&&(t=t.document),t},getAttributesToString:function(e,t){if(!e.attributes)return"";const i=e.attributes;let n="";for(let e=0,o=i.length;e<o;e++)t&&t.indexOf(i[e].name)>-1||(n+=i[e].name+'="'+i[e].value+'" ');return n},getByteLength:function(e){if(!e||!e.toString)return 0;e=e.toString();const t=this._w.encodeURIComponent;let i,n;return this.isIE_Edge?(n=this._w.unescape(t(e)).length,i=0,null!==t(e).match(/(%0A|%0D)/gi)&&(i=t(e).match(/(%0A|%0D)/gi).length),n+i):(n=new this._w.TextEncoder("utf-8").encode(e).length,i=0,null!==t(e).match(/(%0A|%0D)/gi)&&(i=t(e).match(/(%0A|%0D)/gi).length),n+i)},isWysiwygDiv:function(e){return e&&1===e.nodeType&&(this.hasClass(e,"se-wrapper-wysiwyg")||/^BODY$/i.test(e.nodeName))},isNonEditable:function(e){return e&&1===e.nodeType&&"false"===e.getAttribute("contenteditable")},isTextStyleElement:function(e){return e&&3!==e.nodeType&&/^(strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code|summary)$/i.test(e.nodeName)},isInputElement:function(e){return e&&1===e.nodeType&&/^(INPUT|TEXTAREA)$/i.test(e.nodeName)},isFormatElement:function(e){return e&&1===e.nodeType&&(/^(P|DIV|H[1-6]|PRE|LI|TH|TD|DETAILS)$/i.test(e.nodeName)||this.hasClass(e,"(\\s|^)__se__format__replace_.+(\\s|$)|(\\s|^)__se__format__free_.+(\\s|$)"))&&!this.isComponent(e)&&!this.isWysiwygDiv(e)},isRangeFormatElement:function(e){return e&&1===e.nodeType&&(/^(BLOCKQUOTE|OL|UL|FIGCAPTION|TABLE|THEAD|TBODY|TR|TH|TD|DETAILS)$/i.test(e.nodeName)||this.hasClass(e,"(\\s|^)__se__format__range_.+(\\s|$)"))},isClosureRangeFormatElement:function(e){return e&&1===e.nodeType&&(/^(TH|TD)$/i.test(e.nodeName)||this.hasClass(e,"(\\s|^)__se__format__range__closure_.+(\\s|$)"))},isFreeFormatElement:function(e){return e&&1===e.nodeType&&(/^PRE$/i.test(e.nodeName)||this.hasClass(e,"(\\s|^)__se__format__free_.+(\\s|$)"))&&!this.isComponent(e)&&!this.isWysiwygDiv(e)},isClosureFreeFormatElement:function(e){return e&&1===e.nodeType&&this.hasClass(e,"(\\s|^)__se__format__free__closure_.+(\\s|$)")},isComponent:function(e){return e&&(/se-component/.test(e.className)||/^(TABLE|HR)$/.test(e.nodeName))},isUneditableComponent:function(e){return e&&this.hasClass(e,"__se__uneditable")},isMediaComponent:function(e){return e&&/se-component/.test(e.className)},isNotCheckingNode:function(e){return e&&/katex|__se__tag/.test(e.className)},getFormatElement:function(e,t){if(!e)return null;for(t||(t=function(){return!0});e;){if(this.isWysiwygDiv(e))return null;if(this.isRangeFormatElement(e)&&e.firstElementChild,this.isFormatElement(e)&&t(e))return e;e=e.parentNode}return null},getRangeFormatElement:function(e,t){if(!e)return null;for(t||(t=function(){return!0});e;){if(this.isWysiwygDiv(e))return null;if(this.isRangeFormatElement(e)&&!/^(THEAD|TBODY|TR)$/i.test(e.nodeName)&&t(e))return e;e=e.parentNode}return null},getFreeFormatElement:function(e,t){if(!e)return null;for(t||(t=function(){return!0});e;){if(this.isWysiwygDiv(e))return null;if(this.isFreeFormatElement(e)&&t(e))return e;e=e.parentNode}return null},getClosureFreeFormatElement:function(e,t){if(!e)return null;for(t||(t=function(){return!0});e;){if(this.isWysiwygDiv(e))return null;if(this.isClosureFreeFormatElement(e)&&t(e))return e;e=e.parentNode}return null},copyTagAttributes:function(e,t,i){if(t.style.cssText){const i=t.style;for(let t=0,n=i.length;t<n;t++)e.style[i[t]]=i[i[t]]}const n=t.attributes;for(let t,o=0,l=n.length;o<l;o++)t=n[o].name.toLowerCase(),i&&i.indexOf(t)>-1||!n[o].value?e.removeAttribute(t):"style"!==t&&e.setAttribute(n[o].name,n[o].value)},copyFormatAttributes:function(e,t){(t=t.cloneNode(!1)).className=t.className.replace(/(\s|^)__se__format__[^\s]+/g,""),this.copyTagAttributes(e,t)},getArrayItem:function(e,t,i){if(!e||0===e.length)return null;t=t||function(){return!0};const n=[];for(let o,l=0,r=e.length;l<r;l++)if(o=e[l],t(o)){if(!i)return o;n.push(o)}return i?n:null},arrayIncludes:function(e,t){for(let i=0;i<e.length;i++)if(e[i]===t)return!0;return!1},getArrayIndex:function(e,t){let i=-1;for(let n=0,o=e.length;n<o;n++)if(e[n]===t){i=n;break}return i},nextIdx:function(e,t){let i=this.getArrayIndex(e,t);return-1===i?-1:i+1},prevIdx:function(e,t){let i=this.getArrayIndex(e,t);return-1===i?-1:i-1},getPositionIndex:function(e){let t=0;for(;e=e.previousSibling;)t+=1;return t},getNodePath:function(e,t,i){const n=[];let o=!0;return this.getParentElement(e,function(e){if(e===t&&(o=!1),o&&!this.isWysiwygDiv(e)){if(i&&3===e.nodeType){let t=null,n=null;i.s=i.e=0;let o=e.previousSibling;for(;o&&3===o.nodeType;)n=o.textContent.replace(this.zeroWidthRegExp,""),i.s+=n.length,e.textContent=n+e.textContent,t=o,o=o.previousSibling,this.removeItem(t);let l=e.nextSibling;for(;l&&3===l.nodeType;)n=l.textContent.replace(this.zeroWidthRegExp,""),i.e+=n.length,e.textContent+=n,t=l,l=l.nextSibling,this.removeItem(t)}n.push(e)}return!1}.bind(this)),n.map(this.getPositionIndex).reverse()},getNodeFromPath:function(e,t){let i,n=t;for(let t=0,o=e.length;t<o&&(i=n.childNodes,0!==i.length);t++)n=i.length<=e[t]?i[i.length-1]:i[e[t]];return n},isSameAttributes:function(e,t){if(3===e.nodeType&&3===t.nodeType)return!0;if(3===e.nodeType||3===t.nodeType)return!1;const i=e.style,n=t.style;let o=0;for(let e=0,t=i.length;e<t;e++)i[i[e]]===n[i[e]]&&o++;const l=e.classList,r=t.classList,s=this._w.RegExp;let a=0;for(let e=0,t=l.length;e<t;e++)s("(s|^)"+l[e]+"(s|$)").test(r.value)&&a++;return o===n.length&&o===i.length&&a===r.length&&a===l.length},isEmptyLine:function(e){return!e||!e.parentNode||!e.querySelector("IMG, IFRAME, AUDIO, VIDEO, CANVAS, TABLE")&&0===e.children.length&&this.onlyZeroWidthSpace(e.textContent)},isSpanWithoutAttr:function(e){return!!e&&1===e.nodeType&&/^SPAN$/i.test(e.nodeName)&&!e.className&&!e.style.cssText},isList:function(e){return e&&/^(OL|UL)$/i.test("string"==typeof e?e:e.nodeName)},isListCell:function(e){return e&&/^LI$/i.test("string"==typeof e?e:e.nodeName)},isTable:function(e){return e&&/^(TABLE|THEAD|TBODY|TR|TH|TD)$/i.test("string"==typeof e?e:e.nodeName)},isCell:function(e){return e&&/^(TD|TH)$/i.test("string"==typeof e?e:e.nodeName)},isBreak:function(e){return e&&/^BR$/i.test("string"==typeof e?e:e.nodeName)},isAnchor:function(e){return e&&/^A$/i.test("string"==typeof e?e:e.nodeName)},isMedia:function(e){return e&&/^(IMG|IFRAME|AUDIO|VIDEO|CANVAS)$/i.test("string"==typeof e?e:e.nodeName)},isFigures:function(e){return e&&(this.isMedia(e)||/^(FIGURE)$/i.test("string"==typeof e?e:e.nodeName))},isNumber:function(e){return!!e&&/^-?\d+(\.\d+)?$/.test(e+"")},getNumber:function(e,t){if(!e)return 0;let i=(e+"").match(/-?\d+(\.\d+)?/);return i&&i[0]?(i=i[0],t<0?1*i:0===t?this._w.Math.round(1*i):1*(1*i).toFixed(t)):0},getListChildren:function(e,t){const i=[];return e&&e.children&&0!==e.children.length?(t=t||function(){return!0},function n(o){if(e!==o&&t(o)&&i.push(o),o.children)for(let e=0,t=o.children.length;e<t;e++)n(o.children[e])}(e),i):i},getListChildNodes:function(e,t){const i=[];return e&&0!==e.childNodes.length?(t=t||function(){return!0},function n(o){e!==o&&t(o)&&i.push(o);for(let e=0,t=o.childNodes.length;e<t;e++)n(o.childNodes[e])}(e),i):i},getElementDepth:function(e){if(!e||this.isWysiwygDiv(e))return-1;let t=0;for(e=e.parentNode;e&&!this.isWysiwygDiv(e);)t+=1,e=e.parentNode;return t},compareElements:function(e,t){let i=e,n=t;for(;i&&n&&i.parentNode!==n.parentNode;)i=i.parentNode,n=n.parentNode;if(!i||!n)return{ancestor:null,a:e,b:t,result:0};const o=i.parentNode.childNodes,l=this.getArrayIndex(o,i),r=this.getArrayIndex(o,n);return{ancestor:i.parentNode,a:i,b:n,result:l>r?1:l<r?-1:0}},getParentElement:function(e,t){let i;if("function"==typeof t)i=t;else{let e;/^\./.test(t)?(e="className",t=t.split(".")[1]):/^#/.test(t)?(e="id",t="^"+t.split("#")[1]+"$"):/^:/.test(t)?(e="name",t="^"+t.split(":")[1]+"$"):(e="nodeName",t="^"+t+"$");const n=new this._w.RegExp(t,"i");i=function(t){return n.test(t[e])}}for(;e&&!i(e);){if(this.isWysiwygDiv(e))return null;e=e.parentNode}return e},getPreviousDeepestNode:function(e,t){let i=e.previousSibling;if(!i){for(let n=e.parentNode;n;n=n.parentNode){if(n===t)return null;if(n.previousSibling){i=n.previousSibling;break}}if(!i)return null}for(;i.lastChild;)i=i.lastChild;return i},getNextDeepestNode:function(e,t){let i=e.nextSibling;if(!i){for(let n=e.parentNode;n;n=n.parentNode){if(n===t)return null;if(n.nextSibling){i=n.nextSibling;break}}if(!i)return null}for(;i.firstChild;)i=i.firstChild;return i},getChildElement:function(e,t,i){let n;if("function"==typeof t)n=t;else{let e;/^\./.test(t)?(e="className",t=t.split(".")[1]):/^#/.test(t)?(e="id",t="^"+t.split("#")[1]+"$"):/^:/.test(t)?(e="name",t="^"+t.split(":")[1]+"$"):(e="nodeName",t="^"+("text"===t?"#"+t:t)+"$");const i=new this._w.RegExp(t,"i");n=function(t){return i.test(t[e])}}const o=this.getListChildNodes(e,(function(e){return n(e)}));return o[i?o.length-1:0]},getEdgeChildNodes:function(e,t){if(e){for(t||(t=e);e&&1===e.nodeType&&e.childNodes.length>0&&!this.isBreak(e);)e=e.firstChild;for(;t&&1===t.nodeType&&t.childNodes.length>0&&!this.isBreak(t);)t=t.lastChild;return{sc:e,ec:t||e}}},getOffset:function(e,t){let i=0,n=0,o=3===e.nodeType?e.parentElement:e;const l=this.getParentElement(e,this.isWysiwygDiv.bind(this));for(;o&&!this.hasClass(o,"se-container")&&o!==l;)i+=o.offsetLeft,n+=o.offsetTop,o=o.offsetParent;const r=t&&/iframe/i.test(t.nodeName);return{left:i+(r?t.parentElement.offsetLeft:0),top:n-(l?l.scrollTop:0)+(r?t.parentElement.offsetTop:0)}},getOverlapRangeAtIndex:function(e,t,i,n){if(e<=n?t<i:t>i)return 0;const o=(e>i?e:i)-(t<n?t:n);return(o<0?-1*o:o)+1},changeTxt:function(e,t){e&&t&&(e.textContent=t)},changeElement:function(e,t){if("string"==typeof t)if(e.outerHTML)e.outerHTML=t;else{const i=this.createElement("DIV");i.innerHTML=t,t=i.firstChild,e.parentNode.replaceChild(t,e)}else 1===t.nodeType&&e.parentNode.replaceChild(t,e)},setStyle:function(e,t,i){e.style[t]=i,i||e.style.cssText||e.removeAttribute("style")},hasClass:function(e,t){if(e)return new this._w.RegExp(t).test(e.className)},addClass:function(e,t){if(!e)return;new this._w.RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)||(e.className+=(e.className.length>0?" ":"")+t)},removeClass:function(e,t){if(!e)return;const i=new this._w.RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(i," ").trim(),e.className.trim()||e.removeAttribute("class")},toggleClass:function(e,t){if(!e)return;let i=!1;const n=new this._w.RegExp("(\\s|^)"+t+"(\\s|$)");return n.test(e.className)?e.className=e.className.replace(n," ").trim():(e.className+=" "+t,i=!0),e.className.trim()||e.removeAttribute("class"),i},isImportantDisabled:function(e){return e.hasAttribute("data-important-disabled")},setDisabledButtons:function(e,t,i){for(let n=0,o=t.length;n<o;n++){let o=t[n];!i&&this.isImportantDisabled(o)||(o.disabled=e),i&&(e?o.setAttribute("data-important-disabled",""):o.removeAttribute("data-important-disabled"))}},removeItem:function(e){e&&("function"==typeof e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e))},removeItemAllParents:function(e,t,i){if(!e)return null;let n=null;return t||(t=function(e){if(e===i||this.isComponent(e))return!1;const t=e.textContent.trim();return 0===t.length||/^(\n|\u200B)+$/.test(t)}.bind(this)),function e(i){if(!G.isWysiwygDiv(i)){const o=i.parentNode;o&&t(i)&&(n={sc:i.previousElementSibling,ec:i.nextElementSibling},G.removeItem(i),e(o))}}(e),n},detachNestedList:function(e,t){const i=this._deleteNestedList(e);let n,o,l;if(i){n=i.cloneNode(!1),o=i.childNodes;const t=this.getPositionIndex(e);for(;o[t];)n.appendChild(o[t])}else n=e;if(t)l=this.getListChildren(n,function(e){return this.isListCell(e)&&!e.previousElementSibling}.bind(this));else{const t=this.getElementDepth(e)+2;l=this.getListChildren(e,function(e){return this.isListCell(e)&&!e.previousElementSibling&&this.getElementDepth(e)===t}.bind(this))}for(let e=0,t=l.length;e<t;e++)this._deleteNestedList(l[e]);return i&&(i.parentNode.insertBefore(n,i.nextSibling),o&&0===o.length&&this.removeItem(i)),n===e?n.parentNode:n},_deleteNestedList:function(e){const t=e.parentNode;let i,n,o,l,r,s=t,a=s.parentNode;for(;this.isListCell(a);){for(l=this.getPositionIndex(e),i=a.nextElementSibling,n=a.parentNode,o=s;o;){if(s=s.nextSibling,this.isList(o)){for(r=o.childNodes;r[l];)n.insertBefore(r[l],i);0===r.length&&this.removeItem(o)}else n.appendChild(o);o=s}s=n,a=n.parentNode}return 0===t.children.length&&this.removeItem(t),n},splitElement:function(e,t,i){if(this.isWysiwygDiv(e))return e;if(t&&!this.isNumber(t)){const i=e.childNodes;let n=this.getPositionIndex(t);const o=e.cloneNode(!1),l=e.cloneNode(!1);for(let e=0,t=i.length;e<t;e++){if(e<n)o.appendChild(i[e]);else{if(!(e>n))continue;l.appendChild(i[e])}e--,t--,n--}return o.childNodes.length>0&&e.parentNode.insertBefore(o,e),l.childNodes.length>0&&e.parentNode.insertBefore(l,e.nextElementSibling),e}const n=e.parentNode;let o,l,r,s=0,a=1,c=!0;if((!i||i<0)&&(i=0),3===e.nodeType){if(s=this.getPositionIndex(e),t>=0&&e.length!==t){e.splitText(t);const i=this.getNodeFromPath([s+1],n);this.onlyZeroWidthSpace(i)&&(i.data=this.zeroWidthSpace)}}else if(1===e.nodeType){if(0===t){for(;e.firstChild;)e=e.firstChild;if(3===e.nodeType){const t=this.createTextNode(this.zeroWidthSpace);e.parentNode.insertBefore(t,e),e=t}}e.previousSibling?e=e.previousSibling:this.getElementDepth(e)===i&&(c=!1)}1===e.nodeType&&(a=0);let u=e;for(;this.getElementDepth(u)>i;)for(s=this.getPositionIndex(u)+a,u=u.parentNode,r=o,o=u.cloneNode(!1),l=u.childNodes,r&&(this.isListCell(o)&&this.isList(r)&&r.firstElementChild?(o.innerHTML=r.firstElementChild.innerHTML,G.removeItem(r.firstElementChild),r.children.length>0&&o.appendChild(r)):o.appendChild(r));l[s];)o.appendChild(l[s]);u.childNodes.length<=1&&(!u.firstChild||0===u.firstChild.textContent.length)&&(u.innerHTML="<br>");const d=u.parentNode;return c&&(u=u.nextSibling),o?(this.mergeSameTags(o,null,!1),this.mergeNestedTags(o,function(e){return this.isList(e)}.bind(this)),o.childNodes.length>0?d.insertBefore(o,u):o=u,this.isListCell(o)&&o.children&&this.isList(o.children[0])&&o.insertBefore(this.createElement("BR"),o.children[0]),0===n.childNodes.length&&this.removeItem(n),o):u},mergeSameTags:function(e,t,i){const n=this,o=t?t.length:0;let l=null;return o&&(l=this._w.Array.apply(null,new this._w.Array(o)).map(this._w.Number.prototype.valueOf,0)),function e(r,s,a){const c=r.childNodes;for(let u,d,h=0,p=c.length;h<p&&(u=c[h],d=c[h+1],u);h++)if(!(n.isBreak(u)||n.isMedia(u)||n.isInputElement(u)))if(i&&n._isIgnoreNodeChange(u)||!i&&(n.isTable(u)||n.isListCell(u)||n.isFormatElement(u)&&!n.isFreeFormatElement(u)))(n.isTable(u)||n.isListCell(u))&&e(u,s+1,h);else{if(1===p&&r.nodeName===u.nodeName&&r.parentNode){if(o){let e,i,l,a,c;for(let d=0;d<o;d++)if(e=t[d],e&&e[s]===h){for(i=u,l=r,a=s,c=!0;a>=0;){if(n.getArrayIndex(l.childNodes,i)!==e[a]){c=!1;break}i=u.parentNode,l=i.parentNode,a--}c&&(e.splice(s,1),e[s]=h)}}n.copyTagAttributes(u,r),r.parentNode.insertBefore(u,r),n.removeItem(r)}if(!d){1===u.nodeType&&e(u,s+1,h);break}if(u.nodeName===d.nodeName&&n.isSameAttributes(u,d)&&u.href===d.href){const e=u.childNodes;let i=0;for(let t=0,n=e.length;t<n;t++)e[t].textContent.length>0&&i++;const r=u.lastChild,c=d.firstChild;let p=0;if(r&&c){const e=3===r.nodeType&&3===c.nodeType;p=r.textContent.length;let n=r.previousSibling;for(;n&&3===n.nodeType;)p+=n.textContent.length,n=n.previousSibling;if(i>0&&3===r.nodeType&&3===c.nodeType&&(r.textContent.length>0||c.textContent.length>0)&&i--,o){let n=null;for(let u=0;u<o;u++)if(n=t[u],n&&n[s]>h){if(s>0&&n[s-1]!==a)continue;n[s]-=1,n[s+1]>=0&&n[s]===h&&(n[s+1]+=i,e&&r&&3===r.nodeType&&c&&3===c.nodeType&&(l[u]+=p))}}}if(3===u.nodeType){if(p=u.textContent.length,u.textContent+=d.textContent,o){let e=null;for(let n=0;n<o;n++)if(e=t[n],e&&e[s]>h){if(s>0&&e[s-1]!==a)continue;e[s]-=1,e[s+1]>=0&&e[s]===h&&(e[s+1]+=i,l[n]+=p)}}}else u.innerHTML+=d.innerHTML;n.removeItem(d),h--}else 1===u.nodeType&&e(u,s+1,h)}}(e,0,0),l},mergeNestedTags:function(e,t){"string"==typeof t?t=function(e){return this.test(e.tagName)}.bind(new this._w.RegExp("^("+(t||".+")+")$","i")):"function"!=typeof t&&(t=function(){return!0}),function e(i){let n=i.children;if(1===n.length&&n[0].nodeName===i.nodeName&&t(i)){const e=n[0];for(n=e.children;n[0];)i.appendChild(n[0]);i.removeChild(e)}for(let t=0,n=i.children.length;t<n;t++)e(i.children[t])}(e)},removeEmptyNode:function(e,t,i){const n=this;t&&(t=n.getParentElement(t,(function(t){return e===t.parentElement}))),function i(o){if(n._notTextNode(o)||o===t||n.isNonEditable(o))return 0;if(o===e||!n.onlyZeroWidthSpace(o.textContent)||o.firstChild&&n.isBreak(o.firstChild)||o.querySelector(n._allowedEmptyNodeList)){const e=o.children;for(let t=0,o=e.length,l=0;t<o;t++)e[t+l]&&!n.isComponent(e[t+l])&&(l+=i(e[t+l]))}else if(o.parentNode)return o.parentNode.removeChild(o),-1;return 0}(e),0===e.childNodes.length&&(i?this.removeItem(e):e.innerHTML="<br>")},htmlRemoveWhiteSpace:function(e){return e?e.trim().replace(/<\/?(?!strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code|summary)[^>^<]+>\s+(?=<)/gi,(function(e){return e.replace(/\n/g,"").replace(/\s+/," ")})):""},htmlCompress:function(e){return e.replace(/\n/g,"").replace(/(>)(?:\s+)(<)/g,"$1$2")},sortByDepth:function(e,t){const i=t?1:-1,n=-1*i;e.sort(function(e,t){return this.isListCell(e)&&this.isListCell(t)?(e=this.getElementDepth(e))>(t=this.getElementDepth(t))?i:e<t?n:0:0}.bind(this))},escapeStringRegexp:function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")},_isExcludeSelectionElement:function(e){return!/FIGCAPTION/i.test(e.nodeName)&&(this.isComponent(e)||/FIGURE/i.test(e.nodeName))},_isIgnoreNodeChange:function(e){return e&&3!==e.nodeType&&(this.isNonEditable(e)||!this.isTextStyleElement(e))},_isMaintainedNode:function(e){return e&&3!==e.nodeType&&/^(a|label|code|summary)$/i.test("string"==typeof e?e:e.nodeName)},_isSizeNode:function(e){return e&&3!==e.nodeType&&this.isTextStyleElement(e)&&!!e.style.fontSize},_notTextNode:function(e){return e&&3!==e.nodeType&&(this.isComponent(e)||/^(br|input|select|canvas|img|iframe|audio|video)$/i.test("string"==typeof e?e:e.nodeName))},_disallowedTags:function(e){return/^(meta|script|link|style|[a-z]+\:[a-z]+)$/i.test(e.nodeName)},createTagsWhitelist:function(e){return new RegExp("<\\/?\\b(?!\\b"+(e||"").replace(/\|/g,"\\b|\\b")+"\\b)[^>]*>","gi")},createTagsBlacklist:function(e){return new RegExp("<\\/?\\b(?:\\b"+(e||"^").replace(/\|/g,"\\b|\\b")+"\\b)[^>]*>","gi")},_consistencyCheckOfHTML:function(e,t,i,n,o){const l=[],r=[],s=[],a=[],c=this.getListChildNodes(e,function(c){if(1!==c.nodeType)return this.isList(c.parentElement)&&l.push(c),!1;if(i.test(c.nodeName)||!t.test(c.nodeName)&&0===c.childNodes.length&&this.isNotCheckingNode(c))return l.push(c),!1;const u=!this.getParentElement(c,this.isNotCheckingNode);if(!this.isTable(c)&&!this.isListCell(c)&&!this.isAnchor(c)&&(this.isFormatElement(c)||this.isRangeFormatElement(c)||this.isTextStyleElement(c))&&0===c.childNodes.length&&u)return r.push(c),!1;if(this.isList(c.parentNode)&&!this.isList(c)&&!this.isListCell(c))return s.push(c),!1;if(this.isCell(c)){const e=c.firstElementChild;if(!this.isFormatElement(e)&&!this.isRangeFormatElement(e)&&!this.isComponent(e))return a.push(c),!1}if(u&&c.className){const e=new this._w.Array(c.classList).map(n).join(" ").trim();e?c.className=e:c.removeAttribute("class")}return o&&c.parentNode!==e&&u&&(this.isListCell(c)&&!this.isList(c.parentNode)||(this.isFormatElement(c)||this.isComponent(c))&&!this.isRangeFormatElement(c.parentNode)&&!this.getParentElement(c,this.isComponent))}.bind(this));for(let e=0,t=l.length;e<t;e++)this.removeItem(l[e]);const u=[];for(let e,t,i=0,n=c.length;i<n;i++)if(e=c[i],t=e.parentNode,t&&t.parentNode)if(this.getParentElement(e,this.isListCell)){const i=e.childNodes;for(let o=i.length-1;n>=0;o--)t.insertBefore(e,i[o]);u.push(e)}else t.parentNode.insertBefore(e,t),u.push(t);for(let e,t=0,i=u.length;t<i;t++)e=u[t],this.onlyZeroWidthSpace(e.textContent.trim())&&this.removeItem(e);for(let e=0,t=r.length;e<t;e++)this.removeItem(r[e]);for(let e,t,i,n,o=0,l=s.length;o<l;o++)if(e=s[o],n=e.parentNode,n)if(t=this.createElement("LI"),this.isFormatElement(e)){for(i=e.childNodes;i[0];)t.appendChild(i[0]);n.insertBefore(t,e),this.removeItem(e)}else e=e.nextSibling,t.appendChild(s[o]),n.insertBefore(t,e);for(let e,t,i=0,n=a.length;i<n;i++)e=a[i],t=this.createElement("DIV"),t.innerHTML=0===e.textContent.trim().length&&0===e.children.length?"<br>":e.innerHTML,e.innerHTML=t.outerHTML},_setDefaultOptionStyle:function(e,t){let i="";e.height&&(i+="height:"+e.height+";"),e.minHeight&&(i+="min-height:"+e.minHeight+";"),e.maxHeight&&(i+="max-height:"+e.maxHeight+";"),e.position&&(i+="position:"+e.position+";"),e.width&&(i+="width:"+e.width+";"),e.minWidth&&(i+="min-width:"+e.minWidth+";"),e.maxWidth&&(i+="max-width:"+e.maxWidth+";");let n="",o="",l="";const r=(t=i+t).split(";");for(let t,i=0,s=r.length;i<s;i++)t=r[i].trim(),t&&(/^(min-|max-)?width\s*:/.test(t)||/^(z-index|position)\s*:/.test(t)?n+=t+";":/^(min-|max-)?height\s*:/.test(t)?(/^height/.test(t)&&"auto"===t.split(":")[1].trim()&&(e.height="auto"),o+=t+";"):l+=t+";");return{top:n,frame:o,editor:l}},_setIframeDocument:function(e,t){e.setAttribute("scrolling","auto"),e.contentDocument.head.innerHTML='<meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">'+this._setIframeCssTags(t),e.contentDocument.body.className=t._editableClass,e.contentDocument.body.setAttribute("contenteditable",!0),e.contentDocument.body.setAttribute("autocorrect","off")},_setIframeCssTags:function(e){const t=e.iframeCSSFileName,i=this._w.RegExp;let n="";for(let e,o=0,l=t.length;o<l;o++){if(e=[],/(^https?:\/\/)|(^data:text\/css,)/.test(t[o]))e.push(t[o]);else{const n=new i("(^|.*[\\/])"+t[o]+"(\\..+)?\\.css(?:\\?.*|;.*)?$","i");for(let t,i=document.getElementsByTagName("link"),o=0,l=i.length;o<l;o++)t=i[o].href.match(n),t&&e.push(t[0])}if(!e||0===e.length)throw'[SUNEDITOR.constructor.iframe.fail] The suneditor CSS files installation path could not be automatically detected. Please set the option property "iframeCSSFileName" before creating editor instances.';for(let t=0,i=e.length;t<i;t++)n+='<link href="'+e[t]+'" rel="stylesheet">'}return n+("auto"===e.height?"<style>\n/** Iframe height auto */\nbody{height: min-content; overflow: hidden;}\n</style>":"")}},K=G,Y={init:function(e,t){"object"!=typeof t&&(t={});const i=document;this._initOptions(e,t);const n=i.createElement("DIV");n.className="sun-editor"+(t.rtl?" se-rtl":""),e.id&&(n.id="suneditor_"+e.id);const o=i.createElement("DIV");o.className="se-container";const l=this._createToolBar(i,t.buttonList,t.plugins,t),r=l.element.cloneNode(!1);r.className+=" se-toolbar-shadow",l.element.style.visibility="hidden",l.pluginCallButtons.math&&this._checkKatexMath(t.katex);const s=i.createElement("DIV");s.className="se-arrow";const a=i.createElement("DIV");a.className="se-toolbar-sticky-dummy";const c=i.createElement("DIV");c.className="se-wrapper";const u=this._initElements(t,n,l.element,s),d=u.bottomBar,h=u.wysiwygFrame,p=u.placeholder;let f=u.codeView;const g=d.resizingBar,m=d.navigation,v=d.charWrapper,b=d.charCounter,y=i.createElement("DIV");y.className="se-loading-box sun-editor-common",y.innerHTML='<div class="se-loading-effect"></div>';const w=i.createElement("DIV");w.className="se-line-breaker",w.innerHTML='<button class="se-btn">'+t.icons.line_break+"</button>";const _=i.createElement("DIV");_.className+="se-line-breaker-component";const C=_.cloneNode(!0);_.innerHTML=C.innerHTML=t.icons.line_break;const x=i.createElement("DIV");x.className="se-resizing-back";const k=i.createElement("INPUT");k.tabIndex=-1,k.style.cssText="position: fixed !important; top: -10000px !important; display: block !important; width: 0 !important; height: 0 !important; margin: 0 !important; padding: 0 !important;";const S=t.toolbarContainer;S&&(S.appendChild(l.element),S.appendChild(r));const L=t.resizingBarContainer;return g&&L&&L.appendChild(g),c.appendChild(f),p&&c.appendChild(p),S||(o.appendChild(l.element),o.appendChild(r)),o.appendChild(a),o.appendChild(c),o.appendChild(x),o.appendChild(y),o.appendChild(w),o.appendChild(_),o.appendChild(C),o.appendChild(k),g&&!L&&o.appendChild(g),n.appendChild(o),f=this._checkCodeMirror(t,f),{constructed:{_top:n,_relative:o,_toolBar:l.element,_toolbarShadow:r,_menuTray:l._menuTray,_editorArea:c,_wysiwygArea:h,_codeArea:f,_placeholder:p,_resizingBar:g,_navigation:m,_charWrapper:v,_charCounter:b,_loading:y,_lineBreaker:w,_lineBreaker_t:_,_lineBreaker_b:C,_resizeBack:x,_stickyDummy:a,_arrow:s,_focusTemp:k},options:t,plugins:l.plugins,pluginCallButtons:l.pluginCallButtons,_responsiveButtons:l.responsiveButtons}},_checkCodeMirror:function(e,t){if(e.codeMirror){const i=[{mode:"htmlmixed",htmlMode:!0,lineNumbers:!0,lineWrapping:!0},e.codeMirror.options||{}].reduce((function(e,t){for(let i in t)K.hasOwn(t,i)&&(e[i]=t[i]);return e}),{});"auto"===e.height&&(i.viewportMargin=1/0,i.height="auto");const n=e.codeMirror.src.fromTextArea(t,i);n.display.wrapper.style.cssText=t.style.cssText,e.codeMirrorEditor=n,(t=n.display.wrapper).className+=" se-wrapper-code-mirror"}return t},_checkKatexMath:function(e){if(!e)throw Error('[SUNEDITOR.create.fail] To use the math button you need to add a "katex" object to the options.');const t=[{throwOnError:!1},e.options||{}].reduce((function(e,t){for(let i in t)K.hasOwn(t,i)&&(e[i]=t[i]);return e}),{});e.options=t},_setOptions:function(e,t,i){this._initOptions(t.element.originElement,e);const n=t.element,o=n.relative,l=n.editorArea,r=e.toolbarContainer&&e.toolbarContainer!==i.toolbarContainer,s=e.lang!==i.lang||e.buttonList!==i.buttonList||e.mode!==i.mode||r,a=this._createToolBar(document,s?e.buttonList:i.buttonList,e.plugins,e);a.pluginCallButtons.math&&this._checkKatexMath(e.katex);const c=document.createElement("DIV");c.className="se-arrow",s&&(a.element.style.visibility="hidden",r?(e.toolbarContainer.appendChild(a.element),n.toolbar.parentElement.removeChild(n.toolbar)):n.toolbar.parentElement.replaceChild(a.element,n.toolbar),n.toolbar=a.element,n._menuTray=a._menuTray,n._arrow=c);const u=this._initElements(e,n.topArea,s?a.element:n.toolbar,c),d=u.bottomBar,h=u.wysiwygFrame,p=u.placeholder;let f=u.codeView;return n.resizingBar&&K.removeItem(n.resizingBar),d.resizingBar&&(e.resizingBarContainer&&e.resizingBarContainer!==i.resizingBarContainer?e.resizingBarContainer.appendChild(d.resizingBar):o.appendChild(d.resizingBar)),l.innerHTML="",l.appendChild(f),p&&l.appendChild(p),f=this._checkCodeMirror(e,f),n.resizingBar=d.resizingBar,n.navigation=d.navigation,n.charWrapper=d.charWrapper,n.charCounter=d.charCounter,n.wysiwygFrame=h,n.code=f,n.placeholder=p,e.rtl?K.addClass(n.topArea,"se-rtl"):K.removeClass(n.topArea,"se-rtl"),{callButtons:a.pluginCallButtons,plugins:a.plugins,toolbar:a}},_initElements:function(e,t,i,n){t.style.cssText=e._editorStyles.top,/inline/i.test(e.mode)?(i.className+=" se-toolbar-inline",i.style.width=e.toolbarWidth):/balloon/i.test(e.mode)&&(i.className+=" se-toolbar-balloon",i.style.width=e.toolbarWidth,i.appendChild(n));const o=document.createElement(e.iframe?"IFRAME":"DIV");if(o.className="se-wrapper-inner se-wrapper-wysiwyg",e.iframe)o.allowFullscreen=!0,o.frameBorder=0,o.style.cssText=e._editorStyles.frame,o.className+=e.className;else{o.setAttribute("contenteditable",!0),o.setAttribute("autocorrect","off"),o.setAttribute("scrolling","auto");for(let t in e.iframeAttributes)o.setAttribute(t,e.iframeAttributes[t]);o.className+=" "+e._editableClass,o.style.cssText=e._editorStyles.frame+e._editorStyles.editor,o.className+=e.className}const l=document.createElement("TEXTAREA");l.className="se-wrapper-inner se-wrapper-code"+e.className,l.style.cssText=e._editorStyles.frame,l.style.display="none","auto"===e.height&&(l.style.overflow="hidden");let r=null,s=null,a=null,c=null;if(e.resizingBar&&(r=document.createElement("DIV"),r.className="se-resizing-bar sun-editor-common",s=document.createElement("DIV"),s.className="se-navigation sun-editor-common",r.appendChild(s),e.charCounter)){if(a=document.createElement("DIV"),a.className="se-char-counter-wrapper",e.charCounterLabel){const t=document.createElement("SPAN");t.className="se-char-label",t.textContent=e.charCounterLabel,a.appendChild(t)}if(c=document.createElement("SPAN"),c.className="se-char-counter",c.textContent="0",a.appendChild(c),e.maxCharCount>0){const t=document.createElement("SPAN");t.textContent=" / "+e.maxCharCount,a.appendChild(t)}r.appendChild(a)}let u=null;return e.placeholder&&(u=document.createElement("SPAN"),u.className="se-placeholder",u.innerText=e.placeholder),{bottomBar:{resizingBar:r,navigation:s,charWrapper:a,charCounter:c},wysiwygFrame:o,codeView:l,placeholder:u}},_initOptions:function(e,t){const i={};if(t.plugins){const e=t.plugins,n=e.length?e:Object.keys(e).map((function(t){return e[t]}));for(let e,t=0,o=n.length;t<o;t++)e=n[t].default||n[t],i[e.name]=e}t.plugins=i,t.strictMode=!1!==t.strictMode,t.strictHTMLValidation=!1!==t.strictHTMLValidation,t.lang=t.lang||Z(),t.value="string"==typeof t.value?t.value:null,t.allowedClassNames=new K._w.RegExp((t.allowedClassNames&&"string"==typeof t.allowedClassNames?t.allowedClassNames+"|":"")+"^__se__|se-|katex"),t.historyStackDelayTime="number"==typeof t.historyStackDelayTime?t.historyStackDelayTime:400,t.frameAttrbutes=t.frameAttrbutes||{},t.defaultTag="string"==typeof t.defaultTag&&t.defaultTag.length>0?t.defaultTag:"p";const n=t.textTags=[{bold:"STRONG",underline:"U",italic:"EM",strike:"DEL",sub:"SUB",sup:"SUP"},t.textTags||{}].reduce((function(e,t){for(let i in t)e[i]=t[i];return e}),{});t._textTagsMap={strong:n.bold.toLowerCase(),b:n.bold.toLowerCase(),u:n.underline.toLowerCase(),ins:n.underline.toLowerCase(),em:n.italic.toLowerCase(),i:n.italic.toLowerCase(),del:n.strike.toLowerCase(),strike:n.strike.toLowerCase(),s:n.strike.toLowerCase(),sub:n.sub.toLowerCase(),sup:n.sup.toLowerCase()},t._defaultCommand={bold:t.textTags.bold,underline:t.textTags.underline,italic:t.textTags.italic,strike:t.textTags.strike,subscript:t.textTags.sub,superscript:t.textTags.sup},t.__allowedScriptTag=!0===t.__allowedScriptTag;t.tagsBlacklist=t.tagsBlacklist||"",t._defaultTagsWhitelist=("string"==typeof t._defaultTagsWhitelist?t._defaultTagsWhitelist:"br|p|div|pre|blockquote|h1|h2|h3|h4|h5|h6|ol|ul|li|hr|figure|figcaption|img|iframe|audio|video|source|table|thead|tbody|tr|th|td|a|b|strong|var|i|em|u|ins|s|span|strike|del|sub|sup|code|svg|path|details|summary")+(t.__allowedScriptTag?"|script":""),t._editorTagsWhitelist="*"===t.addTagsWhitelist?"*":this._setWhitelist(t._defaultTagsWhitelist+("string"==typeof t.addTagsWhitelist&&t.addTagsWhitelist.length>0?"|"+t.addTagsWhitelist:""),t.tagsBlacklist),t.pasteTagsBlacklist=t.tagsBlacklist+(t.tagsBlacklist&&t.pasteTagsBlacklist?"|"+t.pasteTagsBlacklist:t.pasteTagsBlacklist||""),t.pasteTagsWhitelist="*"===t.pasteTagsWhitelist?"*":this._setWhitelist("string"==typeof t.pasteTagsWhitelist?t.pasteTagsWhitelist:t._editorTagsWhitelist,t.pasteTagsBlacklist),t.attributesWhitelist=t.attributesWhitelist&&"object"==typeof t.attributesWhitelist?t.attributesWhitelist:null,t.attributesBlacklist=t.attributesBlacklist&&"object"==typeof t.attributesBlacklist?t.attributesBlacklist:null,t.mode=t.mode||"classic",t.rtl=!!t.rtl,t.lineAttrReset=["id"].concat(t.lineAttrReset&&"string"==typeof t.lineAttrReset?t.lineAttrReset.toLowerCase().split("|"):[]),t._editableClass="sun-editor-editable"+(t.rtl?" se-rtl":""),t._printClass="string"==typeof t._printClass?t._printClass:null,t.toolbarWidth=t.toolbarWidth?K.isNumber(t.toolbarWidth)?t.toolbarWidth+"px":t.toolbarWidth:"auto",t.toolbarContainer="string"==typeof t.toolbarContainer?document.querySelector(t.toolbarContainer):t.toolbarContainer,t.stickyToolbar=/balloon/i.test(t.mode)||t.toolbarContainer?-1:void 0===t.stickyToolbar?0:/^\d+/.test(t.stickyToolbar)?K.getNumber(t.stickyToolbar,0):-1,t.hideToolbar=!!t.hideToolbar,t.fullScreenOffset=void 0===t.fullScreenOffset?0:/^\d+/.test(t.fullScreenOffset)?K.getNumber(t.fullScreenOffset,0):0,t.fullPage=!!t.fullPage,t.iframe=t.fullPage||!!t.iframe,t.iframeAttributes=t.iframeAttributes||{},t.iframeCSSFileName=t.iframe?"string"==typeof t.iframeCSSFileName?[t.iframeCSSFileName]:t.iframeCSSFileName||["suneditor"]:null,t.previewTemplate="string"==typeof t.previewTemplate?t.previewTemplate:null,t.printTemplate="string"==typeof t.printTemplate?t.printTemplate:null,t.codeMirror=t.codeMirror?t.codeMirror.src?t.codeMirror:{src:t.codeMirror}:null,t.katex=t.katex?t.katex.src?t.katex:{src:t.katex}:null,t.mathFontSize=t.mathFontSize?t.mathFontSize:[{text:"1",value:"1em"},{text:"1.5",value:"1.5em"},{text:"2",value:"2em"},{text:"2.5",value:"2.5em"}],t.position="string"==typeof t.position?t.position:null,t.display=t.display||("none"!==e.style.display&&e.style.display?e.style.display:"block"),t.popupDisplay=t.popupDisplay||"full",t.resizingBar=void 0===t.resizingBar?!/inline|balloon/i.test(t.mode):t.resizingBar,t.showPathLabel=!!t.resizingBar&&("boolean"!=typeof t.showPathLabel||t.showPathLabel),t.resizeEnable=void 0===t.resizeEnable||!!t.resizeEnable,t.resizingBarContainer="string"==typeof t.resizingBarContainer?document.querySelector(t.resizingBarContainer):t.resizingBarContainer,t.charCounter=t.maxCharCount>0||"boolean"==typeof t.charCounter&&t.charCounter,t.charCounterType="string"==typeof t.charCounterType?t.charCounterType:"char",t.charCounterLabel="string"==typeof t.charCounterLabel?t.charCounterLabel.trim():null,t.maxCharCount=K.isNumber(t.maxCharCount)&&t.maxCharCount>-1?1*t.maxCharCount:null,t.width=t.width?K.isNumber(t.width)?t.width+"px":t.width:e.clientWidth?e.clientWidth+"px":"100%",t.minWidth=(K.isNumber(t.minWidth)?t.minWidth+"px":t.minWidth)||"",t.maxWidth=(K.isNumber(t.maxWidth)?t.maxWidth+"px":t.maxWidth)||"",t.height=t.height?K.isNumber(t.height)?t.height+"px":t.height:e.clientHeight?e.clientHeight+"px":"auto",t.minHeight=(K.isNumber(t.minHeight)?t.minHeight+"px":t.minHeight)||"",t.maxHeight=(K.isNumber(t.maxHeight)?t.maxHeight+"px":t.maxHeight)||"",t.className="string"==typeof t.className&&t.className.length>0?" "+t.className:"",t.defaultStyle="string"==typeof t.defaultStyle?t.defaultStyle:"",t.font=t.font?t.font:["Arial","Comic Sans MS","Courier New","Impact","Georgia","tahoma","Trebuchet MS","Verdana"],t.fontSize=t.fontSize?t.fontSize:null,t.formats=t.formats?t.formats:null,t.colorList=t.colorList?t.colorList:null,t.lineHeights=t.lineHeights?t.lineHeights:null,t.paragraphStyles=t.paragraphStyles?t.paragraphStyles:null,t.textStyles=t.textStyles?t.textStyles:null,t.fontSizeUnit="string"==typeof t.fontSizeUnit&&t.fontSizeUnit.trim().toLowerCase()||"px",t.alignItems="object"==typeof t.alignItems?t.alignItems:t.rtl?["right","center","left","justify"]:["left","center","right","justify"],t.imageResizing=void 0===t.imageResizing||t.imageResizing,t.imageHeightShow=void 0===t.imageHeightShow||!!t.imageHeightShow,t.imageAlignShow=void 0===t.imageAlignShow||!!t.imageAlignShow,t.imageWidth=t.imageWidth?K.isNumber(t.imageWidth)?t.imageWidth+"px":t.imageWidth:"auto",t.imageHeight=t.imageHeight?K.isNumber(t.imageHeight)?t.imageHeight+"px":t.imageHeight:"auto",t.imageSizeOnlyPercentage=!!t.imageSizeOnlyPercentage,t._imageSizeUnit=t.imageSizeOnlyPercentage?"%":"px",t.imageRotation=void 0!==t.imageRotation?t.imageRotation:!(t.imageSizeOnlyPercentage||!t.imageHeightShow),t.imageFileInput=void 0===t.imageFileInput||t.imageFileInput,t.imageUrlInput=void 0===t.imageUrlInput||!t.imageFileInput||t.imageUrlInput,t.imageUploadHeader=t.imageUploadHeader||null,t.imageUploadUrl="string"==typeof t.imageUploadUrl?t.imageUploadUrl:null,t.imageUploadSizeLimit=/\d+/.test(t.imageUploadSizeLimit)?K.getNumber(t.imageUploadSizeLimit,0):null,t.imageMultipleFile=!!t.imageMultipleFile,t.imageAccept="string"!=typeof t.imageAccept||"*"===t.imageAccept.trim()?"image/*":t.imageAccept.trim()||"image/*",t.imageGalleryData=t.imageGalleryData||null,t.imageGalleryUrl="string"==typeof t.imageGalleryUrl?t.imageGalleryUrl:null,t.imageGalleryHeader=t.imageGalleryHeader||null,t.videoResizing=void 0===t.videoResizing||t.videoResizing,t.videoHeightShow=void 0===t.videoHeightShow||!!t.videoHeightShow,t.videoAlignShow=void 0===t.videoAlignShow||!!t.videoAlignShow,t.videoRatioShow=void 0===t.videoRatioShow||!!t.videoRatioShow,t.videoWidth=t.videoWidth&&K.getNumber(t.videoWidth,0)?K.isNumber(t.videoWidth)?t.videoWidth+"px":t.videoWidth:"",t.videoHeight=t.videoHeight&&K.getNumber(t.videoHeight,0)?K.isNumber(t.videoHeight)?t.videoHeight+"px":t.videoHeight:"",t.videoSizeOnlyPercentage=!!t.videoSizeOnlyPercentage,t._videoSizeUnit=t.videoSizeOnlyPercentage?"%":"px",t.videoRotation=void 0!==t.videoRotation?t.videoRotation:!(t.videoSizeOnlyPercentage||!t.videoHeightShow),t.videoRatio=K.getNumber(t.videoRatio,4)||.5625,t.videoRatioList=t.videoRatioList?t.videoRatioList:null,t.youtubeQuery=(t.youtubeQuery||"").replace("?",""),t.vimeoQuery=(t.vimeoQuery||"").replace("?",""),t.videoFileInput=!!t.videoFileInput,t.videoUrlInput=void 0===t.videoUrlInput||!t.videoFileInput||t.videoUrlInput,t.videoUploadHeader=t.videoUploadHeader||null,t.videoUploadUrl="string"==typeof t.videoUploadUrl?t.videoUploadUrl:null,t.videoUploadSizeLimit=/\d+/.test(t.videoUploadSizeLimit)?K.getNumber(t.videoUploadSizeLimit,0):null,t.videoMultipleFile=!!t.videoMultipleFile,t.videoTagAttrs=t.videoTagAttrs||null,t.videoIframeAttrs=t.videoIframeAttrs||null,t.videoAccept="string"!=typeof t.videoAccept||"*"===t.videoAccept.trim()?"video/*":t.videoAccept.trim()||"video/*",t.audioWidth=t.audioWidth?K.isNumber(t.audioWidth)?t.audioWidth+"px":t.audioWidth:"",t.audioHeight=t.audioHeight?K.isNumber(t.audioHeight)?t.audioHeight+"px":t.audioHeight:"",t.audioFileInput=!!t.audioFileInput,t.audioUrlInput=void 0===t.audioUrlInput||!t.audioFileInput||t.audioUrlInput,t.audioUploadHeader=t.audioUploadHeader||null,t.audioUploadUrl="string"==typeof t.audioUploadUrl?t.audioUploadUrl:null,t.audioUploadSizeLimit=/\d+/.test(t.audioUploadSizeLimit)?K.getNumber(t.audioUploadSizeLimit,0):null,t.audioMultipleFile=!!t.audioMultipleFile,t.audioTagAttrs=t.audioTagAttrs||null,t.audioAccept="string"!=typeof t.audioAccept||"*"===t.audioAccept.trim()?"audio/*":t.audioAccept.trim()||"audio/*",t.tableCellControllerPosition="string"==typeof t.tableCellControllerPosition?t.tableCellControllerPosition.toLowerCase():"cell",t.linkTargetNewWindow=!!t.linkTargetNewWindow,t.linkProtocol="string"==typeof t.linkProtocol?t.linkProtocol:null,t.linkRel=Array.isArray(t.linkRel)?t.linkRel:[],t.linkRelDefault=t.linkRelDefault||{},t.tabDisable=!!t.tabDisable,t.shortcutsDisable=Array.isArray(t.shortcutsDisable)?t.shortcutsDisable:[],t.shortcutsHint=void 0===t.shortcutsHint||!!t.shortcutsHint,t.callBackSave=t.callBackSave?t.callBackSave:null,t.templates=t.templates?t.templates:null,t.placeholder="string"==typeof t.placeholder?t.placeholder:null,t.mediaAutoSelect=void 0===t.mediaAutoSelect||!!t.mediaAutoSelect,t.buttonList=t.buttonList?t.buttonList:[["undo","redo"],["bold","underline","italic","strike","subscript","superscript"],["removeFormat"],["outdent","indent"],["fullScreen","showBlocks","codeView"],["preview","print"]],t.rtl&&(t.buttonList=t.buttonList.reverse()),t.icons=t.icons&&"object"==typeof t.icons?[j,t.icons].reduce((function(e,t){for(let i in t)K.hasOwn(t,i)&&(e[i]=t[i]);return e}),{}):j,t.icons=t.rtl?[t.icons,t.icons.rtl].reduce((function(e,t){for(let i in t)K.hasOwn(t,i)&&(e[i]=t[i]);return e}),{}):t.icons,t.__listCommonStyle=t.__listCommonStyle||["fontSize","color","fontFamily","fontWeight","fontStyle"],t._editorStyles=K._setDefaultOptionStyle(t,t.defaultStyle)},_setWhitelist:function(e,t){if("string"!=typeof t)return e;t=t.split("|"),e=e.split("|");for(let i,n=0,o=t.length;n<o;n++)i=e.indexOf(t[n]),i>-1&&e.splice(i,1);return e.join("|")},_defaultButtons:function(e){const t=e.icons,i=e.lang,n=K.isOSX_IOS?"⌘":"CTRL",o=K.isOSX_IOS?"⇧":"+SHIFT",l=e.shortcutsHint?e.shortcutsDisable:["bold","strike","underline","italic","undo","indent","save"],r=e.rtl?["[","]"]:["]","["],s=e.rtl?[t.outdent,t.indent]:[t.indent,t.outdent];return{bold:["",i.toolbar.bold+'<span class="se-shortcut">'+(l.indexOf("bold")>-1?"":n+'+<span class="se-shortcut-key">B</span>')+"</span>","bold","",t.bold],underline:["",i.toolbar.underline+'<span class="se-shortcut">'+(l.indexOf("underline")>-1?"":n+'+<span class="se-shortcut-key">U</span>')+"</span>","underline","",t.underline],italic:["",i.toolbar.italic+'<span class="se-shortcut">'+(l.indexOf("italic")>-1?"":n+'+<span class="se-shortcut-key">I</span>')+"</span>","italic","",t.italic],strike:["",i.toolbar.strike+'<span class="se-shortcut">'+(l.indexOf("strike")>-1?"":n+o+'+<span class="se-shortcut-key">S</span>')+"</span>","strike","",t.strike],subscript:["",i.toolbar.subscript,"SUB","",t.subscript],superscript:["",i.toolbar.superscript,"SUP","",t.superscript],removeFormat:["",i.toolbar.removeFormat,"removeFormat","",t.erase],indent:["",i.toolbar.indent+'<span class="se-shortcut">'+(l.indexOf("indent")>-1?"":n+'+<span class="se-shortcut-key">'+r[0]+"</span>")+"</span>","indent","",s[0]],outdent:["",i.toolbar.outdent+'<span class="se-shortcut">'+(l.indexOf("indent")>-1?"":n+'+<span class="se-shortcut-key">'+r[1]+"</span>")+"</span>","outdent","",s[1]],fullScreen:["se-code-view-enabled se-resizing-enabled",i.toolbar.fullScreen,"fullScreen","",t.expansion],showBlocks:["",i.toolbar.showBlocks,"showBlocks","",t.show_blocks],codeView:["se-code-view-enabled se-resizing-enabled",i.toolbar.codeView,"codeView","",t.code_view],undo:["",i.toolbar.undo+'<span class="se-shortcut">'+(l.indexOf("undo")>-1?"":n+'+<span class="se-shortcut-key">Z</span>')+"</span>","undo","",t.undo],redo:["",i.toolbar.redo+'<span class="se-shortcut">'+(l.indexOf("undo")>-1?"":n+'+<span class="se-shortcut-key">Y</span> / '+n+o+'+<span class="se-shortcut-key">Z</span>')+"</span>","redo","",t.redo],preview:["se-resizing-enabled",i.toolbar.preview,"preview","",t.preview],print:["se-resizing-enabled",i.toolbar.print,"print","",t.print],dir:["",i.toolbar[e.rtl?"dir_ltr":"dir_rtl"],"dir","",t[e.rtl?"dir_ltr":"dir_rtl"]],dir_ltr:["",i.toolbar.dir_ltr,"dir_ltr","",t.dir_ltr],dir_rtl:["",i.toolbar.dir_rtl,"dir_rtl","",t.dir_rtl],save:["se-resizing-enabled",i.toolbar.save+'<span class="se-shortcut">'+(l.indexOf("save")>-1?"":n+'+<span class="se-shortcut-key">S</span>')+"</span>","save","",t.save],blockquote:["",i.toolbar.tag_blockquote,"blockquote","command",t.blockquote],font:["se-btn-select se-btn-tool-font",i.toolbar.font,"font","submenu",'<span class="txt">'+i.toolbar.font+"</span>"+t.arrow_down],formatBlock:["se-btn-select se-btn-tool-format",i.toolbar.formats,"formatBlock","submenu",'<span class="txt">'+i.toolbar.formats+"</span>"+t.arrow_down],fontSize:["se-btn-select se-btn-tool-size",i.toolbar.fontSize,"fontSize","submenu",'<span class="txt">'+i.toolbar.fontSize+"</span>"+t.arrow_down],fontColor:["",i.toolbar.fontColor,"fontColor","submenu",t.font_color],hiliteColor:["",i.toolbar.hiliteColor,"hiliteColor","submenu",t.highlight_color],align:["se-btn-align",i.toolbar.align,"align","submenu",e.rtl?t.align_right:t.align_left],list:["",i.toolbar.list,"list","submenu",t.list_number],horizontalRule:["btn_line",i.toolbar.horizontalRule,"horizontalRule","submenu",t.horizontal_rule],table:["",i.toolbar.table,"table","submenu",t.table],lineHeight:["",i.toolbar.lineHeight,"lineHeight","submenu",t.line_height],template:["",i.toolbar.template,"template","submenu",t.template],paragraphStyle:["",i.toolbar.paragraphStyle,"paragraphStyle","submenu",t.paragraph_style],textStyle:["",i.toolbar.textStyle,"textStyle","submenu",t.text_style],link:["",i.toolbar.link,"link","dialog",t.link],image:["",i.toolbar.image,"image","dialog",t.image],video:["",i.toolbar.video,"video","dialog",t.video],audio:["",i.toolbar.audio,"audio","dialog",t.audio],math:["",i.toolbar.math,"math","dialog",t.math],imageGallery:["",i.toolbar.imageGallery,"imageGallery","fileBrowser",t.image_gallery]}},_createModuleGroup:function(){const e=K.createElement("DIV");e.className="se-btn-module se-btn-module-border";const t=K.createElement("UL");return t.className="se-menu-list",e.appendChild(t),{div:e,ul:t}},_createButton:function(e,t,i,n,o,l,r){const s=K.createElement("LI"),a=K.createElement("BUTTON"),c=t||i;return a.setAttribute("type","button"),a.setAttribute("class","se-btn"+(e?" "+e:"")+" se-tooltip"),a.setAttribute("data-command",i),a.setAttribute("data-display",n),a.setAttribute("aria-label",c.replace(/<span .+<\/span>/,"")),a.setAttribute("tabindex","-1"),o||(o='<span class="se-icon-text">!</span>'),/^default\./i.test(o)&&(o=r[o.replace(/^default\./i,"")]),/^text\./i.test(o)&&(o=o.replace(/^text\./i,""),a.className+=" se-btn-more-text"),o+='<span class="se-tooltip-inner"><span class="se-tooltip-text">'+c+"</span></span>",l&&a.setAttribute("disabled",!0),a.innerHTML=o,s.appendChild(a),{li:s,button:a}},_createToolBar:function(e,t,i,n){const o=e.createElement("DIV");o.className="se-toolbar-separator-vertical";const l=e.createElement("DIV");l.className="se-toolbar sun-editor-common";const r=e.createElement("DIV");r.className="se-btn-tray",l.appendChild(r),t=JSON.parse(JSON.stringify(t));const s=n.icons,a=this._defaultButtons(n),c={},u=[];let d=null,h=null,p=null,f=null,g="",m=!1;const v=K.createElement("DIV");v.className="se-toolbar-more-layer";e:for(let n,l,b,y,w,_=0;_<t.length;_++)if(n=!1,w="",y=t[_],p=this._createModuleGroup(),"object"==typeof y){for(let e,o=0;o<y.length;o++){if(h=y[o],e=!1,/^\%\d+/.test(h)&&0===o){y[0]=h.replace(/[^\d]/g,""),u.push(y),t.splice(_--,1);continue e}if("object"==typeof h)"function"==typeof h.add?(g=h.name,d=a[g],i[g]=h):(g=h.name,d=[h.buttonClass,h.title,h.name,h.dataDisplay,h.innerHTML,h._disabled]);else{if(/^\-/.test(h)){w=h.substr(1),p.div.className+=" module-float-"+w;continue}if(/^\#/.test(h)){"fix"===h.substr(1)&&(p.ul.className+=" se-menu-dir-fix");continue}if(/^\:/.test(h)){e=!0;const t=h.match(/^\:([^\-]+)\-([^\-]+)\-([^\-]+)/);b="__se__"+t[1].trim();d=["se-btn-more",t[2].trim(),b,"MORE",t[3].trim()]}else d=a[h];if(g=h,!d){const e=i[g];if(!e)throw Error("[SUNEDITOR.create.toolbar.fail] The button name of a plugin that does not exist. ["+g+"]");d=[e.buttonClass,e.title,e.name,e.display,e.innerHTML,e._disabled]}}f=this._createButton(d[0],d[1],d[2],d[3],d[4],d[5],s),(n?l:p.ul).appendChild(f.li),i[g]&&(c[g]=f.button),e&&(n=!0,l=K.createElement("DIV"),l.className="se-more-layer "+b,l.innerHTML='<div class="se-more-form"><ul class="se-menu-list"'+(w?' style="float: '+w+';"':"")+"></ul></div>",v.appendChild(l),l=l.firstElementChild.firstElementChild)}if(m){const e=o.cloneNode(!1);r.appendChild(e)}r.appendChild(p.div),m=!0}else if(/^\/$/.test(y)){const t=e.createElement("DIV");t.className="se-btn-module-enter",r.appendChild(t),m=!1}switch(r.children.length){case 0:r.style.display="none";break;case 1:K.removeClass(r.firstElementChild,"se-btn-module-border");break;default:if(n.rtl){const e=o.cloneNode(!1);e.style.float=r.lastElementChild.style.float,r.appendChild(e)}}u.length>0&&u.unshift(t),v.children.length>0&&r.appendChild(v);const b=e.createElement("DIV");b.className="se-menu-tray",l.appendChild(b);const y=e.createElement("DIV");return y.className="se-toolbar-cover",l.appendChild(y),n.hideToolbar&&(l.style.display="none"),{element:l,plugins:i,pluginCallButtons:c,responsiveButtons:u,_menuTray:b,_buttonTray:r}}},X=function(e,t,i){return{element:{originElement:e,topArea:t._top,relative:t._relative,toolbar:t._toolBar,_toolbarShadow:t._toolbarShadow,_buttonTray:t._toolBar.querySelector(".se-btn-tray"),_menuTray:t._menuTray,resizingBar:t._resizingBar,navigation:t._navigation,charWrapper:t._charWrapper,charCounter:t._charCounter,editorArea:t._editorArea,wysiwygFrame:t._wysiwygArea,wysiwyg:t._wysiwygArea,code:t._codeArea,placeholder:t._placeholder,loading:t._loading,lineBreaker:t._lineBreaker,lineBreaker_t:t._lineBreaker_t,lineBreaker_b:t._lineBreaker_b,resizeBackground:t._resizeBack,_stickyDummy:t._stickyDummy,_arrow:t._arrow,_focusTemp:t._focusTemp},tool:{cover:t._toolBar.querySelector(".se-toolbar-cover"),bold:t._toolBar.querySelector('[data-command="bold"]'),underline:t._toolBar.querySelector('[data-command="underline"]'),italic:t._toolBar.querySelector('[data-command="italic"]'),strike:t._toolBar.querySelector('[data-command="strike"]'),sub:t._toolBar.querySelector('[data-command="SUB"]'),sup:t._toolBar.querySelector('[data-command="SUP"]'),undo:t._toolBar.querySelector('[data-command="undo"]'),redo:t._toolBar.querySelector('[data-command="redo"]'),save:t._toolBar.querySelector('[data-command="save"]'),outdent:t._toolBar.querySelector('[data-command="outdent"]'),indent:t._toolBar.querySelector('[data-command="indent"]'),fullScreen:t._toolBar.querySelector('[data-command="fullScreen"]'),showBlocks:t._toolBar.querySelector('[data-command="showBlocks"]'),codeView:t._toolBar.querySelector('[data-command="codeView"]'),dir:t._toolBar.querySelector('[data-command="dir"]'),dir_ltr:t._toolBar.querySelector('[data-command="dir_ltr"]'),dir_rtl:t._toolBar.querySelector('[data-command="dir_rtl"]')},options:i,option:i}};const J={name:"notice",add:function(e){const t=e.context;t.notice={};let i=e.util.createElement("DIV"),n=e.util.createElement("SPAN"),o=e.util.createElement("BUTTON");i.className="se-notice",o.className="close",o.setAttribute("aria-label","Close"),o.setAttribute("title",e.lang.dialogBox.close),o.innerHTML=e.icons.cancel,i.appendChild(n),i.appendChild(o),t.notice.modal=i,t.notice.message=n,o.addEventListener("click",this.onClick_cancel.bind(e)),t.element.editorArea.appendChild(i),i=null},onClick_cancel:function(e){e.preventDefault(),e.stopPropagation(),this.plugins.notice.close.call(this)},open:function(e){this.context.notice.message.textContent=e,this.context.notice.modal.style.display="block"},close:function(){this.context.notice.modal.style.display="none"}};const Q={init:function(e){return{create:function(t,i){return this.create(t,i,e)}.bind(this)}},create:function(e,t,i){K._propertiesInit(),"object"!=typeof t&&(t={}),i&&(t=[i,t].reduce((function(e,t){for(let i in t)if(K.hasOwn(t,i))if("plugins"===i&&t[i]&&e[i]){let n=e[i],o=t[i];n=n.length?n:Object.keys(n).map((function(e){return n[e]})),o=o.length?o:Object.keys(o).map((function(e){return o[e]})),e[i]=o.filter((function(e){return-1===n.indexOf(e)})).concat(n)}else e[i]=t[i];return e}),{}));const n="string"==typeof e?document.getElementById(e):e;if(!n){if("string"==typeof e)throw Error('[SUNEDITOR.create.fail] The element for that id was not found (ID:"'+e+'")');throw Error("[SUNEDITOR.create.fail] suneditor requires textarea's element or id value")}const o=Y.init(n,t);if(o.constructed._top.id&&document.getElementById(o.constructed._top.id))throw Error('[SUNEDITOR.create.fail] The ID of the suneditor you are trying to create already exists (ID:"'+o.constructed._top.id+'")');return function(e,t,i,n,o,l){const r=e.element.originElement.ownerDocument||document,s=r.defaultView||window,a=K,c=o.icons,u={_d:r,_w:s,_parser:new s.DOMParser,_prevRtl:o.rtl,_editorHeight:0,_editorHeightPadding:0,_listCamel:o.__listCommonStyle,_listKebab:a.camelToKebabCase(o.__listCommonStyle),__focusTemp:e.element._focusTemp,_wd:null,_ww:null,_shadowRoot:null,_shadowRootControllerEventTarget:null,util:a,functions:null,options:null,wwComputedStyle:null,notice:J,icons:c,history:null,context:e,pluginCallButtons:t,plugins:i||{},initPlugins:{},_targetPlugins:{},_menuTray:{},lang:n,effectNode:null,submenu:null,container:null,_submenuName:"",_bindedSubmenuOff:null,_bindedContainerOff:null,submenuActiveButton:null,containerActiveButton:null,controllerArray:[],currentControllerName:"",currentControllerTarget:null,currentFileComponentInfo:null,codeViewDisabledButtons:[],resizingDisabledButtons:[],_moreLayerActiveButton:null,_htmlCheckWhitelistRegExp:null,_htmlCheckBlacklistRegExp:null,_disallowedTextTagsRegExp:null,editorTagsWhitelistRegExp:null,editorTagsBlacklistRegExp:null,pasteTagsWhitelistRegExp:null,pasteTagsBlacklistRegExp:null,hasFocus:!1,isDisabled:!1,isReadOnly:!1,_attributesWhitelistRegExp:null,_attributesWhitelistRegExp_all_data:null,_attributesBlacklistRegExp:null,_attributesTagsWhitelist:null,_attributesTagsBlacklist:null,_bindControllersOff:null,_isInline:null,_isBalloon:null,_isBalloonAlways:null,_inlineToolbarAttr:{top:"",width:"",isShow:!1},_notHideToolbar:!1,_sticky:!1,_antiBlur:!1,_lineBreaker:null,_lineBreakerButton:null,_componentsInfoInit:!0,_componentsInfoReset:!1,activePlugins:null,managedTagsInfo:null,_charTypeHTML:!1,_fileInfoPluginsCheck:null,_fileInfoPluginsReset:null,_fileManager:{tags:null,regExp:null,queryString:null,pluginRegExp:null,pluginMap:null},commandMap:{},_commandMapStyles:{STRONG:["font-weight"],U:["text-decoration"],EM:["font-style"],DEL:["text-decoration"]},_styleCommandMap:null,_cleanStyleRegExp:{div:new s.RegExp("\\s*[^-a-zA-Z](.+)\\s*:[^;]+(?!;)*","ig"),span:new s.RegExp("\\s*[^-a-zA-Z](font-family|font-size|color|background-color)\\s*:[^;]+(?!;)*","ig"),format:new s.RegExp("\\s*[^-a-zA-Z](text-align|margin-left|margin-right|width|height|line-height)\\s*:[^;]+(?!;)*","ig"),fontSizeUnit:new s.RegExp("\\d+"+o.fontSizeUnit+"$","i")},_variable:{isChanged:!1,isCodeView:!1,isFullScreen:!1,innerHeight_fullScreen:0,resizeClientY:0,tabSize:4,codeIndent:2,minResizingSize:a.getNumber(e.element.wysiwygFrame.style.minHeight||"65",0),currentNodes:[],currentNodesMap:[],_range:null,_selectionNode:null,_originCssText:e.element.topArea.style.cssText,_bodyOverflow:"",_editorAreaOriginCssText:"",_wysiwygOriginCssText:"",_codeOriginCssText:"",_fullScreenAttrs:{sticky:!1,balloon:!1,inline:!1},_lineBreakComp:null,_lineBreakDir:""},_formatAttrsTemp:null,_saveButtonStates:function(){this.allCommandButtons||(this.allCommandButtons={});const e=this.context.element._buttonTray.querySelectorAll(".se-menu-list button[data-display]");for(let t,i,n=0;n<e.length;n++)t=e[n],i=t.getAttribute("data-command"),this.allCommandButtons[i]=t},_recoverButtonStates:function(){if(this.allCommandButtons){const e=this.context.element._buttonTray.querySelectorAll(".se-menu-list button[data-display]");for(let t,i,n,o=0;o<e.length;o++)t=e[o],i=t.getAttribute("data-command"),n=this.allCommandButtons[i],n&&(t.parentElement.replaceChild(n,t),this.context.tool[i]&&(this.context.tool[i]=n))}},callPlugin:function(e,i,n){if(n=n||t[e],!this.plugins[e])throw Error('[SUNEDITOR.core.callPlugin.fail] The called plugin does not exist or is in an invalid format. (pluginName:"'+e+'")');this.initPlugins[e]?"object"==typeof this._targetPlugins[e]&&n&&this.initMenuTarget(e,n,this._targetPlugins[e]):(this.plugins[e].add(this,n),this.initPlugins[e]=!0),this.plugins[e].active&&!this.commandMap[e]&&n&&(this.commandMap[e]=n,this.activePlugins.push(e)),"function"==typeof i&&i()},addModule:function(e){for(let t,i=0,n=e.length;i<n;i++)t=e[i].name,this.plugins[t]||(this.plugins[t]=e[i]),this.initPlugins[t]||(this.initPlugins[t]=!0,"function"==typeof this.plugins[t].add&&this.plugins[t].add(this))},getGlobalScrollOffset:function(){let t=0,i=0,n=e.element.topArea;for(;n;)t+=n.scrollTop,i+=n.scrollLeft,n=n.parentElement;for(n=this._shadowRoot?this._shadowRoot.host:null;n;)t+=n.scrollTop,i+=n.scrollLeft,n=n.parentElement;return{top:t,left:i}},initMenuTarget:function(t,i,n){i?(e.element._menuTray.appendChild(n),this._targetPlugins[t]=!0,this._menuTray[i.getAttribute("data-command")]=n):this._targetPlugins[t]=n},submenuOn:function(e){this._bindedSubmenuOff&&this._bindedSubmenuOff(),this._bindControllersOff&&this.controllersOff();const t=this._submenuName=e.getAttribute("data-command"),i=this.submenu=this._menuTray[t];this.submenuActiveButton=e,this._setMenuPosition(e,i),this._bindedSubmenuOff=this.submenuOff.bind(this),this.addDocEvent("mousedown",this._bindedSubmenuOff,!1),this.plugins[t].on&&this.plugins[t].on.call(this),this._antiBlur=!0},submenuOff:function(){this.removeDocEvent("mousedown",this._bindedSubmenuOff),this._bindedSubmenuOff=null,this.submenu&&(this._submenuName="",this.submenu.style.display="none",this.submenu=null,a.removeClass(this.submenuActiveButton,"on"),this.submenuActiveButton=null,this._notHideToolbar=!1),this._antiBlur=!1},moreLayerOff:function(){this._moreLayerActiveButton&&(e.element.toolbar.querySelector("."+this._moreLayerActiveButton.getAttribute("data-command")).style.display="none",a.removeClass(this._moreLayerActiveButton,"on"),this._moreLayerActiveButton=null)},containerOn:function(e){this._bindedContainerOff&&this._bindedContainerOff();const t=this._containerName=e.getAttribute("data-command"),i=this.container=this._menuTray[t];this.containerActiveButton=e,this._setMenuPosition(e,i),this._bindedContainerOff=this.containerOff.bind(this),this.addDocEvent("mousedown",this._bindedContainerOff,!1),this.plugins[t].on&&this.plugins[t].on.call(this),this._antiBlur=!0},containerOff:function(){this.removeDocEvent("mousedown",this._bindedContainerOff),this._bindedContainerOff=null,this.container&&(this._containerName="",this.container.style.display="none",this.container=null,a.removeClass(this.containerActiveButton,"on"),this.containerActiveButton=null,this._notHideToolbar=!1),this._antiBlur=!1},_setMenuPosition:function(t,i){i.style.visibility="hidden",i.style.display="block",i.style.height="",a.addClass(t,"on");const n=this.context.element.toolbar,l=n.offsetWidth,r=d._getEditorOffsets(e.element.toolbar),c=i.offsetWidth,u=t.parentElement.offsetLeft+3;if(o.rtl){const e=t.offsetWidth,n=c>e?c-e:0,o=n>0?0:e-c;i.style.left=u-n+o+"px",r.left>d._getEditorOffsets(i).left&&(i.style.left="0px")}else{const e=l<=c?0:l-(u+c);i.style.left=e<0?u+e+"px":u+"px"}let h=0,p=t;for(;p&&p!==n;)h+=p.offsetTop,p=p.offsetParent;const f=h;this._isBalloon?h+=n.offsetTop+t.offsetHeight:h-=t.offsetHeight;const g=r.top,m=i.offsetHeight,v=this.getGlobalScrollOffset().top,b=s.innerHeight-(g-v+f+t.parentElement.offsetHeight);if(b<m){let e=-1*(m-f+3);const n=g-v+e,o=m+(n<0?n:0);o>b?(i.style.height=o+"px",e=-1*(o-f+3)):(i.style.height=b+"px",e=f+t.parentElement.offsetHeight),i.style.top=e+"px"}else i.style.top=f+t.parentElement.offsetHeight+"px";i.style.visibility=""},controllersOn:function(){this._bindControllersOff&&this._bindControllersOff(),this.controllerArray=[];for(let e,t=0;t<arguments.length;t++)e=arguments[t],e&&("string"!=typeof e?"function"!=typeof e?a.hasClass(e,"se-controller")?(e.style&&(e.style.display="block",this._shadowRoot&&-1===this._shadowRootControllerEventTarget.indexOf(e)&&(e.addEventListener("mousedown",(function(e){e.preventDefault(),e.stopPropagation()})),this._shadowRootControllerEventTarget.push(e))),this.controllerArray.push(e)):(this.currentControllerTarget=e,this.currentFileComponentInfo=this.getFileComponent(e)):this.controllerArray.push(e):this.currentControllerName=e);this._bindControllersOff=this.controllersOff.bind(this),this.addDocEvent("mousedown",this._bindControllersOff,!1),this.addDocEvent("keydown",this._bindControllersOff,!1),this._antiBlur=!0,"function"==typeof h.showController&&h.showController(this.currentControllerName,this.controllerArray,this)},controllersOff:function(t){this._lineBreaker.style.display="none";const i=this.controllerArray.length;if(t&&t.target&&i>0)for(let e=0;e<i;e++)if("function"==typeof this.controllerArray[e].contains&&this.controllerArray[e].contains(t.target))return;if((!this._fileManager.pluginRegExp.test(this.currentControllerName)||!t||"keydown"!==t.type||27===t.keyCode)&&(e.element.lineBreaker_t.style.display=e.element.lineBreaker_b.style.display="none",this._variable._lineBreakComp=null,this.currentControllerName="",this.currentControllerTarget=null,this.currentFileComponentInfo=null,this.effectNode=null,this._bindControllersOff)){if(this.removeDocEvent("mousedown",this._bindControllersOff),this.removeDocEvent("keydown",this._bindControllersOff),this._bindControllersOff=null,i>0){for(let e=0;e<i;e++)"function"==typeof this.controllerArray[e]?this.controllerArray[e]():this.controllerArray[e].style.display="none";this.controllerArray=[]}this._antiBlur=!1}},setControllerPosition:function(t,i,n,l){o.rtl&&(l.left*=-1);const r=a.getOffset(i,e.element.wysiwygFrame);t.style.visibility="hidden",t.style.display="block";const s="top"===n?-(t.offsetHeight+2):i.offsetHeight+12;t.style.top=r.top+s+l.top+"px";const c=r.left-e.element.wysiwygFrame.scrollLeft+l.left,u=t.offsetWidth,d=i.offsetWidth,h=a.hasClass(t.firstElementChild,"se-arrow")?t.firstElementChild:null;if(o.rtl){const i=u>d?u-d:0,n=i>0?0:d-u;t.style.left=c-i+n+"px",i>0&&h&&(h.style.left=(u-14<10+i?u-14:10+i)+"px");const o=e.element.wysiwygFrame.offsetLeft-t.offsetLeft;o>0&&(t.style.left="0px",h&&(h.style.left=o+"px"))}else{t.style.left=c+"px";const i=e.element.wysiwygFrame.offsetWidth-(t.offsetLeft+u);i<0?(t.style.left=t.offsetLeft+i+"px",h&&(h.style.left=20-i+"px")):h&&(h.style.left="20px")}t.style.visibility=""},execCommand:function(e,t,i){this._wd.execCommand(e,t,"formatBlock"===e?"<"+i+">":i),this.history.push(!0)},nativeFocus:function(){this.__focus(),this._editorRange()},__focus:function(){const t=a.getParentElement(this.getSelectionNode(),"figcaption");t?t.focus():e.element.wysiwyg.focus()},focus:function(){if("none"!==e.element.wysiwygFrame.style.display){if(o.iframe)this.nativeFocus();else try{const t=this.getRange();if(t.startContainer===t.endContainer&&a.isWysiwygDiv(t.startContainer)){const i=t.commonAncestorContainer.children[t.startOffset];if(!a.isFormatElement(i)&&!a.isComponent(i)){const t=a.createElement(o.defaultTag),n=a.createElement("BR");return t.appendChild(n),e.element.wysiwyg.insertBefore(t,i),void this.setRange(n,0,n,0)}}this.setRange(t.startContainer,t.startOffset,t.endContainer,t.endOffset)}catch(e){this.nativeFocus()}d._applyTagEffects(),this._isBalloon&&d._toggleToolbarBalloon()}},focusEdge:function(t){t||(t=e.element.wysiwyg.lastElementChild);const i=this.getFileComponent(t);i?this.selectComponent(i.target,i.pluginName):t?(t=a.getChildElement(t,(function(e){return 0===e.childNodes.length||3===e.nodeType}),!0))?this.setRange(t,t.textContent.length,t,t.textContent.length):this.nativeFocus():this.focus()},blur:function(){o.iframe?e.element.wysiwygFrame.blur():e.element.wysiwyg.blur()},setRange:function(e,t,i,n){if(!e||!i)return;t>e.textContent.length&&(t=e.textContent.length),n>i.textContent.length&&(n=i.textContent.length),a.isFormatElement(e)&&(e=e.childNodes[t]||e.childNodes[t-1]||e,t=t>0?1===e.nodeType?1:e.textContent?e.textContent.length:0:0),a.isFormatElement(i)&&(i=i.childNodes[n]||i.childNodes[n-1]||i,n=n>0?1===i.nodeType?1:i.textContent?i.textContent.length:0:0);const l=this._wd.createRange();try{l.setStart(e,t),l.setEnd(i,n)}catch(e){return console.warn("[SUNEDITOR.core.focus.error] "+e),void this.nativeFocus()}const r=this.getSelection();return r.removeAllRanges&&r.removeAllRanges(),r.addRange(l),this._rangeInfo(l,this.getSelection()),o.iframe&&this.__focus(),l},removeRange:function(){this._variable._range=null,this._variable._selectionNode=null,this.hasFocus&&this.getSelection().removeAllRanges(),this._setKeyEffect([])},getRange:function(){const t=this._variable._range||this._createDefaultRange(),i=this.getSelection();if(t.collapsed===i.isCollapsed||!e.element.wysiwyg.contains(i.focusNode))return t;if(i.rangeCount>0)return this._variable._range=i.getRangeAt(0),this._variable._range;{const e=i.anchorNode,t=i.focusNode,n=i.anchorOffset,o=i.focusOffset,l=a.compareElements(e,t),r=l.ancestor&&(0===l.result?n<=o:l.result>1);return this.setRange(r?e:t,r?n:o,r?t:e,r?o:n)}},getRange_addLine:function(t,i){if(this._selectionVoid(t)){const n=e.element.wysiwyg,l=a.createElement(o.defaultTag);l.innerHTML="<br>",n.insertBefore(l,i&&i!==n?i.nextElementSibling:n.firstElementChild),this.setRange(l.firstElementChild,0,l.firstElementChild,1),t=this._variable._range}return t},getSelection:function(){const t=this._shadowRoot&&this._shadowRoot.getSelection?this._shadowRoot.getSelection():this._ww.getSelection();return this._variable._range||e.element.wysiwyg.contains(t.focusNode)||(t.removeAllRanges(),t.addRange(this._createDefaultRange())),t},getSelectionNode:function(){if(e.element.wysiwyg.contains(this._variable._selectionNode)||this._editorRange(),!this._variable._selectionNode){const t=a.getChildElement(e.element.wysiwyg.firstChild,(function(e){return 0===e.childNodes.length||3===e.nodeType}),!1);if(t)return this._variable._selectionNode=t,t;this._editorRange()}return this._variable._selectionNode},_editorRange:function(){const e=this._wd.activeElement;if(a.isInputElement(e))return this._variable._selectionNode=e,e;const t=this.getSelection();if(!t)return null;let i=null;i=t.rangeCount>0?t.getRangeAt(0):this._createDefaultRange(),this._rangeInfo(i,t)},_rangeInfo:function(e,t){let i=null;this._variable._range=e,i=e.collapsed?a.isWysiwygDiv(e.commonAncestorContainer)&&e.commonAncestorContainer.children[e.startOffset]||e.commonAncestorContainer:t.extentNode||t.anchorNode,this._variable._selectionNode=i},_createDefaultRange:function(){const t=e.element.wysiwyg,i=this._wd.createRange();let n=t.firstElementChild,l=null;return n?(l=n.firstChild,l||(l=a.createElement("BR"),n.appendChild(l))):(n=a.createElement(o.defaultTag),l=a.createElement("BR"),n.appendChild(l),t.appendChild(n)),i.setStart(l,0),i.setEnd(l,0),i},_selectionVoid:function(e){const t=e.commonAncestorContainer;return a.isWysiwygDiv(e.startContainer)&&a.isWysiwygDiv(e.endContainer)||/FIGURE/i.test(t.nodeName)||this._fileManager.regExp.test(t.nodeName)||a.isMediaComponent(t)},_resetRangeToTextNode:function(){const t=this.getRange();if(this._selectionVoid(t))return!1;const i=t.collapsed;let n,l,r,s=t.startContainer,c=t.startOffset,u=t.endContainer,d=t.endOffset;if(a.isFormatElement(s))for(s.childNodes[c]?(s=s.childNodes[c]||s,c=0):(s=s.lastChild||s,c=s.textContent.length);s&&1===s.nodeType&&s.firstChild;)s=s.firstChild||s,c=0;if(a.isFormatElement(u)){for(u=u.childNodes[d]||u.lastChild||u;u&&1===u.nodeType&&u.lastChild;)u=u.lastChild;d=i?0:u.textContent.length}if(n=a.isWysiwygDiv(s)?e.element.wysiwyg.firstChild:s,l=c,a.isBreak(n)||1===n.nodeType&&n.childNodes.length>0){const e=a.isBreak(n);if(!e){for(;n&&!a.isBreak(n)&&1===n.nodeType;)n=n.childNodes[l]||n.nextElementSibling||n.nextSibling,l=0;let e=a.getFormatElement(n,null);e===a.getRangeFormatElement(e,null)&&(e=a.createElement(a.getParentElement(n,a.isCell)?"DIV":o.defaultTag),n.parentNode.insertBefore(e,n),e.appendChild(n))}if(a.isBreak(n)){const t=a.createTextNode(a.zeroWidthSpace);n.parentNode.insertBefore(t,n),n=t,e&&s===u&&(u=n,d=1)}}if(s=n,c=l,n=a.isWysiwygDiv(u)?e.element.wysiwyg.lastChild:u,l=d,a.isBreak(n)||1===n.nodeType&&n.childNodes.length>0){const e=a.isBreak(n);if(!e){for(;n&&!a.isBreak(n)&&1===n.nodeType&&(r=n.childNodes,0!==r.length);)n=r[l>0?l-1:l]||!/FIGURE/i.test(r[0].nodeName)?r[0]:n.previousElementSibling||n.previousSibling||s,l=l>0?n.textContent.length:l;let e=a.getFormatElement(n,null);e===a.getRangeFormatElement(e,null)&&(e=a.createElement(a.isCell(e)?"DIV":o.defaultTag),n.parentNode.insertBefore(e,n),e.appendChild(n))}if(a.isBreak(n)){const t=a.createTextNode(a.zeroWidthSpace);n.parentNode.insertBefore(t,n),n=t,l=1,e&&!n.previousSibling&&a.removeItem(u)}}return u=n,d=l,this.setRange(s,c,u,d),!0},getSelectedElements:function(t){if(!this._resetRangeToTextNode())return[];let i=this.getRange();if(a.isWysiwygDiv(i.startContainer)){const t=e.element.wysiwyg.children;if(0===t.length)return[];this.setRange(t[0],0,t[t.length-1],t[t.length-1].textContent.trim().length),i=this.getRange()}const n=i.startContainer,o=i.endContainer,l=i.commonAncestorContainer,r=a.getListChildren(l,(function(e){return t?t(e):a.isFormatElement(e)}));if(a.isWysiwygDiv(l)||a.isRangeFormatElement(l)||r.unshift(a.getFormatElement(l,null)),n===o||1===r.length)return r;let s=a.getFormatElement(n,null),c=a.getFormatElement(o,null),u=null,d=null;const h=function(e){return!a.isTable(e)||/^TABLE$/i.test(e.nodeName)};let p=a.getRangeFormatElement(s,h),f=a.getRangeFormatElement(c,h);a.isTable(p)&&a.isListCell(p.parentNode)&&(p=p.parentNode),a.isTable(f)&&a.isListCell(f.parentNode)&&(f=f.parentNode);const g=p===f;for(let e,t=0,i=r.length;t<i;t++)if(e=r[t],s===e||!g&&e===p)u=t;else if(c===e||!g&&e===f){d=t;break}return null===u&&(u=0),null===d&&(d=r.length-1),r.slice(u,d+1)},getSelectedElementsAndComponents:function(e){const t=this.getRange().commonAncestorContainer,i=a.getParentElement(t,a.isComponent),n=a.isTable(t)?this.getSelectedElements(null):this.getSelectedElements(function(e){const t=this.getParentElement(e,this.isComponent);return this.isFormatElement(e)&&(!t||t===i)||this.isComponent(e)&&!this.getFormatElement(e)}.bind(a));if(e)for(let e=0,t=n.length;e<t;e++)for(let i=e-1;i>=0;i--)if(n[i].contains(n[e])){n.splice(e,1),e--,t--;break}return n},isEdgePoint:function(e,t,i){return 1===e.nodeType&&!e.textContent.length||"end"!==i&&0===t||(!i||"start"!==i)&&!e.nodeValue&&1===t||(!i||"end"===i)&&!!e.nodeValue&&t===e.nodeValue.length},_isEdgeFormat:function(e,t,i){if(!this.isEdgePoint(e,t,i))return!1;const n=[];for(i="start"===i?"previousSibling":"nextSibling";e&&!a.isFormatElement(e)&&!a.isWysiwygDiv(e);){if(e[i]&&(!a.isBreak(e[i])||e[i][i]))return null;1===e.nodeType&&n.push(e.cloneNode(!1)),e=e.parentNode}return n},showLoading:function(){e.element.loading.style.display="block"},closeLoading:function(){e.element.loading.style.display="none"},appendFormatTag:function(e,t){if(!e||!e.parentNode)return null;const i=a.getFormatElement(this.getSelectionNode(),null);let n=null;if(!a.isFormatElement(e)&&a.isFreeFormatElement(i||e.parentNode))n=a.createElement("BR");else{const e=t?"string"==typeof t?t:t.nodeName:!a.isFormatElement(i)||a.isRangeFormatElement(i)||a.isFreeFormatElement(i)?o.defaultTag:i.nodeName;n=a.createElement(e),n.innerHTML="<br>",(t&&"string"!=typeof t||!t&&a.isFormatElement(i))&&a.copyTagAttributes(n,t||i,["id"])}return a.isCell(e)?e.insertBefore(n,e.nextElementSibling):e.parentNode.insertBefore(n,e.nextElementSibling),n},insertComponent:function(e,t,i,n){if(this.isReadOnly||i&&!this.checkCharCount(e,null))return null;const o=this.removeNode();this.getRange_addLine(this.getRange(),o.container);let l=null,r=this.getSelectionNode(),s=a.getFormatElement(r,null);if(a.isListCell(s))this.insertNode(e,r===s?null:o.container.nextSibling,!1),e.nextSibling||e.parentNode.appendChild(a.createElement("BR"));else{if(this.getRange().collapsed&&(3===o.container.nodeType||a.isBreak(o.container))){const e=a.getParentElement(o.container,function(e){return this.isRangeFormatElement(e)}.bind(a));l=a.splitElement(o.container,o.offset,e?a.getElementDepth(e)+1:0),l&&(s=l.previousSibling)}this.insertNode(e,a.isRangeFormatElement(s)?null:s,!1),s&&a.onlyZeroWidthSpace(s)&&a.removeItem(s)}if(!n){this.setRange(e,0,e,0);const t=this.getFileComponent(e);t?this.selectComponent(t.target,t.pluginName):l&&(l=a.getEdgeChildNodes(l,null).sc||l,this.setRange(l,0,l,0))}return t||this.history.push(1),l||e},getFileComponent:function(e){if(!this._fileManager.queryString||!e)return null;let t,i;return(/^FIGURE$/i.test(e.nodeName)||/se-component/.test(e.className))&&(t=e.querySelector(this._fileManager.queryString)),!t&&e.nodeName&&this._fileManager.regExp.test(e.nodeName)&&(t=e),t&&(i=this._fileManager.pluginMap[t.nodeName.toLowerCase()],i)?{target:t,component:a.getParentElement(t,a.isComponent),pluginName:i}:null},selectComponent:function(e,t){if(a.isUneditableComponent(a.getParentElement(e,a.isComponent))||a.isUneditableComponent(e))return!1;this.hasFocus||this.focus();const i=this.plugins[t];i&&s.setTimeout(function(){"function"==typeof i.select&&this.callPlugin(t,i.select.bind(this,e),null),this._setComponentLineBreaker(e)}.bind(this))},_setComponentLineBreaker:function(t){this._lineBreaker.style.display="none";const i=a.getParentElement(t,a.isComponent),n=e.element.lineBreaker_t.style,o=e.element.lineBreaker_b.style,l="block"===this.context.resizing.resizeContainer.style.display?this.context.resizing.resizeContainer:t,r=a.isListCell(i.parentNode);let s,c,u;(r?i.previousSibling:a.isFormatElement(i.previousElementSibling))?n.display="none":(this._variable._lineBreakComp=i,c=e.element.wysiwyg.scrollTop,s=a.getOffset(t,e.element.wysiwygFrame).top+c,u=l.offsetWidth/2/2,n.top=s-c-12+"px",n.left=a.getOffset(l).left+u+"px",n.display="block"),(r?i.nextSibling:a.isFormatElement(i.nextElementSibling))?o.display="none":(s||(this._variable._lineBreakComp=i,c=e.element.wysiwyg.scrollTop,s=a.getOffset(t,e.element.wysiwygFrame).top+c,u=l.offsetWidth/2/2),o.top=s+l.offsetHeight-c-12+"px",o.left=a.getOffset(l).left+l.offsetWidth-u-24+"px",o.display="block")},_checkDuplicateNode:function(e,t){!function e(i){u._dupleCheck(i,t);const n=i.childNodes;for(let t=0,i=n.length;t<i;t++)e(n[t])}(e)},_dupleCheck:function(e,t){if(!a.isTextStyleElement(e))return;const i=(e.style.cssText.match(/[^;]+;/g)||[]).map((function(e){return e.trim()})),n=e.nodeName;if(/^span$/i.test(n)&&0===i.length)return e;let o=!1;return function t(l){if(!a.isWysiwygDiv(l)&&a.isTextStyleElement(l)){if(l.nodeName===n){o=!0;const t=l.style.cssText.match(/[^;]+;/g)||[];for(let e,n=0,o=t.length;n<o;n++)(e=i.indexOf(t[n].trim()))>-1&&i.splice(e,1);for(let t=0,i=l.classList.length;t<i;t++)e.classList.remove(l.classList[t])}t(l.parentElement)}}(t),o&&((e.style.cssText=i.join(" "))||(e.setAttribute("style",""),e.removeAttribute("style")),e.attributes.length||e.setAttribute("data-se-duple","true")),e},insertNode:function(t,i,n){if(this.isReadOnly||n&&!this.checkCharCount(t,null))return null;let l,r,s,c=null,u=this.getRange(),d=a.isListCell(u.commonAncestorContainer)?u.commonAncestorContainer:a.getFormatElement(this.getSelectionNode(),null),h=a.isListCell(d)&&(a.isListCell(t)||a.isList(t)),p=null;const f=a.isFreeFormatElement(d),g=!f&&(a.isFormatElement(t)||a.isRangeFormatElement(t))||a.isComponent(t);if(h&&(s=i||a.isList(t)?d.lastChild:d.nextElementSibling,p=a.isList(t)?d:(s||d).parentNode),!i&&(g||a.isComponent(t)||a.isMedia(t))){const e=this.isEdgePoint(u.endContainer,u.endOffset,"end"),t=this.removeNode(),n=t.container,o=n===t.prevContainer&&u.collapsed?null:t.prevContainer;if(h&&o)if(p=3===o.nodeType?o.parentNode:o,p.contains(n)){let e=!0;for(s=n;s.parentNode&&s.parentNode!==p;)s=s.parentNode,e=!1;e&&n===o&&(s=s.nextSibling)}else s=null;else if(h&&a.isListCell(n)&&!d.parentElement)d=a.createElement("LI"),p.appendChild(d),n.appendChild(p),s=null;else if(3===n.nodeType||a.isBreak(n)||h){const o=a.getParentElement(n,function(e){return this.isRangeFormatElement(e)||this.isListCell(e)}.bind(a));if(i=a.splitElement(n,t.offset,o?a.getElementDepth(o)+1:0))if(h){if(d.contains(n)){const t=a.isList(d.lastElementChild);let n=null;e||(n=d.cloneNode(!1),n.appendChild(i.textContent.trim()?i:a.createTextNode(a.zeroWidthSpace))),t&&(n||(n=d.cloneNode(!1),n.appendChild(a.createTextNode(a.zeroWidthSpace))),n.appendChild(d.lastElementChild)),n&&(d.parentNode.insertBefore(n,d.nextElementSibling),s=i=n)}}else i=i.previousSibling;else s=i=d}}u=i||g?this.getRange():this.getRange_addLine(this.getRange(),null);const m=u.commonAncestorContainer,v=u.startOffset,b=u.endOffset,y=u.startContainer===m&&a.isFormatElement(m),w=y&&(m.childNodes[v]||m.childNodes[0])||u.startContainer,_=y&&(m.childNodes[b]||m.childNodes[m.childNodes.length-1])||u.endContainer;if(!h)if(i)l=i.parentNode,i=i.nextSibling,r=!0;else if(l=w,3===w.nodeType&&(l=w.parentNode),u.collapsed)if(3===m.nodeType)i=m.textContent.length>b?m.splitText(b):m.nextSibling;else if(a.isBreak(l))i=l,l=l.parentNode;else{let e=l.childNodes[v];const n=e&&3===e.nodeType&&a.onlyZeroWidthSpace(e)&&a.isBreak(e.nextSibling)?e.nextSibling:e;n?!n.nextSibling&&a.isBreak(n)?(l.removeChild(n),i=null):i=a.isBreak(n)&&!a.isBreak(t)?n:n.nextSibling:i=null}else if(w===_){i=this.isEdgePoint(_,b)?_.nextSibling:_.splitText(b);let e=w;this.isEdgePoint(w,v)||(e=w.splitText(v)),l.removeChild(e),0===l.childNodes.length&&g&&(l.innerHTML="<br>")}else{const e=this.removeNode(),n=e.container,r=e.prevContainer;if(n&&0===n.childNodes.length&&g&&(a.isFormatElement(n)?n.innerHTML="<br>":a.isRangeFormatElement(n)&&(n.innerHTML="<"+o.defaultTag+"><br></"+o.defaultTag+">")),a.isListCell(n)&&3===t.nodeType)l=n,i=null;else if(!g&&r)if(l=3===r.nodeType?r.parentNode:r,l.contains(n)){let e=!0;for(i=n;i.parentNode&&i.parentNode!==l;)i=i.parentNode,e=!1;e&&n===r&&(i=i.nextSibling)}else i=null;else a.isWysiwygDiv(n)&&!a.isFormatElement(t)?(l=n.appendChild(a.createElement(o.defaultTag)),i=null):l=(i=g?_:n===r?n.nextSibling:n)&&i.parentNode?i.parentNode:m;for(;i&&!a.isFormatElement(i)&&i.parentNode!==m;)i=i.parentNode}try{if(!h){if((a.isWysiwygDiv(i)||l===e.element.wysiwyg.parentNode)&&(l=e.element.wysiwyg,i=null),a.isFormatElement(t)||a.isRangeFormatElement(t)||!a.isListCell(l)&&a.isComponent(t)){const e=l;if(a.isList(i))l=i,i=null;else if(a.isListCell(i))l=i.previousElementSibling||i;else if(!r&&!i){const e=this.removeNode(),t=3===e.container.nodeType?a.isListCell(a.getFormatElement(e.container,null))?e.container:a.getFormatElement(e.container,null)||e.container.parentNode:e.container,n=a.isWysiwygDiv(t)||a.isRangeFormatElement(t);l=n?t:t.parentNode,i=n?null:t.nextSibling}0===e.childNodes.length&&l!==e&&a.removeItem(e)}if(!g||f||a.isRangeFormatElement(l)||a.isListCell(l)||a.isWysiwygDiv(l)||(i=l.nextElementSibling,l=l.parentNode),a.isWysiwygDiv(l)&&(3===t.nodeType||a.isBreak(t))){const e=a.createElement(o.defaultTag);e.appendChild(t),c=t,t=e}}if(h?p.parentNode?(l=p,i=s):(l=e.element.wysiwyg,i=null):i=l===i?l.lastChild:i,a.isListCell(t)&&!a.isList(l)){if(a.isListCell(l))i=l.nextElementSibling,l=l.parentNode;else{const e=a.createElement("ol");l.insertBefore(e,i),l=e,i=null}h=!0}if(this._checkDuplicateNode(t,l),l.insertBefore(t,i),h)if(a.onlyZeroWidthSpace(d.textContent.trim()))a.removeItem(d),t=t.lastChild;else{const e=a.getArrayItem(d.children,a.isList);e&&(t!==e?(t.appendChild(e),t=e.previousSibling):(l.appendChild(t),t=l),a.onlyZeroWidthSpace(d.textContent.trim())&&a.removeItem(d))}}catch(e){l.appendChild(t),console.warn("[SUNEDITOR.insertNode.warn] "+e)}finally{c&&(t=c);const e=l.querySelectorAll("[data-se-duple]");if(e.length>0)for(let i,n,o,l,r=0,s=e.length;r<s;r++){for(i=e[r],o=i.childNodes,l=i.parentNode;o[0];)n=o[0],l.insertBefore(n,i);i===t&&(t=n),a.removeItem(i)}if((a.isFormatElement(t)||a.isComponent(t))&&w===_){const e=a.getFormatElement(m,null);e&&1===e.nodeType&&a.isEmptyLine(e)&&a.removeItem(e)}if(f&&(a.isFormatElement(t)||a.isRangeFormatElement(t))&&(t=this._setIntoFreeFormat(t)),!a.isComponent(t)){let e=1;if(3===t.nodeType)e=t.textContent.length,this.setRange(t,e,t,e);else if(!a.isBreak(t)&&!a.isListCell(t)&&a.isFormatElement(l)){let i=null;t.previousSibling&&!a.isBreak(t.previousSibling)||(i=a.createTextNode(a.zeroWidthSpace),t.parentNode.insertBefore(i,t)),t.nextSibling&&!a.isBreak(t.nextSibling)||(i=a.createTextNode(a.zeroWidthSpace),t.parentNode.insertBefore(i,t.nextSibling)),a._isIgnoreNodeChange(t)&&(t=t.nextSibling,e=0)}this.setRange(t,e,t,e)}return t}},_setIntoFreeFormat:function(e){const t=e.parentNode;let i,n;for(;a.isFormatElement(e)||a.isRangeFormatElement(e);){for(i=e.childNodes,n=null;i[0];)if(n=i[0],a.isFormatElement(n)||a.isRangeFormatElement(n)){if(this._setIntoFreeFormat(n),!e.parentNode)break;i=e.childNodes}else t.insertBefore(n,e);0===e.childNodes.length&&a.removeItem(e),e=a.createElement("BR"),t.insertBefore(e,n.nextSibling)}return e},removeNode:function(){this._resetRangeToTextNode();const t=this.getRange();if(t.startContainer===t.endContainer){const e=a.getParentElement(t.startContainer,a.isMediaComponent);if(e){const t=a.createElement("BR"),i=a.createElement(o.defaultTag);return i.appendChild(t),a.changeElement(e,i),u.setRange(i,0,i,0),this.history.push(!0),{container:i,offset:0,prevContainer:null}}}const i=0===t.startOffset,n=u.isEdgePoint(t.endContainer,t.endOffset,"end");let l=null,r=null,s=null;i&&(r=a.getFormatElement(t.startContainer),r&&(l=r.previousElementSibling,r=l)),n&&(s=a.getFormatElement(t.endContainer),s=s?s.nextElementSibling:s);let c,d=0,h=t.startContainer,p=t.endContainer,f=t.startOffset,g=t.endOffset;const m=3===t.commonAncestorContainer.nodeType&&t.commonAncestorContainer.parentNode===h.parentNode?h.parentNode:t.commonAncestorContainer;if(m===h&&m===p&&(h=m.children[f],p=m.children[g],f=g=0),!h||!p)return{container:m,offset:0};if(h===p&&t.collapsed&&h.textContent&&a.onlyZeroWidthSpace(h.textContent.substr(f)))return{container:h,offset:f,prevContainer:h&&h.parentNode?h:null};let v=null,b=null;const y=a.getListChildNodes(m,null);let w=a.getArrayIndex(y,h),_=a.getArrayIndex(y,p);if(y.length>0&&w>-1&&_>-1){for(let e=w+1,t=h;e>=0;e--)y[e]===t.parentNode&&y[e].firstChild===t&&0===f&&(w=e,t=t.parentNode);for(let e=_-1,t=p;e>w;e--)y[e]===t.parentNode&&1===y[e].nodeType&&(y.splice(e,1),t=t.parentNode,--_)}else{if(0===y.length){if(a.isFormatElement(m)||a.isRangeFormatElement(m)||a.isWysiwygDiv(m)||a.isBreak(m)||a.isMedia(m))return{container:m,offset:0};if(3===m.nodeType)return{container:m,offset:g};y.push(m),h=p=m}else if(h=p=y[0],a.isBreak(h)||a.onlyZeroWidthSpace(h))return{container:a.isMedia(m)?m:h,offset:0};w=_=0}for(let e=w;e<=_;e++){const t=y[e];if(0===t.length||3===t.nodeType&&void 0===t.data)this._nodeRemoveListItem(t);else if(t!==h)if(t!==p)this._nodeRemoveListItem(t);else{if(1===p.nodeType){if(a.isComponent(p))continue;b=a.createTextNode(p.textContent)}else b=a.createTextNode(p.substringData(g,p.length-g));b.length>0?p.data=b.data:this._nodeRemoveListItem(p)}else{if(1===h.nodeType){if(a.isComponent(h))continue;v=a.createTextNode(h.textContent)}else t===p?(v=a.createTextNode(h.substringData(0,f)+p.substringData(g,p.length-g)),d=f):v=a.createTextNode(h.substringData(0,f));if(v.length>0?h.data=v.data:this._nodeRemoveListItem(h),t===p)break}}const C=a.getParentElement(p,"ul"),x=a.getParentElement(h,"li");if(C&&x&&x.contains(C)?(c=C.previousSibling,d=c.textContent.length):(c=p&&p.parentNode?p:h&&h.parentNode?h:t.endContainer||t.startContainer,d=i||n?n?c.textContent.length:0:d),!a.isWysiwygDiv(c)&&0===c.childNodes.length){const t=a.removeItemAllParents(c,null,null);t&&(c=t.sc||t.ec||e.element.wysiwyg)}return a.getFormatElement(c)||h&&h.parentNode||(s?(c=s,d=0):r&&(c=r,d=1)),this.setRange(c,d,c,d),this.history.push(!0),{container:c,offset:d,prevContainer:l}},_nodeRemoveListItem:function(e){const t=a.getFormatElement(e,null);a.removeItem(e),a.isListCell(t)&&(a.removeItemAllParents(t,null,null),t&&a.isList(t.firstChild)&&t.insertBefore(a.createTextNode(a.zeroWidthSpace),t.firstChild))},applyRangeFormatElement:function(e){this.getRange_addLine(this.getRange(),null);const t=this.getSelectedElementsAndComponents(!1);if(!t||0===t.length)return;e:for(let e,i,n,o,l,r,s=0,c=t.length;s<c;s++)if(e=t[s],a.isListCell(e)&&(i=e.lastElementChild,i&&a.isListCell(e.nextElementSibling)&&t.indexOf(e.nextElementSibling)>-1&&(o=i.lastElementChild,t.indexOf(o)>-1))){let e=null;for(;e=o.lastElementChild;)if(a.isList(e)){if(!(t.indexOf(e.lastElementChild)>-1))continue e;o=e.lastElementChild}n=i.firstElementChild,l=t.indexOf(n),r=t.indexOf(o),t.splice(l,r-l+1),c=t.length}let i,n,o,l=t[t.length-1];i=a.isRangeFormatElement(l)||a.isFormatElement(l)?l:a.getRangeFormatElement(l,null)||a.getFormatElement(l,null),a.isCell(i)?(n=null,o=i):(n=i.nextSibling,o=i.parentNode);let r=a.getElementDepth(i),s=null;const c=[],u=function(e,t,i){let n=null;if(e!==t&&!a.isTable(t)){if(t&&a.getElementDepth(e)===a.getElementDepth(t))return i;n=a.removeItemAllParents(t,null,e)}return n?n.ec:i};for(let i,l,d,h,p,f,g,m=0,v=t.length;m<v;m++)if(i=t[m],l=i.parentNode,l&&!e.contains(l))if(d=a.getElementDepth(i),a.isList(l)){if(null===s&&(f?(s=f,g=!0,f=null):s=l.cloneNode(!1)),c.push(i),p=t[m+1],m===v-1||p&&p.parentNode!==l){p&&i.contains(p.parentNode)&&(f=p.parentNode.cloneNode(!1));let t,m=l.parentNode;for(;a.isList(m);)t=a.createElement(m.nodeName),t.appendChild(s),s=t,m=m.parentNode;const v=this.detachRangeFormatElement(l,c,null,!0,!0);r>=d?(r=d,o=v.cc,n=u(o,l,v.ec),n&&(o=n.parentNode)):o===v.cc&&(n=v.ec),o!==v.cc&&(h=u(o,v.cc,h),n=void 0!==h?h:v.cc);for(let e=0,t=v.removeArray.length;e<t;e++)s.appendChild(v.removeArray[e]);g||e.appendChild(s),f&&v.removeArray[v.removeArray.length-1].appendChild(f),s=null,g=!1}}else r>=d&&(r=d,o=l,n=i.nextSibling),e.appendChild(i),o!==l&&(h=u(o,l),void 0!==h&&(n=h));if(this.effectNode=null,a.mergeSameTags(e,null,!1),a.mergeNestedTags(e,function(e){return this.isList(e)}.bind(a)),n&&a.getElementDepth(n)>0&&(a.isList(n.parentNode)||a.isList(n.parentNode.parentNode))){const t=a.getParentElement(n,function(e){return this.isRangeFormatElement(e)&&!this.isList(e)}.bind(a)),i=a.splitElement(n,null,t?a.getElementDepth(t)+1:0);i.parentNode.insertBefore(e,i)}else o.insertBefore(e,n),u(e,n);const d=a.getEdgeChildNodes(e.firstElementChild,e.lastElementChild);t.length>1?this.setRange(d.sc,0,d.ec,d.ec.textContent.length):this.setRange(d.ec,d.ec.textContent.length,d.ec,d.ec.textContent.length),this.history.push(!1)},detachRangeFormatElement:function(e,t,i,n,l){const r=this.getRange();let s=r.startOffset,c=r.endOffset,u=a.getListChildNodes(e,(function(t){return t.parentNode===e})),d=e.parentNode,h=null,p=null,f=e.cloneNode(!1);const g=[],m=a.isList(i);let v=!1,b=!1,y=!1;function w(t,i,n,o){if(a.onlyZeroWidthSpace(i)&&(i.innerHTML=a.zeroWidthSpace,s=c=1),3===i.nodeType)return t.insertBefore(i,n),i;const l=(y?i:o).childNodes;let r=i.cloneNode(!1),u=null,d=null;for(;l[0];)d=l[0],!a._notTextNode(d)||a.isBreak(d)||a.isListCell(r)?r.appendChild(d):(r.childNodes.length>0&&(u||(u=r),t.insertBefore(r,n),r=i.cloneNode(!1)),t.insertBefore(d,n),u||(u=d));if(r.childNodes.length>0){if(a.isListCell(t)&&a.isListCell(r)&&a.isList(n))if(m){for(u=n;n;)r.appendChild(n),n=n.nextSibling;t.parentNode.insertBefore(r,t.nextElementSibling)}else{const t=o.nextElementSibling,i=a.detachNestedList(o,!1);if(e!==i||t!==o.nextElementSibling){const t=r.childNodes;for(;t[0];)o.appendChild(t[0]);e=i,b=!0}}else t.insertBefore(r,n);u||(u=r)}return u}for(let l,r,s,c=0,_=u.length;c<_;c++)if(l=u[c],3!==l.nodeType||!a.isList(f))if(y=!1,n&&0===c&&(h=t&&t.length!==_&&t[0]!==l?f:e.previousSibling),t&&(r=t.indexOf(l)),t&&-1===r)f||(f=e.cloneNode(!1)),f.appendChild(l);else{if(t&&(s=t[r+1]),f&&f.children.length>0&&(d.insertBefore(f,e),f=null),!m&&a.isListCell(l))if(s&&a.getElementDepth(l)!==a.getElementDepth(s)&&(a.isListCell(d)||a.getArrayItem(l.children,a.isList,!1))){const t=l.nextElementSibling,i=a.detachNestedList(l,!1);e===i&&t===l.nextElementSibling||(e=i,b=!0)}else{const t=l;l=a.createElement(n?t.nodeName:a.isList(e.parentNode)||a.isListCell(e.parentNode)?"LI":a.isCell(e.parentNode)?"DIV":o.defaultTag);const i=a.isListCell(l),r=t.childNodes;for(;r[0]&&(!a.isList(r[0])||i);)l.appendChild(r[0]);a.copyFormatAttributes(l,t),y=!0}else l=l.cloneNode(!1);if(!b&&(n?(g.push(l),a.removeItem(u[c])):(i?(v||(d.insertBefore(i,e),v=!0),l=w(i,l,null,u[c])):l=w(d,l,e,u[c]),b||(t?(p=l,h||(h=l)):h||(h=p=l))),b)){b=y=!1,u=a.getListChildNodes(e,(function(t){return t.parentNode===e})),f=e.cloneNode(!1),d=e.parentNode,c=-1,_=u.length;continue}}const _=e.parentNode;let C=e.nextSibling;f&&f.children.length>0&&_.insertBefore(f,C),i?h=i.previousSibling:h||(h=e.previousSibling),C=e.nextSibling!==f?e.nextSibling:f?f.nextSibling:null,0===e.children.length||0===e.textContent.length?a.removeItem(e):a.removeEmptyNode(e,null,!1);let x=null;if(n)x={cc:_,sc:h,so:s,ec:C,eo:c,removeArray:g};else{h||(h=p),p||(p=h);const e=a.getEdgeChildNodes(h,p.parentNode?h:p);x={cc:(e.sc||e.ec).parentNode,sc:e.sc,so:s,ec:e.ec,eo:c,removeArray:null}}if(this.effectNode=null,l)return x;!n&&x&&(t?this.setRange(x.sc,s,x.ec,c):this.setRange(x.sc,0,x.sc,0)),this.history.push(!1)},detachList:function(e,t){let i={},n=!1,o=!1,l=null,r=null;const s=function(e){return!this.isComponent(e)}.bind(a);for(let c,u,d,h,p=0,f=e.length;p<f;p++){if(d=p===f-1,u=a.getRangeFormatElement(e[p],s),h=a.isList(u),!c&&h)c=u,i={r:c,f:[a.getParentElement(e[p],"LI")]},0===p&&(n=!0);else if(c&&h)if(c!==u){const s=this.detachRangeFormatElement(i.f[0].parentNode,i.f,null,t,!0);u=e[p].parentNode,n&&(l=s.sc,n=!1),d&&(r=s.ec),h?(c=u,i={r:c,f:[a.getParentElement(e[p],"LI")]},d&&(o=!0)):c=null}else i.f.push(a.getParentElement(e[p],"LI")),d&&(o=!0);if(d&&a.isList(c)){const e=this.detachRangeFormatElement(i.f[0].parentNode,i.f,null,t,!0);(o||1===f)&&(r=e.ec),n&&(l=e.sc||r)}}return{sc:l,ec:r}},nodeChange:function(e,t,i,n){this._resetRangeToTextNode();let o=this.getRange_addLine(this.getRange(),null);t=!!(t&&t.length>0)&&t,i=!!(i&&i.length>0)&&i;const l=!e,r=l&&!i&&!t;let c=o.startContainer,u=o.startOffset,d=o.endContainer,h=o.endOffset;if(r&&o.collapsed&&a.isFormatElement(c.parentNode)||c===d&&1===c.nodeType&&a.isNonEditable(c)){const e=c.parentNode;if(!a.isListCell(e)||!a.getValues(e.style).some(function(e){return this._listKebab.indexOf(e)>-1}.bind(this)))return}if(o.collapsed&&!r&&1===c.nodeType&&!a.isBreak(c)&&!a.isComponent(c)){let e=null;const t=c.childNodes[u];t&&(e=t.nextSibling?a.isBreak(t)?t:t.nextSibling:null);const i=a.createTextNode(a.zeroWidthSpace);c.insertBefore(i,e),this.setRange(i,1,i,1),o=this.getRange(),c=o.startContainer,u=o.startOffset,d=o.endContainer,h=o.endOffset}a.isFormatElement(c)&&(c=c.childNodes[u]||c.firstChild,u=0),a.isFormatElement(d)&&(d=d.childNodes[h]||d.lastChild,h=d.textContent.length),l&&(e=a.createElement("DIV"));const p=s.RegExp,f=e.nodeName;if(!r&&c===d&&!i&&e){let t=c,i=0;const n=[],o=e.style;for(let e=0,t=o.length;e<t;e++)n.push(o[e]);const r=e.classList;for(let e=0,t=r.length;e<t;e++)n.push("."+r[e]);if(n.length>0){for(;!a.isFormatElement(t)&&!a.isWysiwygDiv(t);){for(let o=0;o<n.length;o++)if(1===t.nodeType){const r=n[o],s=!!/^\./.test(r)&&new p("\\s*"+r.replace(/^\./,"")+"(\\s+|$)","ig"),a=l?!!t.style[r]:!!t.style[r]&&!!e.style[r]&&t.style[r]===e.style[r],c=!1!==s&&(l?!!t.className.match(s):!!t.className.match(s)&&!!e.className.match(s));(a||c)&&i++}t=t.parentNode}if(i>=n.length)return}}let g,m={},v={},b="",y="",w="";if(t){for(let e,i=0,n=t.length;i<n;i++)e=t[i],/^\./.test(e)?y+=(y?"|":"\\s*(?:")+e.replace(/^\./,""):b+=(b?"|":"(?:;|^|\\s)(?:")+e;b&&(b+=")\\s*:[^;]*\\s*(?:;|$)",b=new p(b,"ig")),y&&(y+=")(?=\\s+|$)",y=new p(y,"ig"))}if(i){w="^(?:"+i[0];for(let e=1;e<i.length;e++)w+="|"+i[e];w+=")$",w=new p(w,"i")}const _=s.Boolean,C={v:!1},x=function(e){const t=e.cloneNode(!1);if(3===t.nodeType||a.isBreak(t))return t;if(r)return null;const i=!w&&l||w&&w.test(t.nodeName);if(i&&!n)return C.v=!0,null;const o=t.style.cssText;let s="";b&&o.length>0&&(s=o.replace(b,"").trim(),s!==o&&(C.v=!0));const c=t.className;let u="";return y&&c.length>0&&(u=c.replace(y,"").trim(),u!==c&&(C.v=!0)),(!l||!y&&c||!b&&o||s||u||!i)&&(s||u||t.nodeName!==f||_(b)!==_(o)||_(y)!==_(c))?(b&&o.length>0&&(t.style.cssText=s),t.style.cssText||t.removeAttribute("style"),y&&c.length>0&&(t.className=u.trim()),t.className.trim()||t.removeAttribute("class"),t.style.cssText||t.className||t.nodeName!==f&&!i?t:(C.v=!0,null)):(C.v=!0,null)},k=this.getSelectedElements(null);o=this.getRange(),c=o.startContainer,u=o.startOffset,d=o.endContainer,h=o.endOffset,a.getFormatElement(c,null)||(c=a.getChildElement(k[0],(function(e){return 3===e.nodeType}),!1),u=0),a.getFormatElement(d,null)||(d=a.getChildElement(k[k.length-1],(function(e){return 3===e.nodeType}),!1),h=d.textContent.length);const S=a.getFormatElement(c,null)===a.getFormatElement(d,null),L=k.length-(S?0:1);g=e.cloneNode(!1);const E=r||l&&function(e){for(let t=0,i=e.length;t<i;t++)if(a._isMaintainedNode(e[t])||a._isSizeNode(e[t]))return!0;return!1}(i),T=l||a._isSizeNode(g),N=this._util_getMaintainedNode.bind(a,E,T),z=this._util_isMaintainedNode.bind(a,E,T);if(S){this._resetCommonListCell(k[0],t)&&(o=this.setRange(c,u,d,h));const e=this._nodeChange_oneLine(k[0],g,x,c,u,d,h,r,l,o.collapsed,C,N,z);m.container=e.startContainer,m.offset=e.startOffset,v.container=e.endContainer,v.offset=e.endOffset,m.container===v.container&&a.onlyZeroWidthSpace(m.container)&&(m.offset=v.offset=1),this._setCommonListStyle(e.ancestor,null)}else{let i=!1;L>0&&this._resetCommonListCell(k[L],t)&&(i=!0),this._resetCommonListCell(k[0],t)&&(i=!0),i&&this.setRange(c,u,d,h),L>0&&(g=e.cloneNode(!1),v=this._nodeChange_endLine(k[L],g,x,d,h,r,l,C,N,z));for(let i,n=L-1;n>0;n--)this._resetCommonListCell(k[n],t),g=e.cloneNode(!1),i=this._nodeChange_middleLine(k[n],g,x,r,l,C,v.container),i.endContainer&&i.ancestor.contains(i.endContainer)&&(v.ancestor=null,v.container=i.endContainer),this._setCommonListStyle(i.ancestor,null);g=e.cloneNode(!1),m=this._nodeChange_startLine(k[0],g,x,c,u,r,l,C,N,z,v.container),m.endContainer&&(v.ancestor=null,v.container=m.endContainer),L<=0?v=m:v.container||(v.ancestor=null,v.container=m.container,v.offset=m.container.textContent.length),this._setCommonListStyle(m.ancestor,null),this._setCommonListStyle(v.ancestor||a.getFormatElement(v.container),null)}this.controllersOff(),this.setRange(m.container,m.offset,v.container,v.offset),this.history.push(!1)},_resetCommonListCell:function(e,t){if(!a.isListCell(e))return;t||(t=this._listKebab);const i=a.getArrayItem(e.childNodes,(function(e){return!a.isBreak(e)}),!0),n=e.style,l=[],r=[],s=a.getValues(n);for(let e=0,i=this._listKebab.length;e<i;e++)s.indexOf(this._listKebab[e])>-1&&t.indexOf(this._listKebab[e])>-1&&(l.push(this._listCamel[e]),r.push(this._listKebab[e]));if(!l.length)return;const c=a.createElement("SPAN");for(let e=0,t=l.length;e<t;e++)c.style[l[e]]=n[r[e]],n.removeProperty(r[e]);let u=c.cloneNode(!1),d=null,h=!1;for(let t,n,r=0,s=i.length;r<s;r++)t=i[r],o._textTagsMap[t.nodeName.toLowerCase()]||(n=a.getValues(t.style),0===n.length||l.some((function(e){return-1===n.indexOf(e)}))&&n.some((function(e){l.indexOf(e)}))?(d=t.nextSibling,u.appendChild(t)):u.childNodes.length>0&&(e.insertBefore(u,d),u=c.cloneNode(!1),d=null,h=!0));return u.childNodes.length>0&&(e.insertBefore(u,d),h=!0),n.length||e.removeAttribute("style"),h},_setCommonListStyle:function(e,t){if(!a.isListCell(e))return;const i=a.getArrayItem((t||e).childNodes,(function(e){return!a.isBreak(e)}),!0);if(!(t=i[0])||i.length>1||1!==t.nodeType)return;const n=t.style,l=e.style,r=t.nodeName.toLowerCase();let s=!1;o._textTagsMap[r]===o._defaultCommand.bold.toLowerCase()&&(l.fontWeight="bold"),o._textTagsMap[r]===o._defaultCommand.italic.toLowerCase()&&(l.fontStyle="italic");const c=a.getValues(n);if(c.length>0)for(let e=0,t=this._listCamel.length;e<t;e++)c.indexOf(this._listKebab[e])>-1&&(l[this._listCamel[e]]=n[this._listCamel[e]],n.removeProperty(this._listKebab[e]),s=!0);if(this._setCommonListStyle(e,t),s&&!n.length){const e=t.childNodes,i=t.parentNode,n=t.nextSibling;for(;e.length>0;)i.insertBefore(e[0],n);a.removeItem(t)}},_stripRemoveNode:function(e){const t=e.parentNode;if(!e||3===e.nodeType||!t)return;const i=e.childNodes;for(;i[0];)t.insertBefore(i[0],e);t.removeChild(e)},_util_getMaintainedNode:function(e,t,i){return!i||e?null:this.getParentElement(i,this._isMaintainedNode.bind(this))||(t?null:this.getParentElement(i,this._isSizeNode.bind(this)))},_util_isMaintainedNode:function(e,t,i){if(!i||e||1!==i.nodeType)return!1;const n=this._isMaintainedNode(i);return this.getParentElement(i,this._isMaintainedNode.bind(this))?n:n||!t&&this._isSizeNode(i)},_nodeChange_oneLine:function(e,t,i,n,o,l,r,c,u,d,h,p,f){let g=n.parentNode;for(;!(g.nextSibling||g.previousSibling||a.isFormatElement(g.parentNode)||a.isWysiwygDiv(g.parentNode))&&g.nodeName!==t.nodeName;)g=g.parentNode;if(!u&&g===l.parentNode&&g.nodeName===t.nodeName&&a.onlyZeroWidthSpace(n.textContent.slice(0,o))&&a.onlyZeroWidthSpace(l.textContent.slice(r))){const i=g.childNodes;let s=!0;for(let e,t,o,r,c=0,u=i.length;c<u;c++)if(e=i[c],r=!a.onlyZeroWidthSpace(e),e!==n)if(e!==l){if(!t&&r||t&&o&&r){s=!1;break}}else o=!0;else t=!0;if(s)return a.copyTagAttributes(g,t),{ancestor:e,startContainer:n,startOffset:o,endContainer:l,endOffset:r}}h.v=!1;const m=e,v=[t],b=e.cloneNode(!1),y=n===l;let w,_,C,x,k,S=n,L=o,E=l,T=r,N=!1,z=!1;const A=s.RegExp;function B(e){const t=new A("(?:;|^|\\s)(?:"+x+"null)\\s*:[^;]*\\s*(?:;|$)","ig");let i="";return t&&e.style.cssText.length>0&&(i=t.test(e.style.cssText)),!i}if(function e(n,o){const l=n.childNodes;for(let n,r=0,s=l.length;r<s;r++){let s=l[r];if(!s)continue;let u,h=o;if(!N&&s===S){let e=b;k=p(s);const l=a.createTextNode(1===S.nodeType?"":S.substringData(0,L)),r=a.createTextNode(1===S.nodeType?"":S.substringData(L,y&&T>=L?T-L:S.data.length-L));if(k){const t=p(o);if(t&&t.parentNode!==e){let i=t,n=null;for(;i.parentNode!==e;){for(o=n=i.parentNode.cloneNode(!1);i.childNodes[0];)n.appendChild(i.childNodes[0]);i.appendChild(n),i=i.parentNode}i.parentNode.appendChild(t)}k=k.cloneNode(!1)}a.onlyZeroWidthSpace(l)||o.appendChild(l);const c=p(o);for(c&&(k=c),k&&(e=k),_=s,w=[],x="";_!==e&&_!==m&&null!==_;)n=f(_)?null:i(_),n&&1===_.nodeType&&B(_)&&(w.push(n),x+=_.style.cssText.substr(0,_.style.cssText.indexOf(":"))+"|"),_=_.parentNode;const u=w.pop()||r;for(C=_=u;w.length>0;)_=w.pop(),C.appendChild(_),C=_;if(t.appendChild(u),e.appendChild(t),k&&!p(E)&&(t=t.cloneNode(!1),b.appendChild(t),v.push(t)),S=r,L=0,N=!0,_!==r&&_.appendChild(S),!y)continue}if(z||s!==E){if(N){if(1===s.nodeType&&!a.isBreak(s)){a._isIgnoreNodeChange(s)?(b.appendChild(s.cloneNode(!0)),d||(t=t.cloneNode(!1),b.appendChild(t),v.push(t))):e(s,s);continue}_=s,w=[],x="";const l=[];for(;null!==_.parentNode&&_!==m&&_!==t;)n=z?_.cloneNode(!1):i(_),1===_.nodeType&&!a.isBreak(s)&&n&&B(_)&&(f(_)?k||l.push(n):w.push(n),x+=_.style.cssText.substr(0,_.style.cssText.indexOf(":"))+"|"),_=_.parentNode;w=w.concat(l);const r=w.pop()||s;for(C=_=r;w.length>0;)_=w.pop(),C.appendChild(_),C=_;if(!f(t.parentNode)||f(r)||a.onlyZeroWidthSpace(t)||(t=t.cloneNode(!1),b.appendChild(t),v.push(t)),z||k||!f(r))r===s?o=z?b:t:z?(b.appendChild(r),o=_):(t.appendChild(r),o=_);else{t=t.cloneNode(!1);const e=r.childNodes;for(let i=0,n=e.length;i<n;i++)t.appendChild(e[i]);r.appendChild(t),b.appendChild(r),v.push(t),o=t.children.length>0?_:t}if(k&&3===s.nodeType)if(p(s)){const e=a.getParentElement(o,function(e){return this._isMaintainedNode(e.parentNode)||e.parentNode===b}.bind(a));k.appendChild(e),t=e.cloneNode(!1),v.push(t),b.appendChild(t)}else k=null}u=s.cloneNode(!1),o.appendChild(u),1!==s.nodeType||a.isBreak(s)||(h=u),e(s,h)}else{k=p(s);const e=a.createTextNode(1===E.nodeType?"":E.substringData(T,E.length-T)),o=a.createTextNode(y||1===E.nodeType?"":E.substringData(0,T));if(k?k=k.cloneNode(!1):f(t.parentNode)&&!k&&(t=t.cloneNode(!1),b.appendChild(t),v.push(t)),!a.onlyZeroWidthSpace(e)){_=s,x="",w=[];const t=[];for(;_!==b&&_!==m&&null!==_;)1===_.nodeType&&B(_)&&(f(_)?t.push(_.cloneNode(!1)):w.push(_.cloneNode(!1)),x+=_.style.cssText.substr(0,_.style.cssText.indexOf(":"))+"|"),_=_.parentNode;for(w=w.concat(t),u=C=_=w.pop()||e;w.length>0;)_=w.pop(),C.appendChild(_),C=_;b.appendChild(u),_.textContent=e.data}if(k&&u){const e=p(u);e&&(k=e)}for(_=s,w=[],x="";_!==b&&_!==m&&null!==_;)n=f(_)?null:i(_),n&&1===_.nodeType&&B(_)&&(w.push(n),x+=_.style.cssText.substr(0,_.style.cssText.indexOf(":"))+"|"),_=_.parentNode;const l=w.pop()||o;for(C=_=l;w.length>0;)_=w.pop(),C.appendChild(_),C=_;k?((t=t.cloneNode(!1)).appendChild(l),k.insertBefore(t,k.firstChild),b.appendChild(k),v.push(t),k=null):t.appendChild(l),E=o,T=o.data.length,z=!0,!c&&d&&(t=o,o.textContent=a.zeroWidthSpace),_!==o&&_.appendChild(E)}}}(e,b),u&&!c&&!h.v)return{ancestor:e,startContainer:n,startOffset:o,endContainer:l,endOffset:r};if(c=c&&u)for(let e=0;e<v.length;e++){let t,i,n,o=v[e];if(d)t=a.createTextNode(a.zeroWidthSpace),b.replaceChild(t,o);else{const e=o.childNodes;for(i=e[0];e[0];)n=e[0],b.insertBefore(n,o);a.removeItem(o)}0===e&&(d?S=E=t:(S=i,E=n))}else{if(u)for(let e=0;e<v.length;e++)this._stripRemoveNode(v[e]);d&&(S=E=t)}a.removeEmptyNode(b,t,!1),d&&(L=S.textContent.length,T=E.textContent.length);const M=c||0===E.textContent.length;a.isBreak(E)||0!==E.textContent.length||(a.removeItem(E),E=S),T=M?E.textContent.length:T;const R={s:0,e:0},I=a.getNodePath(S,b,R),O=!E.parentNode;O&&(E=S);const H={s:0,e:0},D=a.getNodePath(E,b,O||M?null:H);L+=R.s,T=d?L:O?S.textContent.length:M?T+R.s:T+H.s;const F=a.mergeSameTags(b,[I,D],!0);return e.parentNode.replaceChild(b,e),S=a.getNodeFromPath(I,b),E=a.getNodeFromPath(D,b),{ancestor:b,startContainer:S,startOffset:L+F[0],endContainer:E,endOffset:T+F[1]}},_nodeChange_startLine:function(e,t,i,n,o,l,r,s,c,u,d){let h=n.parentNode;for(;!(h.nextSibling||h.previousSibling||a.isFormatElement(h.parentNode)||a.isWysiwygDiv(h.parentNode))&&h.nodeName!==t.nodeName;)h=h.parentNode;if(!r&&h.nodeName===t.nodeName&&!a.isFormatElement(h)&&!h.nextSibling&&a.onlyZeroWidthSpace(n.textContent.slice(0,o))){let i=!0,l=n.previousSibling;for(;l;){if(!a.onlyZeroWidthSpace(l)){i=!1;break}l=l.previousSibling}if(i)return a.copyTagAttributes(h,t),{ancestor:e,container:n,offset:o}}s.v=!1;const p=e,f=[t],g=e.cloneNode(!1);let m,v,b,y,w=n,_=o,C=!1;if(function e(n,o){const l=n.childNodes;for(let n,r,s=0,h=l.length;s<h;s++){const h=l[s];if(!h)continue;let x=o;if(C&&!a.isBreak(h)){if(1===h.nodeType){if(a._isIgnoreNodeChange(h)){if(t=t.cloneNode(!1),r=h.cloneNode(!0),g.appendChild(r),g.appendChild(t),f.push(t),d&&h.contains(d)){const e=a.getNodePath(d,h);d=a.getNodeFromPath(e,r)}}else e(h,h);continue}v=h,m=[];const l=[];for(;null!==v.parentNode&&v!==p&&v!==t;)n=i(v),1===v.nodeType&&n&&(u(v)?y||l.push(n):m.push(n)),v=v.parentNode;m=m.concat(l);const s=m.length>0,w=m.pop()||h;for(b=v=w;m.length>0;)v=m.pop(),b.appendChild(v),b=v;if(u(t.parentNode)&&!u(w)&&(t=t.cloneNode(!1),g.appendChild(t),f.push(t)),!y&&u(w)){t=t.cloneNode(!1);const e=w.childNodes;for(let i=0,n=e.length;i<n;i++)t.appendChild(e[i]);w.appendChild(t),g.appendChild(w),o=u(v)?t:v,f.push(t)}else s?(t.appendChild(w),o=v):o=t;if(y&&3===h.nodeType)if(c(h)){const e=a.getParentElement(o,function(e){return this._isMaintainedNode(e.parentNode)||e.parentNode===g}.bind(a));y.appendChild(e),t=e.cloneNode(!1),f.push(t),g.appendChild(t)}else y=null}if(C||h!==w)n=C?i(h):h.cloneNode(!1),n&&(o.appendChild(n),1!==h.nodeType||a.isBreak(h)||(x=n)),e(h,x);else{let e=g;y=c(h);const l=a.createTextNode(1===w.nodeType?"":w.substringData(0,_)),r=a.createTextNode(1===w.nodeType?"":w.substringData(_,w.length-_));if(y){const t=c(o);if(t&&t.parentNode!==e){let i=t,n=null;for(;i.parentNode!==e;){for(o=n=i.parentNode.cloneNode(!1);i.childNodes[0];)n.appendChild(i.childNodes[0]);i.appendChild(n),i=i.parentNode}i.parentNode.appendChild(t)}y=y.cloneNode(!1)}a.onlyZeroWidthSpace(l)||o.appendChild(l);const s=c(o);for(s&&(y=s),y&&(e=y),v=o,m=[];v!==e&&null!==v;)n=i(v),1===v.nodeType&&n&&m.push(n),v=v.parentNode;const u=m.pop()||o;for(b=v=u;m.length>0;)v=m.pop(),b.appendChild(v),b=v;u!==o?(t.appendChild(u),o=v):o=t,a.isBreak(h)&&t.appendChild(h.cloneNode(!1)),e.appendChild(t),w=r,_=0,C=!0,o.appendChild(w)}}}(e,g),r&&!l&&!s.v)return{ancestor:e,container:n,offset:o,endContainer:d};if(l=l&&r)for(let e=0;e<f.length;e++){let t=f[e];const i=t.childNodes,n=i[0];for(;i[0];)g.insertBefore(i[0],t);a.removeItem(t),0===e&&(w=n)}else if(r){t=t.firstChild;for(let e=0;e<f.length;e++)this._stripRemoveNode(f[e])}if(l||0!==g.childNodes.length){a.removeEmptyNode(g,t,!1),a.onlyZeroWidthSpace(g.textContent)&&(w=g.firstChild,_=0);const i={s:0,e:0},n=a.getNodePath(w,g,i);_+=i.s;const o=a.mergeSameTags(g,[n],!0);e.parentNode.replaceChild(g,e),w=a.getNodeFromPath(n,g),_+=o[0]}else e.childNodes?w=e.childNodes[0]:(w=a.createTextNode(a.zeroWidthSpace),e.appendChild(w));return{ancestor:g,container:w,offset:_,endContainer:d}},_nodeChange_middleLine:function(e,t,i,n,o,l,r){if(!o){let i=null;r&&e.contains(r)&&(i=a.getNodePath(r,e));const n=e.cloneNode(!0),o=t.nodeName,l=t.style.cssText,s=t.className;let c=n.childNodes,u=0,d=c.length;for(let e;u<d&&(e=c[u],3!==e.nodeType);u++){if(e.nodeName!==o){if(!a.isBreak(e)&&a._isIgnoreNodeChange(e))continue;if(1===d){c=e.childNodes,d=c.length,u=-1;continue}break}e.style.cssText+=l,a.addClass(e,s)}if(d>0&&u===d)return e.innerHTML=n.innerHTML,{ancestor:e,endContainer:i?a.getNodeFromPath(i,e):null}}l.v=!1;const s=e.cloneNode(!1),c=[t];let u=!0;if(function e(n,o){const l=n.childNodes;for(let n,d,h=0,p=l.length;h<p;h++){let p=l[h];if(!p)continue;let f=o;if(a.isBreak(p)||!a._isIgnoreNodeChange(p))n=i(p),n&&(u=!1,o.appendChild(n),1===p.nodeType&&(f=n)),a.isBreak(p)||e(p,f);else if(t.childNodes.length>0&&(s.appendChild(t),t=t.cloneNode(!1)),d=p.cloneNode(!0),s.appendChild(d),s.appendChild(t),c.push(t),o=t,r&&p.contains(r)){const e=a.getNodePath(r,p);r=a.getNodeFromPath(e,d)}}}(e,t),u||o&&!n&&!l.v)return{ancestor:e,endContainer:r};if(s.appendChild(t),n&&o)for(let e=0;e<c.length;e++){let t=c[e];const i=t.childNodes;for(;i[0];)s.insertBefore(i[0],t);a.removeItem(t)}else if(o){t=t.firstChild;for(let e=0;e<c.length;e++)this._stripRemoveNode(c[e])}return a.removeEmptyNode(s,t,!1),a.mergeSameTags(s,null,!0),e.parentNode.replaceChild(s,e),{ancestor:s,endContainer:r}},_nodeChange_endLine:function(e,t,i,n,o,l,r,s,c,u){let d=n.parentNode;for(;!(d.nextSibling||d.previousSibling||a.isFormatElement(d.parentNode)||a.isWysiwygDiv(d.parentNode))&&d.nodeName!==t.nodeName;)d=d.parentNode;if(!r&&d.nodeName===t.nodeName&&!a.isFormatElement(d)&&!d.previousSibling&&a.onlyZeroWidthSpace(n.textContent.slice(o))){let i=!0,l=n.nextSibling;for(;l;){if(!a.onlyZeroWidthSpace(l)){i=!1;break}l=l.nextSibling}if(i)return a.copyTagAttributes(d,t),{ancestor:e,container:n,offset:o}}s.v=!1;const h=e,p=[t],f=e.cloneNode(!1);let g,m,v,b,y=n,w=o,_=!1;if(function e(n,o){const l=n.childNodes;for(let n,r=l.length-1;0<=r;r--){const s=l[r];if(!s)continue;let d=o;if(_&&!a.isBreak(s)){if(1===s.nodeType){if(a._isIgnoreNodeChange(s)){t=t.cloneNode(!1);const e=s.cloneNode(!0);f.insertBefore(e,o),f.insertBefore(t,e),p.push(t)}else e(s,s);continue}m=s,g=[];const l=[];for(;null!==m.parentNode&&m!==h&&m!==t;)n=i(m),n&&1===m.nodeType&&(u(m)?b||l.push(n):g.push(n)),m=m.parentNode;g=g.concat(l);const r=g.length>0,d=g.pop()||s;for(v=m=d;g.length>0;)m=g.pop(),v.appendChild(m),v=m;if(u(t.parentNode)&&!u(d)&&(t=t.cloneNode(!1),f.insertBefore(t,f.firstChild),p.push(t)),!b&&u(d)){t=t.cloneNode(!1);const e=d.childNodes;for(let i=0,n=e.length;i<n;i++)t.appendChild(e[i]);d.appendChild(t),f.insertBefore(d,f.firstChild),p.push(t),o=t.children.length>0?m:t}else r?(t.insertBefore(d,t.firstChild),o=m):o=t;if(b&&3===s.nodeType)if(c(s)){const e=a.getParentElement(o,function(e){return this._isMaintainedNode(e.parentNode)||e.parentNode===f}.bind(a));b.appendChild(e),t=e.cloneNode(!1),p.push(t),f.insertBefore(t,f.firstChild)}else b=null}if(_||s!==y)n=_?i(s):s.cloneNode(!1),n&&(o.insertBefore(n,o.firstChild),1!==s.nodeType||a.isBreak(s)||(d=n)),e(s,d);else{b=c(s);const e=a.createTextNode(1===y.nodeType?"":y.substringData(w,y.length-w)),l=a.createTextNode(1===y.nodeType?"":y.substringData(0,w));if(b){b=b.cloneNode(!1);const e=c(o);if(e&&e.parentNode!==f){let t=e,i=null;for(;t.parentNode!==f;){for(o=i=t.parentNode.cloneNode(!1);t.childNodes[0];)i.appendChild(t.childNodes[0]);t.appendChild(i),t=t.parentNode}t.parentNode.insertBefore(e,t.parentNode.firstChild)}b=b.cloneNode(!1)}else u(t.parentNode)&&!b&&(t=t.cloneNode(!1),f.appendChild(t),p.push(t));for(a.onlyZeroWidthSpace(e)||o.insertBefore(e,o.firstChild),m=o,g=[];m!==f&&null!==m;)n=u(m)?null:i(m),n&&1===m.nodeType&&g.push(n),m=m.parentNode;const r=g.pop()||o;for(v=m=r;g.length>0;)m=g.pop(),v.appendChild(m),v=m;r!==o?(t.insertBefore(r,t.firstChild),o=m):o=t,a.isBreak(s)&&t.appendChild(s.cloneNode(!1)),b?(b.insertBefore(t,b.firstChild),f.insertBefore(b,f.firstChild),b=null):f.insertBefore(t,f.firstChild),y=l,w=l.data.length,_=!0,o.insertBefore(y,o.firstChild)}}}(e,f),r&&!l&&!s.v)return{ancestor:e,container:n,offset:o};if(l=l&&r)for(let e=0;e<p.length;e++){let t=p[e];const i=t.childNodes;let n=null;for(;i[0];)n=i[0],f.insertBefore(n,t);a.removeItem(t),e===p.length-1&&(y=n,w=n.textContent.length)}else if(r){t=t.firstChild;for(let e=0;e<p.length;e++)this._stripRemoveNode(p[e])}if(l||0!==f.childNodes.length){if(!r&&0===t.textContent.length)return a.removeEmptyNode(f,null,!1),{ancestor:null,container:null,offset:0};a.removeEmptyNode(f,t,!1),a.onlyZeroWidthSpace(f.textContent)?(y=f.firstChild,w=y.textContent.length):a.onlyZeroWidthSpace(y)&&(y=t,w=1);const i={s:0,e:0},n=a.getNodePath(y,f,i);w+=i.s;const o=a.mergeSameTags(f,[n],!0);e.parentNode.replaceChild(f,e),y=a.getNodeFromPath(n,f),w+=o[0]}else e.childNodes?y=e.childNodes[0]:(y=a.createTextNode(a.zeroWidthSpace),e.appendChild(y));return{ancestor:f,container:y,offset:1===y.nodeType&&1===w?y.childNodes.length:w}},actionCall:function(t,i,n){if(i){if(/more/i.test(i)){if(n!==this._moreLayerActiveButton){const i=e.element.toolbar.querySelector("."+t);i&&(this._moreLayerActiveButton&&this.moreLayerOff(),this._moreLayerActiveButton=n,i.style.display="block",d._showToolbarBalloon(),d._showToolbarInline()),a.addClass(n,"on")}else e.element.toolbar.querySelector("."+this._moreLayerActiveButton.getAttribute("data-command"))&&(this.moreLayerOff(),d._showToolbarBalloon(),d._showToolbarInline());return}if(/container/.test(i)&&(null===this._menuTray[t]||n!==this.containerActiveButton))return void this.callPlugin(t,this.containerOn.bind(this,n),n);if(this.isReadOnly&&a.arrayIncludes(this.resizingDisabledButtons,n))return;if(/submenu/.test(i)&&(null===this._menuTray[t]||n!==this.submenuActiveButton))return void this.callPlugin(t,this.submenuOn.bind(this,n),n);if(/dialog/.test(i))return void this.callPlugin(t,this.plugins[t].open.bind(this),n);/command/.test(i)?this.callPlugin(t,this.plugins[t].action.bind(this),n):/fileBrowser/.test(i)&&this.callPlugin(t,this.plugins[t].open.bind(this,null),n)}else t&&this.commandHandler(n,t);/submenu/.test(i)?this.submenuOff():/command/.test(i)||(this.submenuOff(),this.containerOff())},commandHandler:function(t,i){if(!u.isReadOnly||/copy|cut|selectAll|codeView|fullScreen|print|preview|showBlocks/.test(i))switch(i){case"copy":case"cut":this.execCommand(i);break;case"paste":break;case"selectAll":this.containerOff();const n=e.element.wysiwyg;let l=a.getChildElement(n.firstChild,(function(e){return 0===e.childNodes.length||3===e.nodeType}),!1)||n.firstChild,r=a.getChildElement(n.lastChild,(function(e){return 0===e.childNodes.length||3===e.nodeType}),!0)||n.lastChild;if(!l||!r)return;if(a.isMedia(l)){const e=this.getFileComponent(l),t=a.createElement("BR"),i=a.createElement(o.defaultTag);i.appendChild(t),l=e?e.component:l,l.parentNode.insertBefore(i,l),l=t}if(a.isMedia(r)){const e=a.createElement("BR"),t=a.createElement(o.defaultTag);t.appendChild(e),n.appendChild(t),r=e}d._showToolbarBalloon(this.setRange(l,0,r,r.textContent.length));break;case"codeView":this.toggleCodeView();break;case"fullScreen":this.toggleFullScreen(t);break;case"indent":case"outdent":this.indent(i);break;case"undo":this.history.undo();break;case"redo":this.history.redo();break;case"removeFormat":this.removeFormat(),this.focus();break;case"print":this.print();break;case"preview":this.preview();break;case"showBlocks":this.toggleDisplayBlocks();break;case"dir":this.setDir(o.rtl?"ltr":"rtl");break;case"dir_ltr":this.setDir("ltr");break;case"dir_rtl":this.setDir("rtl");break;case"save":if("function"==typeof o.callBackSave)o.callBackSave(this.getContents(!1),this._variable.isChanged);else{if(!this._variable.isChanged||"function"!=typeof h.save)throw Error("[SUNEDITOR.core.commandHandler.fail] Please register call back function in creation option. (callBackSave : Function)");h.save()}this._variable.isChanged=!1,e.tool.save&&e.tool.save.setAttribute("disabled",!0);break;default:i=o._defaultCommand[i.toLowerCase()]||i,this.commandMap[i]||(this.commandMap[i]=t);const s=this._variable.currentNodesMap,c=s.indexOf(i)>-1?null:a.createElement(i);let u=i;/^SUB$/i.test(i)&&s.indexOf("SUP")>-1?u="SUP":/^SUP$/i.test(i)&&s.indexOf("SUB")>-1&&(u="SUB"),this.nodeChange(c,this._commandMapStyles[i]||null,[u],!1),this.focus()}},removeFormat:function(){this.nodeChange(null,null,null,null)},indent:function(e){const t=this.getRange(),i=this.getSelectedElements(null),n=[],l="indent"!==e,r=o.rtl?"marginRight":"marginLeft";let s=t.startContainer,c=t.endContainer,u=t.startOffset,d=t.endOffset;for(let e,t,o=0,s=i.length;o<s;o++)e=i[o],a.isListCell(e)&&this.plugins.list?(l||e.previousElementSibling)&&n.push(e):(t=/\d+/.test(e.style[r])?a.getNumber(e.style[r],0):0,l?t-=25:t+=25,a.setStyle(e,r,t<=0?"":t+"px"));n.length>0&&this.plugins.list.editInsideList.call(this,l,n),this.effectNode=null,this.setRange(s,u,c,d),this.history.push(!1)},toggleDisplayBlocks:function(){const t=e.element.wysiwyg;a.toggleClass(t,"se-show-block"),a.hasClass(t,"se-show-block")?a.addClass(this._styleCommandMap.showBlocks,"active"):a.removeClass(this._styleCommandMap.showBlocks,"active"),this._resourcesStateChange()},toggleCodeView:function(){const t=this._variable.isCodeView;this.controllersOff(),a.setDisabledButtons(!t,this.codeViewDisabledButtons),t?(a.isNonEditable(e.element.wysiwygFrame)||this._setCodeDataToEditor(),e.element.wysiwygFrame.scrollTop=0,e.element.code.style.display="none",e.element.wysiwygFrame.style.display="block",this._variable._codeOriginCssText=this._variable._codeOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: none"),this._variable._wysiwygOriginCssText=this._variable._wysiwygOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: block"),"auto"!==o.height||o.codeMirrorEditor||(e.element.code.style.height="0px"),this._variable.isCodeView=!1,this._variable.isFullScreen||(this._notHideToolbar=!1,/balloon|balloon-always/i.test(o.mode)&&(e.element._arrow.style.display="",this._isInline=!1,this._isBalloon=!0,d._hideToolbar())),this.nativeFocus(),a.removeClass(this._styleCommandMap.codeView,"active"),a.isNonEditable(e.element.wysiwygFrame)||(this.history.push(!1),this.history._resetCachingButton())):(this._setEditorDataToCodeView(),this._variable._codeOriginCssText=this._variable._codeOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: block"),this._variable._wysiwygOriginCssText=this._variable._wysiwygOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: none"),this._variable.isFullScreen?e.element.code.style.height="100%":"auto"!==o.height||o.codeMirrorEditor||(e.element.code.style.height=e.element.code.scrollHeight>0?e.element.code.scrollHeight+"px":"auto"),o.codeMirrorEditor&&o.codeMirrorEditor.refresh(),this._variable.isCodeView=!0,this._variable.isFullScreen||(this._notHideToolbar=!0,this._isBalloon&&(e.element._arrow.style.display="none",e.element.toolbar.style.left="",this._isInline=!0,this._isBalloon=!1,d._showToolbarInline())),this._variable._range=null,e.element.code.focus(),a.addClass(this._styleCommandMap.codeView,"active")),this._checkPlaceholder(),this.isReadOnly&&a.setDisabledButtons(!0,this.resizingDisabledButtons),"function"==typeof h.toggleCodeView&&h.toggleCodeView(this._variable.isCodeView,this)},_setCodeDataToEditor:function(){const t=this._getCodeView();if(o.fullPage){const e=this._parser.parseFromString(t,"text/html");if(!this.options.__allowedScriptTag){const t=e.head.children;for(let i=0,n=t.length;i<n;i++)/^script$/i.test(t[i].tagName)&&(e.head.removeChild(t[i]),i--,n--)}let i=e.head.innerHTML;e.head.querySelector('link[rel="stylesheet"]')&&("auto"!==this.options.height||e.head.querySelector("style"))||(i+=a._setIframeCssTags(this.options)),this._wd.head.innerHTML=i,this._wd.body.innerHTML=this.convertContentsForEditor(e.body.innerHTML);const n=e.body.attributes;for(let e=0,t=n.length;e<t;e++)"contenteditable"!==n[e].name&&this._wd.body.setAttribute(n[e].name,n[e].value);if(!a.hasClass(this._wd.body,"sun-editor-editable")){const e=o._editableClass.split(" ");for(let t=0;t<e.length;t++)a.addClass(this._wd.body,o._editableClass[t])}}else e.element.wysiwyg.innerHTML=t.length>0?this.convertContentsForEditor(t):"<"+o.defaultTag+"><br></"+o.defaultTag+">"},_setEditorDataToCodeView:function(){const t=this.convertHTMLForCodeView(e.element.wysiwyg,!1);let i="";if(o.fullPage){const e=a.getAttributesToString(this._wd.body,null);i="<!DOCTYPE html>\n<html>\n"+this._wd.head.outerHTML.replace(/>(?!\n)/g,">\n")+"<body "+e+">\n"+t+"</body>\n</html>"}else i=t;e.element.code.style.display="block",e.element.wysiwygFrame.style.display="none",this._setCodeView(i)},toggleFullScreen:function(t){const i=e.element.topArea,n=e.element.toolbar,l=e.element.editorArea,u=e.element.wysiwygFrame,p=e.element.code,f=this._variable;this.controllersOff();const g="none"===n.style.display||this._isInline&&!this._inlineToolbarAttr.isShow;f.isFullScreen?(f.isFullScreen=!1,u.style.cssText=f._wysiwygOriginCssText,p.style.cssText=f._codeOriginCssText,n.style.cssText="",l.style.cssText=f._editorAreaOriginCssText,i.style.cssText=f._originCssText,r.body.style.overflow=f._bodyOverflow,"auto"!==o.height||o.codeMirrorEditor||d._codeViewAutoHeight(),o.toolbarContainer&&o.toolbarContainer.appendChild(n),o.stickyToolbar>-1&&a.removeClass(n,"se-toolbar-sticky"),f._fullScreenAttrs.sticky&&!o.toolbarContainer&&(f._fullScreenAttrs.sticky=!1,e.element._stickyDummy.style.display="block",a.addClass(n,"se-toolbar-sticky")),this._isInline=f._fullScreenAttrs.inline,this._isBalloon=f._fullScreenAttrs.balloon,this._isInline&&d._showToolbarInline(),o.toolbarContainer&&a.removeClass(n,"se-toolbar-balloon"),d.onScroll_window(),t&&a.changeElement(t.firstElementChild,c.expansion),e.element.topArea.style.marginTop="",a.removeClass(this._styleCommandMap.fullScreen,"active")):(f.isFullScreen=!0,f._fullScreenAttrs.inline=this._isInline,f._fullScreenAttrs.balloon=this._isBalloon,(this._isInline||this._isBalloon)&&(this._isInline=!1,this._isBalloon=!1),o.toolbarContainer&&e.element.relative.insertBefore(n,l),i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.width="100%",i.style.maxWidth="100%",i.style.height="100%",i.style.zIndex="2147483647",""!==e.element._stickyDummy.style.display&&(f._fullScreenAttrs.sticky=!0,e.element._stickyDummy.style.display="none",a.removeClass(n,"se-toolbar-sticky")),f._bodyOverflow=r.body.style.overflow,r.body.style.overflow="hidden",f._editorAreaOriginCssText=l.style.cssText,f._wysiwygOriginCssText=u.style.cssText,f._codeOriginCssText=p.style.cssText,l.style.cssText=n.style.cssText="",u.style.cssText=(u.style.cssText.match(/\s?display(\s+)?:(\s+)?[a-zA-Z]+;/)||[""])[0]+o._editorStyles.editor,p.style.cssText=(p.style.cssText.match(/\s?display(\s+)?:(\s+)?[a-zA-Z]+;/)||[""])[0],n.style.width=u.style.height=p.style.height="100%",n.style.position="relative",n.style.display="block",f.innerHeight_fullScreen=s.innerHeight-n.offsetHeight,l.style.height=f.innerHeight_fullScreen-o.fullScreenOffset+"px",t&&a.changeElement(t.firstElementChild,c.reduction),o.iframe&&"auto"===o.height&&(l.style.overflow="auto",this._iframeAutoHeight()),e.element.topArea.style.marginTop=o.fullScreenOffset+"px",a.addClass(this._styleCommandMap.fullScreen,"active")),g&&h.toolbar.hide(),"function"==typeof h.toggleFullScreen&&h.toggleFullScreen(this._variable.isFullScreen,this)},print:function(){const e=a.createElement("IFRAME");e.style.display="none",r.body.appendChild(e);const t=o.printTemplate?o.printTemplate.replace(/\{\{\s*contents\s*\}\}/i,this.getContents(!0)):this.getContents(!0),i=a.getIframeDocument(e),n=this._wd;if(o.iframe){const e=null!==o._printClass?'class="'+o._printClass+'"':o.fullPage?a.getAttributesToString(n.body,["contenteditable"]):'class="'+o._editableClass+'"';i.write("<!DOCTYPE html><html><head>"+n.head.innerHTML+"</head><body "+e+">"+t+"</body></html>")}else{const e=r.head.getElementsByTagName("link"),n=r.head.getElementsByTagName("style");let l="";for(let t=0,i=e.length;t<i;t++)l+=e[t].outerHTML;for(let e=0,t=n.length;e<t;e++)l+=n[e].outerHTML;i.write("<!DOCTYPE html><html><head>"+l+'</head><body class="'+(null!==o._printClass?o._printClass:o._editableClass)+'">'+t+"</body></html>")}this.showLoading(),s.setTimeout((function(){try{if(e.focus(),a.isIE_Edge||a.isChromium||r.documentMode||s.StyleMedia)try{e.contentWindow.document.execCommand("print",!1,null)}catch(t){e.contentWindow.print()}else e.contentWindow.print()}catch(e){throw Error("[SUNEDITOR.core.print.fail] error: "+e)}finally{u.closeLoading(),a.removeItem(e)}}),1e3)},preview:function(){u.submenuOff(),u.containerOff(),u.controllersOff();const e=o.previewTemplate?o.previewTemplate.replace(/\{\{\s*contents\s*\}\}/i,this.getContents(!0)):this.getContents(!0),t=s.open("","_blank");t.mimeType="text/html";const i=this._wd;if(o.iframe){const n=null!==o._printClass?'class="'+o._printClass+'"':o.fullPage?a.getAttributesToString(i.body,["contenteditable"]):'class="'+o._editableClass+'"';t.document.write("<!DOCTYPE html><html><head>"+i.head.innerHTML+"<style>body {overflow:auto !important; margin: 10px auto !important; height:auto !important; outline:1px dashed #ccc;}</style></head><body "+n+">"+e+"</body></html>")}else{const i=r.head.getElementsByTagName("link"),l=r.head.getElementsByTagName("style");let s="";for(let e=0,t=i.length;e<t;e++)s+=i[e].outerHTML;for(let e=0,t=l.length;e<t;e++)s+=l[e].outerHTML;t.document.write('<!DOCTYPE html><html><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>'+n.toolbar.preview+"</title>"+s+'</head><body class="'+(null!==o._printClass?o._printClass:o._editableClass)+'" style="margin:10px auto !important; height:auto !important; outline:1px dashed #ccc;">'+e+"</body></html>")}},setDir:function(t){const i="rtl"===t,l=this._prevRtl!==i;this._prevRtl=o.rtl=i,l&&(this.plugins.align&&this.plugins.align.exchangeDir.call(this),e.tool.indent&&a.changeElement(e.tool.indent.firstElementChild,c.indent),e.tool.outdent&&a.changeElement(e.tool.outdent.firstElementChild,c.outdent));const r=e.element;i?(a.addClass(r.topArea,"se-rtl"),a.addClass(r.wysiwygFrame,"se-rtl")):(a.removeClass(r.topArea,"se-rtl"),a.removeClass(r.wysiwygFrame,"se-rtl"));const s=a.getListChildren(r.wysiwyg,(function(e){return a.isFormatElement(e)&&(e.style.marginRight||e.style.marginLeft||e.style.textAlign)}));for(let e,t,i,n=0,o=s.length;n<o;n++)e=s[n],i=e.style.marginRight,t=e.style.marginLeft,(i||t)&&(e.style.marginRight=t,e.style.marginLeft=i),i=e.style.textAlign,"left"===i?e.style.textAlign="right":"right"===i&&(e.style.textAlign="left");const u=e.tool;u.dir&&(a.changeTxt(u.dir.querySelector(".se-tooltip-text"),n.toolbar[o.rtl?"dir_ltr":"dir_rtl"]),a.changeElement(u.dir.firstElementChild,c[o.rtl?"dir_ltr":"dir_rtl"])),u.dir_ltr&&(i?a.removeClass(u.dir_ltr,"active"):a.addClass(u.dir_ltr,"active")),u.dir_rtl&&(i?a.addClass(u.dir_rtl,"active"):a.removeClass(u.dir_rtl,"active"))},setContents:function(t){this.removeRange();const i=null==t?"":this.convertContentsForEditor(t,null,null);if(this._variable.isCodeView){const e=this.convertHTMLForCodeView(i,!1);this._setCodeView(e)}else e.element.wysiwyg.innerHTML=i,this._resetComponents(),this.history.push(!1)},setIframeContents:function(e){if(!o.iframe)return!1;e.head&&(this._wd.head.innerHTML=this.options.__allowedScriptTag?e.head:e.head.replace(this.__scriptTagRegExp,"")),e.body&&(this._wd.body.innerHTML=this.convertContentsForEditor(e.body)),this._resetComponents()},getContents:function(t){const i=this.cleanHTML(e.element.wysiwyg.innerHTML,null,null),n=a.createElement("DIV");n.innerHTML=i;const l=a.getListChildren(n,(function(e){return e.hasAttribute("contenteditable")}));for(let e=0,t=l.length;e<t;e++)l[e].removeAttribute("contenteditable");if(o.fullPage&&!t){const e=a.getAttributesToString(this._wd.body,["contenteditable"]);return"<!DOCTYPE html><html>"+this._wd.head.outerHTML+"<body "+e+">"+n.innerHTML+"</body></html>"}return n.innerHTML},getFullContents:function(e){return'<div class="sun-editor-editable'+(o.rtl?" se-rtl":"")+'">'+this.getContents(e)+"</div>"},_makeLine:function(e,t){const i=o.defaultTag;if(1===e.nodeType){if(this.__disallowedTagNameRegExp.test(e.nodeName))return"";if(/__se__tag/.test(e.className))return e.outerHTML;const n=a.getListChildNodes(e,(function(e){return a.isSpanWithoutAttr(e)&&!a.getParentElement(e,a.isNotCheckingNode)}))||[];for(let e=n.length-1;e>=0;e--)n[e].outerHTML=n[e].innerHTML;return!t||a.isFormatElement(e)||a.isRangeFormatElement(e)||a.isComponent(e)||a.isFigures(e)||a.isAnchor(e)&&a.isMedia(e.firstElementChild)?a.isSpanWithoutAttr(e)?e.innerHTML:e.outerHTML:"<"+i+">"+(a.isSpanWithoutAttr(e)?e.innerHTML:e.outerHTML)+"</"+i+">"}if(3===e.nodeType){if(!t)return a._HTMLConvertor(e.textContent);const n=e.textContent.split(/\n/g);let o="";for(let e,t=0,l=n.length;t<l;t++)e=n[t].trim(),e.length>0&&(o+="<"+i+">"+a._HTMLConvertor(e)+"</"+i+">");return o}return 8===e.nodeType&&this._allowHTMLComments?"\x3c!--"+e.textContent.trim()+"--\x3e":""},_tagConvertor:function(e){if(!this._disallowedTextTagsRegExp)return e;const t=o._textTagsMap;return e.replace(this._disallowedTextTagsRegExp,(function(e,i,n,o){return i+("string"==typeof t[n]?t[n]:n)+(o?" "+o:"")}))},_deleteDisallowedTags:function(e){return e=e.replace(this.__disallowedTagsRegExp,"").replace(/<[a-z0-9]+\:[a-z0-9]+[^>^\/]*>[^>]*<\/[a-z0-9]+\:[a-z0-9]+>/gi,""),/\bfont\b/i.test(this.options._editorTagsWhitelist)||(e=e.replace(/(<\/?)font(\s?)/gi,"$1span$2")),e.replace(this.editorTagsWhitelistRegExp,"").replace(this.editorTagsBlacklistRegExp,"")},_convertFontSize:function(e,t){const i=this._w.Math,n=t.match(/(\d+(?:\.\d+)?)(.+)/),o=n?1*n[1]:a.fontValueMap[t],l=n?n[2]:"rem";let r=o;switch(/em/.test(l)?r=i.round(o/.0625):"pt"===l?r=i.round(1.333*o):"%"===l&&(r=o/100),e){case"em":case"rem":case"%":return(.0625*r).toFixed(2)+e;case"pt":return i.floor(r/1.333)+e;default:return r+e}},_cleanStyle:function(e,t,i){let n=(e.match(/style\s*=\s*(?:"|')[^"']*(?:"|')/)||[])[0];if(/span/i.test(i)&&!n&&(e.match(/<[^\s]+\s(.+)/)||[])[1]){const t=(e.match(/\ssize="([^"]+)"/i)||[])[1],i=(e.match(/\sface="([^"]+)"/i)||[])[1],o=(e.match(/\scolor="([^"]+)"/i)||[])[1];(t||i||o)&&(n='style="'+(t?"font-size:"+this.util.getNumber(t/3.333,1)+"rem;":"")+(i?"font-family:"+i+";":"")+(o?"color:"+o+";":"")+'"')}if(n){t||(t=[]);const e=n.replace(/&quot;/g,"").match(this._cleanStyleRegExp[i]);if(e){const i=[];for(let t,n=0,l=e.length;n<l;n++)if(t=e[n].match(/([a-zA-Z0-9-]+)(:)([^"']+)/),t&&!/inherit|initial|revert|unset/i.test(t[3])){const e=a.kebabToCamelCase(t[1].trim()),n=this.wwComputedStyle[e]?this.wwComputedStyle[e].replace(/"/g,""):"",l=t[3].trim();switch(e){case"fontFamily":if(!o.plugins.font||-1===o.font.indexOf(l))continue;break;case"fontSize":if(!o.plugins.fontSize)continue;this._cleanStyleRegExp.fontSizeUnit.test(t[0])||(t[0]=t[0].replace((t[0].match(/:\s*([^;]+)/)||[])[1],this._convertFontSize.bind(this,o.fontSizeUnit)));break;case"color":if(!o.plugins.fontColor||/rgba\(([0-9]+\s*,\s*){3}0\)|windowtext/i.test(l))continue;break;case"backgroundColor":if(!o.plugins.hiliteColor||/rgba\(([0-9]+\s*,\s*){3}0\)|windowtext/i.test(l))continue}n!==l&&i.push(t[0])}i.length>0&&t.push('style="'+i.join(";")+'"')}}return t},_cleanTags:function(e,t,i){if(/^<[a-z0-9]+\:[a-z0-9]+/i.test(t))return t;let n=null;const o=i.match(/(?!<)[a-zA-Z0-9\-]+/)[0].toLowerCase(),l=this._attributesTagsBlacklist[o];t=t.replace(/\s(?:on[a-z]+)\s*=\s*(")[^"]*\1/gi,""),t=l?t.replace(l,""):t.replace(this._attributesBlacklistRegExp,"");const r=this._attributesTagsWhitelist[o];if(n=r?t.match(r):t.match(e?this._attributesWhitelistRegExp:this._attributesWhitelistRegExp_all_data),e||"span"===o||"li"===o||this._cleanStyleRegExp[o])if("a"===o){const e=t.match(/(?:(?:id|name)\s*=\s*(?:"|')[^"']*(?:"|'))/g);e&&(n||(n=[]),n.push(e[0]))}else n&&/style=/i.test(n.toString())||("span"!==o&&"li"!==o||(n=this._cleanStyle(t,n,"span")),this._cleanStyleRegExp[o]?n=this._cleanStyle(t,n,o):/^(P|DIV|H[1-6]|PRE)$/i.test(o)&&(n=this._cleanStyle(t,n,"format")));else{const e=t.match(/style\s*=\s*(?:"|')[^"']*(?:"|')/);e&&!n?n=[e[0]]:e&&!n.some((function(e){return/^style/.test(e.trim())}))&&n.push(e[0])}if(a.isFigures(o)){const e=t.match(/style\s*=\s*(?:"|')[^"']*(?:"|')/);n||(n=[]),e&&n.push(e[0])}if(n)for(let e,t=0,o=n.length;t<o;t++)e=/^(?:href|src)\s*=\s*('|"|\s)*javascript\s*\:/i.test(n[t].trim())?"":n[t],i+=(/^\s/.test(e)?"":" ")+e;return i},_editFormat:function(e){let t,i="";const n=e.childNodes;for(let e,l=0,r=n.length;l<r;l++)e=n[l],8===e.nodeType?i+="\x3c!-- "+e.textContent+" --\x3e":a.isFormatElement(e)||a.isRangeFormatElement(e)||a.isComponent(e)||/meta/i.test(e.nodeName)?(t&&(i+=t.outerHTML,t=null),i+=e.outerHTML):(t||(t=a.createElement(o.defaultTag)),t.appendChild(e),l--,r--);return t&&(i+=t.outerHTML),r.createRange().createContextualFragment(i)},_convertListCell:function(e){let t="";for(let i,n=0,o=e.length;n<o;n++)i=e[n],1===i.nodeType?a.isList(i)?t+=i.innerHTML:a.isListCell(i)?t+=i.outerHTML:a.isFormatElement(i)?t+="<li>"+(i.innerHTML.trim()||"<br>")+"</li>":a.isRangeFormatElement(i)&&!a.isTable(i)?t+=this._convertListCell(i):t+="<li>"+i.outerHTML+"</li>":t+="<li>"+(i.textContent||"<br>")+"</li>";return t},_isFormatData:function(e){let t=!1;for(let i,n=0,o=e.length;n<o;n++)if(i=e[n],1===i.nodeType&&!a.isTextStyleElement(i)&&!a.isBreak(i)&&!this.__disallowedTagNameRegExp.test(i.nodeName)){t=!0;break}return t},cleanHTML:function(e,t,i){if(!o.strictMode)return a.htmlCompress(e);e=this._deleteDisallowedTags(this._parser.parseFromString(a.htmlCompress(e),"text/html").body.innerHTML).replace(/(<[a-zA-Z0-9\-]+)[^>]*(?=>)/g,this._cleanTags.bind(this,!0)).replace(/<br\/?>$/i,"");const n=r.createRange().createContextualFragment(e);try{a._consistencyCheckOfHTML(n,this._htmlCheckWhitelistRegExp,this._htmlCheckBlacklistRegExp,this._classNameFilter,o.strictHTMLValidation)}catch(e){console.warn("[SUNEDITOR.cleanHTML.consistencyCheck.fail] "+e)}if(this.managedTagsInfo&&this.managedTagsInfo.query){const e=n.querySelectorAll(this.managedTagsInfo.query);for(let t,i,n=0,o=e.length;n<o;n++){i=[].slice.call(e[n].classList);for(let o=0,l=i.length;o<l;o++)if(t=this.managedTagsInfo.map[i[o]],t){t(e[n]);break}}}let l=n.childNodes,s="";const c=this._isFormatData(l);c&&(l=this._editFormat(n).childNodes);for(let e,t=0,i=l.length;t<i;t++)e=l[t],this.__allowedScriptRegExp.test(e.nodeName)?s+=e.outerHTML:s+=this._makeLine(e,c);return s=a.htmlRemoveWhiteSpace(s),s?(t&&(s=s.replace("string"==typeof t?a.createTagsWhitelist(t):t,"")),i&&(s=s.replace("string"==typeof i?a.createTagsBlacklist(i):i,""))):s=e,this._tagConvertor(s)},convertContentsForEditor:function(e){if(!o.strictMode)return a.htmlCompress(e);e=this._deleteDisallowedTags(this._parser.parseFromString(a.htmlCompress(e),"text/html").body.innerHTML).replace(/(<[a-zA-Z0-9\-]+)[^>]*(?=>)/g,this._cleanTags.bind(this,!0));const t=r.createRange().createContextualFragment(e);try{a._consistencyCheckOfHTML(t,this._htmlCheckWhitelistRegExp,this._htmlCheckBlacklistRegExp,this._classNameFilter,o.strictHTMLValidation)}catch(e){console.warn("[SUNEDITOR.convertContentsForEditor.consistencyCheck.fail] "+e)}if(this.managedTagsInfo&&this.managedTagsInfo.query){const e=t.querySelectorAll(this.managedTagsInfo.query);for(let t,i,n=0,o=e.length;n<o;n++){i=[].slice.call(e[n].classList);for(let o=0,l=i.length;o<l;o++)if(t=this.managedTagsInfo.map[i[o]],t){t(e[n]);break}}}const i=t.childNodes;let n="",l=null;for(let e,t=0;t<i.length;t++)if(e=i[t],this.__allowedScriptRegExp.test(e.nodeName))n+=e.outerHTML;else{if(!(a.isFormatElement(e)||a.isRangeFormatElement(e)||a.isComponent(e)||a.isFigures(e)||8===e.nodeType||/__se__tag/.test(e.className))){if(l||(l=a.createElement(o.defaultTag)),l.appendChild(e),t--,i[t+1]&&!a.isFormatElement(i[t+1]))continue;e=l,l=null}l&&(n+=this._makeLine(l,!0),l=null),n+=this._makeLine(e,!0)}return l&&(n+=this._makeLine(l,!0)),0===n.length?"<"+o.defaultTag+"><br></"+o.defaultTag+">":(n=a.htmlRemoveWhiteSpace(n),this._tagConvertor(n))},convertHTMLForCodeView:function(e,t){let i="";const n=s.RegExp,o=new n("^(BLOCKQUOTE|PRE|TABLE|THEAD|TBODY|TR|TH|TD|OL|UL|IMG|IFRAME|VIDEO|AUDIO|FIGURE|FIGCAPTION|HR|BR|CANVAS|SELECT)$","i"),l="string"==typeof e?r.createRange().createContextualFragment(e):e,c=function(e){return this.isFormatElement(e)||this.isComponent(e)}.bind(a),u=t?"":"\n";let d=t?0:1*this._variable.codeIndent;return d=d>0?new s.Array(d+1).join(" "):"",function e(t,l){const r=t.childNodes,h=o.test(t.nodeName),p=h?l:"";for(let f,g,m,v,b,y,w=0,_=r.length;w<_;w++)f=r[w],v=o.test(f.nodeName),g=v?u:"",m=!c(f)||h||/^(TH|TD)$/i.test(t.nodeName)?"":u,8!==f.nodeType?3!==f.nodeType?0!==f.childNodes.length?f.outerHTML?(b=f.nodeName.toLowerCase(),y=p||v?l:"",i+=(m||(h?"":g))+y+f.outerHTML.match(n("<"+b+"[^>]*>","i"))[0]+g,e(f,l+d),i+=(/\n$/.test(i)?y:"")+"</"+b+">"+(m||g||h||/^(TH|TD)$/i.test(f.nodeName)?u:"")):i+=(new s.XMLSerializer).serializeToString(f):i+=(/^HR$/i.test(f.nodeName)?u:"")+(/^PRE$/i.test(f.parentElement.nodeName)&&/^BR$/i.test(f.nodeName)?"":p)+f.outerHTML+g:a.isList(f.parentElement)||(i+=a._HTMLConvertor(/^\n+$/.test(f.data)?"":f.data)):i+="\n\x3c!-- "+f.textContent.trim()+" --\x3e"+g}(l,""),i.trim()+u},addDocEvent:function(e,t,i){r.addEventListener(e,t,i),o.iframe&&this._wd.addEventListener(e,t)},removeDocEvent:function(e,t){r.removeEventListener(e,t),o.iframe&&this._wd.removeEventListener(e,t)},_charCount:function(e){const t=o.maxCharCount,i=o.charCounterType;let n=0;if(e&&(n=this.getCharLength(e,i)),this._setCharCount(),t>0){let e=!1;const o=h.getCharCount(i);if(o>t){if(e=!0,n>0){this._editorRange();const e=this.getRange(),i=e.endOffset-1,n=this.getSelectionNode().textContent,l=e.endOffset-(o-t);this.getSelectionNode().textContent=n.slice(0,l<0?0:l)+n.slice(e.endOffset,n.length),this.setRange(e.endContainer,i,e.endContainer,i)}}else o+n>t&&(e=!0);if(e&&(this._callCounterBlink(),n>0))return!1}return!0},checkCharCount:function(e,t){if(o.maxCharCount){const i=t||o.charCounterType,n=this.getCharLength("string"==typeof e?e:this._charTypeHTML&&1===e.nodeType?e.outerHTML:e.textContent,i);if(n>0&&n+h.getCharCount(i)>o.maxCharCount)return this._callCounterBlink(),!1}return!0},getCharLength:function(e,t){return/byte/.test(t)?a.getByteLength(e):e.length},resetResponsiveToolbar:function(){u.controllersOff();const t=d._responsiveButtonSize;if(t){let i=0;i=(u._isBalloon||u._isInline)&&"auto"===o.toolbarWidth?e.element.topArea.offsetWidth:e.element.toolbar.offsetWidth;let n="default";for(let e=1,o=t.length;e<o;e++)if(i<t[e]){n=t[e]+"";break}d._responsiveCurrentSize!==n&&(d._responsiveCurrentSize=n,h.setToolbarButtons(d._responsiveButtons[n]))}},_setCharCount:function(){e.element.charCounter&&s.setTimeout(function(e,t){this.textContent&&e&&(this.textContent=e.getCharCount(t.charCounterType))}.bind(e.element.charCounter,h,o),0)},_callCounterBlink:function(){const t=e.element.charWrapper;t&&!a.hasClass(t,"se-blink")&&(a.addClass(t,"se-blink"),s.setTimeout((function(){a.removeClass(t,"se-blink")}),600))},_checkComponents:function(){for(let e=0,t=this._fileInfoPluginsCheck.length;e<t;e++)this._fileInfoPluginsCheck[e]()},_resetComponents:function(){for(let e=0,t=this._fileInfoPluginsReset.length;e<t;e++)this._fileInfoPluginsReset[e]()},_setCodeView:function(t){o.codeMirrorEditor?o.codeMirrorEditor.getDoc().setValue(t):e.element.code.value=t},_getCodeView:function(){return o.codeMirrorEditor?o.codeMirrorEditor.getDoc().getValue():e.element.code.value},_setKeyEffect:function(e){const t=this.commandMap,n=this.activePlugins;for(let o in t)e.indexOf(o)>-1||!a.hasOwn(t,o)||(n.indexOf(o)>-1?i[o].active.call(this,null):t.OUTDENT&&/^OUTDENT$/i.test(o)?a.isImportantDisabled(t.OUTDENT)||t.OUTDENT.setAttribute("disabled",!0):t.INDENT&&/^INDENT$/i.test(o)?a.isImportantDisabled(t.INDENT)||t.INDENT.removeAttribute("disabled"):a.removeClass(t[o],"active"))},_init:function(n,l){const c=s.RegExp;this._ww=o.iframe?e.element.wysiwygFrame.contentWindow:s,this._wd=r,this._charTypeHTML="byte-html"===o.charCounterType,this.wwComputedStyle=s.getComputedStyle(e.element.wysiwyg),this._editorHeight=e.element.wysiwygFrame.offsetHeight,this._editorHeightPadding=a.getNumber(this.wwComputedStyle.getPropertyValue("padding-top"))+a.getNumber(this.wwComputedStyle.getPropertyValue("padding-bottom")),this._classNameFilter=function(e){return this.test(e)?e:""}.bind(o.allowedClassNames);const u=o.__allowedScriptTag?"":"script|";if(this.__scriptTagRegExp=new c("<(script)[^>]*>([\\s\\S]*?)<\\/\\1>|<script[^>]*\\/?>","gi"),this.__disallowedTagsRegExp=new c("<("+u+"style)[^>]*>([\\s\\S]*?)<\\/\\1>|<("+u+"style)[^>]*\\/?>","gi"),this.__disallowedTagNameRegExp=new c("^("+u+"meta|link|style|[a-z]+:[a-z]+)$","i"),this.__allowedScriptRegExp=new c("^"+(o.__allowedScriptTag?"script":"")+"$","i"),!o.iframe&&"function"==typeof s.ShadowRoot){let t=e.element.wysiwygFrame;for(;t;){if(t.shadowRoot){this._shadowRoot=t.shadowRoot;break}if(t instanceof s.ShadowRoot){this._shadowRoot=t;break}t=t.parentNode}this._shadowRoot&&(this._shadowRootControllerEventTarget=[])}const d=s.Object.keys(o._textTagsMap),h=o.addTagsWhitelist?o.addTagsWhitelist.split("|").filter((function(e){return/b|i|ins|s|strike/i.test(e)})):[];for(let e=0;e<h.length;e++)d.splice(d.indexOf(h[e].toLowerCase()),1);this._disallowedTextTagsRegExp=0===d.length?null:new c("(<\\/?)("+d.join("|")+")\\b\\s*([^>^<]+)?\\s*(?=>)","gi");const p=function(e,t){return e?"*"===e?"[a-z-]+":t?e+"|"+t:e:"^"},f="contenteditable|colspan|rowspan|target|href|download|rel|src|alt|class|type|origin-size|controls|autoplay|loop|muted|poster|preload|playsinline|allowfullscreen|sandbox|loading|allow|referrerpolicy|frameborder|scrolling";this._allowHTMLComments=o._editorTagsWhitelist.indexOf("//")>-1||"*"===o._editorTagsWhitelist,this._htmlCheckWhitelistRegExp=new c("^("+p(o._editorTagsWhitelist.replace("|//",""),"")+")$","i"),this._htmlCheckBlacklistRegExp=new c("^("+(o.tagsBlacklist||"^")+")$","i"),this.editorTagsWhitelistRegExp=a.createTagsWhitelist(p(o._editorTagsWhitelist.replace("|//","|\x3c!--|--\x3e"),"")),this.editorTagsBlacklistRegExp=a.createTagsBlacklist(o.tagsBlacklist.replace("|//","|\x3c!--|--\x3e")),this.pasteTagsWhitelistRegExp=a.createTagsWhitelist(p(o.pasteTagsWhitelist,"")),this.pasteTagsBlacklistRegExp=a.createTagsBlacklist(o.pasteTagsBlacklist);const g='\\s*=\\s*(")[^"]*\\1',m=o.attributesWhitelist;let v={},b="";if(m)for(let e in m)a.hasOwn(m,e)&&!/^on[a-z]+$/i.test(m[e])&&("all"===e?b=p(m[e],f):v[e]=new c("\\s(?:"+p(m[e],"")+")"+g,"ig"));this._attributesWhitelistRegExp=new c("\\s(?:"+(b||f+"|data-format|data-size|data-file-size|data-file-name|data-origin|data-align|data-image-link|data-rotate|data-proportion|data-percentage|data-exp|data-font-size")+")"+g,"ig"),this._attributesWhitelistRegExp_all_data=new c("\\s(?:"+(b||f)+"|data-[a-z0-9\\-]+)"+g,"ig"),this._attributesTagsWhitelist=v;const y=o.attributesBlacklist;if(v={},b="",y)for(let e in y)a.hasOwn(y,e)&&("all"===e?b=p(y[e],""):v[e]=new c("\\s(?:"+p(y[e],"")+")"+g,"ig"));this._attributesBlacklistRegExp=new c("\\s(?:"+(b||"^")+")"+g,"ig"),this._attributesTagsBlacklist=v,this._isInline=/inline/i.test(o.mode),this._isBalloon=/balloon|balloon-always/i.test(o.mode),this._isBalloonAlways=/balloon-always/i.test(o.mode),this._cachingButtons(),this._fileInfoPluginsCheck=[],this._fileInfoPluginsReset=[],this.managedTagsInfo={query:"",map:{}};const w=[];this.activePlugins=[],this._fileManager.tags=[],this._fileManager.pluginMap={};let _,C,x=[];for(let e in i)if(a.hasOwn(i,e)){if(_=i[e],C=t[e],(_.active||_.action)&&C&&this.callPlugin(e,null,C),"function"==typeof _.checkFileInfo&&"function"==typeof _.resetFileInfo&&(this.callPlugin(e,null,C),this._fileInfoPluginsCheck.push(_.checkFileInfo.bind(this)),this._fileInfoPluginsReset.push(_.resetFileInfo.bind(this))),s.Array.isArray(_.fileTags)){const t=_.fileTags;this.callPlugin(e,null,C),this._fileManager.tags=this._fileManager.tags.concat(t),x.push(e);for(let i=0,n=t.length;i<n;i++)this._fileManager.pluginMap[t[i].toLowerCase()]=e}if(_.managedTags){const e=_.managedTags();w.push("."+e.className),this.managedTagsInfo.map[e.className]=e.method.bind(this)}}this.managedTagsInfo.query=w.toString(),this._fileManager.queryString=this._fileManager.tags.join(","),this._fileManager.regExp=new c("^("+(this._fileManager.tags.join("|")||"^")+")$","i"),this._fileManager.pluginRegExp=new c("^("+(0===x.length?"^":x.join("|"))+")$","i"),this._variable._originCssText=e.element.topArea.style.cssText,this._placeholder=e.element.placeholder,this._lineBreaker=e.element.lineBreaker,this._lineBreakerButton=this._lineBreaker.querySelector("button"),this.history=function(e,t){const i=e._w,n=e.util,o=e.options.historyStackDelayTime;let l=e.context.element,r=e.context.tool.undo,s=e.context.tool.redo,a=null,c=0,u=[];function d(){const i=u[c];l.wysiwyg.innerHTML=i.contents,e.setRange(n.getNodeFromPath(i.s.path,l.wysiwyg),i.s.offset,n.getNodeFromPath(i.e.path,l.wysiwyg),i.e.offset),e.focus(),u.length<=1?(r&&r.setAttribute("disabled",!0),s&&s.setAttribute("disabled",!0)):0===c?(r&&r.setAttribute("disabled",!0),s&&s.removeAttribute("disabled")):c===u.length-1?(r&&r.removeAttribute("disabled"),s&&s.setAttribute("disabled",!0)):(r&&r.removeAttribute("disabled"),s&&s.removeAttribute("disabled")),e.controllersOff(),e._checkComponents(),e._setCharCount(),e._resourcesStateChange(),t()}function h(){e._checkComponents();const i=l.wysiwyg.innerHTML;if(!i||u[c]&&i===u[c].contents)return;c++;const o=e._variable._range;u.length>c&&(u=u.slice(0,c),s&&s.setAttribute("disabled",!0)),u[c]=o?{contents:i,s:{path:n.getNodePath(o.startContainer,null,null),offset:o.startOffset},e:{path:n.getNodePath(o.endContainer,null,null),offset:o.endOffset}}:{contents:i,s:{path:[0,0],offset:[0,0]},e:{path:0,offset:0}},1===c&&r&&r.removeAttribute("disabled"),e._setCharCount(),t()}return{stack:u,push:function(t){i.setTimeout(e._resourcesStateChange.bind(e));const n="number"==typeof t?t>0?t:0:t?o:0;n&&!a||(i.clearTimeout(a),n)?a=i.setTimeout((function(){i.clearTimeout(a),a=null,h()}),n):h()},undo:function(){c>0&&(c--,d())},redo:function(){u.length-1>c&&(c++,d())},go:function(e){c=e<0?u.length-1:e,d()},getCurrentIndex:function(){return c},reset:function(i){r&&r.setAttribute("disabled",!0),s&&s.setAttribute("disabled",!0),e._variable.isChanged=!1,e.context.tool.save&&e.context.tool.save.setAttribute("disabled",!0),u.splice(0),c=0,u[c]={contents:e.getContents(!0),s:{path:[0,0],offset:0},e:{path:[0,0],offset:0}},i||t()},_resetCachingButton:function(){l=e.context.element,r=e.context.tool.undo,s=e.context.tool.redo,0===c?(r&&r.setAttribute("disabled",!0),s&&c===u.length-1&&s.setAttribute("disabled",!0),e._variable.isChanged=!1,e.context.tool.save&&e.context.tool.save.setAttribute("disabled",!0)):c===u.length-1&&s&&s.setAttribute("disabled",!0)},_destroy:function(){a&&i.clearTimeout(a),u=null}}}(this,this._onChange_historyStack.bind(this)),this.addModule([J]),o.iframe&&(this._wd=e.element.wysiwygFrame.contentDocument,e.element.wysiwyg=this._wd.body,o._editorStyles.editor&&(e.element.wysiwyg.style.cssText=o._editorStyles.editor),"auto"===o.height&&(this._iframeAuto=this._wd.body)),this._initWysiwygArea(n,l)},_cachingButtons:function(){this.codeViewDisabledButtons=e.element._buttonTray.querySelectorAll('.se-menu-list button[data-display]:not([class~="se-code-view-enabled"]):not([data-display="MORE"])'),this.resizingDisabledButtons=e.element._buttonTray.querySelectorAll('.se-menu-list button[data-display]:not([class~="se-resizing-enabled"]):not([data-display="MORE"])');const t=e.tool,i=this.commandMap;i.INDENT=t.indent,i.OUTDENT=t.outdent,i[o.textTags.bold.toUpperCase()]=t.bold,i[o.textTags.underline.toUpperCase()]=t.underline,i[o.textTags.italic.toUpperCase()]=t.italic,i[o.textTags.strike.toUpperCase()]=t.strike,i[o.textTags.sub.toUpperCase()]=t.subscript,i[o.textTags.sup.toUpperCase()]=t.superscript,this._styleCommandMap={fullScreen:t.fullScreen,showBlocks:t.showBlocks,codeView:t.codeView},this._saveButtonStates()},_initWysiwygArea:function(t,i){e.element.wysiwyg.innerHTML=t?i:this.convertContentsForEditor(("string"==typeof i?i:/^TEXTAREA$/i.test(e.element.originElement.nodeName)?e.element.originElement.value:e.element.originElement.innerHTML)||"")},_resourcesStateChange:function(){this._iframeAutoHeight(),this._checkPlaceholder()},_onChange_historyStack:function(){this.hasFocus&&d._applyTagEffects(),this._variable.isChanged=!0,e.tool.save&&e.tool.save.removeAttribute("disabled"),h.onChange&&h.onChange(this.getContents(!0),this),"block"===e.element.toolbar.style.display&&d._showToolbarBalloon()},_iframeAutoHeight:function(){this._iframeAuto?s.setTimeout((function(){const t=u._iframeAuto.offsetHeight;e.element.wysiwygFrame.style.height=t+"px",a.isResizeObserverSupported||u.__callResizeFunction(t,null)})):a.isResizeObserverSupported||u.__callResizeFunction(e.element.wysiwygFrame.offsetHeight,null)},__callResizeFunction:function(e,t){e=-1===e?t.borderBoxSize&&t.borderBoxSize[0]?t.borderBoxSize[0].blockSize:t.contentRect.height+this._editorHeightPadding:e,this._editorHeight!==e&&("function"==typeof h.onResizeEditor&&h.onResizeEditor(e,this._editorHeight,u,t),this._editorHeight=e)},_checkPlaceholder:function(){if(this._placeholder){if(this._variable.isCodeView)return void(this._placeholder.style.display="none");const t=e.element.wysiwyg;!a.onlyZeroWidthSpace(t.textContent)||t.querySelector(a._allowedEmptyNodeList)||(t.innerText.match(/\n/g)||"").length>1?this._placeholder.style.display="none":this._placeholder.style.display="block"}},_setDefaultFormat:function(e){if(this._fileManager.pluginRegExp.test(this.currentControllerName))return;const t=this.getRange(),i=t.commonAncestorContainer,n=t.startContainer,l=a.getRangeFormatElement(i,null);let r,s,c;const u=a.getParentElement(i,a.isComponent);if(!u||a.isTable(u)){if(1===i.nodeType&&"true"===i.getAttribute("data-se-embed")){let e=i.nextElementSibling;return a.isFormatElement(e)||(e=this.appendFormatTag(i,o.defaultTag)),void this.setRange(e.firstChild,0,e.firstChild,0)}if(!a.isRangeFormatElement(n)&&!a.isWysiwygDiv(n)||!a.isComponent(n.children[t.startOffset])&&!a.isComponent(n.children[t.startOffset-1])){if(a.getParentElement(i,a.isNotCheckingNode))return null;if(l)return c=a.createElement(e||o.defaultTag),c.innerHTML=l.innerHTML,0===c.childNodes.length&&(c.innerHTML=a.zeroWidthSpace),l.innerHTML=c.outerHTML,c=l.firstChild,r=a.getEdgeChildNodes(c,null).sc,r||(r=a.createTextNode(a.zeroWidthSpace),c.insertBefore(r,c.firstChild)),s=r.textContent.length,void this.setRange(r,s,r,s);if(a.isRangeFormatElement(i)&&i.childNodes.length<=1){let e=null;return 1===i.childNodes.length&&a.isBreak(i.firstChild)?e=i.firstChild:(e=a.createTextNode(a.zeroWidthSpace),i.appendChild(e)),void this.setRange(e,1,e,1)}try{if(3===i.nodeType&&(c=a.createElement(e||o.defaultTag),i.parentNode.insertBefore(c,i),c.appendChild(i)),a.isBreak(c.nextSibling)&&a.removeItem(c.nextSibling),a.isBreak(c.previousSibling)&&a.removeItem(c.previousSibling),a.isBreak(r)){const e=a.createTextNode(a.zeroWidthSpace);r.parentNode.insertBefore(e,r),r=e}}catch(t){return this.execCommand("formatBlock",!1,e||o.defaultTag),this.removeRange(),this._editorRange(),void(this.effectNode=null)}if(c&&(a.isBreak(c.nextSibling)&&a.removeItem(c.nextSibling),a.isBreak(c.previousSibling)&&a.removeItem(c.previousSibling),a.isBreak(r))){const e=a.createTextNode(a.zeroWidthSpace);r.parentNode.insertBefore(e,r),r=e}this.effectNode=null,n?this.setRange(n,1,n,1):this.nativeFocus()}}},_setOptionsInit:function(t,i){this.context=e=X(t.originElement,this._getConstructed(t),o),this._componentsInfoReset=!0,this._editorInit(!0,i)},_editorInit:function(t,i){this._init(t,i),d._addEvent(),this._setCharCount(),d._offStickyToolbar(),d.onResize_window(),e.element.toolbar.style.visibility="";const n=o.frameAttrbutes;for(let t in n)e.element.wysiwyg.setAttribute(t,n[t]);this._checkComponents(),this._componentsInfoInit=!1,this._componentsInfoReset=!1,this.history.reset(!0),s.setTimeout((function(){"function"==typeof u._resourcesStateChange&&(d._resizeObserver&&d._resizeObserver.observe(e.element.wysiwygFrame),d._toolbarObserver&&d._toolbarObserver.observe(e.element._toolbarShadow),u._resourcesStateChange(),"function"==typeof h.onload&&h.onload(u,t))}))},_getConstructed:function(e){return{_top:e.topArea,_relative:e.relative,_toolBar:e.toolbar,_toolbarShadow:e._toolbarShadow,_menuTray:e._menuTray,_editorArea:e.editorArea,_wysiwygArea:e.wysiwygFrame,_codeArea:e.code,_placeholder:e.placeholder,_resizingBar:e.resizingBar,_navigation:e.navigation,_charCounter:e.charCounter,_charWrapper:e.charWrapper,_loading:e.loading,_lineBreaker:e.lineBreaker,_lineBreaker_t:e.lineBreaker_t,_lineBreaker_b:e.lineBreaker_b,_resizeBack:e.resizeBackground,_stickyDummy:e._stickyDummy,_arrow:e._arrow}}},d={_IEisComposing:!1,_lineBreakerBind:null,_responsiveCurrentSize:"default",_responsiveButtonSize:null,_responsiveButtons:null,_deleteKeyCode:new s.RegExp("^(8|46)$"),_cursorMoveKeyCode:new s.RegExp("^(8|3[2-9]|40|46)$"),_directionKeyCode:new s.RegExp("^(8|13|3[2-9]|40|46)$"),_nonTextKeyCode:new s.RegExp("^(8|13|1[6-9]|20|27|3[3-9]|40|45|46|11[2-9]|12[0-3]|144|145)$"),_historyIgnoreKeyCode:new s.RegExp("^(1[6-9]|20|27|3[3-9]|40|45|11[2-9]|12[0-3]|144|145)$"),_onButtonsCheck:new s.RegExp("^("+s.Object.keys(o._textTagsMap).join("|")+")$","i"),_frontZeroWidthReg:new s.RegExp(a.zeroWidthSpace+"+",""),_keyCodeShortcut:{65:"A",66:"B",83:"S",85:"U",73:"I",89:"Y",90:"Z",219:"[",221:"]"},_shortcutCommand:function(e,t){let i=null;const n=d._keyCodeShortcut[e];switch(n){case"A":i="selectAll";break;case"B":-1===o.shortcutsDisable.indexOf("bold")&&(i="bold");break;case"S":t&&-1===o.shortcutsDisable.indexOf("strike")?i="strike":t||-1!==o.shortcutsDisable.indexOf("save")||(i="save");break;case"U":-1===o.shortcutsDisable.indexOf("underline")&&(i="underline");break;case"I":-1===o.shortcutsDisable.indexOf("italic")&&(i="italic");break;case"Z":-1===o.shortcutsDisable.indexOf("undo")&&(i=t?"redo":"undo");break;case"Y":-1===o.shortcutsDisable.indexOf("undo")&&(i="redo");break;case"[":-1===o.shortcutsDisable.indexOf("indent")&&(i=o.rtl?"indent":"outdent");break;case"]":-1===o.shortcutsDisable.indexOf("indent")&&(i=o.rtl?"outdent":"indent")}return i?(u.commandHandler(u.commandMap[i],i),!0):!!n},_applyTagEffects:function(){if(a.hasClass(e.element.wysiwyg,"se-read-only"))return!1;let t=u.getSelectionNode();if(t===u.effectNode)return;u.effectNode=t;const n=o.rtl?"marginRight":"marginLeft",l=u.commandMap,r=d._onButtonsCheck,s=[],c=[],h=u.activePlugins,p=h.length;let f="";for(;t.firstChild;)t=t.firstChild;for(let e=t;!a.isWysiwygDiv(e)&&e;e=e.parentNode)if(1===e.nodeType&&!a.isBreak(e)){if(f=e.nodeName.toUpperCase(),c.push(f),!u.isReadOnly)for(let t,n=0;n<p;n++)t=h[n],-1===s.indexOf(t)&&i[t].active.call(u,e)&&s.push(t);a.isFormatElement(e)?(-1===s.indexOf("OUTDENT")&&l.OUTDENT&&!a.isImportantDisabled(l.OUTDENT)&&(a.isListCell(e)||e.style[n]&&a.getNumber(e.style[n],0)>0)&&(s.push("OUTDENT"),l.OUTDENT.removeAttribute("disabled")),-1===s.indexOf("INDENT")&&l.INDENT&&!a.isImportantDisabled(l.INDENT)&&(s.push("INDENT"),a.isListCell(e)&&!e.previousElementSibling?l.INDENT.setAttribute("disabled",!0):l.INDENT.removeAttribute("disabled"))):r&&r.test(f)&&(s.push(f),a.addClass(l[f],"active"))}u._setKeyEffect(s),u._variable.currentNodes=c.reverse(),u._variable.currentNodesMap=s,o.showPathLabel&&(e.element.navigation.textContent=u._variable.currentNodes.join(" > "))},_buttonsEventHandler:function(e){let t=e.target;if(u._bindControllersOff&&e.stopPropagation(),/^(input|textarea|select|option)$/i.test(t.nodeName)?u._antiBlur=!1:e.preventDefault(),a.getParentElement(t,".se-submenu"))e.stopPropagation(),u._notHideToolbar=!0;else{let i=t.getAttribute("data-command"),n=t.className;for(;!i&&!/se-menu-list/.test(n)&&!/sun-editor-common/.test(n);)t=t.parentNode,i=t.getAttribute("data-command"),n=t.className;i!==u._submenuName&&i!==u._containerName||e.stopPropagation()}},addGlobalEvent:function(e,t,i){return o.iframe&&u._ww.addEventListener(e,t,i),u._w.addEventListener(e,t,i),{type:e,listener:t,useCapture:i}},removeGlobalEvent:function(e,t,i){e&&("object"==typeof e&&(t=e.listener,i=e.useCapture,e=e.type),o.iframe&&u._ww.removeEventListener(e,t,i),u._w.removeEventListener(e,t,i))},onClick_toolbar:function(e){let t=e.target,i=t.getAttribute("data-display"),n=t.getAttribute("data-command"),o=t.className;for(u.controllersOff();t.parentNode&&!n&&!/se-menu-list/.test(o)&&!/se-toolbar/.test(o);)t=t.parentNode,n=t.getAttribute("data-command"),i=t.getAttribute("data-display"),o=t.className;(n||i)&&(t.disabled||u.actionCall(n,i,t))},__selectionSyncEvent:null,onMouseDown_wysiwyg:function(t){if(u.isReadOnly||a.isNonEditable(e.element.wysiwyg))return;if(a._isExcludeSelectionElement(t.target))return void t.preventDefault();if(d.removeGlobalEvent(d.__selectionSyncEvent),d.__selectionSyncEvent=d.addGlobalEvent("mouseup",(function(){u&&u._editorRange(),d.removeGlobalEvent(d.__selectionSyncEvent)})),"function"==typeof h.onMouseDown&&!1===h.onMouseDown(t,u))return;const i=a.getParentElement(t.target,a.isCell);if(i){const e=u.plugins.table;e&&i!==e._fixedCell&&!e._shift&&u.callPlugin("table",(function(){e.onTableCellMultiSelect.call(u,i,!1)}),null)}u._isBalloon&&d._hideToolbar()},onClick_wysiwyg:function(t){const i=t.target;if(u.isReadOnly)return t.preventDefault(),a.isAnchor(i)&&s.open(i.href,i.target),!1;if(a.isNonEditable(e.element.wysiwyg))return;if("function"==typeof h.onClick&&!1===h.onClick(t,u))return;const n=u.getFileComponent(i);if(n)return t.preventDefault(),void u.selectComponent(n.target,n.pluginName);const l=a.getParentElement(i,"FIGCAPTION");if(l&&a.isNonEditable(l)&&(t.preventDefault(),l.focus(),u._isInline&&!u._inlineToolbarAttr.isShow)){d._showToolbarInline();const e=function(){d._hideToolbar(),l.removeEventListener("blur",e)};l.addEventListener("blur",e)}if(u._editorRange(),3===t.detail){let e=u.getRange();a.isFormatElement(e.endContainer)&&0===e.endOffset&&(e=u.setRange(e.startContainer,e.startOffset,e.startContainer,e.startContainer.length),u._rangeInfo(e,u.getSelection()))}const r=u.getSelectionNode(),c=a.getFormatElement(r,null),p=a.getRangeFormatElement(r,null);let f=r;for(;f&&f.firstChild;)f=f.firstChild;const g=u.getFileComponent(f);if(g){const e=u.getRange();p||e.startContainer!==e.endContainer||u.selectComponent(g.target,g.pluginName)}else u.currentFileComponentInfo&&u.controllersOff();if(c||a.isNonEditable(i)||a.isList(p))d._applyTagEffects();else{const e=u.getRange();if(a.getFormatElement(e.startContainer)===a.getFormatElement(e.endContainer))if(a.isList(p)){t.preventDefault();const e=a.createElement("LI"),i=r.nextElementSibling;e.appendChild(r),p.insertBefore(e,i),u.focus()}else a.isWysiwygDiv(r)||a.isComponent(r)||a.isTable(r)&&!a.isCell(r)||null===u._setDefaultFormat(a.isRangeFormatElement(p)?"DIV":o.defaultTag)?d._applyTagEffects():(t.preventDefault(),u.focus())}u._isBalloon&&s.setTimeout(d._toggleToolbarBalloon)},_balloonDelay:null,_showToolbarBalloonDelay:function(){d._balloonDelay&&s.clearTimeout(d._balloonDelay),d._balloonDelay=s.setTimeout(function(){s.clearTimeout(this._balloonDelay),this._balloonDelay=null,this._showToolbarBalloon()}.bind(d),350)},_toggleToolbarBalloon:function(){if(u){u._editorRange();const e=u.getRange();u._bindControllersOff||!u._isBalloonAlways&&e.collapsed?d._hideToolbar():d._showToolbarBalloon(e)}},_showToolbarBalloon:function(t){if(!u._isBalloon)return;const i=t||u.getRange(),n=e.element.toolbar,l=e.element.topArea,r=u.getSelection();let c;if(u._isBalloonAlways&&i.collapsed)c=!0;else if(r.focusNode===r.anchorNode)c=r.focusOffset<r.anchorOffset;else{const e=a.getListChildNodes(i.commonAncestorContainer,null);c=a.getArrayIndex(e,r.focusNode)<a.getArrayIndex(e,r.anchorNode)}let h=i.getClientRects();h=h[c?0:h.length-1];const p=u.getGlobalScrollOffset();let f=p.left,g=p.top;const m=l.offsetWidth,v=d._getEditorOffsets(null),b=v.top,y=v.left;if(n.style.top="-10000px",n.style.visibility="hidden",n.style.display="block",!h){const t=u.getSelectionNode();if(a.isFormatElement(t)){const e=a.createTextNode(a.zeroWidthSpace);u.insertNode(e,null,!1),u.setRange(e,1,e,1),u._editorRange(),h=u.getRange().getClientRects(),h=h[c?0:h.length-1]}if(!h){const i=a.getOffset(t,e.element.wysiwygFrame);h={left:i.left,top:i.top,right:i.left,bottom:i.top+t.offsetHeight,noText:!0},f=0,g=0}c=!0}const w=s.Math.round(e.element._arrow.offsetWidth/2),_=n.offsetWidth,C=n.offsetHeight,x=/iframe/i.test(e.element.wysiwygFrame.nodeName)?e.element.wysiwygFrame.getClientRects()[0]:null;if(x&&(h={left:h.left+x.left,top:h.top+x.top,right:h.right+x.right-x.width,bottom:h.bottom+x.bottom-x.height}),d._setToolbarOffset(c,h,n,y,m,f,g,b,w),_===n.offsetWidth&&C===n.offsetHeight||d._setToolbarOffset(c,h,n,y,m,f,g,b,w),o.toolbarContainer){const e=l.parentElement;let t=o.toolbarContainer,i=t.offsetLeft,r=t.offsetTop;for(;!t.parentElement.contains(e)||!/^(BODY|HTML)$/i.test(t.parentElement.nodeName);)t=t.offsetParent,i+=t.offsetLeft,r+=t.offsetTop;n.style.left=n.offsetLeft-i+l.offsetLeft+"px",n.style.top=n.offsetTop-r+l.offsetTop+"px"}n.style.visibility=""},_setToolbarOffset:function(t,i,n,o,l,c,u,h,p){const f=n.offsetWidth,g=i.noText&&!t?0:n.offsetHeight,m=(t?i.left:i.right)-o-f/2+c,v=m+f-l;let b=(t?i.top-g-p:i.bottom+p)-(i.noText?0:h)+u,y=m<0?1:v<0?m:m-v-1-1,w=!1;const _=b+(t?d._getEditorOffsets(null).top:n.offsetHeight-e.element.wysiwyg.offsetHeight);!t&&_>0&&d._getPageBottomSpace()<_?(t=!0,w=!0):t&&r.documentElement.offsetTop>_&&(t=!1,w=!0),w&&(b=(t?i.top-g-p:i.bottom+p)-(i.noText?0:h)+u),n.style.left=s.Math.floor(y)+"px",n.style.top=s.Math.floor(b)+"px",t?(a.removeClass(e.element._arrow,"se-arrow-up"),a.addClass(e.element._arrow,"se-arrow-down"),e.element._arrow.style.top=g+"px"):(a.removeClass(e.element._arrow,"se-arrow-down"),a.addClass(e.element._arrow,"se-arrow-up"),e.element._arrow.style.top=-p+"px");const C=s.Math.floor(f/2+(m-y));e.element._arrow.style.left=(C+p>n.offsetWidth?n.offsetWidth-p:C<p?p:C)+"px"},_showToolbarInline:function(){if(!u._isInline)return;const t=e.element.toolbar;o.toolbarContainer?t.style.position="relative":t.style.position="absolute",t.style.visibility="hidden",t.style.display="block",u._inlineToolbarAttr.width=t.style.width=o.toolbarWidth,u._inlineToolbarAttr.top=t.style.top=(o.toolbarContainer?0:-1-t.offsetHeight)+"px","function"==typeof h.showInline&&h.showInline(t,e,u),d.onScroll_window(),u._inlineToolbarAttr.isShow=!0,t.style.visibility=""},_hideToolbar:function(){u._notHideToolbar||u._variable.isFullScreen||(e.element.toolbar.style.display="none",u._inlineToolbarAttr.isShow=!1)},onInput_wysiwyg:function(e){if(/AUDIO/.test(e.target.nodeName))return!1;if(u.isReadOnly||u.isDisabled)return e.preventDefault(),e.stopPropagation(),u.history.go(u.history.getCurrentIndex()),!1;const t=u.getRange(),i=u.getSelectionNode(),n=a.getFormatElement(i,null);if(!n&&t.collapsed&&!a.isComponent(i)&&!a.isList(i)){const e=a.getRangeFormatElement(n,null);u._setDefaultFormat(a.isRangeFormatElement(e)?"DIV":o.defaultTag)}u._editorRange();const l=(null===e.data?"":void 0===e.data?" ":e.data)||"";if(!u._charCount(l))return e.preventDefault(),e.stopPropagation(),!1;"function"==typeof h.onInput&&!1===h.onInput(e,u)||u.history.push(!0)},_isUneditableNode:function(e,t){const i=t?e.startContainer:e.endContainer,n=t?e.startOffset:e.endOffset,o=t?"previousSibling":"nextSibling";let l;return 1===i.nodeType?(l=d._isUneditableNode_getSibling(i.childNodes[n],o,i),l&&1===l.nodeType&&"false"===l.getAttribute("contenteditable")):(l=d._isUneditableNode_getSibling(i,o,i),u.isEdgePoint(i,n,t?"start":"end")&&l&&1===l.nodeType&&"false"===l.getAttribute("contenteditable"))},_isUneditableNode_getSibling:function(e,t,i){if(!e)return null;let n=e[t];if(!n){if(n=a.getFormatElement(i),n=n?n[t]:null,!n||a.isComponent(n))return null;n="previousSibling"===t?n.firstChild:n.lastChild}return n},_onShortcutKey:!1,onKeyDown_wysiwyg:function(t){let i=u.getSelectionNode();if(a.isInputElement(i))return;const n=t.keyCode,l=t.shiftKey,r=t.ctrlKey||t.metaKey||91===n||92===n||224===n,c=t.altKey;if(d._IEisComposing=229===n,!r&&u.isReadOnly&&!d._cursorMoveKeyCode.test(n))return t.preventDefault(),!1;if(u.submenuOff(),u._isBalloon&&d._hideToolbar(),"function"==typeof h.onKeyDown&&!1===h.onKeyDown(t,u))return;if(r&&d._shortcutCommand(n,l))return d._onShortcutKey=!0,t.preventDefault(),t.stopPropagation(),!1;d._onShortcutKey&&(d._onShortcutKey=!1),13===n&&a.isFormatElement(u.getRange().startContainer)&&(u._resetRangeToTextNode(),i=u.getSelectionNode());const p=u.getRange(),f=!p.collapsed||p.startContainer!==p.endContainer,g=u._fileManager.pluginRegExp.test(u.currentControllerName)?u.currentControllerName:"";let m=a.getFormatElement(i,null)||i,v=a.getRangeFormatElement(m,null);if(!/37|38|39|40/.test(t.keyCode)||!1!==d._onKeyDown_wysiwyg_arrowKey(t)){switch(n){case 8:if(!f&&g){t.preventDefault(),t.stopPropagation(),u.plugins[g].destroy.call(u);break}if(f&&d._hardDelete()){t.preventDefault(),t.stopPropagation();break}if(!a.isFormatElement(m)&&!e.element.wysiwyg.firstElementChild&&!a.isComponent(i)&&null!==u._setDefaultFormat(o.defaultTag))return t.preventDefault(),t.stopPropagation(),!1;if(!f&&!m.previousElementSibling&&0===p.startOffset&&!i.previousSibling&&!a.isListCell(m)&&a.isFormatElement(m)&&(!a.isFreeFormatElement(m)||a.isClosureFreeFormatElement(m))){if(a.isClosureRangeFormatElement(m.parentNode))return t.preventDefault(),t.stopPropagation(),!1;if(a.isWysiwygDiv(m.parentNode)&&m.childNodes.length<=1&&(!m.firstChild||a.onlyZeroWidthSpace(m.textContent))){if(t.preventDefault(),t.stopPropagation(),m.nodeName.toUpperCase()===o.defaultTag.toUpperCase()){m.innerHTML="<br>";const e=m.attributes;for(;e[0];)m.removeAttribute(e[0].name)}else{const e=a.createElement(o.defaultTag);e.innerHTML="<br>",m.parentElement.replaceChild(e,m)}return u.nativeFocus(),!1}}const n=p.startContainer;if(m&&!m.previousElementSibling&&0===p.startOffset&&3===n.nodeType&&!a.isFormatElement(n.parentNode)){let e=n.parentNode.previousSibling;const t=n.parentNode.nextSibling;e||(t?e=t:(e=a.createElement("BR"),m.appendChild(e)));let i=n;for(;m.contains(i)&&!i.previousSibling;)i=i.parentNode;if(!m.contains(i)){n.textContent="",a.removeItemAllParents(n,null,m);break}}if(d._isUneditableNode(p,!0)){t.preventDefault(),t.stopPropagation();break}!f&&u._isEdgeFormat(p.startContainer,p.startOffset,"start")&&a.isFormatElement(m.previousElementSibling)&&(u._formatAttrsTemp=m.previousElementSibling.attributes);const b=p.commonAncestorContainer;if(m=a.getFormatElement(p.startContainer,null),v=a.getRangeFormatElement(m,null),v&&m&&!a.isCell(v)&&!/^FIGCAPTION$/i.test(v.nodeName)){if(a.isListCell(m)&&a.isList(v)&&(a.isListCell(v.parentNode)||m.previousElementSibling)&&(i===m||3===i.nodeType&&(!i.previousSibling||a.isList(i.previousSibling)))&&(a.getFormatElement(p.startContainer,null)!==a.getFormatElement(p.endContainer,null)?v.contains(p.startContainer):0===p.startOffset&&p.collapsed)){if(p.startContainer!==p.endContainer)t.preventDefault(),u.removeNode(),3===p.startContainer.nodeType&&u.setRange(p.startContainer,p.startContainer.textContent.length,p.startContainer,p.startContainer.textContent.length),u.history.push(!0);else{let e=m.previousElementSibling||v.parentNode;if(a.isListCell(e)){t.preventDefault();let i=e;if(!e.contains(m)&&a.isListCell(i)&&a.isList(i.lastElementChild)){for(i=i.lastElementChild.lastElementChild;a.isListCell(i)&&a.isList(i.lastElementChild);)i=i.lastElementChild&&i.lastElementChild.lastElementChild;e=i}let n=e===v.parentNode?v.previousSibling:e.lastChild;n||(n=a.createTextNode(a.zeroWidthSpace),v.parentNode.insertBefore(n,v.parentNode.firstChild));const o=3===n.nodeType?n.textContent.length:1,l=m.childNodes;let r=n,s=l[0];for(;s=l[0];)e.insertBefore(s,r.nextSibling),r=s;a.removeItem(m),0===v.children.length&&a.removeItem(v),u.setRange(n,o,n,o),u.history.push(!0)}}break}if(!f&&0===p.startOffset){let e=!0,i=b;for(;i&&i!==v&&!a.isWysiwygDiv(i);){if(i.previousSibling&&(1===i.previousSibling.nodeType||!a.onlyZeroWidthSpace(i.previousSibling.textContent.trim()))){e=!1;break}i=i.parentNode}if(e&&v.parentNode){t.preventDefault(),u.detachRangeFormatElement(v,a.isListCell(m)?[m]:null,null,!1,!1),u.history.push(!0);break}}}if(!f&&m&&(0===p.startOffset||i===m&&m.childNodes[p.startOffset])){const e=i===m?m.childNodes[p.startOffset]:i,n=m.previousSibling,o=(3===b.nodeType||a.isBreak(b))&&!b.previousSibling&&0===p.startOffset;if(e&&!e.previousSibling&&(b&&a.isComponent(b.previousSibling)||o&&a.isComponent(n))){const e=u.getFileComponent(n);e?(t.preventDefault(),t.stopPropagation(),0===m.textContent.length&&a.removeItem(m),!1===u.selectComponent(e.target,e.pluginName)&&u.blur()):a.isComponent(n)&&(t.preventDefault(),t.stopPropagation(),a.removeItem(n));break}if(e&&a.isNonEditable(e.previousSibling)){t.preventDefault(),t.stopPropagation(),a.removeItem(e.previousSibling);break}}break;case 46:if(g){t.preventDefault(),t.stopPropagation(),u.plugins[g].destroy.call(u);break}if(f&&d._hardDelete()){t.preventDefault(),t.stopPropagation();break}if(!f&&u._isEdgeFormat(p.endContainer,p.endOffset,"end")&&!m.nextSibling)return t.preventDefault(),void t.stopPropagation();if(d._isUneditableNode(p,!1)){t.preventDefault(),t.stopPropagation();break}if((a.isFormatElement(i)||null===i.nextSibling||a.onlyZeroWidthSpace(i.nextSibling)&&null===i.nextSibling.nextSibling)&&p.startOffset===i.textContent.length){const e=m.nextElementSibling;if(!e)break;if(a.isComponent(e)){if(t.preventDefault(),a.onlyZeroWidthSpace(m)&&(a.removeItem(m),a.isTable(e))){let t=a.getChildElement(e,a.isCell,!1);t=t.firstElementChild||t,u.setRange(t,0,t,0);break}const i=u.getFileComponent(e);i?(t.stopPropagation(),!1===u.selectComponent(i.target,i.pluginName)&&u.blur()):a.isComponent(e)&&(t.stopPropagation(),a.removeItem(e));break}}if(!f&&(u.isEdgePoint(p.endContainer,p.endOffset)||i===m&&m.childNodes[p.startOffset])){const e=i===m&&m.childNodes[p.startOffset]||i;if(e&&a.isNonEditable(e.nextSibling)){t.preventDefault(),t.stopPropagation(),a.removeItem(e.nextSibling);break}if(a.isComponent(e)){t.preventDefault(),t.stopPropagation(),a.removeItem(e);break}}if(!f&&u._isEdgeFormat(p.endContainer,p.endOffset,"end")&&a.isFormatElement(m.nextElementSibling)&&(u._formatAttrsTemp=m.attributes),m=a.getFormatElement(p.startContainer,null),v=a.getRangeFormatElement(m,null),a.isListCell(m)&&a.isList(v)&&(i===m||3===i.nodeType&&(!i.nextSibling||a.isList(i.nextSibling))&&(a.getFormatElement(p.startContainer,null)!==a.getFormatElement(p.endContainer,null)?v.contains(p.endContainer):p.endOffset===i.textContent.length&&p.collapsed))){p.startContainer!==p.endContainer&&u.removeNode();let e=a.getArrayItem(m.children,a.isList,!1);if(e=e||m.nextElementSibling||v.parentNode.nextElementSibling,e&&(a.isList(e)||a.getArrayItem(e.children,a.isList,!1))){let i,n;if(t.preventDefault(),a.isList(e)){const t=e.firstElementChild;for(n=t.childNodes,i=n[0];n[0];)m.insertBefore(n[0],e);a.removeItem(t)}else{for(i=e.firstChild,n=e.childNodes;n[0];)m.appendChild(n[0]);a.removeItem(e)}u.setRange(i,0,i,0),u.history.push(!0)}break}break;case 9:if(g||o.tabDisable)break;if(t.preventDefault(),r||c||a.isWysiwygDiv(i))break;const y=!p.collapsed||u.isEdgePoint(p.startContainer,p.startOffset),w=u.getSelectedElements(null);i=u.getSelectionNode();const _=[];let C=[],x=a.isListCell(w[0]),k=a.isListCell(w[w.length-1]),S={sc:p.startContainer,so:p.startOffset,ec:p.endContainer,eo:p.endOffset};for(let e,t=0,i=w.length;t<i;t++)if(e=w[t],a.isListCell(e)){if(!e.previousElementSibling&&!l)continue;_.push(e)}else C.push(e);if(_.length>0&&y&&u.plugins.list)S=u.plugins.list.editInsideList.call(u,l,_);else{const e=a.getParentElement(i,a.isCell);if(e&&y){const t=a.getParentElement(e,"table"),i=a.getListChildren(t,a.isCell);let n=l?a.prevIdx(i,e):a.nextIdx(i,e);n!==i.length||l||(n=0),-1===n&&l&&(n=i.length-1);let o=i[n];if(!o)break;o=o.firstElementChild||o,u.setRange(o,0,o,0);break}C=C.concat(_),x=k=null}if(C.length>0)if(l){const e=C.length-1;for(let t,i=0;i<=e;i++){t=C[i].childNodes;for(let e,i=0,n=t.length;i<n&&(e=t[i],e);i++)if(!a.onlyZeroWidthSpace(e)){/^\s{1,4}$/.test(e.textContent)?a.removeItem(e):/^\s{1,4}/.test(e.textContent)&&(e.textContent=e.textContent.replace(/^\s{1,4}/,""));break}}const t=a.getChildElement(C[0],"text",!1),i=a.getChildElement(C[e],"text",!0);!x&&t&&(S.sc=t,S.so=0),!k&&i&&(S.ec=i,S.eo=i.textContent.length)}else{const e=a.createTextNode(new s.Array(u._variable.tabSize+1).join(" "));if(1===C.length){if(!u.insertNode(e,null,!0))return!1;x||(S.sc=e,S.so=e.length),k||(S.ec=e,S.eo=e.length)}else{const t=C.length-1;for(let i,n=0;n<=t;n++)i=C[n].firstChild,i&&(a.isBreak(i)?C[n].insertBefore(e.cloneNode(!1),i):i.textContent=e.textContent+i.textContent);const i=a.getChildElement(C[0],"text",!1),n=a.getChildElement(C[t],"text",!0);!x&&i&&(S.sc=i,S.so=0),!k&&n&&(S.ec=n,S.eo=n.textContent.length)}}u.setRange(S.sc,S.so,S.ec,S.eo),u.history.push(!1);break;case 13:const L=a.getFreeFormatElement(i,null);if(u._charTypeHTML){let e="";if(e=!l&&L||l?"<br>":"<"+m.nodeName+"><br></"+m.nodeName+">",!u.checkCharCount(e,"byte-html"))return t.preventDefault(),!1}if(!l&&!g){const n=u._isEdgeFormat(p.endContainer,p.endOffset,"end"),l=u._isEdgeFormat(p.startContainer,p.startOffset,"start");if(n&&(/^H[1-6]$/i.test(m.nodeName)||/^HR$/i.test(m.nodeName))){d._enterPrevent(t);let e=null;const i=u.appendFormatTag(m,o.defaultTag);if(n&&n.length>0){e=n.pop();const t=e;for(;n.length>0;)e=e.appendChild(n.pop());i.appendChild(t)}if(e=e?e.appendChild(i.firstChild):i.firstChild,a.isBreak(e)){const t=a.createTextNode(a.zeroWidthSpace);e.parentNode.insertBefore(t,e),u.setRange(t,1,t,1)}else u.setRange(e,0,e,0);break}if(v&&m&&!a.isCell(v)&&!/^FIGCAPTION$/i.test(v.nodeName)){const e=u.getRange();if(u.isEdgePoint(e.endContainer,e.endOffset)&&a.isList(i.nextSibling)){d._enterPrevent(t);const e=a.createElement("LI"),n=a.createElement("BR");e.appendChild(n),m.parentNode.insertBefore(e,m.nextElementSibling),e.appendChild(i.nextSibling),u.setRange(n,1,n,1);break}if((3!==e.commonAncestorContainer.nodeType||!e.commonAncestorContainer.nextElementSibling)&&a.onlyZeroWidthSpace(m.innerText.trim())&&!a.isListCell(m.nextElementSibling)){d._enterPrevent(t);let e=null;if(a.isListCell(v.parentNode)){const t=m.parentNode.parentNode;v=t.parentNode;const i=a.createElement("LI");i.innerHTML="<br>",a.copyTagAttributes(i,m,o.lineAttrReset),e=i,v.insertBefore(e,t.nextElementSibling)}else{const t=a.isCell(v.parentNode)?"DIV":a.isList(v.parentNode)?"LI":a.isFormatElement(v.nextElementSibling)&&!a.isRangeFormatElement(v.nextElementSibling)?v.nextElementSibling.nodeName:a.isFormatElement(v.previousElementSibling)&&!a.isRangeFormatElement(v.previousElementSibling)?v.previousElementSibling.nodeName:o.defaultTag;e=a.createElement(t),a.copyTagAttributes(e,m,o.lineAttrReset);const i=u.detachRangeFormatElement(v,[m],null,!0,!0);i.cc.insertBefore(e,i.ec)}e.innerHTML="<br>",a.removeItemAllParents(m,null,null),u.setRange(e,1,e,1);break}}if(L){d._enterPrevent(t);const e=i===L,n=u.getSelection(),o=i.childNodes,l=n.focusOffset,r=i.previousElementSibling,s=i.nextSibling;if(!a.isClosureFreeFormatElement(L)&&o&&(e&&p.collapsed&&o.length-1<=l+1&&a.isBreak(o[l])&&(!o[l+1]||(!o[l+2]||a.onlyZeroWidthSpace(o[l+2].textContent))&&3===o[l+1].nodeType&&a.onlyZeroWidthSpace(o[l+1].textContent))&&l>0&&a.isBreak(o[l-1])||!e&&a.onlyZeroWidthSpace(i.textContent)&&a.isBreak(r)&&(a.isBreak(r.previousSibling)||!a.onlyZeroWidthSpace(r.previousSibling.textContent))&&(!s||!a.isBreak(s)&&a.onlyZeroWidthSpace(s.textContent)))){e?a.removeItem(o[l-1]):a.removeItem(i);const t=u.appendFormatTag(L,a.isFormatElement(L.nextElementSibling)&&!a.isRangeFormatElement(L.nextElementSibling)?L.nextElementSibling:null);a.copyFormatAttributes(t,L),u.setRange(t,1,t,1);break}if(e){h.insertHTML(p.collapsed&&a.isBreak(p.startContainer.childNodes[p.startOffset-1])?"<br>":"<br><br>",!0,!1);let e=n.focusNode;const t=n.focusOffset;L===e&&(e=e.childNodes[t-l>1?t-1:t]),u.setRange(e,1,e,1)}else{const e=n.focusNode.nextSibling,t=a.createElement("BR");u.insertNode(t,null,!1);const i=t.previousSibling,o=t.nextSibling;a.isBreak(e)||a.isBreak(i)||o&&!a.onlyZeroWidthSpace(o)?u.setRange(o,0,o,0):(t.parentNode.insertBefore(t.cloneNode(!1),t),u.setRange(t,1,t,1))}d._onShortcutKey=!0;break}if(p.collapsed&&(l||n)){d._enterPrevent(t);const e=a.createElement("BR"),r=a.createElement(m.nodeName);a.copyTagAttributes(r,m,o.lineAttrReset);let s=e;do{if(!a.isBreak(i)&&1===i.nodeType){const e=i.cloneNode(!1);e.appendChild(s),s=e}i=i.parentNode}while(m!==i&&m.contains(i));r.appendChild(s),m.parentNode.insertBefore(r,l&&!n?m:m.nextElementSibling),n&&u.setRange(e,1,e,1);break}if(m){let i;t.stopPropagation();let r=0;if(p.collapsed)i=a.onlyZeroWidthSpace(m)?u.appendFormatTag(m,m.cloneNode(!1)):a.splitElement(p.endContainer,p.endOffset,a.getElementDepth(m));else{const s=a.getFormatElement(p.startContainer,null)!==a.getFormatElement(p.endContainer,null),c=m.cloneNode(!1);c.innerHTML="<br>";const h=p.commonAncestorContainer,f=h===p.startContainer&&h===p.endContainer&&a.onlyZeroWidthSpace(h)?p:u.removeNode();if(i=a.getFormatElement(f.container,null),!i){a.isWysiwygDiv(f.container)&&(d._enterPrevent(t),e.element.wysiwyg.appendChild(c),i=c,a.copyTagAttributes(i,m,o.lineAttrReset),u.setRange(i,r,i,r));break}const g=a.getRangeFormatElement(f.container);if(i=i.contains(g)?a.getChildElement(g,a.getFormatElement.bind(a)):i,s){if(n&&!l)i.parentNode.insertBefore(c,f.prevContainer&&f.container!==f.prevContainer?i:i.nextElementSibling),i=c,r=0;else if(r=f.offset,l){const e=i.parentNode.insertBefore(c,i);n&&(i=e,r=0)}}else n&&l?(i.parentNode.insertBefore(c,f.prevContainer&&f.container===f.prevContainer?i.nextElementSibling:i),i=c,r=0):i=a.splitElement(f.container,f.offset,a.getElementDepth(m))}d._enterPrevent(t),a.copyTagAttributes(i,m,o.lineAttrReset),u.setRange(i,r,i,r);break}}if(f)break;if(v&&a.getParentElement(v,"FIGCAPTION")&&a.getParentElement(v,a.isList)&&(d._enterPrevent(t),m=u.appendFormatTag(m,null),u.setRange(m,0,m,0)),g){t.preventDefault(),t.stopPropagation(),u.containerOff(),u.controllersOff();const i=e[g],n=i._container,r=n.previousElementSibling||n.nextElementSibling;let s=null;a.isListCell(n.parentNode)?s=a.createElement("BR"):(s=a.createElement(a.isFormatElement(r)&&!a.isRangeFormatElement(r)?r.nodeName:o.defaultTag),s.innerHTML="<br>"),l?n.parentNode.insertBefore(s,n):n.parentNode.insertBefore(s,n.nextElementSibling),u.callPlugin(g,(function(){!1===u.selectComponent(i._element,g)&&u.blur()}),null)}break;case 27:if(g)return t.preventDefault(),t.stopPropagation(),u.controllersOff(),!1}if(l&&16===n){t.preventDefault(),t.stopPropagation();const e=u.plugins.table;if(e&&!e._shift&&!e._ref){const t=a.getParentElement(m,a.isCell);if(t)return void e.onTableCellMultiSelect.call(u,t,!0)}}else if(l&&(a.isOSX_IOS?c:r)&&32===n){t.preventDefault(),t.stopPropagation();const e=u.insertNode(a.createTextNode(" "));if(e)return void u.setRange(e,e.length,e,e.length)}if(a.isIE&&!r&&!c&&!f&&!d._nonTextKeyCode.test(n)&&a.isBreak(p.commonAncestorContainer)){const e=a.createTextNode(a.zeroWidthSpace);u.insertNode(e,null,!1),u.setRange(e,1,e,1)}d._directionKeyCode.test(n)&&(s.setTimeout(u._editorRange.bind(u),0),d._applyTagEffects())}},_onKeyDown_wysiwyg_arrowKey:function(e){if(e.shiftKey)return;let t=u.getSelectionNode();const i=function(t,i){if(i||(i=0),e.preventDefault(),e.stopPropagation(),!t)return;let n=u.getFileComponent(t);n?u.selectComponent(n.target,n.pluginName):(u.setRange(t,i,t,i),u.controllersOff())},n=a.getParentElement(t,"table");if(n){const o=a.getParentElement(t,"tr"),l=a.getParentElement(t,"td");let r=l,s=l;if(l){for(;r&&r.firstChild;)r=r.firstChild;for(;s&&s.lastChild;)s=s.lastChild}let c=t;for(;c&&c.firstChild;)c=c.firstChild;const d=c===r,h=c===s;let p=null,f=0;if(38===e.keyCode&&d){const e=o&&o.previousElementSibling;for(p=e?e.children[l.cellIndex]:a.getPreviousDeepestNode(n,u.context.element.wysiwyg);p&&p.lastChild;)p=p.lastChild;p&&(f=p.textContent.length)}else if(40===e.keyCode&&h){const e=o&&o.nextElementSibling;for(p=e?e.children[l.cellIndex]:a.getNextDeepestNode(n,u.context.element.wysiwyg);p&&p.firstChild;)p=p.firstChild}if(p)return i(p,f),!1}const o=u.getFileComponent(t);if(o){const t=/37|38/.test(e.keyCode),n=/39|40/.test(e.keyCode);if(t){const e=a.getPreviousDeepestNode(o.target,u.context.element.wysiwyg);i(e,e&&e.textContent.length)}else n&&i(a.getNextDeepestNode(o.target,u.context.element.wysiwyg))}},onKeyUp_wysiwyg:function(e){if(d._onShortcutKey)return;u._editorRange();const t=e.keyCode,i=e.ctrlKey||e.metaKey||91===t||92===t||224===t,n=e.altKey;if(u.isReadOnly)return void(!i&&d._cursorMoveKeyCode.test(t)&&d._applyTagEffects());const l=u.getRange();let r=u.getSelectionNode();if(u._isBalloon&&(u._isBalloonAlways&&27!==t||!l.collapsed)){if(!u._isBalloonAlways)return void d._showToolbarBalloon();27!==t&&d._showToolbarBalloonDelay()}let s=r;for(;s&&s.firstChild;)s=s.firstChild;const c=u.getFileComponent(s);if(16!==e.keyCode&&!e.shiftKey&&c?u.selectComponent(c.target,c.pluginName):u.currentFileComponentInfo&&u.controllersOff(),8===t&&a.isWysiwygDiv(r)&&""===r.textContent&&0===r.children.length){e.preventDefault(),e.stopPropagation(),r.innerHTML="";const t=a.createElement(a.isFormatElement(u._variable.currentNodes[0])?u._variable.currentNodes[0]:o.defaultTag);return t.innerHTML="<br>",r.appendChild(t),u.setRange(t,0,t,0),d._applyTagEffects(),void u.history.push(!1)}const p=a.getFormatElement(r,null),f=a.getRangeFormatElement(r,null),g=u._formatAttrsTemp;if(g){for(let e=0,i=g.length;e<i;e++)13===t&&/^id$/i.test(g[e].name)?p.removeAttribute("id"):p.setAttribute(g[e].name,g[e].value);u._formatAttrsTemp=null}if(p||!l.collapsed||a.isComponent(r)||a.isList(r)||null===u._setDefaultFormat(a.isRangeFormatElement(f)?"DIV":o.defaultTag)||(r=u.getSelectionNode()),!i&&!n&&!d._nonTextKeyCode.test(t)&&3===r.nodeType&&a.zeroWidthRegExp.test(r.textContent)&&!(void 0!==e.isComposing?e.isComposing:d._IEisComposing)){let e=l.startOffset,t=l.endOffset;const i=(r.textContent.substring(0,t).match(d._frontZeroWidthReg)||"").length;e=l.startOffset-i,t=l.endOffset-i,r.textContent=r.textContent.replace(a.zeroWidthRegExp,""),u.setRange(r,e<0?0:e,r,t<0?0:t)}d._deleteKeyCode.test(t)&&p&&a.onlyZeroWidthSpace(p.textContent)&&!p.previousElementSibling&&(p.innerHTML="<br>",u.setRange(p,0,p,0)),u._charCount(""),"function"==typeof h.onKeyUp&&!1===h.onKeyUp(e,u)||i||n||d._historyIgnoreKeyCode.test(t)||u.history.push(!0)},onScroll_wysiwyg:function(e){u.controllersOff(),u._isBalloon&&d._hideToolbar(),"function"==typeof h.onScroll&&h.onScroll(e,u)},onFocus_wysiwyg:function(e){u._antiBlur||(u.hasFocus=!0,s.setTimeout(d._applyTagEffects),u._isInline&&d._showToolbarInline(),"function"==typeof h.onFocus&&h.onFocus(e,u))},onBlur_wysiwyg:function(t){u._antiBlur||u._variable.isCodeView||(u.hasFocus=!1,u.effectNode=null,u.controllersOff(),(u._isInline||u._isBalloon)&&d._hideToolbar(),u._setKeyEffect([]),u._variable.currentNodes=[],u._variable.currentNodesMap=[],o.showPathLabel&&(e.element.navigation.textContent=""),"function"==typeof h.onBlur&&h.onBlur(t,u,this))},onMouseDown_resizingBar:function(t){t.stopPropagation(),u.submenuOff(),u.controllersOff(),u._variable.resizeClientY=t.clientY,e.element.resizeBackground.style.display="block",r.addEventListener("mousemove",d._resize_editor),r.addEventListener("mouseup",(function t(){e.element.resizeBackground.style.display="none",r.removeEventListener("mousemove",d._resize_editor),r.removeEventListener("mouseup",t)}))},_resize_editor:function(t){const i=e.element.editorArea.offsetHeight+(t.clientY-u._variable.resizeClientY),n=i<u._variable.minResizingSize?u._variable.minResizingSize:i;e.element.wysiwygFrame.style.height=e.element.code.style.height=n+"px",u._variable.resizeClientY=t.clientY,a.isResizeObserverSupported||u.__callResizeFunction(n,null)},onResize_window:function(){a.isResizeObserverSupported||u.resetResponsiveToolbar();const t=e.element.toolbar,i="none"===t.style.display||u._isInline&&!u._inlineToolbarAttr.isShow;if(0!==t.offsetWidth||i){if(e.fileBrowser&&"block"===e.fileBrowser.area.style.display&&(e.fileBrowser.body.style.maxHeight=s.innerHeight-e.fileBrowser.header.offsetHeight-50+"px"),u.submenuActiveButton&&u.submenu&&u._setMenuPosition(u.submenuActiveButton,u.submenu),u._variable.isFullScreen)return u._variable.innerHeight_fullScreen+=s.innerHeight-t.offsetHeight-u._variable.innerHeight_fullScreen,void(e.element.editorArea.style.height=u._variable.innerHeight_fullScreen+"px");u._variable.isCodeView&&u._isInline?d._showToolbarInline():(u._iframeAutoHeight(),u._sticky&&(t.style.width=e.element.topArea.offsetWidth-2+"px",d.onScroll_window()))}},onScroll_window:function(){if(u._variable.isFullScreen||0===e.element.toolbar.offsetWidth||o.stickyToolbar<0)return;const t=e.element,i=t.editorArea.offsetHeight,n=(this.scrollY||r.documentElement.scrollTop)+o.stickyToolbar,l=d._getEditorOffsets(o.toolbarContainer).top-(u._isInline?t.toolbar.offsetHeight:0),s=u._isInline&&n-l>0?n-l-e.element.toolbar.offsetHeight:0;n<l?d._offStickyToolbar():n+u._variable.minResizingSize>=i+l?(u._sticky||d._onStickyToolbar(s),t.toolbar.style.top=s+i+l+o.stickyToolbar-n-u._variable.minResizingSize+"px"):n>=l&&d._onStickyToolbar(s)},_getEditorOffsets:function(t){let i=t||e.element.topArea,n=0,o=0,l=0;for(;i;)n+=i.offsetTop,o+=i.offsetLeft,l+=i.scrollTop,i=i.offsetParent;return{top:n,left:o,scroll:l}},_getPageBottomSpace:function(){return r.documentElement.scrollHeight-(d._getEditorOffsets(null).top+e.element.topArea.offsetHeight)},_onStickyToolbar:function(t){const i=e.element;u._isInline||o.toolbarContainer||(i._stickyDummy.style.height=i.toolbar.offsetHeight+"px",i._stickyDummy.style.display="block"),i.toolbar.style.top=o.stickyToolbar+t+"px",i.toolbar.style.width=u._isInline?u._inlineToolbarAttr.width:i.toolbar.offsetWidth+"px",a.addClass(i.toolbar,"se-toolbar-sticky"),u._sticky=!0},_offStickyToolbar:function(){const t=e.element;t._stickyDummy.style.display="none",t.toolbar.style.top=u._isInline?u._inlineToolbarAttr.top:"",t.toolbar.style.width=u._isInline?u._inlineToolbarAttr.width:"",t.editorArea.style.marginTop="",a.removeClass(t.toolbar,"se-toolbar-sticky"),u._sticky=!1},_codeViewAutoHeight:function(){u._variable.isFullScreen||(e.element.code.style.height=e.element.code.scrollHeight+"px")},_hardDelete:function(){const e=u.getRange(),t=e.startContainer,i=e.endContainer,n=a.getRangeFormatElement(t),o=a.getRangeFormatElement(i),l=a.isCell(n),r=a.isCell(o),s=e.commonAncestorContainer;if((l&&!n.previousElementSibling&&!n.parentElement.previousElementSibling||r&&!o.nextElementSibling&&!o.parentElement.nextElementSibling)&&n!==o)if(l){if(r)return a.removeItem(a.getParentElement(n,(function(e){return s===e.parentNode}))),u.nativeFocus(),!0;a.removeItem(a.getParentElement(n,(function(e){return s===e.parentNode})))}else a.removeItem(a.getParentElement(o,(function(e){return s===e.parentNode})));const c=1===t.nodeType?a.getParentElement(t,".se-component"):null,d=1===i.nodeType?a.getParentElement(i,".se-component"):null;return c&&a.removeItem(c),d&&a.removeItem(d),!1},onPaste_wysiwyg:function(e){const t=a.isIE?s.clipboardData:e.clipboardData;return!t||d._dataTransferAction("paste",e,t)},_setClipboardComponent:function(e,t,i){e.preventDefault(),e.stopPropagation(),i.setData("text/html",t.component.outerHTML)},onCopy_wysiwyg:function(e){const t=a.isIE?s.clipboardData:e.clipboardData;if("function"==typeof h.onCopy&&!1===h.onCopy(e,t,u))return e.preventDefault(),e.stopPropagation(),!1;const i=u.currentFileComponentInfo;i&&!a.isIE&&(d._setClipboardComponent(e,i,t),a.addClass(i.component,"se-component-copy"),s.setTimeout((function(){a.removeClass(i.component,"se-component-copy")}),150))},onSave_wysiwyg:function(e){"function"!=typeof h.onSave||h.onSave(e,u)},onCut_wysiwyg:function(e){const t=a.isIE?s.clipboardData:e.clipboardData;if("function"==typeof h.onCut&&!1===h.onCut(e,t,u))return e.preventDefault(),e.stopPropagation(),!1;const i=u.currentFileComponentInfo;i&&!a.isIE&&(d._setClipboardComponent(e,i,t),a.removeItem(i.component),u.controllersOff()),s.setTimeout((function(){u.history.push(!1)}))},onDrop_wysiwyg:function(e){if(u.isReadOnly||a.isIE)return e.preventDefault(),e.stopPropagation(),!1;const t=e.dataTransfer;return!t||(d._setDropLocationSelection(e),u.removeNode(),document.body.contains(u.currentControllerTarget)||u.controllersOff(),d._dataTransferAction("drop",e,t))},_setDropLocationSelection:function(e){const t={startContainer:null,startOffset:null,endContainer:null,endOffset:null};let i=null;if(e.rangeParent?(t.startContainer=e.rangeParent,t.startOffset=e.rangeOffset,t.endContainer=e.rangeParent,t.endOffset=e.rangeOffset):i=u._wd.caretRangeFromPoint?u._wd.caretRangeFromPoint(e.clientX,e.clientY):u.getRange(),i&&(t.startContainer=i.startContainer,t.startOffset=i.startOffset,t.endContainer=i.endContainer,t.endOffset=i.endOffset),t.startContainer===t.endContainer){const e=a.getParentElement(t.startContainer,a.isComponent);e&&(t.startContainer=e,t.startOffset=0,t.endContainer=e,t.endOffset=0)}u.setRange(t.startContainer,t.startOffset,t.endContainer,t.endOffset)},_dataTransferAction:function(t,i,n){let o,l;if(a.isIE){o=n.getData("Text");const r=u.getRange(),c=a.createElement("DIV"),h={sc:r.startContainer,so:r.startOffset,ec:r.endContainer,eo:r.endOffset};return c.setAttribute("contenteditable",!0),c.style.cssText="position:absolute; top:0; left:0; width:1px; height:1px; overflow:hidden;",e.element.relative.appendChild(c),c.focus(),s.setTimeout((function(){l=c.innerHTML,a.removeItem(c),u.setRange(h.sc,h.so,h.ec,h.eo),d._setClipboardData(t,i,o,l,n)})),!0}if(o=n.getData("text/plain"),l=n.getData("text/html"),!1===d._setClipboardData(t,i,o,l,n))return i.preventDefault(),i.stopPropagation(),!1},_setClipboardData:function(e,t,i,n,o){const l=/class=["']*Mso(Normal|List)/i.test(n)||/content=["']*Word.Document/i.test(n)||/content=["']*OneNote.File/i.test(n)||/content=["']*Excel.Sheet/i.test(n);n?(n=n.replace(/^<html>\r?\n?<body>\r?\n?\x3C!--StartFragment--\>|\x3C!--EndFragment-->\r?\n?<\/body\>\r?\n?<\/html>$/g,""),l&&(n=n.replace(/\n/g," "),i=i.replace(/\n/g," ")),n=u.cleanHTML(n,u.pasteTagsWhitelistRegExp,u.pasteTagsBlacklistRegExp)):n=a._HTMLConvertor(i).replace(/\n/g,"<br>");const r=u._charCount(u._charTypeHTML?n:i);if("paste"===e&&"function"==typeof h.onPaste){const e=h.onPaste(t,n,r,u);if(!1===e)return!1;if("string"==typeof e){if(!e)return!1;n=e}}if("drop"===e&&"function"==typeof h.onDrop){const e=h.onDrop(t,n,r,u);if(!1===e)return!1;if("string"==typeof e){if(!e)return!1;n=e}}const s=o.files;return s.length>0&&!l?(/^image/.test(s[0].type)&&u.plugins.image&&h.insertImage(s),!1):!!r&&(n?(h.insertHTML(n,!0,!1),!1):void 0)},onMouseMove_wysiwyg:function(t){if(u.isDisabled||u.isReadOnly)return!1;const i=a.getParentElement(t.target,a.isComponent),n=u._lineBreaker.style;if(i&&!u.currentControllerName){const l=e.element;let r=0,s=l.wysiwyg;do{r+=s.scrollTop,s=s.parentElement}while(s&&!/^(BODY|HTML)$/i.test(s.nodeName));const c=l.wysiwyg.scrollTop,h=d._getEditorOffsets(null),p=a.getOffset(i,l.wysiwygFrame).top+c,f=t.pageY+r+(o.iframe&&!o.toolbarContainer?l.toolbar.offsetHeight:0),g=p+(o.iframe?r:h.top),m=a.isListCell(i.parentNode);let v="",b="";if((m?!i.previousSibling:!a.isFormatElement(i.previousElementSibling))&&f<g+20)b=p,v="t";else{if((m?i.nextSibling:a.isFormatElement(i.nextElementSibling))||!(f>g+i.offsetHeight-20))return void(n.display="none");b=p+i.offsetHeight,v="b"}u._variable._lineBreakComp=i,u._variable._lineBreakDir=v,n.top=b-c+"px",u._lineBreakerButton.style.left=a.getOffset(i).left+i.offsetWidth/2-15+"px",n.display="block"}else"none"!==n.display&&(n.display="none")},_enterPrevent:function(e){e.preventDefault(),a.isMobile&&u.__focusTemp.focus()},_onMouseDown_lineBreak:function(e){e.preventDefault()},_onLineBreak:function(e){e.preventDefault();const t=u._variable._lineBreakComp,i=this?this:u._variable._lineBreakDir,n=a.isListCell(t.parentNode),l=a.createElement(n?"BR":a.isCell(t.parentNode)?"DIV":o.defaultTag);if(n||(l.innerHTML="<br>"),u._charTypeHTML&&!u.checkCharCount(l.outerHTML,"byte-html"))return;t.parentNode.insertBefore(l,"t"===i?t:t.nextSibling),u._lineBreaker.style.display="none",u._variable._lineBreakComp=null;const r=n?l:l.firstChild;u.setRange(r,1,r,1),u.history.push(!1)},_resizeObserver:null,_toolbarObserver:null,_addEvent:function(){const t=o.iframe?u._ww:e.element.wysiwyg;a.isResizeObserverSupported&&(this._resizeObserver=new s.ResizeObserver((function(e){u.__callResizeFunction(-1,e[0])}))),e.element.toolbar.addEventListener("mousedown",d._buttonsEventHandler,!1),e.element._menuTray.addEventListener("mousedown",d._buttonsEventHandler,!1),e.element.toolbar.addEventListener("click",d.onClick_toolbar,!1),t.addEventListener("mousedown",d.onMouseDown_wysiwyg,!1),t.addEventListener("click",d.onClick_wysiwyg,!1),t.addEventListener(a.isIE?"textinput":"input",d.onInput_wysiwyg,!1),t.addEventListener("keydown",d.onKeyDown_wysiwyg,!1),t.addEventListener("keyup",d.onKeyUp_wysiwyg,!1),t.addEventListener("paste",d.onPaste_wysiwyg,!1),t.addEventListener("copy",d.onCopy_wysiwyg,!1),t.addEventListener("cut",d.onCut_wysiwyg,!1),t.addEventListener("drop",d.onDrop_wysiwyg,!1),t.addEventListener("scroll",d.onScroll_wysiwyg,!1),t.addEventListener("focus",d.onFocus_wysiwyg,!1),t.addEventListener("blur",d.onBlur_wysiwyg,!1),d._lineBreakerBind={a:d._onLineBreak.bind(""),t:d._onLineBreak.bind("t"),b:d._onLineBreak.bind("b")},t.addEventListener("mousemove",d.onMouseMove_wysiwyg,!1),u._lineBreakerButton.addEventListener("mousedown",d._onMouseDown_lineBreak,!1),u._lineBreakerButton.addEventListener("click",d._lineBreakerBind.a,!1),e.element.lineBreaker_t.addEventListener("mousedown",d._lineBreakerBind.t,!1),e.element.lineBreaker_b.addEventListener("mousedown",d._lineBreakerBind.b,!1),t.addEventListener("touchstart",d.onMouseDown_wysiwyg,{passive:!0,useCapture:!1}),t.addEventListener("touchend",d.onClick_wysiwyg,{passive:!0,useCapture:!1}),"auto"!==o.height||o.codeMirrorEditor||(e.element.code.addEventListener("keydown",d._codeViewAutoHeight,!1),e.element.code.addEventListener("keyup",d._codeViewAutoHeight,!1),e.element.code.addEventListener("paste",d._codeViewAutoHeight,!1)),e.element.resizingBar&&(/\d+/.test(o.height)&&o.resizeEnable?e.element.resizingBar.addEventListener("mousedown",d.onMouseDown_resizingBar,!1):a.addClass(e.element.resizingBar,"se-resizing-none")),d._setResponsiveToolbar(),a.isResizeObserverSupported&&(this._toolbarObserver=new s.ResizeObserver(u.resetResponsiveToolbar)),s.addEventListener("resize",d.onResize_window,!1),o.stickyToolbar>-1&&s.addEventListener("scroll",d.onScroll_window,!1)},_removeEvent:function(){const t=o.iframe?u._ww:e.element.wysiwyg;e.element.toolbar.removeEventListener("mousedown",d._buttonsEventHandler),e.element._menuTray.removeEventListener("mousedown",d._buttonsEventHandler),e.element.toolbar.removeEventListener("click",d.onClick_toolbar),t.removeEventListener("mousedown",d.onMouseDown_wysiwyg),t.removeEventListener("click",d.onClick_wysiwyg),t.removeEventListener(a.isIE?"textinput":"input",d.onInput_wysiwyg),t.removeEventListener("keydown",d.onKeyDown_wysiwyg),t.removeEventListener("keyup",d.onKeyUp_wysiwyg),t.removeEventListener("paste",d.onPaste_wysiwyg),t.removeEventListener("copy",d.onCopy_wysiwyg),t.removeEventListener("cut",d.onCut_wysiwyg),t.removeEventListener("drop",d.onDrop_wysiwyg),t.removeEventListener("scroll",d.onScroll_wysiwyg),t.removeEventListener("mousemove",d.onMouseMove_wysiwyg),u._lineBreakerButton.removeEventListener("mousedown",d._onMouseDown_lineBreak),u._lineBreakerButton.removeEventListener("click",d._lineBreakerBind.a),e.element.lineBreaker_t.removeEventListener("mousedown",d._lineBreakerBind.t),e.element.lineBreaker_b.removeEventListener("mousedown",d._lineBreakerBind.b),d._lineBreakerBind=null,t.removeEventListener("touchstart",d.onMouseDown_wysiwyg,{passive:!0,useCapture:!1}),t.removeEventListener("touchend",d.onClick_wysiwyg,{passive:!0,useCapture:!1}),t.removeEventListener("focus",d.onFocus_wysiwyg),t.removeEventListener("blur",d.onBlur_wysiwyg),e.element.code.removeEventListener("keydown",d._codeViewAutoHeight),e.element.code.removeEventListener("keyup",d._codeViewAutoHeight),e.element.code.removeEventListener("paste",d._codeViewAutoHeight),e.element.resizingBar&&e.element.resizingBar.removeEventListener("mousedown",d.onMouseDown_resizingBar),d._resizeObserver&&(d._resizeObserver.unobserve(e.element.wysiwygFrame),d._resizeObserver=null),d._toolbarObserver&&(d._toolbarObserver.unobserve(e.element._toolbarShadow),d._toolbarObserver=null),s.removeEventListener("resize",d.onResize_window),s.removeEventListener("scroll",d.onScroll_window)},_setResponsiveToolbar:function(){if(0===l.length)return void(l=null);d._responsiveCurrentSize="default";const e=d._responsiveButtonSize=[],t=d._responsiveButtons={default:l[0]};for(let i,n,o=1,r=l.length;o<r;o++)n=l[o],i=1*n[0],e.push(i),t[i]=n[1];e.sort((function(e,t){return e-t})).unshift("default")}},h={core:u,util:a,onload:null,onScroll:null,onMouseDown:null,onClick:null,onInput:null,onKeyDown:null,onKeyUp:null,onCopy:null,onCut:null,onFocus:null,onBlur:null,onChange:null,onSave:null,onDrop:null,onPaste:null,showInline:null,showController:null,toggleCodeView:null,toggleFullScreen:null,imageUploadHandler:null,videoUploadHandler:null,audioUploadHandler:null,onImageUploadBefore:null,onVideoUploadBefore:null,onAudioUploadBefore:null,onImageUpload:null,onVideoUpload:null,onAudioUpload:null,onImageUploadError:null,onVideoUploadError:null,onAudioUploadError:null,onResizeEditor:null,onSetToolbarButtons:null,setToolbarButtons:function(t){u.submenuOff(),u.containerOff(),u.moreLayerOff();const i=Y._createToolBar(r,t,u.plugins,o);l=i.responsiveButtons,d._setResponsiveToolbar(),e.element.toolbar.replaceChild(i._buttonTray,e.element._buttonTray);const n=X(e.element.originElement,u._getConstructed(e.element),o);e.element=n.element,e.tool=n.tool,o.iframe&&(e.element.wysiwyg=u._wd.body),u._recoverButtonStates(),u._cachingButtons(),u.history._resetCachingButton(),u.effectNode=null,u.hasFocus&&d._applyTagEffects(),u.isReadOnly&&a.setDisabledButtons(!0,u.resizingDisabledButtons),"function"==typeof h.onSetToolbarButtons&&h.onSetToolbarButtons(i._buttonTray.querySelectorAll("button"),u)},setOptions:function(r){d._removeEvent(),u._resetComponents(),a.removeClass(u._styleCommandMap.showBlocks,"active"),a.removeClass(u._styleCommandMap.codeView,"active"),u._variable.isCodeView=!1,u._iframeAuto=null,u.plugins=r.plugins||u.plugins;const c=[o,r].reduce((function(e,t){for(let i in t)if(a.hasOwn(t,i))if("plugins"===i&&t[i]&&e[i]){let n=e[i],o=t[i];n=n.length?n:s.Object.keys(n).map((function(e){return n[e]})),o=o.length?o:s.Object.keys(o).map((function(e){return o[e]})),e[i]=o.filter((function(e){return-1===n.indexOf(e)})).concat(n)}else e[i]=t[i];return e}),{}),h=e.element,p=h.wysiwyg.innerHTML,f=Y._setOptions(c,e,o);f.callButtons&&(t=f.callButtons,u.initPlugins={}),f.plugins&&(u.plugins=i=f.plugins),0===h._menuTray.children.length&&(this._menuTray={}),l=f.toolbar.responsiveButtons,u.options=o=c,u.lang=n=o.lang,o.iframe&&h.wysiwygFrame.addEventListener("load",(function(){a._setIframeDocument(this,o),u._setOptionsInit(h,p)})),h.editorArea.appendChild(h.wysiwygFrame),o.iframe||u._setOptionsInit(h,p)},setDefaultStyle:function(t){const i=o._editorStyles=a._setDefaultOptionStyle(o,t),n=e.element;n.topArea.style.cssText=i.top,n.code.style.cssText=o._editorStyles.frame,n.code.style.display="none","auto"===o.height?n.code.style.overflow="hidden":n.code.style.overflow="",o.iframe?(n.wysiwygFrame.style.cssText=i.frame,n.wysiwyg.style.cssText=i.editor):n.wysiwygFrame.style.cssText=i.frame+i.editor},noticeOpen:function(e){u.notice.open.call(u,e)},noticeClose:function(){u.notice.close.call(u)},save:function(){const t=u.getContents(!1);e.element.originElement.value=t,d.onSave_wysiwyg(t,u)},getContext:function(){return e},getContents:function(e){return u.getContents(e)},getText:function(){return e.element.wysiwyg.textContent},getCharCount:function(t){return t="string"==typeof t?t:o.charCounterType,u.getCharLength(u._charTypeHTML?e.element.wysiwyg.innerHTML:e.element.wysiwyg.textContent,t)},getImagesInfo:function(){return e.image?e.image._infoList:[]},getFilesInfo:function(t){return e[t]?e[t]._infoList:[]},insertImage:function(e){u.plugins.image&&e&&(u.initPlugins.image?u.plugins.image.submitAction.call(u,e):u.callPlugin("image",u.plugins.image.submitAction.bind(u,e),null),u.focus())},insertHTML:function(t,i,n,o){if(e.element.wysiwygFrame.contains(u.getSelection().focusNode)||u.focus(),"string"==typeof t){i||(t=u.cleanHTML(t,null,null));try{if(a.isListCell(a.getFormatElement(u.getSelectionNode(),null))){const e=r.createRange().createContextualFragment(t).childNodes;u._isFormatData(e)&&(t=u._convertListCell(e))}const e=r.createRange().createContextualFragment(t).childNodes;if(n){const t=u._charTypeHTML?"outerHTML":"textContent";let i="";for(let n=0,o=e.length;n<o;n++)i+=e[n][t];if(!u.checkCharCount(i,null))return}let i,l,s,c,d;for(;i=e[0];)c&&3===c.nodeType&&l&&1===l.nodeType&&a.isBreak(i)?(c=i,a.removeItem(i)):(s=u.insertNode(i,l,!1),l=s.container||s,d||(d=s),c=i);3===c.nodeType&&1===l.nodeType&&(l=c);const h=3===l.nodeType?s.endOffset||l.textContent.length:l.childNodes.length;o?u.setRange(d.container||d,d.startOffset||0,l,h):u.setRange(l,h,l,h)}catch(e){if(u.isDisabled||u.isReadOnly)return;console.warn("[SUNEDITOR.insertHTML.fail] "+e),u.execCommand("insertHTML",!1,t)}}else if(a.isComponent(t))u.insertComponent(t,!1,n,!1);else{let e=null;(a.isFormatElement(t)||a.isMedia(t))&&(e=a.getFormatElement(u.getSelectionNode(),null)),u.insertNode(t,e,n)}u.effectNode=null,u.focus(),u.history.push(!1)},setContents:function(e){u.setContents(e)},appendContents:function(t){const i=u.convertContentsForEditor(t);if(u._variable.isCodeView)u._setCodeView(u._getCodeView()+"\n"+u.convertHTMLForCodeView(i,!1));else{const t=a.createElement("DIV");t.innerHTML=i;const n=e.element.wysiwyg,o=t.children;for(let e=0,t=o.length;e<t;e++)o[e]&&n.appendChild(o[e])}u.history.push(!1)},readOnly:function(t){u.isReadOnly=t,a.setDisabledButtons(!!t,u.resizingDisabledButtons),t?(u.controllersOff(),u.submenuActiveButton&&u.submenuActiveButton.disabled&&u.submenuOff(),u._moreLayerActiveButton&&u._moreLayerActiveButton.disabled&&u.moreLayerOff(),u.containerActiveButton&&u.containerActiveButton.disabled&&u.containerOff(),u.modalForm&&u.plugins.dialog.close.call(u),e.element.code.setAttribute("readOnly","true"),a.addClass(e.element.wysiwygFrame,"se-read-only")):(e.element.code.removeAttribute("readOnly"),a.removeClass(e.element.wysiwygFrame,"se-read-only")),o.codeMirrorEditor&&o.codeMirrorEditor.setOption("readOnly",!!t)},disable:function(){this.toolbar.disable(),this.wysiwyg.disable()},disabled:function(){this.disable()},enable:function(){this.toolbar.enable(),this.wysiwyg.enable()},enabled:function(){this.enable()},show:function(){const t=e.element.topArea.style;"none"===t.display&&(t.display=o.display)},hide:function(){e.element.topArea.style.display="none"},destroy:function(){u.submenuOff(),u.containerOff(),u.controllersOff(),u.notice&&u.notice.close.call(u),u.modalForm&&u.plugins.dialog.close.call(u),u.history._destroy(),d._removeEvent(),a.removeItem(e.element.toolbar),a.removeItem(e.element.topArea);for(let e in u.functions)a.hasOwn(u,e)&&delete u.functions[e];for(let e in u)a.hasOwn(u,e)&&delete u[e];for(let e in d)a.hasOwn(d,e)&&delete d[e];for(let t in e)a.hasOwn(e,t)&&delete e[t];for(let e in t)a.hasOwn(t,e)&&delete t[e];for(let e in this)a.hasOwn(this,e)&&delete this[e]},toolbar:{disable:function(){u.submenuOff(),u.moreLayerOff(),u.containerOff(),e.tool.cover.style.display="block"},disabled:function(){this.disable()},enable:function(){e.tool.cover.style.display="none"},enabled:function(){this.enable()},show:function(){u._isInline?d._showToolbarInline():(e.element.toolbar.style.display="",e.element._stickyDummy.style.display=""),d.onResize_window()},hide:function(){u._isInline?d._hideToolbar():(e.element.toolbar.style.display="none",e.element._stickyDummy.style.display="none"),d.onResize_window()}},wysiwyg:{disable:function(){u.controllersOff(),u.modalForm&&u.plugins.dialog.close.call(u),e.element.wysiwyg.setAttribute("contenteditable",!1),u.isDisabled=!0,o.codeMirrorEditor?o.codeMirrorEditor.setOption("readOnly",!0):e.element.code.setAttribute("disabled","disabled")},enable:function(){e.element.wysiwyg.setAttribute("contenteditable",!0),u.isDisabled=!1,o.codeMirrorEditor?o.codeMirrorEditor.setOption("readOnly",!1):e.element.code.removeAttribute("disabled")}}};u.functions=h,u.options=o;let p=e.element,f=p.originElement,g=p.topArea;return f.style.display="none",g.style.display="block",o.iframe&&p.wysiwygFrame.addEventListener("load",(function(){a._setIframeDocument(this,o),u._editorInit(!1,o.value),o.value=null})),"object"==typeof f.nextElementSibling?f.parentNode.insertBefore(g,f.nextElementSibling):f.parentNode.appendChild(g),p.editorArea.appendChild(p.wysiwygFrame),p=f=g=null,o.iframe||(u._editorInit(!1,o.value),o.value=null),h}(X(n,o.constructed,o.options),o.pluginCallButtons,o.plugins,o.options.lang,t,o._responsiveButtons)}};var ee=i(9709),te=i.n(ee),ie=i(3555),ne=i.n(ie),oe=i(742),le=i.n(oe),re=i(4986),se=i.n(re),ae=i(8425),ce=i.n(ae),ue=i(561),de=i.n(ue),he=i(7662),pe=i.n(he),fe=i(7182),ge=i.n(fe),me=i(5296),ve=i.n(me),be=i(3268),ye=i.n(be),we=i(7847),_e=i.n(we),Ce=i(6911),xe=i.n(Ce),ke=i(3035),Se=i.n(ke),Le=i(3581),Ee=i.n(Le),Te=i(628),Ne=i.n(Te),ze=i(7426),Ae=i.n(ze),Be=i(2240),Me=i.n(Be),Re=i(1097),Ie=i.n(Re),Oe=i(7335),He=i.n(Oe),De=i(7674),Fe=i.n(De),Pe=i(4295),Ve=i.n(Pe);const Ue={ckb:te(),cs:ne(),da:le(),de:se(),en:Z(),es:ce(),fr:de(),he:pe(),hu:ge(),it:ve(),ja:ye(),ko:_e(),lv:xe(),nl:Se(),pl:Ee(),pt_br:Ne(),ro:Ae(),ru:Me(),se:Ie(),ua:He(),ur:Fe(),zh_cn:Ve()},We={name:"colorPicker",add:function(e){const t=e.context;t.colorPicker={colorListHTML:"",_colorInput:"",_defaultColor:"#000",_styleProperty:"color",_currentColor:"",_colorList:[]},t.colorPicker.colorListHTML=this.createColorList(e,this._makeColorList)},createColorList:function(e,t){const i=e.options,n=e.lang,o=i.colorList&&0!==i.colorList.length?i.colorList:["#ff0000","#ff5e00","#ffe400","#abf200","#00d8ff","#0055ff","#6600ff","#ff00dd","#000000","#ffd8d8","#fae0d4","#faf4c0","#e4f7ba","#d4f4fa","#d9e5ff","#e8d9ff","#ffd9fa","#f1f1f1","#ffa7a7","#ffc19e","#faed7d","#cef279","#b2ebf4","#b2ccff","#d1b2ff","#ffb2f5","#bdbdbd","#f15f5f","#f29661","#e5d85c","#bce55c","#5cd1e5","#6699ff","#a366ff","#f261df","#8c8c8c","#980000","#993800","#998a00","#6b9900","#008299","#003399","#3d0099","#990085","#353535","#670000","#662500","#665c00","#476600","#005766","#002266","#290066","#660058","#222222"];let l=[],r='<div class="se-list-inner">';for(let e,i=0,n=o.length;i<n;i++)e=o[i],e&&("string"==typeof e&&(l.push(e),i<n-1)||(l.length>0&&(r+='<div class="se-selector-color">'+t(l)+"</div>",l=[]),"object"==typeof e&&(r+='<div class="se-selector-color">'+t(e)+"</div>")));return r+='<form class="se-form-group"><input type="text" maxlength="9" class="_se_color_picker_input se-color-input"/><button type="submit" class="se-btn-primary _se_color_picker_submit" title="'+n.dialogBox.submitButton+'" aria-label="'+n.dialogBox.submitButton+'">'+e.icons.checked+'</button><button type="button" class="se-btn _se_color_picker_remove" title="'+n.toolbar.removeFormat+'" aria-label="'+n.toolbar.removeFormat+'">'+e.icons.erase+"</button></form></div>",r},_makeColorList:function(e){let t="";t+='<ul class="se-color-pallet">';for(let i,n=0,o=e.length;n<o;n++)i=e[n],"string"==typeof i&&(t+='<li><button type="button" data-value="'+i+'" title="'+i+'" aria-label="'+i+'" style="background-color:'+i+';"></button></li>');return t+="</ul>",t},init:function(e,t){const i=this.plugins.colorPicker;let n=t||(i.getColorInNode.call(this,e)||this.context.colorPicker._defaultColor);n=i.isHexColor(n)?n:i.rgb2hex(n)||n;const o=this.context.colorPicker._colorList;if(o)for(let e=0,t=o.length;e<t;e++)n.toLowerCase()===o[e].getAttribute("data-value").toLowerCase()?this.util.addClass(o[e],"active"):this.util.removeClass(o[e],"active");i.setInputText.call(this,i.colorName2hex.call(this,n))},setCurrentColor:function(e){this.context.colorPicker._currentColor=e,this.context.colorPicker._colorInput.style.borderColor=e},setInputText:function(e){e=/^#/.test(e)?e:"#"+e,this.context.colorPicker._colorInput.value=e,this.plugins.colorPicker.setCurrentColor.call(this,e)},getColorInNode:function(e){let t="";const i=this.context.colorPicker._styleProperty;for(;e&&!this.util.isWysiwygDiv(e)&&0===t.length;)1===e.nodeType&&e.style[i]&&(t=e.style[i]),e=e.parentNode;return t},isHexColor:function(e){return/^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i.test(e)},rgb2hex:function(e){const t=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return t&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""},colorName2hex:function(e){if(/^#/.test(e))return e;var t=this.util.createElement("div");t.style.display="none",t.style.color=e;var i=this._w.getComputedStyle(this._d.body.appendChild(t)).color.match(/\d+/g).map((function(e){return parseInt(e,10)}));return this.util.removeItem(t),i.length>=3&&"#"+((1<<24)+(i[0]<<16)+(i[1]<<8)+i[2]).toString(16).substr(1)}},je={name:"fontColor",display:"submenu",add:function(e,t){e.addModule([We]);const i=e.context;i.fontColor={previewEl:null,colorInput:null,colorList:null};let n=this.setSubmenu(e);i.fontColor.colorInput=n.querySelector("._se_color_picker_input"),i.fontColor.colorInput.addEventListener("keyup",this.onChangeInput.bind(e)),n.querySelector("._se_color_picker_submit").addEventListener("click",this.submit.bind(e)),n.querySelector("._se_color_picker_remove").addEventListener("click",this.remove.bind(e)),n.addEventListener("click",this.pickup.bind(e)),i.fontColor.colorList=n.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(e){const t=e.context.colorPicker.colorListHTML,i=e.util.createElement("DIV");return i.className="se-submenu se-list-layer",i.innerHTML=t,i},on:function(){const e=this.context.colorPicker,t=this.context.fontColor;e._colorInput=t.colorInput;const i=this.wwComputedStyle.color;e._defaultColor=i?this.plugins.colorPicker.isHexColor(i)?i:this.plugins.colorPicker.rgb2hex(i):"#333333",e._styleProperty="color",e._colorList=t.colorList,this.plugins.colorPicker.init.call(this,this.getSelectionNode(),null)},onChangeInput:function(e){this.plugins.colorPicker.setCurrentColor.call(this,e.target.value)},submit:function(){this.plugins.fontColor.applyColor.call(this,this.context.colorPicker._currentColor)},pickup:function(e){e.preventDefault(),e.stopPropagation(),this.plugins.fontColor.applyColor.call(this,e.target.getAttribute("data-value"))},remove:function(){this.nodeChange(null,["color"],["span"],!0),this.submenuOff()},applyColor:function(e){if(!e)return;const t=this.util.createElement("SPAN");t.style.color=e,this.nodeChange(t,["color"],null,null),this.submenuOff()}},qe={name:"hiliteColor",display:"submenu",add:function(e,t){e.addModule([We]);const i=e.context;i.hiliteColor={previewEl:null,colorInput:null,colorList:null};let n=this.setSubmenu(e);i.hiliteColor.colorInput=n.querySelector("._se_color_picker_input"),i.hiliteColor.colorInput.addEventListener("keyup",this.onChangeInput.bind(e)),n.querySelector("._se_color_picker_submit").addEventListener("click",this.submit.bind(e)),n.querySelector("._se_color_picker_remove").addEventListener("click",this.remove.bind(e)),n.addEventListener("click",this.pickup.bind(e)),i.hiliteColor.colorList=n.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(e){const t=e.context.colorPicker.colorListHTML,i=e.util.createElement("DIV");return i.className="se-submenu se-list-layer",i.innerHTML=t,i},on:function(){const e=this.context.colorPicker,t=this.context.hiliteColor;e._colorInput=t.colorInput;const i=this.wwComputedStyle.backgroundColor;e._defaultColor=i?this.plugins.colorPicker.isHexColor(i)?i:this.plugins.colorPicker.rgb2hex(i):"#ffffff",e._styleProperty="backgroundColor",e._colorList=t.colorList,this.plugins.colorPicker.init.call(this,this.getSelectionNode(),null)},onChangeInput:function(e){this.plugins.colorPicker.setCurrentColor.call(this,e.target.value)},submit:function(){this.plugins.hiliteColor.applyColor.call(this,this.context.colorPicker._currentColor)},pickup:function(e){e.preventDefault(),e.stopPropagation(),this.plugins.hiliteColor.applyColor.call(this,e.target.getAttribute("data-value"))},remove:function(){this.nodeChange(null,["background-color"],["span"],!0),this.submenuOff()},applyColor:function(e){if(!e)return;const t=this.util.createElement("SPAN");t.style.backgroundColor=e,this.nodeChange(t,["background-color"],null,null),this.submenuOff()}},Ze={name:"template",display:"submenu",add:function(e,t){e.context.template={selectedIndex:-1};let i=this.setSubmenu(e);i.querySelector("ul").addEventListener("click",this.pickup.bind(e)),e.initMenuTarget(this.name,t,i),i=null},setSubmenu:function(e){const t=e.options.templates;if(!t||0===t.length)throw Error('[SUNEDITOR.plugins.template.fail] To use the "template" plugin, please define the "templates" option.');const i=e.util.createElement("DIV");i.className="se-list-layer";let n='<div class="se-submenu se-list-inner"><ul class="se-list-basic">';for(let e,i=0,o=t.length;i<o;i++)e=t[i],n+='<li><button type="button" class="se-btn-list" data-value="'+i+'" title="'+e.name+'" aria-label="'+e.name+'">'+e.name+"</button></li>";return n+="</ul></div>",i.innerHTML=n,i},pickup:function(e){if(!/^BUTTON$/i.test(e.target.tagName))return!1;e.preventDefault(),e.stopPropagation(),this.context.template.selectedIndex=1*e.target.getAttribute("data-value");const t=this.options.templates[this.context.template.selectedIndex];if(!t.html)throw this.submenuOff(),Error('[SUNEDITOR.template.fail] cause : "templates[i].html not found"');this.setContents(t.html),this.submenuOff()}};var Ge=i(7793),$e=i.n(Ge);const Ke={name:"selectMenu",add:function(e){e.context.selectMenu={caller:{},callerContext:null}},setForm:function(){return'<div class="se-select-list"></div>'},createList:function(e,t,i){e.form.innerHTML="<ul>"+i+"</ul>",e.items=t,e.menus=e.form.querySelectorAll("li")},initEvent:function(e,t){const i=t.querySelector(".se-select-list"),n=this.context.selectMenu.caller[e]={form:i,items:[],menus:[],index:-1,item:null,clickMethod:null,callerName:e};i.addEventListener("mousedown",this.plugins.selectMenu.onMousedown_list),i.addEventListener("mousemove",this.plugins.selectMenu.onMouseMove_list.bind(this,n)),i.addEventListener("click",this.plugins.selectMenu.onClick_list.bind(this,n))},onMousedown_list:function(e){e.preventDefault(),e.stopPropagation()},onMouseMove_list:function(e,t){this.util.addClass(e.form,"__se_select-menu-mouse-move");const i=t.target.getAttribute("data-index");i&&(e.index=1*i)},onClick_list:function(e,t){const i=t.target.getAttribute("data-index");i&&e.clickMethod.call(this,e.items[i])},moveItem:function(e,t){this.util.removeClass(e.form,"__se_select-menu-mouse-move"),t=e.index+t;const i=e.menus,n=i.length,o=e.index=t>=n?0:t<0?n-1:t;for(let e=0;e<n;e++)e===o?this.util.addClass(i[e],"active"):this.util.removeClass(i[e],"active");e.item=e.items[o]},getItem:function(e,t){return t=!t||t<0?e.index:t,e.items[t]},on:function(e,t){const i=this.context.selectMenu.caller[e];this.context.selectMenu.callerContext=i,i.clickMethod=t,i.callerName=e},open:function(e,t){const i=e.form;i.style.visibility="hidden",i.style.display="block",t(i),i.style.visibility=""},close:function(e){e.form.style.display="none",e.items=[],e.menus=[],e.index=-1,e.item=null},init:function(e){e&&(e.items=[],e.menus=[],e.index=-1,e.item=null,e.callerName="",this.context.selectMenu.callerContext=null)}},Ye={name:"anchor",add:function(e){e.addModule([Ke]),e.context.anchor={caller:{},forms:this.setDialogForm(e),host:(e._w.location.origin+e._w.location.pathname).replace(/\/$/,""),callerContext:null}},setDialogForm:function(e){const t=e.lang,i=e.options.linkRel,n=(e.options.linkRelDefault.default||"").split(" "),o=e.icons,l=e.util.createElement("DIV");let r='<div class="se-dialog-body"><div class="se-dialog-form"><label>'+t.dialogBox.linkBox.url+'</label><div class="se-dialog-form-files"><input class="se-input-form se-input-url" type="text" placeholder="'+(e.options.protocol||"")+'" /><button type="button" class="se-btn se-dialog-files-edge-button _se_bookmark_button" title="'+t.dialogBox.linkBox.bookmark+'" aria-label="'+t.dialogBox.linkBox.bookmark+'">'+o.bookmark+"</button>"+e.plugins.selectMenu.setForm()+'</div><div class="se-anchor-preview-form"><span class="se-svg se-anchor-preview-icon _se_anchor_bookmark_icon">'+o.bookmark+'</span><span class="se-svg se-anchor-preview-icon _se_anchor_download_icon">'+o.download+'</span><pre class="se-link-preview"></pre></div></div><div class="se-dialog-form"><label>'+t.dialogBox.linkBox.text+'</label><input class="se-input-form _se_anchor_text" type="text" /></div><div class="se-dialog-form-footer"><label><input type="checkbox" class="se-dialog-btn-check _se_anchor_check" />&nbsp;'+t.dialogBox.linkBox.newWindowCheck+'</label><label><input type="checkbox" class="se-dialog-btn-check _se_anchor_download" />&nbsp;'+t.dialogBox.linkBox.downloadLinkCheck+"</label>";if(i.length>0){r+='<div class="se-anchor-rel"><button type="button" class="se-btn se-btn-select se-anchor-rel-btn">&lt;rel&gt;</button><div class="se-anchor-rel-wrapper"><pre class="se-link-preview se-anchor-rel-preview"></pre></div><div class="se-list-layer"><div class="se-list-inner"><ul class="se-list-basic se-list-checked">';for(let e,t=0,l=i.length;t<l;t++)e=i[t],r+='<li><button type="button" class="se-btn-list'+(n.indexOf(e)>-1?" se-checked":"")+'" data-command="'+e+'" title="'+e+'" aria-label="'+e+'"><span class="se-svg">'+o.checked+"</span>"+e+"</button></li>";r+="</ul></div></div></div>"}return r+="</div></div>",l.innerHTML=r,l},initEvent:function(e,t){const i=this.plugins.anchor,n=this.context.anchor.caller[e]={modal:t,urlInput:null,linkDefaultRel:this.options.linkRelDefault,defaultRel:this.options.linkRelDefault.default||"",currentRel:[],linkAnchor:null,linkValue:"",_change:!1,callerName:e};"string"==typeof n.linkDefaultRel.default&&(n.linkDefaultRel.default=n.linkDefaultRel.default.trim()),"string"==typeof n.linkDefaultRel.check_new_window&&(n.linkDefaultRel.check_new_window=n.linkDefaultRel.check_new_window.trim()),"string"==typeof n.linkDefaultRel.check_bookmark&&(n.linkDefaultRel.check_bookmark=n.linkDefaultRel.check_bookmark.trim()),n.urlInput=t.querySelector(".se-input-url"),n.anchorText=t.querySelector("._se_anchor_text"),n.newWindowCheck=t.querySelector("._se_anchor_check"),n.downloadCheck=t.querySelector("._se_anchor_download"),n.download=t.querySelector("._se_anchor_download_icon"),n.preview=t.querySelector(".se-link-preview"),n.bookmark=t.querySelector("._se_anchor_bookmark_icon"),n.bookmarkButton=t.querySelector("._se_bookmark_button"),this.plugins.selectMenu.initEvent.call(this,e,t);const o=this.context.selectMenu.caller[e];this.options.linkRel.length>0&&(n.relButton=t.querySelector(".se-anchor-rel-btn"),n.relList=t.querySelector(".se-list-layer"),n.relPreview=t.querySelector(".se-anchor-rel-preview"),n.relButton.addEventListener("click",i.onClick_relButton.bind(this,n)),n.relList.addEventListener("click",i.onClick_relList.bind(this,n))),n.newWindowCheck.addEventListener("change",i.onChange_newWindowCheck.bind(this,n)),n.downloadCheck.addEventListener("change",i.onChange_downloadCheck.bind(this,n)),n.anchorText.addEventListener("input",i.onChangeAnchorText.bind(this,n)),n.urlInput.addEventListener("input",i.onChangeUrlInput.bind(this,n)),n.urlInput.addEventListener("keydown",i.onKeyDownUrlInput.bind(this,o)),n.urlInput.addEventListener("focus",i.onFocusUrlInput.bind(this,n,o)),n.urlInput.addEventListener("blur",i.onBlurUrlInput.bind(this,o)),n.bookmarkButton.addEventListener("click",i.onClick_bookmarkButton.bind(this,n))},on:function(e,t){const i=this.plugins.anchor;if(t){if(e.linkAnchor){this.context.dialog.updateModal=!0;const t=e.linkAnchor.getAttribute("href");e.linkValue=e.preview.textContent=e.urlInput.value=i.selfPathBookmark.call(this,t)?t.substr(t.lastIndexOf("#")):t,e.anchorText.value=e.linkAnchor.textContent,e.newWindowCheck.checked=!!/_blank/i.test(e.linkAnchor.target),e.downloadCheck.checked=e.linkAnchor.download}}else i.init.call(this,e),e.anchorText.value=this.getSelection().toString().trim(),e.newWindowCheck.checked=this.options.linkTargetNewWindow;this.context.anchor.callerContext=e,i.setRel.call(this,e,t&&e.linkAnchor?e.linkAnchor.rel:e.defaultRel),i.setLinkPreview.call(this,e,e.linkValue),this.plugins.selectMenu.on.call(this,e.callerName,this.plugins.anchor.setHeaderBookmark)},selfPathBookmark:function(e){const t=this._w.location.href.replace(/\/$/,"");return 0===e.indexOf("#")||0===e.indexOf(t)&&e.indexOf("#")===(-1===t.indexOf("#")?t.length:t.substr(0,t.indexOf("#")).length)},_closeRelMenu:null,toggleRelList:function(e,t){if(t){const t=e.relButton,i=e.relList;this.util.addClass(t,"active"),i.style.visibility="hidden",i.style.display="block",this.options.rtl?i.style.left=t.offsetLeft-i.offsetWidth-1+"px":i.style.left=t.offsetLeft+t.offsetWidth+1+"px",i.style.top=t.offsetTop+t.offsetHeight/2-i.offsetHeight/2+"px",i.style.visibility="",this.plugins.anchor._closeRelMenu=function(e,t,i){i&&(e.relButton.contains(i.target)||e.relList.contains(i.target))||(this.util.removeClass(t,"active"),e.relList.style.display="none",this.modalForm.removeEventListener("click",this.plugins.anchor._closeRelMenu),this.plugins.anchor._closeRelMenu=null)}.bind(this,e,t),this.modalForm.addEventListener("click",this.plugins.anchor._closeRelMenu)}else this.plugins.anchor._closeRelMenu&&this.plugins.anchor._closeRelMenu()},onClick_relButton:function(e,t){this.plugins.anchor.toggleRelList.call(this,e,!this.util.hasClass(t.target,"active"))},onClick_relList:function(e,t){const i=t.target,n=i.getAttribute("data-command");if(!n)return;const o=e.currentRel,l=this.util.toggleClass(i,"se-checked"),r=o.indexOf(n);l?-1===r&&o.push(n):r>-1&&o.splice(r,1),e.relPreview.title=e.relPreview.textContent=o.join(" ")},setRel:function(e,t){const i=e.relList,n=e.currentRel=t?t.split(" "):[];if(!i)return;const o=i.querySelectorAll("button");for(let e,t=0,i=o.length;t<i;t++)e=o[t].getAttribute("data-command"),n.indexOf(e)>-1?this.util.addClass(o[t],"se-checked"):this.util.removeClass(o[t],"se-checked");e.relPreview.title=e.relPreview.textContent=n.join(" ")},createHeaderList:function(e,t,i){const n=this.util.getListChildren(this.context.element.wysiwyg,(function(e){return/h[1-6]/i.test(e.nodeName)}));if(0===n.length)return;const o=new this._w.RegExp("^"+i.replace(/^#/,""),"i"),l=[];let r="";for(let e,t=0,i=n.length;t<i;t++)e=n[t],o.test(e.textContent)&&(l.push(e),r+='<li class="se-select-item" data-index="'+t+'">'+e.textContent+"</li>");0===l.length?this.plugins.selectMenu.close.call(this,t):(this.plugins.selectMenu.createList(t,l,r),this.plugins.selectMenu.open.call(this,t,this.plugins.anchor._setMenuListPosition.bind(this,e)))},_setMenuListPosition:function(e,t){t.style.top=e.urlInput.offsetHeight+1+"px"},onKeyDownUrlInput:function(e,t){switch(t.keyCode){case 38:t.preventDefault(),t.stopPropagation(),this.plugins.selectMenu.moveItem.call(this,e,-1);break;case 40:t.preventDefault(),t.stopPropagation(),this.plugins.selectMenu.moveItem.call(this,e,1);break;case 13:e.index>-1&&(t.preventDefault(),t.stopPropagation(),this.plugins.anchor.setHeaderBookmark.call(this,this.plugins.selectMenu.getItem(e,null)))}},setHeaderBookmark:function(e){const t=this.context.anchor.callerContext,i=e.id||"h_"+this._w.Math.random().toString().replace(/.+\./,"");e.id=i,t.urlInput.value="#"+i,t.anchorText.value.trim()&&t._change||(t.anchorText.value=e.textContent),this.plugins.anchor.setLinkPreview.call(this,t,t.urlInput.value),this.plugins.selectMenu.close.call(this,this.context.selectMenu.callerContext),this.context.anchor.callerContext.urlInput.focus()},onChangeAnchorText:function(e,t){e._change=!!t.target.value.trim()},onChangeUrlInput:function(e,t){const i=t.target.value.trim();this.plugins.anchor.setLinkPreview.call(this,e,i),this.plugins.anchor.selfPathBookmark.call(this,i)?this.plugins.anchor.createHeaderList.call(this,e,this.context.selectMenu.callerContext,i):this.plugins.selectMenu.close.call(this,this.context.selectMenu.callerContext)},onFocusUrlInput:function(e,t){const i=e.urlInput.value;this.plugins.anchor.selfPathBookmark.call(this,i)&&this.plugins.anchor.createHeaderList.call(this,e,t,i)},onBlurUrlInput:function(e){this.plugins.selectMenu.close.call(this,e)},setLinkPreview:function(e,t){const i=e.preview,n=this.options.linkProtocol,o=this.options.linkNoPrefix,l=/^(mailto\:|tel\:|sms\:|https*\:\/\/|#)/.test(t)||0===t.indexOf(n),r=!!n&&this._w.RegExp("^"+this.util.escapeStringRegexp(t.substr(0,n.length))).test(n);t=e.linkValue=i.textContent=t?o?t:!n||l||r?l?t:/^www\./.test(t)?"http://"+t:this.context.anchor.host+(/^\//.test(t)?"":"/")+t:n+t:"",this.plugins.anchor.selfPathBookmark.call(this,t)?(e.bookmark.style.display="block",this.util.addClass(e.bookmarkButton,"active")):(e.bookmark.style.display="none",this.util.removeClass(e.bookmarkButton,"active")),!this.plugins.anchor.selfPathBookmark.call(this,t)&&e.downloadCheck.checked?e.download.style.display="block":e.download.style.display="none"},setCtx:function(e,t){e&&(t.linkAnchor=e,t.linkValue=e.href,t.currentRel=e.rel.split(" "))},updateAnchor:function(e,t,i,n,o){!this.plugins.anchor.selfPathBookmark.call(this,t)&&n.downloadCheck.checked?e.setAttribute("download",i||t):e.removeAttribute("download"),n.newWindowCheck.checked?e.target="_blank":e.removeAttribute("target");const l=n.currentRel.join(" ");l?e.rel=l:e.removeAttribute("rel"),e.href=t,o?0===e.children.length&&(e.textContent=""):e.textContent=i},createAnchor:function(e,t){if(0===e.linkValue.length)return null;const i=e.linkValue,n=e.anchorText,o=0===n.value.length?i:n.value,l=e.linkAnchor||this.util.createElement("A");return this.plugins.anchor.updateAnchor.call(this,l,i,o,e,t),e.linkValue=e.preview.textContent=e.urlInput.value=e.anchorText.value="",l},onClick_bookmarkButton:function(e){let t=e.urlInput.value;this.plugins.anchor.selfPathBookmark.call(this,t)?(t=t.substr(1),e.bookmark.style.display="none",this.util.removeClass(e.bookmarkButton,"active"),this.plugins.selectMenu.close.call(this,this.context.selectMenu.callerContext)):(t="#"+t,e.bookmark.style.display="block",this.util.addClass(e.bookmarkButton,"active"),e.downloadCheck.checked=!1,e.download.style.display="none",this.plugins.anchor.createHeaderList.call(this,e,this.context.selectMenu.callerContext,t)),e.urlInput.value=t,this.plugins.anchor.setLinkPreview.call(this,e,t),e.urlInput.focus()},onChange_newWindowCheck:function(e,t){"string"==typeof e.linkDefaultRel.check_new_window&&(t.target.checked?this.plugins.anchor.setRel.call(this,e,this.plugins.anchor._relMerge.call(this,e,e.linkDefaultRel.check_new_window)):this.plugins.anchor.setRel.call(this,e,this.plugins.anchor._relDelete.call(this,e,e.linkDefaultRel.check_new_window)))},onChange_downloadCheck:function(e,t){t.target.checked?(e.download.style.display="block",e.bookmark.style.display="none",this.util.removeClass(e.bookmarkButton,"active"),e.linkValue=e.preview.textContent=e.urlInput.value=e.urlInput.value.replace(/^\#+/,""),"string"==typeof e.linkDefaultRel.check_bookmark&&this.plugins.anchor.setRel.call(this,e,this.plugins.anchor._relMerge.call(this,e,e.linkDefaultRel.check_bookmark))):(e.download.style.display="none","string"==typeof e.linkDefaultRel.check_bookmark&&this.plugins.anchor.setRel.call(this,e,this.plugins.anchor._relDelete.call(this,e,e.linkDefaultRel.check_bookmark)))},_relMerge:function(e,t){const i=e.currentRel;if(!t)return i.join(" ");if(/^only\:/.test(t))return t=t.replace(/^only\:/,"").trim(),e.currentRel=t.split(" "),t;const n=t.split(" ");for(let e,t=0,o=n.length;t<o;t++)e=i.indexOf(n[t]),-1===e&&i.push(n[t]);return i.join(" ")},_relDelete:function(e,t){if(!t)return e.currentRel.join(" ");/^only\:/.test(t)&&(t=t.replace(/^only\:/,"").trim());const i=e.currentRel.join(" ").replace(this._w.RegExp(t+"\\s*"),"");return e.currentRel=i.split(" "),i},init:function(e){e.linkAnchor=null,e.linkValue=e.preview.textContent=e.urlInput.value="",e.anchorText.value="",e.newWindowCheck.checked=!1,e.downloadCheck.checked=!1,e._change=!1,this.plugins.anchor.setRel.call(this,e,e.defaultRel),e.relList&&this.plugins.anchor.toggleRelList.call(this,e,!1),this.context.anchor.callerContext=null,this.plugins.selectMenu.init.call(this,this.context.selectMenu.callerContext)}},Xe={name:"link",display:"dialog",add:function(e){e.addModule([$e(),Ye]);const t=e.context,i=t.link={focusElement:null,_linkAnchor:null,anchorCtx:null};let n=this.setDialog(e);i.modal=n;let o=this.setController_LinkButton(e);i.linkController=o,n.querySelector("form").addEventListener("submit",this.submit.bind(e)),o.addEventListener("click",this.onClick_linkController.bind(e)),t.dialog.modal.appendChild(n),t.element.relative.appendChild(o),e.plugins.anchor.initEvent.call(e,"link",n),i.focusElement=t.anchor.caller.link.urlInput,n=null,o=null},setDialog:function(e){const t=e.lang,i=e.util.createElement("DIV"),n=e.icons;i.className="se-dialog-content",i.style.display="none";let o='<form><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+t.dialogBox.close+'" aria-label="'+t.dialogBox.close+'">'+n.cancel+'</button><span class="se-modal-title">'+t.dialogBox.linkBox.title+"</span></div>"+e.context.anchor.forms.innerHTML+'<div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+t.dialogBox.submitButton+'" aria-label="'+t.dialogBox.submitButton+'"><span>'+t.dialogBox.submitButton+"</span></button></div></form>";return i.innerHTML=o,i},setController_LinkButton:function(e){const t=e.lang,i=e.icons,n=e.util.createElement("DIV");return n.className="se-controller se-controller-link",n.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><span><a target="_blank" href=""></a>&nbsp;</span><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-btn se-tooltip">'+i.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.edit+'</span></span></button><button type="button" data-command="unlink" tabindex="-1" class="se-btn se-tooltip">'+i.unlink+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.unlink+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-btn se-tooltip">'+i.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.remove+"</span></span></button></div></div>",n},open:function(){this.plugins.dialog.open.call(this,"link","link"===this.currentControllerName)},submit:function(e){this.showLoading(),e.preventDefault(),e.stopPropagation();try{const e=this.plugins.anchor.createAnchor.call(this,this.context.anchor.caller.link,!1);if(null===e)return;if(this.context.dialog.updateModal){const e=this.context.link._linkAnchor.childNodes[0];this.setRange(e,0,e,e.textContent.length)}else{const t=this.getSelectedElements();if(t.length>1){const i=this.util.createElement(t[0].nodeName);if(i.appendChild(e),!this.insertNode(i,null,!0))return}else if(!this.insertNode(e,null,!0))return;this.setRange(e.childNodes[0],0,e.childNodes[0],e.textContent.length)}}finally{this.plugins.dialog.close.call(this),this.closeLoading(),this.history.push(!1)}return!1},active:function(e){if(e){if(this.util.isAnchor(e)&&null===e.getAttribute("data-image-link"))return this.controllerArray.indexOf(this.context.link.linkController)<0&&this.plugins.link.call_controller.call(this,e),!0}else this.controllerArray.indexOf(this.context.link.linkController)>-1&&this.controllersOff();return!1},on:function(e){this.plugins.anchor.on.call(this,this.context.anchor.caller.link,e)},call_controller:function(e){this.editLink=this.context.link._linkAnchor=this.context.anchor.caller.link.linkAnchor=e;const t=this.context.link.linkController,i=t.querySelector("a");i.href=e.href,i.title=e.textContent,i.textContent=e.textContent,this.util.addClass(e,"on"),this.setControllerPosition(t,e,"bottom",{left:0,top:0}),this.controllersOn(t,e,"link",this.util.removeClass.bind(this.util,this.context.link._linkAnchor,"on"))},onClick_linkController:function(e){e.stopPropagation();const t=e.target.getAttribute("data-command")||e.target.parentNode.getAttribute("data-command");if(t){if(e.preventDefault(),/update/.test(t))this.plugins.dialog.open.call(this,"link",!0);else if(/unlink/.test(t)){const e=this.util.getChildElement(this.context.link._linkAnchor,(function(e){return 0===e.childNodes.length||3===e.nodeType}),!1),t=this.util.getChildElement(this.context.link._linkAnchor,(function(e){return 0===e.childNodes.length||3===e.nodeType}),!0);this.setRange(e,0,t,t.textContent.length),this.nodeChange(null,null,["A"],!1)}else this.util.removeItem(this.context.link._linkAnchor),this.context.anchor.caller.link.linkAnchor=null,this.focus(),this.history.push(!1);this.controllersOff()}},init:function(){this.context.link.linkController.style.display="none",this.plugins.anchor.init.call(this,this.context.anchor.caller.link)}};var Je=i(9254),Qe=i.n(Je),et=i(2182),tt=i.n(et),it=i(5900),nt=i.n(it);const ot={name:"image",display:"dialog",add:function(e){e.addModule([$e(),Ye,Qe(),tt(),nt()]);const t=e.options,i=e.context,n=i.image={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,sizeUnit:t._imageSizeUnit,_linkElement:"",_altText:"",_align:"none",_floatClassRegExp:"__se__float\\-[a-z]+",_v_src:{_linkValue:""},svgDefaultSize:"30%",base64RenderIndex:0,_element:null,_cover:null,_container:null,inputX:null,inputY:null,_element_w:1,_element_h:1,_element_l:0,_element_t:0,_defaultSizeX:"auto",_defaultSizeY:"auto",_origin_w:"auto"===t.imageWidth?"":t.imageWidth,_origin_h:"auto"===t.imageHeight?"":t.imageHeight,_proportionChecked:!0,_resizing:t.imageResizing,_resizeDotHide:!t.imageHeightShow,_rotation:t.imageRotation,_alignHide:!t.imageAlignShow,_onlyPercentage:t.imageSizeOnlyPercentage,_ratio:!1,_ratioX:1,_ratioY:1,_captionShow:!0,_captionChecked:!1,_caption:null,captionCheckEl:null};let o=this.setDialog(e);n.modal=o,n.imgInputFile=o.querySelector("._se_image_file"),n.imgUrlFile=o.querySelector("._se_image_url"),n.focusElement=n.imgInputFile||n.imgUrlFile,n.altText=o.querySelector("._se_image_alt"),n.captionCheckEl=o.querySelector("._se_image_check_caption"),n.previewSrc=o.querySelector("._se_tab_content_image .se-link-preview"),o.querySelector(".se-dialog-tabs").addEventListener("click",this.openTab.bind(e)),o.querySelector("form").addEventListener("submit",this.submit.bind(e)),n.imgInputFile&&o.querySelector(".se-file-remove").addEventListener("click",this._removeSelectedFiles.bind(n.imgInputFile,n.imgUrlFile,n.previewSrc)),n.imgUrlFile&&n.imgUrlFile.addEventListener("input",this._onLinkPreview.bind(n.previewSrc,n._v_src,t.linkProtocol)),n.imgInputFile&&n.imgUrlFile&&n.imgInputFile.addEventListener("change",this._fileInputChange.bind(n));const l=o.querySelector(".__se__gallery");l&&l.addEventListener("click",this._openGallery.bind(e)),n.proportion={},n.inputX={},n.inputY={},t.imageResizing&&(n.proportion=o.querySelector("._se_image_check_proportion"),n.inputX=o.querySelector("._se_image_size_x"),n.inputY=o.querySelector("._se_image_size_y"),n.inputX.value=t.imageWidth,n.inputY.value=t.imageHeight,n.inputX.addEventListener("keyup",this.setInputSize.bind(e,"x")),n.inputY.addEventListener("keyup",this.setInputSize.bind(e,"y")),n.inputX.addEventListener("change",this.setRatio.bind(e)),n.inputY.addEventListener("change",this.setRatio.bind(e)),n.proportion.addEventListener("change",this.setRatio.bind(e)),o.querySelector(".se-dialog-btn-revert").addEventListener("click",this.sizeRevert.bind(e))),i.dialog.modal.appendChild(o),e.plugins.anchor.initEvent.call(e,"image",o.querySelector("._se_tab_content_url")),n.anchorCtx=e.context.anchor.caller.image,o=null},setDialog:function(e){const t=e.options,i=e.lang,n=e.util.createElement("DIV");n.className="se-dialog-content se-dialog-image",n.style.display="none";let o='<div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" class="close" title="'+i.dialogBox.close+'" aria-label="'+i.dialogBox.close+'">'+e.icons.cancel+'</button><span class="se-modal-title">'+i.dialogBox.imageBox.title+'</span></div><div class="se-dialog-tabs"><button type="button" class="_se_tab_link active" data-tab-link="image">'+i.toolbar.image+'</button><button type="button" class="_se_tab_link" data-tab-link="url">'+i.toolbar.link+'</button></div><form method="post" enctype="multipart/form-data"><div class="_se_tab_content _se_tab_content_image"><div class="se-dialog-body"><div style="border-bottom: 1px dashed #ccc;">';if(t.imageFileInput&&(o+='<div class="se-dialog-form"><label>'+i.dialogBox.imageBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_image_file" type="file" accept="'+t.imageAccept+'"'+(t.imageMultipleFile?' multiple="multiple"':"")+'/><button type="button" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+i.controller.remove+'" aria-label="'+i.controller.remove+'">'+e.icons.cancel+"</button></div></div>"),t.imageUrlInput&&(o+='<div class="se-dialog-form"><label>'+i.dialogBox.imageBox.url+'</label><div class="se-dialog-form-files"><input class="se-input-form se-input-url _se_image_url" type="text" />'+(t.imageGalleryUrl&&e.plugins.imageGallery?'<button type="button" class="se-btn se-dialog-files-edge-button __se__gallery" title="'+i.toolbar.imageGallery+'" aria-label="'+i.toolbar.imageGallery+'">'+e.icons.image_gallery+"</button>":"")+'</div><pre class="se-link-preview"></pre></div>'),o+='</div><div class="se-dialog-form"><label>'+i.dialogBox.imageBox.altText+'</label><input class="se-input-form _se_image_alt" type="text" /></div>',t.imageResizing){const n=t.imageSizeOnlyPercentage,l=n?' style="display: none !important;"':"",r=t.imageHeightShow?"":' style="display: none !important;"';o+='<div class="se-dialog-form">',n||!t.imageHeightShow?o+='<div class="se-dialog-size-text"><label class="size-w">'+i.dialogBox.size+"</label></div>":o+='<div class="se-dialog-size-text"><label class="size-w">'+i.dialogBox.width+'</label><label class="se-dialog-size-x">&nbsp;</label><label class="size-h">'+i.dialogBox.height+"</label></div>",o+='<input class="se-input-control _se_image_size_x" placeholder="auto"'+(n?' type="number" min="1"':'type="text"')+(n?' max="100"':"")+' /><label class="se-dialog-size-x"'+r+">"+(n?"%":"x")+'</label><input type="text" class="se-input-control _se_image_size_y" placeholder="auto"'+l+(n?' max="100"':"")+r+"/><label"+l+r+'><input type="checkbox" class="se-dialog-btn-check _se_image_check_proportion" checked/>&nbsp;'+i.dialogBox.proportion+'</label><button type="button" title="'+i.dialogBox.revertButton+'" aria-label="'+i.dialogBox.revertButton+'" class="se-btn se-dialog-btn-revert" style="float: right;">'+e.icons.revert+"</button></div>"}return o+='<div class="se-dialog-form se-dialog-form-footer"><label><input type="checkbox" class="se-dialog-btn-check _se_image_check_caption" />&nbsp;'+i.dialogBox.caption+'</label></div></div></div><div class="_se_tab_content _se_tab_content_url" style="display: none">'+e.context.anchor.forms.innerHTML+'</div><div class="se-dialog-footer"><div'+(t.imageAlignShow?"":' style="display: none"')+'><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="none" checked>'+i.dialogBox.basic+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="left">'+i.dialogBox.left+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="center">'+i.dialogBox.center+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="right">'+i.dialogBox.right+'</label></div><button type="submit" class="se-btn-primary" title="'+i.dialogBox.submitButton+'" aria-label="'+i.dialogBox.submitButton+'"><span>'+i.dialogBox.submitButton+"</span></button></div></form>",n.innerHTML=o,n},_fileInputChange:function(){this.imgInputFile.value?(this.imgUrlFile.setAttribute("disabled",!0),this.previewSrc.style.textDecoration="line-through"):(this.imgUrlFile.removeAttribute("disabled"),this.previewSrc.style.textDecoration="")},_removeSelectedFiles:function(e,t){this.value="",e&&(e.removeAttribute("disabled"),t.style.textDecoration="")},_openGallery:function(){this.callPlugin("imageGallery",this.plugins.imageGallery.open.bind(this,this.plugins.image._setUrlInput.bind(this.context.image)),null)},_setUrlInput:function(e){this.altText.value=e.alt,this._v_src._linkValue=this.previewSrc.textContent=this.imgUrlFile.value=e.getAttribute("data-value")||e.src,this.imgUrlFile.focus()},_onLinkPreview:function(e,t,i){const n=i.target.value.trim();e._linkValue=this.textContent=n?t&&-1===n.indexOf("://")&&0!==n.indexOf("#")?t+n:-1===n.indexOf("://")?"/"+n:n:""},fileTags:["img"],select:function(e){this.plugins.image.onModifyMode.call(this,e,this.plugins.resizing.call_controller_resize.call(this,e,"image"))},destroy:function(e){const t=e||this.context.image._element,i=this.util.getParentElement(t,this.util.isMediaComponent)||t,n=1*t.getAttribute("data-index");if("function"==typeof this.functions.onImageDeleteBefore&&!1===this.functions.onImageDeleteBefore(t,i,n,this))return;let o=i.previousElementSibling||i.nextElementSibling;const l=i.parentNode;this.util.removeItem(i),this.plugins.image.init.call(this),this.controllersOff(),l!==this.context.element.wysiwyg&&this.util.removeItemAllParents(l,(function(e){return 0===e.childNodes.length}),null),this.focusEdge(o),this.plugins.fileManager.deleteInfo.call(this,"image",n,this.functions.onImageUpload),this.history.push(!1)},on:function(e){const t=this.context.image;e?t.imgInputFile&&this.options.imageMultipleFile&&t.imgInputFile.removeAttribute("multiple"):(t.inputX.value=t._origin_w=this.options.imageWidth===t._defaultSizeX?"":this.options.imageWidth,t.inputY.value=t._origin_h=this.options.imageHeight===t._defaultSizeY?"":this.options.imageHeight,t.imgInputFile&&this.options.imageMultipleFile&&t.imgInputFile.setAttribute("multiple","multiple")),this.plugins.anchor.on.call(this,t.anchorCtx,e)},open:function(){this.plugins.dialog.open.call(this,"image","image"===this.currentControllerName)},openTab:function(e){const t=this.context.image.modal,i="init"===e?t.querySelector("._se_tab_link"):e.target;if(!/^BUTTON$/i.test(i.tagName))return!1;const n=i.getAttribute("data-tab-link"),o="_se_tab_content";let l,r,s;for(r=t.getElementsByClassName(o),l=0;l<r.length;l++)r[l].style.display="none";for(s=t.getElementsByClassName("_se_tab_link"),l=0;l<s.length;l++)this.util.removeClass(s[l],"active");return t.querySelector("."+o+"_"+n).style.display="block",this.util.addClass(i,"active"),"image"===n&&this.context.image.focusElement?this.context.image.focusElement.focus():"url"===n&&this.context.anchor.caller.image.urlInput.focus(),!1},submit:function(e){const t=this.context.image,i=this.plugins.image;e.preventDefault(),e.stopPropagation(),t._altText=t.altText.value,t._align=t.modal.querySelector('input[name="suneditor_image_radio"]:checked').value,t._captionChecked=t.captionCheckEl.checked,t._resizing&&(t._proportionChecked=t.proportion.checked);try{this.context.dialog.updateModal&&i.update_image.call(this,!1,!0,!1),t.imgInputFile&&t.imgInputFile.files.length>0?(this.showLoading(),i.submitAction.call(this,this.context.image.imgInputFile.files)):t.imgUrlFile&&t._v_src._linkValue.length>0&&(this.showLoading(),i.onRender_imgUrl.call(this,t._v_src._linkValue))}catch(e){throw this.closeLoading(),Error('[SUNEDITOR.image.submit.fail] cause : "'+e.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(e){if(0===e.length)return;let t=0,i=[];for(let n=0,o=e.length;n<o;n++)/image/i.test(e[n].type)&&(i.push(e[n]),t+=e[n].size);const n=this.options.imageUploadSizeLimit;if(n>0){let e=0;const i=this.context.image._infoList;for(let t=0,n=i.length;t<n;t++)e+=1*i[t].size;if(t+e>n){this.closeLoading();const i="[SUNEDITOR.imageUpload.fail] Size of uploadable total images: "+n/1e3+"KB";return void(("function"!=typeof this.functions.onImageUploadError||this.functions.onImageUploadError(i,{limitSize:n,currentSize:e,uploadSize:t},this))&&this.functions.noticeOpen(i))}}const o=this.context.image;o._uploadFileLength=i.length;const l={anchor:this.plugins.anchor.createAnchor.call(this,o.anchorCtx,!0),inputWidth:o.inputX.value,inputHeight:o.inputY.value,align:o._align,isUpdate:this.context.dialog.updateModal,alt:o._altText,element:o._element};if("function"==typeof this.functions.onImageUploadBefore){const e=this.functions.onImageUploadBefore(i,l,this,function(e){e&&this._w.Array.isArray(e.result)?this.plugins.image.register.call(this,l,e):this.plugins.image.upload.call(this,l,e)}.bind(this));if(void 0===e)return;if(!e)return void this.closeLoading();this._w.Array.isArray(e)&&e.length>0&&(i=e)}this.plugins.image.upload.call(this,l,i)},error:function(e,t){if(this.closeLoading(),"function"!=typeof this.functions.onImageUploadError||this.functions.onImageUploadError(e,t,this))throw this.functions.noticeOpen(e),Error("[SUNEDITOR.plugin.image.error] response: "+e)},upload:function(e,t){if(!t)return void this.closeLoading();if("string"==typeof t)return void this.plugins.image.error.call(this,t,null);const i=this.options.imageUploadUrl,n=this.context.dialog.updateModal?1:t.length;if("string"==typeof i&&i.length>0){const o=new FormData;for(let e=0;e<n;e++)o.append("file-"+e,t[e]);this.plugins.fileManager.upload.call(this,i,this.options.imageUploadHeader,o,this.plugins.image.callBack_imgUpload.bind(this,e),this.functions.onImageUploadError)}else this.plugins.image.setup_reader.call(this,t,e.anchor,e.inputWidth,e.inputHeight,e.align,e.alt,n,e.isUpdate)},callBack_imgUpload:function(e,t){if("function"==typeof this.functions.imageUploadHandler)this.functions.imageUploadHandler(t,e,this);else{const i=JSON.parse(t.responseText);i.errorMessage?this.plugins.image.error.call(this,i.errorMessage,i):this.plugins.image.register.call(this,e,i)}},register:function(e,t){const i=t.result;for(let t,n=0,o=i.length;n<o;n++){if(t={name:i[n].name,size:i[n].size},e.isUpdate){this.plugins.image.update_src.call(this,i[n].url,e.element,t);break}this.plugins.image.create_image.call(this,i[n].url,e.anchor,e.inputWidth,e.inputHeight,e.align,t,e.alt)}this.closeLoading()},setup_reader:function(e,t,i,n,o,l,r,s){try{if(0===r)return this.closeLoading(),void console.warn("[SUNEDITOR.image.base64.fail] cause : No applicable files");this.context.image.base64RenderIndex=r;const a=this._w.FileReader,c=[r];this.context.image.inputX.value=i,this.context.image.inputY.value=n;for(let u,d,h=0;h<r;h++)u=new a,d=e[h],u.onload=function(e,r,s,a,u){c[u]={result:e.result,file:a},0==--this.context.image.base64RenderIndex&&(this.plugins.image.onRender_imgBase64.call(this,r,c,s,t,i,n,o,l),this.closeLoading())}.bind(this,u,s,this.context.image._element,d,h),u.readAsDataURL(d)}catch(e){throw this.closeLoading(),Error('[SUNEDITOR.image.setup_reader.fail] cause : "'+e.message+'"')}},onRender_imgBase64:function(e,t,i,n,o,l,r,s){const a=this.plugins.image.update_src,c=this.plugins.image.create_image;for(let u=0,d=t.length;u<d;u++)e?(this.context.image._element.setAttribute("data-file-name",t[u].file.name),this.context.image._element.setAttribute("data-file-size",t[u].file.size),a.call(this,t[u].result,i,t[u].file)):c.call(this,t[u].result,n,o,l,r,t[u].file,s)},onRender_imgUrl:function(e){if(e||(e=this.context.image._v_src._linkValue),!e)return!1;const t=this.context.image;try{const i={name:e.split("/").pop(),size:0};this.context.dialog.updateModal?this.plugins.image.update_src.call(this,e,t._element,i):this.plugins.image.create_image.call(this,e,this.plugins.anchor.createAnchor.call(this,t.anchorCtx,!0),t.inputX.value,t.inputY.value,t._align,i,t._altText)}catch(e){throw Error('[SUNEDITOR.image.URLRendering.fail] cause : "'+e.message+'"')}finally{this.closeLoading()}},onRender_link:function(e,t){return t?(t.setAttribute("data-image-link","image"),e.setAttribute("data-image-link",t.href),t.appendChild(e),t):e},setInputSize:function(e,t){t&&32===t.keyCode?t.preventDefault():this.plugins.resizing._module_setInputSize.call(this,this.context.image,e)},setRatio:function(){this.plugins.resizing._module_setRatio.call(this,this.context.image)},checkFileInfo:function(){const e=this.plugins.image,t=this.context.image,i=function(i){e.onModifyMode.call(this,i,null),e.openModify.call(this,!0),t.inputX.value=t._origin_w,t.inputY.value=t._origin_h;const n=this.util.getFormatElement(i);n&&(t._align=n.style.textAlign||n.style.float),this.util.isAnchor(i.parentNode)&&!t.anchorCtx.linkValue&&(t.anchorCtx.linkValue=" "),e.update_image.call(this,!0,!1,!0),e.init.call(this)}.bind(this);this.plugins.fileManager.checkInfo.call(this,"image",["img"],this.functions.onImageUpload,i,!0)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"image",this.functions.onImageUpload)},create_image:function(e,t,i,n,o,l,r){const s=this.plugins.image,a=this.context.image;this.context.resizing._resize_plugin="image";let c=this.util.createElement("IMG");c.src=e,c.alt=r,c.setAttribute("data-rotate","0"),t=s.onRender_link.call(this,c,t?t.cloneNode(!1):null),a._resizing&&c.setAttribute("data-proportion",a._proportionChecked);const u=this.plugins.component.set_cover.call(this,t),d=this.plugins.component.set_container.call(this,u,"se-image-container");a._captionChecked&&(a._caption=this.plugins.component.create_caption.call(this),u.appendChild(a._caption)),a._element=c,a._cover=u,a._container=d,s.applySize.call(this,i,n),s.setAlign.call(this,o,c,u,d),c.onload=s._image_create_onload.bind(this,c,a.svgDefaultSize,d),this.insertComponent(d,!0,!0,!this.options.mediaAutoSelect)&&this.plugins.fileManager.setInfo.call(this,"image",c,this.functions.onImageUpload,l,!0),this.context.resizing._resize_plugin=""},_image_create_onload:function(e,t,i){if(0===e.offsetWidth&&this.plugins.image.applySize.call(this,t,""),this.options.mediaAutoSelect)this.selectComponent(e,"image");else{const e=this.appendFormatTag(i,null);e&&this.setRange(e,0,e,0)}this.history.push(!1)},update_image:function(e,t,i){const n=this.context.image;let o,l=n._element,r=n._cover,s=n._container,a=!1;null===r&&(a=!0,l=n._element.cloneNode(!0),r=this.plugins.component.set_cover.call(this,l)),null===s?(r=r.cloneNode(!0),l=r.querySelector("img"),a=!0,s=this.plugins.component.set_container.call(this,r,"se-image-container")):a&&(s.innerHTML="",s.appendChild(r),n._cover=r,n._element=l,a=!1);const c=this.util.isNumber(n.inputX.value)?n.inputX.value+n.sizeUnit:n.inputX.value,u=this.util.isNumber(n.inputY.value)?n.inputY.value+n.sizeUnit:n.inputY.value;o=/%$/.test(l.style.width)?c!==s.style.width||u!==s.style.height:c!==l.style.width||u!==l.style.height,l.alt=n._altText;let d=!1;n._captionChecked?n._caption||(n._caption=this.plugins.component.create_caption.call(this),r.appendChild(n._caption),d=!0):n._caption&&(this.util.removeItem(n._caption),n._caption=null,d=!0);let h=null;const p=this.plugins.anchor.createAnchor.call(this,n.anchorCtx,!0);if(p)n._linkElement!==p||a&&!s.contains(p)?(n._linkElement=p.cloneNode(!1),r.insertBefore(this.plugins.image.onRender_link.call(this,l,n._linkElement),n._caption),h=n._element):n._linkElement.setAttribute("data-image-link","image");else if(null!==n._linkElement){const e=l;if(e.setAttribute("data-image-link",""),r.contains(n._linkElement)){const t=e.cloneNode(!0);r.removeChild(n._linkElement),r.insertBefore(t,n._caption),n._element=l=t}}let f=null;if(a){if(f=this.util.isRangeFormatElement(n._element.parentNode)||this.util.isWysiwygDiv(n._element.parentNode)?n._element:this.util.isAnchor(n._element.parentNode)?n._element.parentNode:this.util.getFormatElement(n._element)||n._element,this.util.getParentElement(n._element,this.util.isNotCheckingNode))f=h?p:n._element,f.parentNode.replaceChild(s,f);else if(this.util.isListCell(f)){const e=this.util.getParentElement(n._element,(function(e){return e.parentNode===f}));f.insertBefore(s,e),this.util.removeItem(n._element),this.util.removeEmptyNode(e,null,!0)}else if(this.util.isFormatElement(f)){const e=this.util.getParentElement(n._element,(function(e){return e.parentNode===f}));f=this.util.splitElement(f,e),f.parentNode.insertBefore(s,f),this.util.removeItem(n._element),this.util.removeEmptyNode(f,null,!0),0===f.children.length&&(f.innerHTML=this.util.htmlRemoveWhiteSpace(f.innerHTML))}else if(this.util.isFormatElement(f.parentNode)){const e=f.parentNode;e.parentNode.insertBefore(s,f.previousSibling?e.nextElementSibling:e),0===n.__updateTags.map((function(e){return f.contains(e)})).length&&this.util.removeItem(f)}else f=this.util.isFigures(f.parentNode)?f.parentNode:f,f.parentNode.replaceChild(s,f);l=s.querySelector("img"),n._element=l,n._cover=r,n._container=s}h&&(a?(this.util.removeItem(h),0===this.util.getListChildren(p,(function(e){return/IMG/i.test(e.tagName)})).length&&this.util.removeItem(p)):this.util.removeItem(p)),(d||!n._onlyPercentage&&o)&&!e&&(/\d+/.test(l.style.height)||this.context.resizing._rotateVertical&&n._captionChecked)&&(/%$/.test(n.inputX.value)||/%$/.test(n.inputY.value)?this.plugins.resizing.resetTransform.call(this,l):this.plugins.resizing.setTransformSize.call(this,l,this.util.getNumber(n.inputX.value,0),this.util.getNumber(n.inputY.value,0))),n._resizing&&(l.setAttribute("data-proportion",n._proportionChecked),o&&this.plugins.image.applySize.call(this)),this.plugins.image.setAlign.call(this,null,l,null,null),e&&this.plugins.fileManager.setInfo.call(this,"image",l,this.functions.onImageUpload,null,!0),t&&this.selectComponent(l,"image"),i||this.history.push(!1)},update_src:function(e,t,i){t.src=e,this._w.setTimeout(this.plugins.fileManager.setInfo.bind(this,"image",t,this.functions.onImageUpload,i,!0)),this.selectComponent(t,"image")},onModifyMode:function(e,t){if(!e)return;const i=this.context.image;i._linkElement=i.anchorCtx.linkAnchor=this.util.isAnchor(e.parentNode)?e.parentNode:null,i._element=e,i._cover=this.util.getParentElement(e,"FIGURE"),i._container=this.util.getParentElement(e,this.util.isMediaComponent),i._caption=this.util.getChildElement(i._cover,"FIGCAPTION"),i._align=e.getAttribute("data-align")||e.style.float||"none",e.style.float="",this.plugins.anchor.setCtx(i._linkElement,i.anchorCtx),t&&(i._element_w=t.w,i._element_h=t.h,i._element_t=t.t,i._element_l=t.l);let n,o,l=i._element.getAttribute("data-size")||i._element.getAttribute("data-origin");l?(l=l.split(","),n=l[0],o=l[1]):t&&(n=t.w,o=t.h),i._origin_w=n||e.style.width||e.width||"",i._origin_h=o||e.style.height||e.height||""},openModify:function(e){const t=this.context.image;t.imgUrlFile&&(t._v_src._linkValue=t.previewSrc.textContent=t.imgUrlFile.value=t._element.src),t._altText=t.altText.value=t._element.alt,(t.modal.querySelector('input[name="suneditor_image_radio"][value="'+t._align+'"]')||t.modal.querySelector('input[name="suneditor_image_radio"][value="none"]')).checked=!0,t._align=t.modal.querySelector('input[name="suneditor_image_radio"]:checked').value,t._captionChecked=t.captionCheckEl.checked=!!t._caption,t._resizing&&this.plugins.resizing._module_setModifyInputSize.call(this,t,this.plugins.image),e||this.plugins.dialog.open.call(this,"image",!0)},applySize:function(e,t){const i=this.context.image;return e||(e=i.inputX.value||this.options.imageWidth),t||(t=i.inputY.value||this.options.imageHeight),i._onlyPercentage&&e||/%$/.test(e)?(this.plugins.image.setPercentSize.call(this,e,t),!0):(e&&"auto"!==e||t&&"auto"!==t?this.plugins.image.setSize.call(this,e,t,!1):this.plugins.image.setAutoSize.call(this),!1)},sizeRevert:function(){this.plugins.resizing._module_sizeRevert.call(this,this.context.image)},setSize:function(e,t,i,n){const o=this.context.image,l=/^(rw|lw)$/.test(n)&&/\d+/.test(o._element.style.height);/^(th|bh)$/.test(n)&&/\d+/.test(o._element.style.width)||(o._element.style.width=this.util.isNumber(e)?e+o.sizeUnit:e,this.plugins.image.cancelPercentAttr.call(this)),l||(o._element.style.height=this.util.isNumber(t)?t+o.sizeUnit:/%$/.test(t)?"":t),"center"===o._align&&this.plugins.image.setAlign.call(this,null,null,null,null),i||o._element.removeAttribute("data-percentage"),this.plugins.resizing._module_saveCurrentSize.call(this,o)},setAutoSize:function(){const e=this.context.image;e._caption&&(e._caption.style.marginTop=""),this.plugins.resizing.resetTransform.call(this,e._element),this.plugins.image.cancelPercentAttr.call(this),e._element.style.maxWidth="",e._element.style.width="",e._element.style.height="",e._cover.style.width="",e._cover.style.height="",this.plugins.image.setAlign.call(this,null,null,null,null),e._element.setAttribute("data-percentage","auto,auto"),this.plugins.resizing._module_saveCurrentSize.call(this,e)},setOriginSize:function(){const e=this.context.image;e._element.removeAttribute("data-percentage"),this.plugins.resizing.resetTransform.call(this,e._element),this.plugins.image.cancelPercentAttr.call(this);const t=(e._element.getAttribute("data-origin")||"").split(","),i=t[0],n=t[1];t&&(e._onlyPercentage||/%$/.test(i)&&(/%$/.test(n)||!/\d/.test(n))?this.plugins.image.setPercentSize.call(this,i,n):this.plugins.image.setSize.call(this,i,n),this.plugins.resizing._module_saveCurrentSize.call(this,e))},setPercentSize:function(e,t){const i=this.context.image;t=!t||/%$/.test(t)||this.util.getNumber(t,0)?this.util.isNumber(t)?t+i.sizeUnit:t||"":this.util.isNumber(t)?t+"%":t;const n=/%$/.test(t);i._container.style.width=this.util.isNumber(e)?e+"%":e,i._container.style.height="",i._cover.style.width="100%",i._cover.style.height=n?t:"",i._element.style.width="100%",i._element.style.height=n?"":t,i._element.style.maxWidth="","center"===i._align&&this.plugins.image.setAlign.call(this,null,null,null,null),i._element.setAttribute("data-percentage",e+","+t),this.plugins.resizing.setCaptionPosition.call(this,i._element),this.plugins.resizing._module_saveCurrentSize.call(this,i)},cancelPercentAttr:function(){const e=this.context.image;e._cover.style.width="",e._cover.style.height="",e._container.style.width="",e._container.style.height="",this.util.removeClass(e._container,this.context.image._floatClassRegExp),this.util.addClass(e._container,"__se__float-"+e._align),"center"===e._align&&this.plugins.image.setAlign.call(this,null,null,null,null)},setAlign:function(e,t,i,n){const o=this.context.image;e||(e=o._align),t||(t=o._element),i||(i=o._cover),n||(n=o._container),/%$/.test(t.style.width)&&"center"===e?(n.style.minWidth="100%",i.style.width=n.style.width):(n.style.minWidth="",i.style.width=this.context.resizing._rotateVertical?t.style.height||t.offsetHeight:t.style.width&&"auto"!==t.style.width?t.style.width||"100%":""),this.util.hasClass(n,"__se__float-"+e)||(this.util.removeClass(n,o._floatClassRegExp),this.util.addClass(n,"__se__float-"+e)),t.setAttribute("data-align",e)},init:function(){const e=this.context.image;e.imgInputFile&&(e.imgInputFile.value=""),e.imgUrlFile&&(e._v_src._linkValue=e.previewSrc.textContent=e.imgUrlFile.value=""),e.imgInputFile&&e.imgUrlFile&&(e.imgUrlFile.removeAttribute("disabled"),e.previewSrc.style.textDecoration=""),e.altText.value="",e.modal.querySelector('input[name="suneditor_image_radio"][value="none"]').checked=!0,e.captionCheckEl.checked=!1,e._element=null,this.plugins.image.openTab.call(this,"init"),e._resizing&&(e.inputX.value=this.options.imageWidth===e._defaultSizeX?"":this.options.imageWidth,e.inputY.value=this.options.imageHeight===e._defaultSizeY?"":this.options.imageHeight,e.proportion.checked=!0,e._ratio=!1,e._ratioX=1,e._ratioY=1),this.plugins.anchor.init.call(this,e.anchorCtx)}},lt={name:"video",display:"dialog",add:function(e){e.addModule([$e(),Qe(),tt(),nt()]);const t=e.options,i=e.context,n=i.video={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,sizeUnit:t._videoSizeUnit,_align:"none",_floatClassRegExp:"__se__float\\-[a-z]+",_youtubeQuery:t.youtubeQuery,_vimeoQuery:t.vimeoQuery,_videoRatio:100*t.videoRatio+"%",_defaultRatio:100*t.videoRatio+"%",_linkValue:"",_element:null,_cover:null,_container:null,inputX:null,inputY:null,_element_w:1,_element_h:1,_element_l:0,_element_t:0,_defaultSizeX:"100%",_defaultSizeY:100*t.videoRatio+"%",_origin_w:"100%"===t.videoWidth?"":t.videoWidth,_origin_h:"56.25%"===t.videoHeight?"":t.videoHeight,_proportionChecked:!0,_resizing:t.videoResizing,_resizeDotHide:!t.videoHeightShow,_rotation:t.videoRotation,_alignHide:!t.videoAlignShow,_onlyPercentage:t.videoSizeOnlyPercentage,_ratio:!1,_ratioX:1,_ratioY:1,_captionShow:!1};let o=this.setDialog(e);n.modal=o,n.videoInputFile=o.querySelector("._se_video_file"),n.videoUrlFile=o.querySelector(".se-input-url"),n.focusElement=n.videoUrlFile||n.videoInputFile,n.preview=o.querySelector(".se-link-preview"),o.querySelector("form").addEventListener("submit",this.submit.bind(e)),n.videoInputFile&&o.querySelector(".se-dialog-files-edge-button").addEventListener("click",this._removeSelectedFiles.bind(n.videoInputFile,n.videoUrlFile,n.preview)),n.videoInputFile&&n.videoUrlFile&&n.videoInputFile.addEventListener("change",this._fileInputChange.bind(n)),n.videoUrlFile&&n.videoUrlFile.addEventListener("input",this._onLinkPreview.bind(n.preview,n,t.linkProtocol)),n.proportion={},n.videoRatioOption={},n.inputX={},n.inputY={},t.videoResizing&&(n.proportion=o.querySelector("._se_video_check_proportion"),n.videoRatioOption=o.querySelector(".se-video-ratio"),n.inputX=o.querySelector("._se_video_size_x"),n.inputY=o.querySelector("._se_video_size_y"),n.inputX.value=t.videoWidth,n.inputY.value=t.videoHeight,n.inputX.addEventListener("keyup",this.setInputSize.bind(e,"x")),n.inputY.addEventListener("keyup",this.setInputSize.bind(e,"y")),n.inputX.addEventListener("change",this.setRatio.bind(e)),n.inputY.addEventListener("change",this.setRatio.bind(e)),n.proportion.addEventListener("change",this.setRatio.bind(e)),n.videoRatioOption.addEventListener("change",this.setVideoRatio.bind(e)),o.querySelector(".se-dialog-btn-revert").addEventListener("click",this.sizeRevert.bind(e))),i.dialog.modal.appendChild(o),o=null},setDialog:function(e){const t=e.options,i=e.lang,n=e.util.createElement("DIV");n.className="se-dialog-content",n.style.display="none";let o='<form method="post" enctype="multipart/form-data"><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+i.dialogBox.close+'" aria-label="'+i.dialogBox.close+'">'+e.icons.cancel+'</button><span class="se-modal-title">'+i.dialogBox.videoBox.title+'</span></div><div class="se-dialog-body">';if(t.videoFileInput&&(o+='<div class="se-dialog-form"><label>'+i.dialogBox.videoBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_video_file" type="file" accept="'+t.videoAccept+'"'+(t.videoMultipleFile?' multiple="multiple"':"")+'/><button type="button" data-command="filesRemove" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+i.controller.remove+'" aria-label="'+i.controller.remove+'">'+e.icons.cancel+"</button></div></div>"),t.videoUrlInput&&(o+='<div class="se-dialog-form"><label>'+i.dialogBox.videoBox.url+'</label><input class="se-input-form se-input-url" type="text" /><pre class="se-link-preview"></pre></div>'),t.videoResizing){const n=t.videoRatioList||[{name:"16:9",value:.5625},{name:"4:3",value:.75},{name:"21:9",value:.4285}],l=t.videoRatio,r=t.videoSizeOnlyPercentage,s=r?' style="display: none !important;"':"",a=t.videoHeightShow?"":' style="display: none !important;"',c=t.videoRatioShow?"":' style="display: none !important;"',u=r||t.videoHeightShow||t.videoRatioShow?"":' style="display: none !important;"';o+='<div class="se-dialog-form"><div class="se-dialog-size-text"><label class="size-w">'+i.dialogBox.width+'</label><label class="se-dialog-size-x">&nbsp;</label><label class="size-h"'+a+">"+i.dialogBox.height+'</label><label class="size-h"'+c+">("+i.dialogBox.ratio+')</label></div><input class="se-input-control _se_video_size_x" placeholder="100%"'+(r?' type="number" min="1"':'type="text"')+(r?' max="100"':"")+'/><label class="se-dialog-size-x"'+u+">"+(r?"%":"x")+'</label><input class="se-input-control _se_video_size_y" placeholder="'+100*t.videoRatio+'%"'+(r?' type="number" min="1"':'type="text"')+(r?' max="100"':"")+a+'/><select class="se-input-select se-video-ratio" title="'+i.dialogBox.ratio+'" aria-label="'+i.dialogBox.ratio+'"'+c+">",a||(o+='<option value=""> - </option>');for(let e=0,t=n.length;e<t;e++)o+='<option value="'+n[e].value+'"'+(l.toString()===n[e].value.toString()?" selected":"")+">"+n[e].name+"</option>";o+='</select><button type="button" title="'+i.dialogBox.revertButton+'" aria-label="'+i.dialogBox.revertButton+'" class="se-btn se-dialog-btn-revert" style="float: right;">'+e.icons.revert+'</button></div><div class="se-dialog-form se-dialog-form-footer"'+s+u+'><label><input type="checkbox" class="se-dialog-btn-check _se_video_check_proportion" checked/>&nbsp;'+i.dialogBox.proportion+"</label></div>"}return o+='</div><div class="se-dialog-footer"><div'+(t.videoAlignShow?"":' style="display: none"')+'><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="none" checked>'+i.dialogBox.basic+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="left">'+i.dialogBox.left+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="center">'+i.dialogBox.center+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="right">'+i.dialogBox.right+'</label></div><button type="submit" class="se-btn-primary" title="'+i.dialogBox.submitButton+'" aria-label="'+i.dialogBox.submitButton+'"><span>'+i.dialogBox.submitButton+"</span></button></div></form>",n.innerHTML=o,n},_fileInputChange:function(){this.videoInputFile.value?(this.videoUrlFile.setAttribute("disabled",!0),this.preview.style.textDecoration="line-through"):(this.videoUrlFile.removeAttribute("disabled"),this.preview.style.textDecoration="")},_removeSelectedFiles:function(e,t){this.value="",e&&(e.removeAttribute("disabled"),t.style.textDecoration="")},_onLinkPreview:function(e,t,i){const n=i.target.value.trim();/^<iframe.*\/iframe>$/.test(n)?(e._linkValue=n,this.textContent='<IFrame :src=".."></IFrame>'):e._linkValue=this.textContent=n?t&&-1===n.indexOf("://")&&0!==n.indexOf("#")?t+n:-1===n.indexOf("://")?"/"+n:n:""},_setTagAttrs:function(e){e.setAttribute("controls",!0);const t=this.options.videoTagAttrs;if(t)for(let i in t)this.util.hasOwn(t,i)&&e.setAttribute(i,t[i])},createVideoTag:function(){const e=this.util.createElement("VIDEO");return this.plugins.video._setTagAttrs.call(this,e),e},_setIframeAttrs:function(e){e.frameBorder="0",e.allowFullscreen=!0;const t=this.options.videoIframeAttrs;if(t)for(let i in t)this.util.hasOwn(t,i)&&e.setAttribute(i,t[i])},createIframeTag:function(){const e=this.util.createElement("IFRAME");return this.plugins.video._setIframeAttrs.call(this,e),e},fileTags:["iframe","video"],select:function(e){this.plugins.video.onModifyMode.call(this,e,this.plugins.resizing.call_controller_resize.call(this,e,"video"))},destroy:function(e){const t=e||this.context.video._element,i=this.context.video._container,n=1*t.getAttribute("data-index");if("function"==typeof this.functions.onVideoDeleteBefore&&!1===this.functions.onVideoDeleteBefore(t,i,n,this))return;let o=i.previousElementSibling||i.nextElementSibling;const l=i.parentNode;this.util.removeItem(i),this.plugins.video.init.call(this),this.controllersOff(),l!==this.context.element.wysiwyg&&this.util.removeItemAllParents(l,(function(e){return 0===e.childNodes.length}),null),this.focusEdge(o),this.plugins.fileManager.deleteInfo.call(this,"video",n,this.functions.onVideoUpload),this.history.push(!1)},on:function(e){const t=this.context.video;e?t.videoInputFile&&this.options.videoMultipleFile&&t.videoInputFile.removeAttribute("multiple"):(t.inputX.value=t._origin_w=this.options.videoWidth===t._defaultSizeX?"":this.options.videoWidth,t.inputY.value=t._origin_h=this.options.videoHeight===t._defaultSizeY?"":this.options.videoHeight,t.proportion.disabled=!0,t.videoInputFile&&this.options.videoMultipleFile&&t.videoInputFile.setAttribute("multiple","multiple")),t._resizing&&this.plugins.video.setVideoRatioSelect.call(this,t._origin_h||t._defaultRatio)},open:function(){this.plugins.dialog.open.call(this,"video","video"===this.currentControllerName)},setVideoRatio:function(e){const t=this.context.video,i=e.target.options[e.target.selectedIndex].value;t._defaultSizeY=t._videoRatio=i?100*i+"%":t._defaultSizeY,t.inputY.placeholder=i?100*i+"%":"",t.inputY.value=""},setInputSize:function(e,t){if(t&&32===t.keyCode)return void t.preventDefault();const i=this.context.video;this.plugins.resizing._module_setInputSize.call(this,i,e),"y"===e&&this.plugins.video.setVideoRatioSelect.call(this,t.target.value||i._defaultRatio)},setRatio:function(){this.plugins.resizing._module_setRatio.call(this,this.context.video)},submit:function(e){const t=this.context.video,i=this.plugins.video;e.preventDefault(),e.stopPropagation(),t._align=t.modal.querySelector('input[name="suneditor_video_radio"]:checked').value;try{t.videoInputFile&&t.videoInputFile.files.length>0?(this.showLoading(),i.submitAction.call(this,this.context.video.videoInputFile.files)):t.videoUrlFile&&t._linkValue.length>0&&(this.showLoading(),i.setup_url.call(this,t._linkValue))}catch(e){throw this.closeLoading(),Error('[SUNEDITOR.video.submit.fail] cause : "'+e.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(e){if(0===e.length)return;let t=0,i=[];for(let n=0,o=e.length;n<o;n++)/video/i.test(e[n].type)&&(i.push(e[n]),t+=e[n].size);const n=this.options.videoUploadSizeLimit;if(n>0){let e=0;const i=this.context.video._infoList;for(let t=0,n=i.length;t<n;t++)e+=1*i[t].size;if(t+e>n){this.closeLoading();const i="[SUNEDITOR.videoUpload.fail] Size of uploadable total videos: "+n/1e3+"KB";return void(("function"!=typeof this.functions.onVideoUploadError||this.functions.onVideoUploadError(i,{limitSize:n,currentSize:e,uploadSize:t},this))&&this.functions.noticeOpen(i))}}const o=this.context.video;o._uploadFileLength=i.length;const l={inputWidth:o.inputX.value,inputHeight:o.inputY.value,align:o._align,isUpdate:this.context.dialog.updateModal,element:o._element};if("function"==typeof this.functions.onVideoUploadBefore){const e=this.functions.onVideoUploadBefore(i,l,this,function(e){e&&this._w.Array.isArray(e.result)?this.plugins.video.register.call(this,l,e):this.plugins.video.upload.call(this,l,e)}.bind(this));if(void 0===e)return;if(!e)return void this.closeLoading();"object"==typeof e&&e.length>0&&(i=e)}this.plugins.video.upload.call(this,l,i)},error:function(e,t){if(this.closeLoading(),"function"!=typeof this.functions.onVideoUploadError||this.functions.onVideoUploadError(e,t,this))throw this.functions.noticeOpen(e),Error("[SUNEDITOR.plugin.video.error] response: "+e)},upload:function(e,t){if(!t)return void this.closeLoading();if("string"==typeof t)return void this.plugins.video.error.call(this,t,null);const i=this.options.videoUploadUrl,n=this.context.dialog.updateModal?1:t.length;if(!("string"==typeof i&&i.length>0))throw Error('[SUNEDITOR.videoUpload.fail] cause : There is no "videoUploadUrl" option.');{const o=new FormData;for(let e=0;e<n;e++)o.append("file-"+e,t[e]);this.plugins.fileManager.upload.call(this,i,this.options.videoUploadHeader,o,this.plugins.video.callBack_videoUpload.bind(this,e),this.functions.onVideoUploadError)}},callBack_videoUpload:function(e,t){if("function"==typeof this.functions.videoUploadHandler)this.functions.videoUploadHandler(t,e,this);else{const i=JSON.parse(t.responseText);i.errorMessage?this.plugins.video.error.call(this,i.errorMessage,i):this.plugins.video.register.call(this,e,i)}},register:function(e,t){const i=t.result,n=this.plugins.video.createVideoTag.call(this);for(let t,o=0,l=i.length;o<l;o++)t={name:i[o].name,size:i[o].size},this.plugins.video.create_video.call(this,e.isUpdate?e.element:n.cloneNode(!1),i[o].url,e.inputWidth,e.inputHeight,e.align,t,e.isUpdate);this.closeLoading()},setup_url:function(e){try{const t=this.context.video;if(e||(e=t._linkValue),!e)return!1;if(/^<iframe.*\/iframe>$/.test(e)){if(0===(e=(new this._w.DOMParser).parseFromString(e,"text/html").querySelector("iframe").src).length)return!1}if(/youtu\.?be/.test(e)){if(/^http/.test(e)||(e="https://"+e),e=e.replace("watch?v=",""),/^\/\/.+\/embed\//.test(e)||(e=e.replace(e.match(/\/\/.+\//)[0],"//www.youtube.com/embed/").replace("&","?&")),t._youtubeQuery.length>0)if(/\?/.test(e)){const i=e.split("?");e=i[0]+"?"+t._youtubeQuery+"&"+i[1]}else e+="?"+t._youtubeQuery}else if(/vimeo\.com/.test(e)&&(e.endsWith("/")&&(e=e.slice(0,-1)),e="https://player.vimeo.com/video/"+e.slice(e.lastIndexOf("/")+1),t._vimeoQuery.length>0))if(/\?/.test(e)){const i=e.split("?");e=i[0]+"?"+t._vimeoQuery+"&"+i[1]}else e+="?"+t._vimeoQuery;this.plugins.video.create_video.call(this,this.plugins.video[/embed|iframe|player|\/e\/|\.php|\.html?/.test(e)||/vimeo\.com/.test(e)?"createIframeTag":"createVideoTag"].call(this),e,t.inputX.value,t.inputY.value,t._align,null,this.context.dialog.updateModal)}catch(e){throw Error('[SUNEDITOR.video.upload.fail] cause : "'+e.message+'"')}finally{this.closeLoading()}},create_video:function(e,t,i,n,o,l,r){this.context.resizing._resize_plugin="video";const s=this.context.video;let a=null,c=null,u=!1;if(r){if((e=s._element).src!==t){u=!0;const i=/youtu\.?be/.test(t),n=/vimeo\.com/.test(t);if(!i&&!n||/^iframe$/i.test(e.nodeName))if(i||n||/^video$/i.test(e.nodeName))e.src=t;else{const i=this.plugins.video.createVideoTag.call(this);i.src=t,e.parentNode.replaceChild(i,e),s._element=e=i}else{const i=this.plugins.video.createIframeTag.call(this);i.src=t,e.parentNode.replaceChild(i,e),s._element=e=i}}c=s._container,a=this.util.getParentElement(e,"FIGURE")}else u=!0,e.src=t,s._element=e,a=this.plugins.component.set_cover.call(this,e),c=this.plugins.component.set_container.call(this,a,"se-video-container");s._cover=a,s._container=c;const d=this.plugins.resizing._module_getSizeX.call(this,s)!==(i||s._defaultSizeX)||this.plugins.resizing._module_getSizeY.call(this,s)!==(n||s._videoRatio),h=!r||d;s._resizing&&(this.context.video._proportionChecked=s.proportion.checked,e.setAttribute("data-proportion",s._proportionChecked));let p=!1;h&&(p=this.plugins.video.applySize.call(this)),p&&"center"===o||this.plugins.video.setAlign.call(this,null,e,a,c);let f=!0;if(r)s._resizing&&this.context.resizing._rotateVertical&&h&&this.plugins.resizing.setTransformSize.call(this,e,null,null);else if(f=this.insertComponent(c,!1,!0,!this.options.mediaAutoSelect),!this.options.mediaAutoSelect){const e=this.appendFormatTag(c,null);e&&this.setRange(e,0,e,0)}f&&(u&&this.plugins.fileManager.setInfo.call(this,"video",e,this.functions.onVideoUpload,l,!0),r&&(this.selectComponent(e,"video"),this.history.push(!1))),this.context.resizing._resize_plugin=""},_update_videoCover:function(e){if(!e)return;const t=this.context.video;/^video$/i.test(e.nodeName)?this.plugins.video._setTagAttrs.call(this,e):this.plugins.video._setIframeAttrs.call(this,e);let i=this.util.isRangeFormatElement(e.parentNode)||this.util.isWysiwygDiv(e.parentNode)?e:this.util.getFormatElement(e)||e;const n=e;t._element=e=e.cloneNode(!0);const o=t._cover=this.plugins.component.set_cover.call(this,e),l=t._container=this.plugins.component.set_container.call(this,o,"se-video-container");try{const r=i.querySelector("figcaption");let s=null;r&&(s=this.util.createElement("DIV"),s.innerHTML=r.innerHTML,this.util.removeItem(r));const a=(e.getAttribute("data-size")||e.getAttribute("data-origin")||"").split(",");this.plugins.video.applySize.call(this,a[0]||n.style.width||n.width||"",a[1]||n.style.height||n.height||"");const c=this.util.getFormatElement(n);if(c&&(t._align=c.style.textAlign||c.style.float),this.plugins.video.setAlign.call(this,null,e,o,l),this.util.getParentElement(n,this.util.isNotCheckingNode))n.parentNode.replaceChild(l,n);else if(this.util.isListCell(i)){const e=this.util.getParentElement(n,(function(e){return e.parentNode===i}));i.insertBefore(l,e),this.util.removeItem(n),this.util.removeEmptyNode(e,null,!0)}else if(this.util.isFormatElement(i)){const e=this.util.getParentElement(n,(function(e){return e.parentNode===i}));i=this.util.splitElement(i,e),i.parentNode.insertBefore(l,i),this.util.removeItem(n),this.util.removeEmptyNode(i,null,!0),0===i.children.length&&(i.innerHTML=this.util.htmlRemoveWhiteSpace(i.innerHTML))}else i.parentNode.replaceChild(l,i);s&&i.parentNode.insertBefore(s,l.nextElementSibling)}catch(e){console.warn("[SUNEDITOR.video.error] Maybe the video tag is nested.",e)}this.plugins.fileManager.setInfo.call(this,"video",e,this.functions.onVideoUpload,null,!0),this.plugins.video.init.call(this)},onModifyMode:function(e,t){const i=this.context.video;i._element=e,i._cover=this.util.getParentElement(e,"FIGURE"),i._container=this.util.getParentElement(e,this.util.isMediaComponent),i._align=e.style.float||e.getAttribute("data-align")||"none",e.style.float="",t&&(i._element_w=t.w,i._element_h=t.h,i._element_t=t.t,i._element_l=t.l);let n,o,l=i._element.getAttribute("data-size")||i._element.getAttribute("data-origin");l?(l=l.split(","),n=l[0],o=l[1]):t&&(n=t.w,o=t.h),i._origin_w=n||e.style.width||e.width||"",i._origin_h=o||e.style.height||e.height||""},openModify:function(e){const t=this.context.video;if(t.videoUrlFile&&(t._linkValue=t.preview.textContent=t.videoUrlFile.value=t._element.src||(t._element.querySelector("source")||"").src||""),(t.modal.querySelector('input[name="suneditor_video_radio"][value="'+t._align+'"]')||t.modal.querySelector('input[name="suneditor_video_radio"][value="none"]')).checked=!0,t._resizing){this.plugins.resizing._module_setModifyInputSize.call(this,t,this.plugins.video);const e=t._videoRatio=this.plugins.resizing._module_getSizeY.call(this,t);this.plugins.video.setVideoRatioSelect.call(this,e)||(t.inputY.value=t._onlyPercentage?this.util.getNumber(e,2):e)}e||this.plugins.dialog.open.call(this,"video",!0)},setVideoRatioSelect:function(e){let t=!1;const i=this.context.video,n=i.videoRatioOption.options;/%$/.test(e)||i._onlyPercentage?e=this.util.getNumber(e,2)/100+"":(!this.util.isNumber(e)||1*e>=1)&&(e=""),i.inputY.placeholder="";for(let o=0,l=n.length;o<l;o++)n[o].value===e?(t=n[o].selected=!0,i.inputY.placeholder=e?100*e+"%":""):n[o].selected=!1;return t},checkFileInfo:function(){this.plugins.fileManager.checkInfo.call(this,"video",["iframe","video"],this.functions.onVideoUpload,this.plugins.video._update_videoCover.bind(this),!0)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"video",this.functions.onVideoUpload)},applySize:function(e,t){const i=this.context.video;return e||(e=i.inputX.value||this.options.videoWidth),t||(t=i.inputY.value||this.options.videoHeight),i._onlyPercentage||/%$/.test(e)||!e?(this.plugins.video.setPercentSize.call(this,e||"100%",t||(/%$/.test(i._videoRatio)?i._videoRatio:i._defaultRatio)),!0):(e&&"auto"!==e||t&&"auto"!==t?this.plugins.video.setSize.call(this,e,t||i._videoRatio||i._defaultRatio,!1):this.plugins.video.setAutoSize.call(this),!1)},sizeRevert:function(){this.plugins.resizing._module_sizeRevert.call(this,this.context.video)},setSize:function(e,t,i,n){const o=this.context.video,l=/^(rw|lw)$/.test(n),r=/^(th|bh)$/.test(n);r||(e=this.util.getNumber(e,0)),l||(t=this.util.isNumber(t)?t+o.sizeUnit:t||""),e=e?e+o.sizeUnit:"",r||(o._element.style.width=e),l||(o._cover.style.paddingBottom=o._cover.style.height=t),r||/%$/.test(e)||(o._cover.style.width=e,o._container.style.width=""),l||/%$/.test(t)?o._element.style.height="":o._element.style.height=t,i||o._element.removeAttribute("data-percentage"),this.plugins.resizing._module_saveCurrentSize.call(this,o)},setAutoSize:function(){this.plugins.video.setPercentSize.call(this,100,this.context.video._defaultRatio)},setOriginSize:function(e){const t=this.context.video;t._element.removeAttribute("data-percentage"),this.plugins.resizing.resetTransform.call(this,t._element),this.plugins.video.cancelPercentAttr.call(this);const i=((e?t._element.getAttribute("data-size"):"")||t._element.getAttribute("data-origin")||"").split(",");if(i){const e=i[0],n=i[1];t._onlyPercentage||/%$/.test(e)&&(/%$/.test(n)||!/\d/.test(n))?this.plugins.video.setPercentSize.call(this,e,n):this.plugins.video.setSize.call(this,e,n),this.plugins.resizing._module_saveCurrentSize.call(this,t)}},setPercentSize:function(e,t){const i=this.context.video;t=!t||/%$/.test(t)||this.util.getNumber(t,0)?this.util.isNumber(t)?t+i.sizeUnit:t||i._defaultRatio:this.util.isNumber(t)?t+"%":t,i._container.style.width=this.util.isNumber(e)?e+"%":e,i._container.style.height="",i._cover.style.width="100%",i._cover.style.height=t,i._cover.style.paddingBottom=t,i._element.style.width="100%",i._element.style.height="100%",i._element.style.maxWidth="","center"===i._align&&this.plugins.video.setAlign.call(this,null,null,null,null),i._element.setAttribute("data-percentage",e+","+t),this.plugins.resizing._module_saveCurrentSize.call(this,i)},cancelPercentAttr:function(){const e=this.context.video;e._cover.style.width="",e._cover.style.height="",e._cover.style.paddingBottom="",e._container.style.width="",e._container.style.height="",this.util.removeClass(e._container,this.context.video._floatClassRegExp),this.util.addClass(e._container,"__se__float-"+e._align),"center"===e._align&&this.plugins.video.setAlign.call(this,null,null,null,null)},setAlign:function(e,t,i,n){const o=this.context.video;e||(e=o._align),t||(t=o._element),i||(i=o._cover),n||(n=o._container),/%$/.test(t.style.width)&&"center"===e?(n.style.minWidth="100%",i.style.width=n.style.width,i.style.height=i.style.height,i.style.paddingBottom=/%$/.test(i.style.height)?this.util.getNumber(this.util.getNumber(i.style.height,2)/100*this.util.getNumber(i.style.width,2),2)+"%":i.style.height):(n.style.minWidth="",i.style.width=this.context.resizing._rotateVertical?t.style.height||t.offsetHeight:t.style.width||"100%",i.style.paddingBottom=i.style.height),this.util.hasClass(n,"__se__float-"+e)||(this.util.removeClass(n,o._floatClassRegExp),this.util.addClass(n,"__se__float-"+e)),t.setAttribute("data-align",e)},init:function(){const e=this.context.video;e.videoInputFile&&(e.videoInputFile.value=""),e.videoUrlFile&&(e._linkValue=e.preview.textContent=e.videoUrlFile.value=""),e.videoInputFile&&e.videoUrlFile&&(e.videoUrlFile.removeAttribute("disabled"),e.preview.style.textDecoration=""),e._origin_w=this.options.videoWidth,e._origin_h=this.options.videoHeight,e.modal.querySelector('input[name="suneditor_video_radio"][value="none"]').checked=!0,e._resizing&&(e.inputX.value=this.options.videoWidth===e._defaultSizeX?"":this.options.videoWidth,e.inputY.value=this.options.videoHeight===e._defaultSizeY?"":this.options.videoHeight,e.proportion.checked=!0,e.proportion.disabled=!0,this.plugins.video.setVideoRatioSelect.call(this,e._defaultRatio))}},rt={name:"audio",display:"dialog",add:function(e){e.addModule([$e(),Qe(),nt()]);const t=e.context,i=t.audio={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,targetSelect:null,_origin_w:e.options.audioWidth,_origin_h:e.options.audioHeight,_linkValue:"",_element:null,_cover:null,_container:null};let n=this.setDialog(e);i.modal=n,i.audioInputFile=n.querySelector("._se_audio_files"),i.audioUrlFile=n.querySelector(".se-input-url"),i.focusElement=i.audioInputFile||i.audioUrlFile,i.preview=n.querySelector(".se-link-preview");let o=this.setController(e);i.controller=o,n.querySelector("form").addEventListener("submit",this.submit.bind(e)),i.audioInputFile&&n.querySelector(".se-dialog-files-edge-button").addEventListener("click",this._removeSelectedFiles.bind(i.audioInputFile,i.audioUrlFile,i.preview)),i.audioInputFile&&i.audioUrlFile&&i.audioInputFile.addEventListener("change",this._fileInputChange.bind(i)),o.addEventListener("click",this.onClick_controller.bind(e)),i.audioUrlFile&&i.audioUrlFile.addEventListener("input",this._onLinkPreview.bind(i.preview,i,e.options.linkProtocol)),t.dialog.modal.appendChild(n),t.element.relative.appendChild(o),n=null,o=null},setDialog:function(e){const t=e.options,i=e.lang,n=e.util.createElement("DIV");n.className="se-dialog-content",n.style.display="none";let o='<form method="post" enctype="multipart/form-data"><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+i.dialogBox.close+'" aria-label="'+i.dialogBox.close+'">'+e.icons.cancel+'</button><span class="se-modal-title">'+i.dialogBox.audioBox.title+'</span></div><div class="se-dialog-body">';return t.audioFileInput&&(o+='<div class="se-dialog-form"><label>'+i.dialogBox.audioBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_audio_files" type="file" accept="'+t.audioAccept+'"'+(t.audioMultipleFile?' multiple="multiple"':"")+'/><button type="button" data-command="filesRemove" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+i.controller.remove+'" aria-label="'+i.controller.remove+'">'+e.icons.cancel+"</button></div></div>"),t.audioUrlInput&&(o+='<div class="se-dialog-form"><label>'+i.dialogBox.audioBox.url+'</label><input class="se-input-form se-input-url" type="text" /><pre class="se-link-preview"></pre></div>'),o+='</div><div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+i.dialogBox.submitButton+'" aria-label="'+i.dialogBox.submitButton+'"><span>'+i.dialogBox.submitButton+"</span></button></div></form>",n.innerHTML=o,n},setController:function(e){const t=e.lang,i=e.icons,n=e.util.createElement("DIV");return n.className="se-controller se-controller-link",n.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-tooltip">'+i.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.edit+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-tooltip">'+i.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.remove+"</span></span></button></div></div>",n},_fileInputChange:function(){this.audioInputFile.value?(this.audioUrlFile.setAttribute("disabled",!0),this.preview.style.textDecoration="line-through"):(this.audioUrlFile.removeAttribute("disabled"),this.preview.style.textDecoration="")},_removeSelectedFiles:function(e,t){this.value="",e&&(e.removeAttribute("disabled"),t.style.textDecoration="")},_createAudioTag:function(){const e=this.util.createElement("AUDIO");this.plugins.audio._setTagAttrs.call(this,e);const t=this.context.audio._origin_w,i=this.context.audio._origin_h;return e.setAttribute("origin-size",t+","+i),e.style.cssText=(t?"width:"+t+"; ":"")+(i?"height:"+i+";":""),e},_setTagAttrs:function(e){e.setAttribute("controls",!0);const t=this.options.audioTagAttrs;if(t)for(let i in t)this.util.hasOwn(t,i)&&e.setAttribute(i,t[i])},_onLinkPreview:function(e,t,i){const n=i.target.value.trim();e._linkValue=this.textContent=n?t&&-1===n.indexOf("://")&&0!==n.indexOf("#")?t+n:-1===n.indexOf("://")?"/"+n:n:""},fileTags:["audio"],select:function(e){this.plugins.audio.onModifyMode.call(this,e)},destroy:function(e){e=e||this.context.audio._element;const t=this.util.getParentElement(e,this.util.isComponent)||e,i=1*e.getAttribute("data-index");if("function"==typeof this.functions.onAudioDeleteBefore&&!1===this.functions.onAudioDeleteBefore(e,t,i,this))return;const n=t.previousElementSibling||t.nextElementSibling,o=t.parentNode;this.util.removeItem(t),this.plugins.audio.init.call(this),this.controllersOff(),o!==this.context.element.wysiwyg&&this.util.removeItemAllParents(o,(function(e){return 0===e.childNodes.length}),null),this.focusEdge(n),this.plugins.fileManager.deleteInfo.call(this,"audio",i,this.functions.onAudioUpload),this.history.push(!1)},checkFileInfo:function(){this.plugins.fileManager.checkInfo.call(this,"audio",["audio"],this.functions.onAudioUpload,this.plugins.audio.updateCover.bind(this),!1)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"audio",this.functions.onAudioUpload)},on:function(e){const t=this.context.audio;e?t._element?(this.context.dialog.updateModal=!0,t._linkValue=t.preview.textContent=t.audioUrlFile.value=t._element.src,t.audioInputFile&&this.options.audioMultipleFile&&t.audioInputFile.removeAttribute("multiple")):t.audioInputFile&&this.options.audioMultipleFile&&t.audioInputFile.removeAttribute("multiple"):(this.plugins.audio.init.call(this),t.audioInputFile&&this.options.audioMultipleFile&&t.audioInputFile.setAttribute("multiple","multiple"))},open:function(){this.plugins.dialog.open.call(this,"audio","audio"===this.currentControllerName)},submit:function(e){const t=this.context.audio;e.preventDefault(),e.stopPropagation();try{t.audioInputFile&&t.audioInputFile.files.length>0?(this.showLoading(),this.plugins.audio.submitAction.call(this,t.audioInputFile.files)):t.audioUrlFile&&t._linkValue.length>0&&(this.showLoading(),this.plugins.audio.setupUrl.call(this,t._linkValue))}catch(e){throw this.closeLoading(),Error('[SUNEDITOR.audio.submit.fail] cause : "'+e.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(e){if(0===e.length)return;let t=0,i=[];for(let n=0,o=e.length;n<o;n++)/audio/i.test(e[n].type)&&(i.push(e[n]),t+=e[n].size);const n=this.options.audioUploadSizeLimit;if(n>0){let e=0;const i=this.context.audio._infoList;for(let t=0,n=i.length;t<n;t++)e+=1*i[t].size;if(t+e>n){this.closeLoading();const i="[SUNEDITOR.audioUpload.fail] Size of uploadable total audios: "+n/1e3+"KB";return void(("function"!=typeof this.functions.onAudioUploadError||this.functions.onAudioUploadError(i,{limitSize:n,currentSize:e,uploadSize:t},this))&&this.functions.noticeOpen(i))}}const o=this.context.audio;o._uploadFileLength=i.length;const l={isUpdate:this.context.dialog.updateModal,element:o._element};if("function"==typeof this.functions.onAudioUploadBefore){const e=this.functions.onAudioUploadBefore(i,l,this,function(e){e&&this._w.Array.isArray(e.result)?this.plugins.audio.register.call(this,l,e):this.plugins.audio.upload.call(this,l,e)}.bind(this));if(void 0===e)return;if(!e)return void this.closeLoading();"object"==typeof e&&e.length>0&&(i=e)}this.plugins.audio.upload.call(this,l,i)},error:function(e,t){if(this.closeLoading(),"function"!=typeof this.functions.onAudioUploadError||this.functions.onAudioUploadError(e,t,this))throw this.functions.noticeOpen(e),Error("[SUNEDITOR.plugin.audio.exception] response: "+e)},upload:function(e,t){if(!t)return void this.closeLoading();if("string"==typeof t)return void this.plugins.audio.error.call(this,t,null);const i=this.options.audioUploadUrl,n=this.context.dialog.updateModal?1:t.length,o=new FormData;for(let e=0;e<n;e++)o.append("file-"+e,t[e]);this.plugins.fileManager.upload.call(this,i,this.options.audioUploadHeader,o,this.plugins.audio.callBack_upload.bind(this,e),this.functions.onAudioUploadError)},callBack_upload:function(e,t){if("function"==typeof this.functions.audioUploadHandler)this.functions.audioUploadHandler(t,e,this);else{const i=JSON.parse(t.responseText);i.errorMessage?this.plugins.audio.error.call(this,i.errorMessage,i):this.plugins.audio.register.call(this,e,i)}},register:function(e,t){const i=t.result;for(let t,n,o=0,l=i.length;o<l;o++)n=e.isUpdate?e.element:this.plugins.audio._createAudioTag.call(this),t={name:i[o].name,size:i[o].size},this.plugins.audio.create_audio.call(this,n,i[o].url,t,e.isUpdate);this.closeLoading()},setupUrl:function(e){try{if(0===e.length)return!1;this.plugins.audio.create_audio.call(this,this.plugins.audio._createAudioTag.call(this),e,null,this.context.dialog.updateModal)}catch(e){throw Error('[SUNEDITOR.audio.audio.fail] cause : "'+e.message+'"')}finally{this.closeLoading()}},create_audio:function(e,t,i,n){const o=this.context.audio;if(n){if(o._element&&(e=o._element),!e||e.src===t)return void this.selectComponent(e,"audio");e.src=t,this.selectComponent(e,"audio")}else{e.src=t;const i=this.plugins.component.set_cover.call(this,e),n=this.plugins.component.set_container.call(this,i,"");if(!this.insertComponent(n,!1,!0,!this.options.mediaAutoSelect))return void this.focus();if(!this.options.mediaAutoSelect){const e=this.appendFormatTag(n,null);e&&this.setRange(e,0,e,0)}}this.plugins.fileManager.setInfo.call(this,"audio",e,this.functions.onAudioUpload,i,!1),n&&this.history.push(!1)},updateCover:function(e){const t=this.context.audio;this.plugins.audio._setTagAttrs.call(this,e);let i=this.util.isRangeFormatElement(e.parentNode)||this.util.isWysiwygDiv(e.parentNode)?e:this.util.getFormatElement(e)||e;const n=e;t._element=e=e.cloneNode(!1);const o=this.plugins.component.set_cover.call(this,e),l=this.plugins.component.set_container.call(this,o,"se-audio-container");try{if(this.util.getParentElement(n,this.util.isNotCheckingNode))n.parentNode.replaceChild(l,n);else if(this.util.isListCell(i)){const e=this.util.getParentElement(n,(function(e){return e.parentNode===i}));i.insertBefore(l,e),this.util.removeItem(n),this.util.removeEmptyNode(e,null,!0)}else if(this.util.isFormatElement(i)){const e=this.util.getParentElement(n,(function(e){return e.parentNode===i}));i=this.util.splitElement(i,e),i.parentNode.insertBefore(l,i),this.util.removeItem(n),this.util.removeEmptyNode(i,null,!0),0===i.children.length&&(i.innerHTML=this.util.htmlRemoveWhiteSpace(i.innerHTML))}else i.parentNode.replaceChild(l,i)}catch(e){console.warn("[SUNEDITOR.audio.error] Maybe the audio tag is nested.",e)}this.plugins.fileManager.setInfo.call(this,"audio",e,this.functions.onAudioUpload,null,!1),this.plugins.audio.init.call(this)},onModifyMode:function(e){const t=this.context.audio;this.setControllerPosition(t.controller,e,"bottom",{left:0,top:0}),this.controllersOn(t.controller,e,this.plugins.audio.onControllerOff.bind(this,e),"audio"),this.util.addClass(e,"active"),t._element=e,t._cover=this.util.getParentElement(e,"FIGURE"),t._container=this.util.getParentElement(e,this.util.isComponent)},openModify:function(e){if(this.context.audio.audioUrlFile){const e=this.context.audio;e._linkValue=e.preview.textContent=e.audioUrlFile.value=e._element.src}e||this.plugins.dialog.open.call(this,"audio",!0)},onClick_controller:function(e){e.stopPropagation();const t=e.target.getAttribute("data-command");t&&(e.preventDefault(),/update/.test(t)?this.plugins.audio.openModify.call(this,!1):this.plugins.audio.destroy.call(this,this.context.audio._element),this.controllersOff())},onControllerOff:function(e){this.util.removeClass(e,"active"),this.context.audio.controller.style.display="none"},init:function(){if(this.context.dialog.updateModal)return;const e=this.context.audio;e.audioInputFile&&(e.audioInputFile.value=""),e.audioUrlFile&&(e._linkValue=e.preview.textContent=e.audioUrlFile.value=""),e.audioInputFile&&e.audioUrlFile&&(e.audioUrlFile.removeAttribute("disabled"),e.preview.style.textDecoration=""),e._element=null}},st="https://katex.org/docs/supported.html",at={name:"math",display:"dialog",add:function(e){e.addModule([$e()]);const t=e.context;t.math={focusElement:null,previewElement:null,fontSizeElement:null,defaultFontSize:"",_mathExp:null};let i=this.setDialog(e);t.math.modal=i,t.math.focusElement=i.querySelector(".se-math-exp"),t.math.previewElement=i.querySelector(".se-math-preview"),t.math.fontSizeElement=i.querySelector(".se-math-size"),t.math.focusElement.addEventListener("paste",(function(t){"function"==typeof e.functions.onPasteMath&&e.functions.onPasteMath(t,e)}),!1),t.math.focusElement.addEventListener(e.util.isIE?"textinput":"input",this._renderMathExp.bind(e,t.math),!1),t.math.fontSizeElement.addEventListener("change",function(e){this.fontSize=e.target.value}.bind(t.math.previewElement.style),!1);let n=this.setController_MathButton(e);t.math.mathController=n,t.math._mathExp=null,i.querySelector("form").addEventListener("submit",this.submit.bind(e),!1),n.addEventListener("click",this.onClick_mathController.bind(e)),t.math.previewElement.style.fontSize=t.math.defaultFontSize,t.dialog.modal.appendChild(i),t.element.relative.appendChild(n),i=null,n=null},setDialog:function(e){const t=e.lang,i=e.util.createElement("DIV"),n=e.options.mathFontSize;let o=n[0].value;i.className="se-dialog-content",i.style.display="none";let l='<form><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+t.dialogBox.close+'" aria-label="'+t.dialogBox.close+'">'+e.icons.cancel+'</button><span class="se-modal-title">'+t.dialogBox.mathBox.title+'</span></div><div class="se-dialog-body"><div class="se-dialog-form"><label>'+t.dialogBox.mathBox.inputLabel+' (<a href="'+st+'" target="_blank">KaTeX</a>)</label><textarea class="se-input-form se-math-exp" type="text"></textarea></div><div class="se-dialog-form"><label>'+t.dialogBox.mathBox.fontSizeLabel+'</label><select class="se-input-select se-math-size">';for(let e,t=0,i=n.length;t<i;t++)e=n[t],e.default&&(o=e.value),l+='<option value="'+e.value+'"'+(e.default?" selected":"")+">"+e.text+"</option>";return l+='</select></div><div class="se-dialog-form"><label>'+t.dialogBox.mathBox.previewLabel+'</label><p class="se-math-preview"></p></div></div><div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+t.dialogBox.submitButton+'" aria-label="'+t.dialogBox.submitButton+'"><span>'+t.dialogBox.submitButton+"</span></button></div></form>",e.context.math.defaultFontSize=o,i.innerHTML=l,i},setController_MathButton:function(e){const t=e.lang,i=e.util.createElement("DIV");return i.className="se-controller se-controller-link",i.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-btn se-tooltip">'+e.icons.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.edit+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-btn se-tooltip">'+e.icons.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.remove+"</span></span></button></div></div>",i},open:function(){this.plugins.dialog.open.call(this,"math","math"===this.currentControllerName)},managedTags:function(){return{className:"katex",method:function(e){if(!e.getAttribute("data-exp")||!this.options.katex)return;const t=this._d.createRange().createContextualFragment(this.plugins.math._renderer.call(this,this.util.HTMLDecoder(e.getAttribute("data-exp"))));e.innerHTML=t.querySelector(".katex").innerHTML,e.setAttribute("contenteditable",!1)}}},_renderer:function(e){let t="";try{this.util.removeClass(this.context.math.focusElement,"se-error"),t=this.options.katex.src.renderToString(e,{throwOnError:!0,displayMode:!0})}catch(e){this.util.addClass(this.context.math.focusElement,"se-error"),t='<span class="se-math-katex-error">Katex syntax error. (Refer <a href="'+st+'" target="_blank">KaTeX</a>)</span>',console.warn("[SUNEDITOR.math.Katex.error] ",e)}return t},_renderMathExp:function(e,t){e.previewElement.innerHTML=this.plugins.math._renderer.call(this,t.target.value)},submit:function(e){this.showLoading(),e.preventDefault(),e.stopPropagation();const t=function(){if(0===this.context.math.focusElement.value.trim().length)return!1;const e=this.context.math,t=e.focusElement.value,i=e.previewElement.querySelector(".katex");if(!i)return!1;if(i.className="__se__katex "+i.className,i.setAttribute("contenteditable",!1),i.setAttribute("data-exp",this.util.HTMLEncoder(t)),i.setAttribute("data-font-size",e.fontSizeElement.value),i.style.fontSize=e.fontSizeElement.value,this.context.dialog.updateModal){const t=this.util.getParentElement(e._mathExp,".katex");t.parentNode.replaceChild(i,t),this.setRange(i,0,i,1)}else{const e=this.getSelectedElements();if(e.length>1){const t=this.util.createElement(e[0].nodeName);if(t.appendChild(i),!this.insertNode(t,null,!0))return!1}else if(!this.insertNode(i,null,!0))return!1;const t=this.util.createTextNode(this.util.zeroWidthSpace);i.parentNode.insertBefore(t,i.nextSibling),this.setRange(i,0,i,1)}return e.focusElement.value="",e.fontSizeElement.value="1em",e.previewElement.style.fontSize="1em",e.previewElement.innerHTML="",!0}.bind(this);try{t()&&(this.plugins.dialog.close.call(this),this.history.push(!1))}catch(e){this.plugins.dialog.close.call(this)}finally{this.closeLoading()}return!1},active:function(e){if(e){if(e.getAttribute("data-exp"))return this.controllerArray.indexOf(this.context.math.mathController)<0&&(this.setRange(e,0,e,1),this.plugins.math.call_controller.call(this,e)),!0}else this.controllerArray.indexOf(this.context.math.mathController)>-1&&this.controllersOff();return!1},on:function(e){if(e){const e=this.context.math;if(e._mathExp){const t=this.util.HTMLDecoder(e._mathExp.getAttribute("data-exp")),i=e._mathExp.getAttribute("data-font-size")||"1em";this.context.dialog.updateModal=!0,e.focusElement.value=t,e.fontSizeElement.value=i,e.previewElement.innerHTML=this.plugins.math._renderer.call(this,t),e.previewElement.style.fontSize=i}}else this.plugins.math.init.call(this)},call_controller:function(e){this.context.math._mathExp=e;const t=this.context.math.mathController;this.setControllerPosition(t,e,"bottom",{left:0,top:0}),this.controllersOn(t,e,"math")},onClick_mathController:function(e){e.stopPropagation();const t=e.target.getAttribute("data-command")||e.target.parentNode.getAttribute("data-command");t&&(e.preventDefault(),/update/.test(t)?(this.context.math.focusElement.value=this.util.HTMLDecoder(this.context.math._mathExp.getAttribute("data-exp")),this.plugins.dialog.open.call(this,"math",!0)):(this.util.removeItem(this.context.math._mathExp),this.context.math._mathExp=null,this.focus(),this.history.push(!1)),this.controllersOff())},init:function(){const e=this.context.math;e.mathController.style.display="none",e._mathExp=null,e.focusElement.value="",e.previewElement.innerHTML=""}};var ct=i(1023),ut=i.n(ct);const dt={name:"imageGallery",add:function(e){e.addModule([ut()]);e.context.imageGallery={title:e.lang.toolbar.imageGallery,directData:e.options.imageGalleryData,url:e.options.imageGalleryUrl,header:e.options.imageGalleryHeader,listClass:"se-image-list",itemTemplateHandler:this.drawItems,selectorHandler:this.setImage.bind(e),columnSize:4}},open:function(e){this.plugins.fileBrowser.open.call(this,"imageGallery",e)},drawItems:function(e){const t=e.src.split("/").pop();return'<div class="se-file-item-img"><img src="'+(e.thumbnail||e.src)+'" alt="'+(e.alt||t)+'" data-command="pick" data-value="'+(e.src||e.thumbnail)+'"><div class="se-file-img-name se-file-name-back"></div><div class="se-file-img-name __se__img_name">'+(e.name||t)+"</div></div>"},setImage:function(e,t){this.callPlugin("image",function(){const i={name:t,size:0};this.plugins.image.create_image.call(this,e.getAttribute("data-value"),null,this.context.image._origin_w,this.context.image._origin_h,"none",i,e.alt)}.bind(this),null)}},ht={blockquote:{name:"blockquote",display:"command",add:function(e,t){e.context.blockquote={targetButton:t,tag:e.util.createElement("BLOCKQUOTE")}},active:function(e){if(e){if(/blockquote/i.test(e.nodeName))return this.util.addClass(this.context.blockquote.targetButton,"active"),!0}else this.util.removeClass(this.context.blockquote.targetButton,"active");return!1},action:function(){const e=this.util.getParentElement(this.getSelectionNode(),"blockquote");e?this.detachRangeFormatElement(e,null,null,!1,!1):this.applyRangeFormatElement(this.context.blockquote.tag.cloneNode(!1))}},align:{name:"align",display:"submenu",add:function(e,t){const i=e.icons,n=e.context;n.align={targetButton:t,_itemMenu:null,_alignList:null,currentAlign:"",defaultDir:e.options.rtl?"right":"left",icons:{justify:i.align_justify,left:i.align_left,right:i.align_right,center:i.align_center}};let o=this.setSubmenu(e),l=n.align._itemMenu=o.querySelector("ul");l.addEventListener("click",this.pickup.bind(e)),n.align._alignList=l.querySelectorAll("li button"),e.initMenuTarget(this.name,t,o),o=null,l=null},setSubmenu:function(e){const t=e.lang,i=e.icons,n=e.util.createElement("DIV"),o=e.options.alignItems;let l="";for(let e,n,r=0;r<o.length;r++)e=o[r],n=t.toolbar["align"+e.charAt(0).toUpperCase()+e.slice(1)],l+='<li><button type="button" class="se-btn-list se-btn-align" data-value="'+e+'" title="'+n+'" aria-label="'+n+'"><span class="se-list-icon">'+i["align_"+e]+"</span>"+n+"</button></li>";return n.className="se-submenu se-list-layer se-list-align",n.innerHTML='<div class="se-list-inner"><ul class="se-list-basic">'+l+"</ul></div>",n},active:function(e){const t=this.context.align,i=t.targetButton,n=i.firstElementChild;if(e){if(this.util.isFormatElement(e)){const o=e.style.textAlign;if(o)return this.util.changeElement(n,t.icons[o]||t.icons[t.defaultDir]),i.setAttribute("data-focus",o),!0}}else this.util.changeElement(n,t.icons[t.defaultDir]),i.removeAttribute("data-focus");return!1},on:function(){const e=this.context.align,t=e._alignList,i=e.targetButton.getAttribute("data-focus")||e.defaultDir;if(i!==e.currentAlign){for(let e=0,n=t.length;e<n;e++)i===t[e].getAttribute("data-value")?this.util.addClass(t[e],"active"):this.util.removeClass(t[e],"active");e.currentAlign=i}},exchangeDir:function(){const e=this.options.rtl?"right":"left";if(!this.context.align||this.context.align.defaultDir===e)return;this.context.align.defaultDir=e;let t=this.context.align._itemMenu,i=t.querySelector('[data-value="left"]'),n=t.querySelector('[data-value="right"]');if(i&&n){const e=i.parentElement,t=n.parentElement;e.appendChild(n),t.appendChild(i)}},pickup:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=null;for(;!i&&!/UL/i.test(t.tagName);)i=t.getAttribute("data-value"),t=t.parentNode;if(!i)return;const n=this.context.align.defaultDir,o=this.getSelectedElements();for(let e=0,t=o.length;e<t;e++)this.util.setStyle(o[e],"textAlign",i===n?"":i);this.effectNode=null,this.submenuOff(),this.focus(),this.history.push(!1)}},font:{name:"font",display:"submenu",add:function(e,t){const i=e.context;i.font={targetText:t.querySelector(".txt"),targetTooltip:t.parentNode.querySelector(".se-tooltip-text"),_fontList:null,currentFont:""};let n=this.setSubmenu(e);n.querySelector(".se-list-inner").addEventListener("click",this.pickup.bind(e)),i.font._fontList=n.querySelectorAll("ul li button"),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(e){const t=e.lang,i=e.util.createElement("DIV");let n,o,l,r;i.className="se-submenu se-list-layer se-list-font-family";let s=e.options.font,a='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+t.toolbar.default+'" aria-label="'+t.toolbar.default+'">('+t.toolbar.default+")</button></li>";for(l=0,r=s.length;l<r;l++)n=s[l],o=n.split(",")[0],a+='<li><button type="button" class="se-btn-list" data-value="'+n+'" data-txt="'+o+'" title="'+o+'" aria-label="'+o+'" style="font-family:'+n+';">'+o+"</button></li>";return a+="</ul></div>",i.innerHTML=a,i},active:function(e){const t=this.context.font.targetText,i=this.context.font.targetTooltip;if(e){if(e.style&&e.style.fontFamily.length>0){const n=e.style.fontFamily.replace(/["']/g,"");return this.util.changeTxt(t,n),this.util.changeTxt(i,this.lang.toolbar.font+" ("+n+")"),!0}}else{const e=this.hasFocus?this.wwComputedStyle.fontFamily:this.lang.toolbar.font;this.util.changeTxt(t,e),this.util.changeTxt(i,this.hasFocus?this.lang.toolbar.font+(e?" ("+e+")":""):e)}return!1},on:function(){const e=this.context.font,t=e._fontList,i=e.targetText.textContent;if(i!==e.currentFont){for(let e=0,n=t.length;e<n;e++)i===(t[e].getAttribute("data-value")||"").replace(/'|"/g,"")?this.util.addClass(t[e],"active"):this.util.removeClass(t[e],"active");e.currentFont=i}},pickup:function(e){if(!/^BUTTON$/i.test(e.target.tagName))return!1;e.preventDefault(),e.stopPropagation();let t=e.target.getAttribute("data-value");if(t){const e=this.util.createElement("SPAN");/[\s\d\W]/.test(t)&&!/^['"].*['"]$/.test(t)&&(t='"'+t+'"'),e.style.fontFamily=t,this.nodeChange(e,["font-family"],null,null)}else this.nodeChange(null,["font-family"],["span"],!0);this.submenuOff()}},fontSize:{name:"fontSize",display:"submenu",add:function(e,t){const i=e.context;i.fontSize={targetText:t.querySelector(".txt"),_sizeList:null,currentSize:""};let n=this.setSubmenu(e),o=n.querySelector("ul");o.addEventListener("click",this.pickup.bind(e)),i.fontSize._sizeList=o.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null,o=null},setSubmenu:function(e){const t=e.options,i=e.lang,n=e.util.createElement("DIV");n.className="se-submenu se-list-layer se-list-font-size";const o=t.fontSize?t.fontSize:[8,9,10,11,12,14,16,18,20,22,24,26,28,36,48,72];let l='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+i.toolbar.default+'" aria-label="'+i.toolbar.default+'">('+i.toolbar.default+")</button></li>";for(let e,i=0,n=t.fontSizeUnit,r=o.length;i<r;i++)e=o[i],l+='<li><button type="button" class="se-btn-list" data-value="'+e+n+'" title="'+e+n+'" aria-label="'+e+n+'" style="font-size:'+e+n+';">'+e+"</button></li>";return l+="</ul></div>",n.innerHTML=l,n},active:function(e){if(e){if(e.style&&e.style.fontSize.length>0)return this.util.changeTxt(this.context.fontSize.targetText,this._convertFontSize.call(this,this.options.fontSizeUnit,e.style.fontSize)),!0}else this.util.changeTxt(this.context.fontSize.targetText,this.hasFocus?this._convertFontSize.call(this,this.options.fontSizeUnit,this.wwComputedStyle.fontSize):this.lang.toolbar.fontSize);return!1},on:function(){const e=this.context.fontSize,t=e._sizeList,i=e.targetText.textContent;if(i!==e.currentSize){for(let e=0,n=t.length;e<n;e++)i===t[e].getAttribute("data-value")?this.util.addClass(t[e],"active"):this.util.removeClass(t[e],"active");e.currentSize=i}},pickup:function(e){if(!/^BUTTON$/i.test(e.target.tagName))return!1;e.preventDefault(),e.stopPropagation();const t=e.target.getAttribute("data-value");if(t){const e=this.util.createElement("SPAN");e.style.fontSize=t,this.nodeChange(e,["font-size"],null,null)}else this.nodeChange(null,["font-size"],["span"],!0);this.submenuOff()}},fontColor:je,hiliteColor:qe,horizontalRule:{name:"horizontalRule",display:"submenu",add:function(e,t){e.context.horizontalRule={currentHR:null};let i=this.setSubmenu(e);i.querySelector("ul").addEventListener("click",this.horizontalRulePick.bind(e)),e.initMenuTarget(this.name,t,i),i=null},setSubmenu:function(e){const t=e.lang,i=e.util.createElement("DIV"),n=e.options.hrItems||[{name:t.toolbar.hr_solid,class:"__se__solid"},{name:t.toolbar.hr_dashed,class:"__se__dashed"},{name:t.toolbar.hr_dotted,class:"__se__dotted"}];let o="";for(let e=0,t=n.length;e<t;e++)o+='<li><button type="button" class="se-btn-list btn_line" data-command="horizontalRule" data-value="'+n[e].class+'" title="'+n[e].name+'" aria-label="'+n[e].name+'"><hr'+(n[e].class?' class="'+n[e].class+'"':"")+(n[e].style?' style="'+n[e].style+'"':"")+"/></button></li>";return i.className="se-submenu se-list-layer se-list-line",i.innerHTML='<div class="se-list-inner"><ul class="se-list-basic">'+o+"</ul></div>",i},active:function(e){if(e){if(/HR/i.test(e.nodeName))return this.context.horizontalRule.currentHR=e,this.util.hasClass(e,"on")||(this.util.addClass(e,"on"),this.controllersOn("hr",this.util.removeClass.bind(this.util,e,"on"))),!0}else this.util.hasClass(this.context.horizontalRule.currentHR,"on")&&this.controllersOff();return!1},appendHr:function(e){return this.focus(),this.insertComponent(e.cloneNode(!1),!1,!0,!1)},horizontalRulePick:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=t.getAttribute("data-command");for(;!i&&!/UL/i.test(t.tagName);)t=t.parentNode,i=t.getAttribute("data-command");if(!i)return;const n=this.plugins.horizontalRule.appendHr.call(this,t.firstElementChild);n&&(this.setRange(n,0,n,0),this.submenuOff())}},list:{name:"list",display:"submenu",add:function(e,t){const i=e.context;i.list={targetButton:t,_list:null,currentList:"",icons:{bullets:e.icons.list_bullets,number:e.icons.list_number}};let n=this.setSubmenu(e),o=n.querySelector("ul");o.addEventListener("click",this.pickup.bind(e)),i.list._list=o.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null,o=null},setSubmenu:function(e){const t=e.lang,i=e.util.createElement("DIV");return i.className="se-submenu se-list-layer",i.innerHTML='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="se-btn-list se-tooltip" data-command="OL" title="'+t.toolbar.orderList+'" aria-label="'+t.toolbar.orderList+'">'+e.icons.list_number+'</button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="UL" title="'+t.toolbar.unorderList+'" aria-label="'+t.toolbar.unorderList+'">'+e.icons.list_bullets+"</button></li></ul></div>",i},active:function(e){const t=this.context.list.targetButton,i=t.firstElementChild,n=this.util;if(n.isList(e)){const o=e.nodeName;return t.setAttribute("data-focus",o),n.addClass(t,"active"),/UL/i.test(o)?n.changeElement(i,this.context.list.icons.bullets):n.changeElement(i,this.context.list.icons.number),!0}return t.removeAttribute("data-focus"),n.changeElement(i,this.context.list.icons.number),n.removeClass(t,"active"),!1},on:function(){const e=this.context.list,t=e._list,i=e.targetButton.getAttribute("data-focus")||"";if(i!==e.currentList){for(let e=0,n=t.length;e<n;e++)i===t[e].getAttribute("data-command")?this.util.addClass(t[e],"active"):this.util.removeClass(t[e],"active");e.currentList=i}},editList:function(e,t,i){let n=this.getRange(),o=t||this.getSelectedElementsAndComponents(!1);if(0===o.length){if(t)return;if(n=this.getRange_addLine(n,null),o=this.getSelectedElementsAndComponents(!1),0===o.length)return}const l=this.util;l.sortByDepth(o,!0);let r=o[0],s=o[o.length-1],a=!l.isListCell(r)&&!l.isComponent(r)||r.previousElementSibling?r.previousElementSibling:r.parentNode.previousElementSibling,c=!l.isListCell(s)&&!l.isComponent(s)||s.nextElementSibling?s.nextElementSibling:s.parentNode.nextElementSibling;const u=n.collapsed,d={sc:n.startContainer,so:n.startContainer===n.endContainer&&l.onlyZeroWidthSpace(n.startContainer)&&0===n.startOffset&&1===n.endOffset?n.endOffset:n.startOffset,ec:n.endContainer,eo:n.endOffset};let h=null,p=!0;for(let e=0,t=o.length;e<t;e++)if(!l.isList(l.getRangeFormatElement(o[e],function(t){return this.getRangeFormatElement(t)&&t!==o[e]}.bind(l)))){p=!1;break}if(!p||a&&r.tagName===a.tagName&&e===a.tagName.toUpperCase()||c&&s.tagName===c.tagName&&e===c.tagName.toUpperCase()){const t=a?a.parentNode:a,i=c?c.parentNode:c;a=t&&!l.isWysiwygDiv(t)&&t.nodeName===e?t:a,c=i&&!l.isWysiwygDiv(i)&&i.nodeName===e?i:c;const n=a&&a.tagName===e,r=c&&c.tagName===e;let s=n?a:l.createElement(e),u=null,h=null,p=null,f=null;const g=function(e){return!this.isComponent(e)&&!this.isList(e)}.bind(l);for(let t,i,r,a,c,f,m,v,b,y=0,w=o.length;y<w;y++)if(i=o[y],0!==i.childNodes.length||l._isIgnoreNodeChange(i)){if(a=o[y+1],c=i.parentNode,f=a?a.parentNode:null,r=l.isListCell(i),b=l.isRangeFormatElement(c)?c:null,m=r&&!l.isWysiwygDiv(c)?c.parentNode:c,v=r&&!l.isWysiwygDiv(c)?!a||l.isListCell(m)?c:c.nextSibling:i.nextSibling,t=l.createElement("LI"),l.copyFormatAttributes(t,i),0===y&&d.sc===i&&(d.sc=t),y===w-1&&d.ec===i&&(d.ec=t),l.isComponent(i)){const e=/^HR$/i.test(i.nodeName);e||(t.innerHTML="<br>"),t.innerHTML+=i.outerHTML,e&&(t.innerHTML+="<br>")}else{const e=i.childNodes;for(;e[0];)t.appendChild(e[0])}s.appendChild(t),a||(h=s),a&&m===f&&!l.isRangeFormatElement(v)||(u||(u=s),n&&a&&m===f||a&&l.isList(f)&&f===c||s.parentNode!==m&&m.insertBefore(s,v)),l.removeItem(i),n&&null===p&&(p=s.children.length-1),a&&(l.getRangeFormatElement(f,g)!==l.getRangeFormatElement(c,g)||l.isList(f)&&l.isList(c)&&l.getElementDepth(f)!==l.getElementDepth(c))&&(s=l.createElement(e)),b&&0===b.children.length&&l.removeItem(b)}else l.removeItem(i);p&&(u=u.children[p]),r&&(f=s.children.length-1,s.innerHTML+=c.innerHTML,h=s.children[f],l.removeItem(c))}else{if(i)for(let e=0,t=o.length;e<t;e++)for(let i=e-1;i>=0;i--)if(o[i].contains(o[e])){o.splice(e,1),e--,t--;break}const t=l.getRangeFormatElement(r),n=t&&t.tagName===e;let s,a;const c=function(e){return!this.isComponent(e)}.bind(l);n||(a=l.createElement(e));for(let t,r,u=0,d=o.length;u<d;u++)r=l.getRangeFormatElement(o[u],c),r&&l.isList(r)&&(t?t!==r?(i&&l.isListCell(r.parentNode)?this.plugins.list._detachNested.call(this,s.f):h=this.detachRangeFormatElement(s.f[0].parentNode,s.f,a,!1,!0),r=o[u].parentNode,n||(a=l.createElement(e)),t=r,s={r:t,f:[l.getParentElement(o[u],"LI")]}):s.f.push(l.getParentElement(o[u],"LI")):(t=r,s={r:t,f:[l.getParentElement(o[u],"LI")]}),u===d-1&&(i&&l.isListCell(r.parentNode)?this.plugins.list._detachNested.call(this,s.f):h=this.detachRangeFormatElement(s.f[0].parentNode,s.f,a,!1,!0)))}return this.effectNode=null,u&&h||d},_detachNested:function(e){const t=e[0],i=e[e.length-1],n=i.nextElementSibling,o=t.parentNode,l=o.parentNode.nextElementSibling,r=o.parentNode.parentNode;for(let t=0,i=e.length;t<i;t++)r.insertBefore(e[t],l);if(n&&o.children.length>0){const e=o.cloneNode(!1),t=o.childNodes,l=this.util.getPositionIndex(n);for(;t[l];)e.appendChild(t[l]);i.appendChild(e)}0===o.children.length&&this.util.removeItem(o),this.util.mergeSameTags(r);const s=this.util.getEdgeChildNodes(t,i);return{cc:t.parentNode,sc:s.sc,ec:s.ec}},editInsideList:function(e,t){const i=(t=t||this.getSelectedElements().filter(function(e){return this.isListCell(e)}.bind(this.util))).length;if(0===i||!e&&!this.util.isListCell(t[0].previousElementSibling)&&!this.util.isListCell(t[i-1].nextElementSibling))return{sc:t[0],so:0,ec:t[i-1],eo:1};let n=t[0].parentNode,o=t[i-1],l=null;if(e){if(n!==o.parentNode&&this.util.isList(o.parentNode.parentNode)&&o.nextElementSibling)for(o=o.nextElementSibling;o;)t.push(o),o=o.nextElementSibling;l=this.plugins.list.editList.call(this,n.nodeName.toUpperCase(),t,!0)}else{let e=this.util.createElement(n.nodeName),r=t[0].previousElementSibling,s=o.nextElementSibling;const a={s:null,e:null,sl:n,el:n};for(let o,l=0,c=i;l<c;l++)o=t[l],o.parentNode!==n&&(this.plugins.list._insiedList.call(this,n,e,r,s,a),n=o.parentNode,e=this.util.createElement(n.nodeName)),r=o.previousElementSibling,s=o.nextElementSibling,e.appendChild(o);this.plugins.list._insiedList.call(this,n,e,r,s,a);const c=this.util.getNodeFromPath(a.s,a.sl),u=this.util.getNodeFromPath(a.e,a.el);l={sc:c,so:0,ec:u,eo:u.textContent.length}}return l},_insiedList:function(e,t,i,n,o){let l=!1;if(i&&t.tagName===i.tagName){const e=t.children;for(;e[0];)i.appendChild(e[0]);t=i,l=!0}if(n&&t.tagName===n.tagName){const e=n.children;for(;e[0];)t.appendChild(e[0]);const i=n.nextElementSibling;n.parentNode.removeChild(n),n=i}if(!l){this.util.isListCell(i)&&(e=i,n=null),e.insertBefore(t,n),o.s||(o.s=this.util.getNodePath(t.firstElementChild.firstChild,e,null),o.sl=e);const l=e.contains(o.sl)?this.util.getNodePath(o.sl,e):null;o.e=this.util.getNodePath(t.lastElementChild.firstChild,e,null),o.el=e,this.util.mergeSameTags(e,[o.s,o.e,l],!1),this.util.mergeNestedTags(e),l&&(o.sl=this.util.getNodeFromPath(l,e))}return t},pickup:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i="";for(;!i&&!/^UL$/i.test(t.tagName);)i=t.getAttribute("data-command"),t=t.parentNode;if(!i)return;const n=this.plugins.list.editList.call(this,i,null,!1);n&&this.setRange(n.sc,n.so,n.ec,n.eo),this.submenuOff(),this.history.push(!1)}},table:{name:"table",display:"submenu",add:function(e,t){const i=e.context;let n=i.table={_element:null,_tdElement:null,_trElement:null,_trElements:null,_tableXY:[],_maxWidth:!0,_fixedColumn:!1,_rtl:e.options.rtl,cellControllerTop:"top"===e.options.tableCellControllerPosition,resizeText:null,headerButton:null,mergeButton:null,splitButton:null,splitMenu:null,maxText:e.lang.controller.maxSize,minText:e.lang.controller.minSize,_physical_cellCnt:0,_logical_cellCnt:0,_rowCnt:0,_rowIndex:0,_physical_cellIndex:0,_logical_cellIndex:0,_current_colSpan:0,_current_rowSpan:0,icons:{expansion:e.icons.expansion,reduction:e.icons.reduction}},o=this.setSubmenu(e),l=o.querySelector(".se-controller-table-picker");n.tableHighlight=o.querySelector(".se-table-size-highlighted"),n.tableUnHighlight=o.querySelector(".se-table-size-unhighlighted"),n.tableDisplay=o.querySelector(".se-table-size-display"),e.options.rtl&&(n.tableHighlight.style.left="167px");let r=this.setController_table(e);n.tableController=r,n.resizeButton=r.querySelector("._se_table_resize"),n.resizeText=r.querySelector("._se_table_resize > span > span"),n.columnFixedButton=r.querySelector("._se_table_fixed_column"),n.headerButton=r.querySelector("._se_table_header");let s=this.setController_tableEditor(e,n.cellControllerTop);n.resizeDiv=s,n.splitMenu=s.querySelector(".se-btn-group-sub"),n.mergeButton=s.querySelector("._se_table_merge_button"),n.splitButton=s.querySelector("._se_table_split_button"),n.insertRowAboveButton=s.querySelector("._se_table_insert_row_a"),n.insertRowBelowButton=s.querySelector("._se_table_insert_row_b"),l.addEventListener("mousemove",this.onMouseMove_tablePicker.bind(e,n)),l.addEventListener("click",this.appendTable.bind(e)),s.addEventListener("click",this.onClick_tableController.bind(e)),r.addEventListener("click",this.onClick_tableController.bind(e)),e.initMenuTarget(this.name,t,o),i.element.relative.appendChild(s),i.element.relative.appendChild(r),o=null,l=null,s=null,r=null,n=null},setSubmenu:function(e){const t=e.util.createElement("DIV");return t.className="se-submenu se-selector-table",t.innerHTML='<div class="se-table-size"><div class="se-table-size-picker se-controller-table-picker"></div><div class="se-table-size-highlighted"></div><div class="se-table-size-unhighlighted"></div></div><div class="se-table-size-display">1 x 1</div>',t},setController_table:function(e){const t=e.lang,i=e.icons,n=e.util.createElement("DIV");return n.className="se-controller se-controller-table",n.innerHTML='<div><div class="se-btn-group"><button type="button" data-command="resize" class="se-btn se-tooltip _se_table_resize">'+i.expansion+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.maxSize+'</span></span></button><button type="button" data-command="layout" class="se-btn se-tooltip _se_table_fixed_column">'+i.fixed_column_width+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.fixedColumnWidth+'</span></span></button><button type="button" data-command="header" class="se-btn se-tooltip _se_table_header">'+i.table_header+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.tableHeader+'</span></span></button><button type="button" data-command="remove" class="se-btn se-tooltip">'+i.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.remove+"</span></span></button></div></div>",n},setController_tableEditor:function(e,t){const i=e.lang,n=e.icons,o=e.util.createElement("DIV");return o.className="se-controller se-controller-table-cell",o.innerHTML=(t?"":'<div class="se-arrow se-arrow-up"></div>')+'<div class="se-btn-group"><button type="button" data-command="insert" data-value="row" data-option="up" class="se-btn se-tooltip _se_table_insert_row_a">'+n.insert_row_above+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.insertRowAbove+'</span></span></button><button type="button" data-command="insert" data-value="row" data-option="down" class="se-btn se-tooltip _se_table_insert_row_b">'+n.insert_row_below+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.insertRowBelow+'</span></span></button><button type="button" data-command="delete" data-value="row" class="se-btn se-tooltip">'+n.delete_row+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.deleteRow+'</span></span></button><button type="button" data-command="merge" class="_se_table_merge_button se-btn se-tooltip" disabled>'+n.merge_cell+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.mergeCells+'</span></span></button></div><div class="se-btn-group" style="padding-top: 0;"><button type="button" data-command="insert" data-value="cell" data-option="left" class="se-btn se-tooltip">'+n.insert_column_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.insertColumnBefore+'</span></span></button><button type="button" data-command="insert" data-value="cell" data-option="right" class="se-btn se-tooltip">'+n.insert_column_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.insertColumnAfter+'</span></span></button><button type="button" data-command="delete" data-value="cell" class="se-btn se-tooltip">'+n.delete_column+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.deleteColumn+'</span></span></button><button type="button" data-command="onsplit" class="_se_table_split_button se-btn se-tooltip">'+n.split_cell+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.splitCells+'</span></span></button><div class="se-btn-group-sub sun-editor-common se-list-layer se-table-split"><div class="se-list-inner"><ul class="se-list-basic"><li class="se-btn-list" data-command="split" data-value="vertical" style="line-height:32px;" title="'+i.controller.VerticalSplit+'" aria-label="'+i.controller.VerticalSplit+'">'+i.controller.VerticalSplit+'</li><li class="se-btn-list" data-command="split" data-value="horizontal" style="line-height:32px;" title="'+i.controller.HorizontalSplit+'" aria-label="'+i.controller.HorizontalSplit+'">'+i.controller.HorizontalSplit+"</li></ul></div></div></div>",o},appendTable:function(){const e=this.util.createElement("TABLE"),t=this.plugins.table.createCells,i=this.context.table._tableXY[0];let n=this.context.table._tableXY[1],o="<tbody>";for(;n>0;)o+="<tr>"+t.call(this,"td",i)+"</tr>",--n;o+="</tbody>",e.innerHTML=o;if(this.insertComponent(e,!1,!0,!1)){const t=e.querySelector("td div");this.setRange(t,0,t,0),this.plugins.table.reset_table_picker.call(this)}},createCells:function(e,t,i){if(e=e.toLowerCase(),i){const t=this.util.createElement(e);return t.innerHTML="<div><br></div>",t}{let i="";for(;t>0;)i+="<"+e+"><div><br></div></"+e+">",t--;return i}},onMouseMove_tablePicker:function(e,t){t.stopPropagation();let i=this._w.Math.ceil(t.offsetX/18),n=this._w.Math.ceil(t.offsetY/18);i=i<1?1:i,n=n<1?1:n,e._rtl&&(e.tableHighlight.style.left=18*i-13+"px",i=11-i),e.tableHighlight.style.width=i+"em",e.tableHighlight.style.height=n+"em",this.util.changeTxt(e.tableDisplay,i+" x "+n),e._tableXY=[i,n]},reset_table_picker:function(){if(!this.context.table.tableHighlight)return;const e=this.context.table.tableHighlight.style,t=this.context.table.tableUnHighlight.style;e.width="1em",e.height="1em",t.width="10em",t.height="10em",this.util.changeTxt(this.context.table.tableDisplay,"1 x 1"),this.submenuOff()},init:function(){const e=this.context.table,t=this.plugins.table;if(t._removeEvents.call(this),t._selectedTable){const e=t._selectedTable.querySelectorAll(".se-table-selected-cell");for(let t=0,i=e.length;t<i;t++)this.util.removeClass(e[t],"se-table-selected-cell")}t._toggleEditor.call(this,!0),e._element=null,e._tdElement=null,e._trElement=null,e._trElements=null,e._tableXY=[],e._maxWidth=!0,e._fixedColumn=!1,e._physical_cellCnt=0,e._logical_cellCnt=0,e._rowCnt=0,e._rowIndex=0,e._physical_cellIndex=0,e._logical_cellIndex=0,e._current_colSpan=0,e._current_rowSpan=0,t._shift=!1,t._selectedCells=null,t._selectedTable=null,t._ref=null,t._fixedCell=null,t._selectedCell=null,t._fixedCellName=null},call_controller_tableEdit:function(e){const t=this.plugins.table,i=this.context.table;if(!this.getSelection().isCollapsed&&!t._selectedCell)return this.controllersOff(),void this.util.removeClass(e,"se-table-selected-cell");const n=i._element||this.plugins.table._selectedTable||this.util.getParentElement(e,"TABLE");i._maxWidth=this.util.hasClass(n,"se-table-size-100")||"100%"===n.style.width||!n.style.width&&!this.util.hasClass(n,"se-table-size-auto"),i._fixedColumn=this.util.hasClass(n,"se-table-layout-fixed")||"fixed"===n.style.tableLayout,t.setTableStyle.call(this,i._maxWidth?"width|column":"width"),t.setPositionControllerTop.call(this,n),t.setPositionControllerDiv.call(this,e,t._shift),t._shift||this.controllersOn(i.resizeDiv,i.tableController,t.init.bind(this),e,"table")},setPositionControllerTop:function(e){this.setControllerPosition(this.context.table.tableController,e,"top",{left:0,top:0})},setPositionControllerDiv:function(e,t){const i=this.context.table,n=i.resizeDiv;this.plugins.table.setCellInfo.call(this,e,t),i.cellControllerTop?this.setControllerPosition(n,i._element,"top",{left:i.tableController.offsetWidth,top:0}):this.setControllerPosition(n,e,"bottom",{left:0,top:0})},setCellInfo:function(e,t){const i=this.context.table,n=i._element=this.plugins.table._selectedTable||this.util.getParentElement(e,"TABLE");if(/THEAD/i.test(n.firstElementChild.nodeName)?this.util.addClass(i.headerButton,"active"):this.util.removeClass(i.headerButton,"active"),t||0===i._physical_cellCnt){i._tdElement!==e&&(i._tdElement=e,i._trElement=e.parentNode);const t=i._trElements=n.rows,o=e.cellIndex;let l=0;for(let e=0,i=t[0].cells,n=t[0].cells.length;e<n;e++)l+=i[e].colSpan;const r=i._rowIndex=i._trElement.rowIndex;i._rowCnt=t.length,i._physical_cellCnt=i._trElement.cells.length,i._logical_cellCnt=l,i._physical_cellIndex=o,i._current_colSpan=i._tdElement.colSpan-1,i._current_rowSpan,i._trElement.cells[o].rowSpan;let s=[],a=[];for(let e,n,l=0;l<=r;l++){e=t[l].cells,n=0;for(let t,c,u,d,h=0,p=e.length;h<p;h++){if(t=e[h],c=t.colSpan-1,u=t.rowSpan-1,d=h+n,a.length>0)for(let e,t=0;t<a.length;t++)e=a[t],e.row>l||(d>=e.index?(n+=e.cs,d+=e.cs,e.rs-=1,e.row=l+1,e.rs<1&&(a.splice(t,1),t--)):h===p-1&&(e.rs-=1,e.row=l+1,e.rs<1&&(a.splice(t,1),t--)));if(l===r&&h===o){i._logical_cellIndex=d;break}u>0&&s.push({index:d,cs:c+1,rs:u,row:-1}),n+=c}a=a.concat(s).sort((function(e,t){return e.index-t.index})),s=[]}s=null,a=null}},editTable:function(e,t){const i=this.plugins.table,n=this.context.table,o=n._element,l="row"===e;if(l){const e=n._trElement.parentNode;if(/^THEAD$/i.test(e.nodeName)){if("up"===t)return;if(!e.nextElementSibling||!/^TBODY$/i.test(e.nextElementSibling.nodeName))return void(o.innerHTML+="<tbody><tr>"+i.createCells.call(this,"td",n._logical_cellCnt,!1)+"</tr></tbody>")}}if(i._ref){const e=n._tdElement,o=i._selectedCells;if(l)if(t)i.setCellInfo.call(this,"up"===t?o[0]:o[o.length-1],!0),i.editRow.call(this,t,e);else{let e=o[0].parentNode;const n=[o[0]];for(let t,i=1,l=o.length;i<l;i++)t=o[i],e!==t.parentNode&&(n.push(t),e=t.parentNode);for(let e=0,o=n.length;e<o;e++)i.setCellInfo.call(this,n[e],!0),i.editRow.call(this,t)}else{const n=o[0].parentNode;if(t){let l=null;for(let e=0,t=o.length-1;e<t;e++)if(n!==o[e+1].parentNode){l=o[e];break}i.setCellInfo.call(this,"left"===t?o[0]:l||o[0],!0),i.editCell.call(this,t,e)}else{const e=[o[0]];for(let t,i=1,l=o.length;i<l&&(t=o[i],n===t.parentNode);i++)e.push(t);for(let n=0,o=e.length;n<o;n++)i.setCellInfo.call(this,e[n],!0),i.editCell.call(this,t)}}t||i.init.call(this)}else i[l?"editRow":"editCell"].call(this,t);if(!t){const e=o.children;for(let t=0;t<e.length;t++)0===e[t].children.length&&(this.util.removeItem(e[t]),t--);0===o.children.length&&this.util.removeItem(o)}},editRow:function(e,t){const i=this.context.table,n=!e,o="up"===e,l=i._rowIndex,r=n||o?l:l+i._current_rowSpan+1,s=n?-1:1,a=i._trElements;let c=i._logical_cellCnt;for(let e,t=0,i=l+(n?-1:0);t<=i;t++){if(e=a[t].cells,0===e.length)return;for(let i,n,o=0,l=e.length;o<l;o++)i=e[o].rowSpan,n=e[o].colSpan,i<2&&n<2||i+t>r&&r>t&&(e[o].rowSpan=i+s,c-=n)}if(n){const e=a[l+1];if(e){const t=[];let i=a[l].cells,n=0;for(let e,o,l=0,r=i.length;l<r;l++)e=i[l],o=l+n,n+=e.colSpan-1,e.rowSpan>1&&(e.rowSpan-=1,t.push({cell:e.cloneNode(!1),index:o}));if(t.length>0){let o=t.shift();i=e.cells,n=0;for(let l,r,s=0,a=i.length;s<a&&(l=i[s],r=s+n,n+=l.colSpan-1,!(r>=o.index)||(s--,n--,n+=o.cell.colSpan-1,e.insertBefore(o.cell,l),o=t.shift(),o));s++);if(o){e.appendChild(o.cell);for(let i=0,n=t.length;i<n;i++)e.appendChild(t[i].cell)}}}i._element.deleteRow(r)}else{i._element.insertRow(r).innerHTML=this.plugins.table.createCells.call(this,"td",c,!1)}n?this.controllersOff():this.plugins.table.setPositionControllerDiv.call(this,t||i._tdElement,!0)},editCell:function(e,t){const i=this.context.table,n=this.util,o=!e,l="left"===e,r=i._current_colSpan,s=o||l?i._logical_cellIndex:i._logical_cellIndex+r+1,a=i._trElements;let c=[],u=[],d=0;const h=[],p=[];for(let e,t,l,f,g,m,v=0,b=i._rowCnt;v<b;v++){e=a[v],t=s,g=!1,l=e.cells,m=0;for(let e,i,a,f,b=0,y=l.length;b<y&&(e=l[b],e);b++)if(i=e.rowSpan-1,a=e.colSpan-1,o){if(f=b+m,u.length>0){const e=!l[b+1];for(let t,i=0;i<u.length;i++)t=u[i],t.row>v||(f>=t.index?(m+=t.cs,f=b+m,t.rs-=1,t.row=v+1,t.rs<1&&(u.splice(i,1),i--)):e&&(t.rs-=1,t.row=v+1,t.rs<1&&(u.splice(i,1),i--)))}i>0&&c.push({rs:i,cs:a+1,index:f,row:-1}),f>=t&&f+a<=t+r?h.push(e):f<=t+r&&f+a>=t?e.colSpan-=n.getOverlapRangeAtIndex(s,s+r,f,f+a):i>0&&(f<t||f+a>t+r)&&p.push({cell:e,i:v,rs:v+i}),m+=a}else{if(b>=t)break;if(a>0){if(d<1&&a+b>=t){e.colSpan+=1,t=null,d=i+1;break}t-=a}if(!g){for(let e,i=0;i<u.length;i++)e=u[i],t-=e.cs,e.rs-=1,e.rs<1&&(u.splice(i,1),i--);g=!0}}if(u=u.concat(c).sort((function(e,t){return e.index-t.index})),c=[],!o){if(d>0){d-=1;continue}null!==t&&l.length>0&&(f=this.plugins.table.createCells.call(this,l[0].nodeName,0,!0),f=e.insertBefore(f,l[t]))}}if(o){let e,t;for(let i,o=0,l=h.length;o<l;o++)i=h[o].parentNode,n.removeItem(h[o]),0===i.cells.length&&(e||(e=n.getArrayIndex(a,i)),t=n.getArrayIndex(a,i),n.removeItem(i));for(let i,o=0,l=p.length;o<l;o++)i=p[o],i.cell.rowSpan=n.getOverlapRangeAtIndex(e,t,i.i,i.rs);this.controllersOff()}else this.plugins.table.setPositionControllerDiv.call(this,t||i._tdElement,!0)},_closeSplitMenu:null,openSplitMenu:function(){this.util.addClass(this.context.table.splitButton,"on"),this.context.table.splitMenu.style.display="inline-table",this.plugins.table._closeSplitMenu=function(){this.util.removeClass(this.context.table.splitButton,"on"),this.context.table.splitMenu.style.display="none",this.removeDocEvent("click",this.plugins.table._closeSplitMenu),this.plugins.table._closeSplitMenu=null}.bind(this),this.addDocEvent("click",this.plugins.table._closeSplitMenu)},splitCells:function(e){const t=this.util,i="vertical"===e,n=this.context.table,o=n._tdElement,l=n._trElements,r=n._trElement,s=n._logical_cellIndex,a=n._rowIndex,c=this.plugins.table.createCells.call(this,o.nodeName,0,!0);if(i){const e=o.colSpan;if(c.rowSpan=o.rowSpan,e>1)c.colSpan=this._w.Math.floor(e/2),o.colSpan=e-c.colSpan,r.insertBefore(c,o.nextElementSibling);else{let t=[],i=[];for(let r,a,c=0,u=n._rowCnt;c<u;c++){r=l[c].cells,a=0;for(let n,l,u,d,h=0,p=r.length;h<p;h++){if(n=r[h],l=n.colSpan-1,u=n.rowSpan-1,d=h+a,i.length>0)for(let e,t=0;t<i.length;t++)e=i[t],e.row>c||(d>=e.index?(a+=e.cs,d+=e.cs,e.rs-=1,e.row=c+1,e.rs<1&&(i.splice(t,1),t--)):h===p-1&&(e.rs-=1,e.row=c+1,e.rs<1&&(i.splice(t,1),t--)));if(d<=s&&u>0&&t.push({index:d,cs:l+1,rs:u,row:-1}),n!==o&&d<=s&&d+l>=s+e-1){n.colSpan+=1;break}if(d>s)break;a+=l}i=i.concat(t).sort((function(e,t){return e.index-t.index})),t=[]}r.insertBefore(c,o.nextElementSibling)}}else{const e=o.rowSpan;if(c.colSpan=o.colSpan,e>1){c.rowSpan=this._w.Math.floor(e/2);const i=e-c.rowSpan,n=[],a=t.getArrayIndex(l,r)+i;for(let e,t,i=0;i<a;i++){e=l[i].cells,t=0;for(let o,l,r,c=0,u=e.length;c<u&&(r=c+t,!(r>=s));c++)o=e[c],l=o.rowSpan-1,l>0&&l+i>=a&&r<s&&n.push({index:r,cs:o.colSpan}),t+=o.colSpan-1}const u=l[a],d=u.cells;let h=n.shift();for(let e,t,i,o,l=0,r=d.length,a=0;l<r;l++){if(i=l+a,e=d[l],t=e.colSpan-1,o=i+t+1,h&&o>=h.index&&(a+=h.cs,o+=h.cs,h=n.shift()),o>=s||l===r-1){u.insertBefore(c,e.nextElementSibling);break}a+=t}o.rowSpan=i}else{c.rowSpan=o.rowSpan;const e=t.createElement("TR");e.appendChild(c);for(let e,t=0;t<a;t++){if(e=l[t].cells,0===e.length)return;for(let i=0,n=e.length;i<n;i++)t+e[i].rowSpan-1>=a&&(e[i].rowSpan+=1)}const i=n._physical_cellIndex,s=r.cells;for(let e=0,t=s.length;e<t;e++)e!==i&&(s[e].rowSpan+=1);r.parentNode.insertBefore(e,r.nextElementSibling)}}this.focusEdge(o),this.plugins.table.setPositionControllerDiv.call(this,o,!0)},mergeCells:function(){const e=this.plugins.table,t=this.context.table,i=this.util,n=e._ref,o=e._selectedCells,l=o[0];let r=null,s=null,a=n.ce-n.cs+1,c=n.re-n.rs+1,u="",d=null;for(let e,t,n=1,l=o.length;n<l;n++){e=o[n],d!==e.parentNode&&(d=e.parentNode),t=e.children;for(let e=0,n=t.length;e<n;e++)i.isFormatElement(t[e])&&i.onlyZeroWidthSpace(t[e].textContent)&&i.removeItem(t[e]);u+=e.innerHTML,i.removeItem(e),0===d.cells.length&&(r?s=d:r=d,c-=1)}if(r){const e=t._trElements,n=i.getArrayIndex(e,r),o=i.getArrayIndex(e,s||r),l=[];for(let t,r=0;r<=o;r++)if(t=e[r].cells,0!==t.length)for(let e,l,s=0,a=t.length;s<a;s++)e=t[s],l=e.rowSpan-1,l>0&&r+l>=n&&(e.rowSpan-=i.getOverlapRangeAtIndex(n,o,r,r+l));else l.push(e[r]);for(let e=0,t=l.length;e<t;e++)i.removeItem(l[e])}l.innerHTML+=u,l.colSpan=a,l.rowSpan=c,this.controllersOff(),e.setActiveButton.call(this,!0,!1),e.call_controller_tableEdit.call(this,l),i.addClass(l,"se-table-selected-cell"),this.focusEdge(l)},toggleHeader:function(){const e=this.util,t=this.context.table.headerButton,i=e.hasClass(t,"active"),n=this.context.table._element;if(i)e.removeItem(n.querySelector("thead"));else{const t=e.createElement("THEAD");t.innerHTML="<tr>"+this.plugins.table.createCells.call(this,"th",this.context.table._logical_cellCnt,!1)+"</tr>",n.insertBefore(t,n.firstElementChild)}e.toggleClass(t,"active"),/TH/i.test(this.context.table._tdElement.nodeName)?this.controllersOff():this.plugins.table.setPositionControllerDiv.call(this,this.context.table._tdElement,!1)},setTableStyle:function(e){const t=this.context.table,i=t._element;let n,o,l,r;e.indexOf("width")>-1&&(n=t.resizeButton.firstElementChild,o=t.resizeText,t._maxWidth?(l=t.icons.reduction,r=t.minText,t.columnFixedButton.style.display="block",this.util.removeClass(i,"se-table-size-auto"),this.util.addClass(i,"se-table-size-100")):(l=t.icons.expansion,r=t.maxText,t.columnFixedButton.style.display="none",this.util.removeClass(i,"se-table-size-100"),this.util.addClass(i,"se-table-size-auto")),this.util.changeElement(n,l),this.util.changeTxt(o,r)),e.indexOf("column")>-1&&(t._fixedColumn?(this.util.removeClass(i,"se-table-layout-auto"),this.util.addClass(i,"se-table-layout-fixed"),this.util.addClass(t.columnFixedButton,"active")):(this.util.removeClass(i,"se-table-layout-fixed"),this.util.addClass(i,"se-table-layout-auto"),this.util.removeClass(t.columnFixedButton,"active")))},setActiveButton:function(e,t){const i=this.context.table;/^TH$/i.test(e.nodeName)?(i.insertRowAboveButton.setAttribute("disabled",!0),i.insertRowBelowButton.setAttribute("disabled",!0)):(i.insertRowAboveButton.removeAttribute("disabled"),i.insertRowBelowButton.removeAttribute("disabled")),t&&e!==t?(i.splitButton.setAttribute("disabled",!0),i.mergeButton.removeAttribute("disabled")):(i.splitButton.removeAttribute("disabled"),i.mergeButton.setAttribute("disabled",!0))},_bindOnSelect:null,_bindOffSelect:null,_bindOffShift:null,_selectedCells:null,_shift:!1,_fixedCell:null,_fixedCellName:null,_selectedCell:null,_selectedTable:null,_ref:null,_toggleEditor:function(e){this.context.element.wysiwyg.setAttribute("contenteditable",e),e?this.util.removeClass(this.context.element.wysiwyg,"se-disabled"):this.util.addClass(this.context.element.wysiwyg,"se-disabled")},_offCellMultiSelect:function(e){e.stopPropagation();const t=this.plugins.table;t._shift?t._initBind&&(this._wd.removeEventListener("touchmove",t._initBind),t._initBind=null):(t._removeEvents.call(this),t._toggleEditor.call(this,!0)),t._fixedCell&&t._selectedTable&&(t.setActiveButton.call(this,t._fixedCell,t._selectedCell),t.call_controller_tableEdit.call(this,t._selectedCell||t._fixedCell),t._selectedCells=t._selectedTable.querySelectorAll(".se-table-selected-cell"),t._selectedCell&&t._fixedCell&&this.focusEdge(t._selectedCell),t._shift||(t._fixedCell=null,t._selectedCell=null,t._fixedCellName=null))},_onCellMultiSelect:function(e){this._antiBlur=!0;const t=this.plugins.table,i=this.util.getParentElement(e.target,this.util.isCell);if(t._shift)i===t._fixedCell?t._toggleEditor.call(this,!0):t._toggleEditor.call(this,!1);else if(!t._ref){if(i===t._fixedCell)return;t._toggleEditor.call(this,!1)}i&&i!==t._selectedCell&&t._fixedCellName===i.nodeName&&t._selectedTable===this.util.getParentElement(i,"TABLE")&&(t._selectedCell=i,t._setMultiCells.call(this,t._fixedCell,i))},_setMultiCells:function(e,t){const i=this.plugins.table,n=i._selectedTable.rows,o=this.util,l=i._selectedTable.querySelectorAll(".se-table-selected-cell");for(let e=0,t=l.length;e<t;e++)o.removeClass(l[e],"se-table-selected-cell");if(e===t&&(o.addClass(e,"se-table-selected-cell"),!i._shift))return;let r=!0,s=[],a=[];const c=i._ref={_i:0,cs:null,ce:null,rs:null,re:null};for(let i,l,u=0,d=n.length;u<d;u++){i=n[u].cells,l=0;for(let n,d,h,p,f=0,g=i.length;f<g;f++){if(n=i[f],h=n.colSpan-1,p=n.rowSpan-1,d=f+l,s.length>0)for(let e,t=0;t<s.length;t++)e=s[t],e.row>u||(d>=e.index?(l+=e.cs,d+=e.cs,e.rs-=1,e.row=u+1,e.rs<1&&(s.splice(t,1),t--)):f===g-1&&(e.rs-=1,e.row=u+1,e.rs<1&&(s.splice(t,1),t--)));if(r){if(n!==e&&n!==t||(c.cs=null!==c.cs&&c.cs<d?c.cs:d,c.ce=null!==c.ce&&c.ce>d+h?c.ce:d+h,c.rs=null!==c.rs&&c.rs<u?c.rs:u,c.re=null!==c.re&&c.re>u+p?c.re:u+p,c._i+=1),2===c._i){r=!1,s=[],a=[],u=-1;break}}else if(o.getOverlapRangeAtIndex(c.cs,c.ce,d,d+h)&&o.getOverlapRangeAtIndex(c.rs,c.re,u,u+p)){const e=c.cs<d?c.cs:d,t=c.ce>d+h?c.ce:d+h,i=c.rs<u?c.rs:u,l=c.re>u+p?c.re:u+p;if(c.cs!==e||c.ce!==t||c.rs!==i||c.re!==l){c.cs=e,c.ce=t,c.rs=i,c.re=l,u=-1,s=[],a=[];break}o.addClass(n,"se-table-selected-cell")}p>0&&a.push({index:d,cs:h+1,rs:p,row:-1}),l+=n.colSpan-1}s=s.concat(a).sort((function(e,t){return e.index-t.index})),a=[]}},_removeEvents:function(){const e=this.plugins.table;e._initBind&&(this._wd.removeEventListener("touchmove",e._initBind),e._initBind=null),e._bindOnSelect&&(this._wd.removeEventListener("mousedown",e._bindOnSelect),this._wd.removeEventListener("mousemove",e._bindOnSelect),e._bindOnSelect=null),e._bindOffSelect&&(this._wd.removeEventListener("mouseup",e._bindOffSelect),e._bindOffSelect=null),e._bindOffShift&&(this._wd.removeEventListener("keyup",e._bindOffShift),e._bindOffShift=null)},_initBind:null,onTableCellMultiSelect:function(e,t){const i=this.plugins.table;i._removeEvents.call(this),this.controllersOff(),i._shift=t,i._fixedCell=e,i._fixedCellName=e.nodeName,i._selectedTable=this.util.getParentElement(e,"TABLE");const n=i._selectedTable.querySelectorAll(".se-table-selected-cell");for(let e=0,t=n.length;e<t;e++)this.util.removeClass(n[e],"se-table-selected-cell");this.util.addClass(e,"se-table-selected-cell"),i._bindOnSelect=i._onCellMultiSelect.bind(this),i._bindOffSelect=i._offCellMultiSelect.bind(this),t?(i._bindOffShift=function(){this.controllersOn(this.context.table.resizeDiv,this.context.table.tableController,this.plugins.table.init.bind(this),e,"table"),i._ref||this.controllersOff()}.bind(this),this._wd.addEventListener("keyup",i._bindOffShift,!1),this._wd.addEventListener("mousedown",i._bindOnSelect,!1)):this._wd.addEventListener("mousemove",i._bindOnSelect,!1),this._wd.addEventListener("mouseup",i._bindOffSelect,!1),i._initBind=i.init.bind(this),this._wd.addEventListener("touchmove",i._initBind,!1)},onClick_tableController:function(e){e.stopPropagation();const t=e.target.getAttribute("data-command")?e.target:e.target.parentNode;if(t.getAttribute("disabled"))return;const i=t.getAttribute("data-command"),n=t.getAttribute("data-value"),o=t.getAttribute("data-option"),l=this.plugins.table;if("function"==typeof l._closeSplitMenu&&(l._closeSplitMenu(),"onsplit"===i))return;if(!i)return;e.preventDefault();const r=this.context.table;switch(i){case"insert":case"delete":l.editTable.call(this,n,o);break;case"header":l.toggleHeader.call(this);break;case"onsplit":l.openSplitMenu.call(this);break;case"split":l.splitCells.call(this,n);break;case"merge":l.mergeCells.call(this);break;case"resize":r._maxWidth=!r._maxWidth,l.setTableStyle.call(this,"width"),l.setPositionControllerTop.call(this,r._element),l.setPositionControllerDiv.call(this,r._tdElement,l._shift);break;case"layout":r._fixedColumn=!r._fixedColumn,l.setTableStyle.call(this,"column"),l.setPositionControllerTop.call(this,r._element),l.setPositionControllerDiv.call(this,r._tdElement,l._shift);break;case"remove":const e=r._element.parentNode;this.util.removeItem(r._element),this.controllersOff(),e!==this.context.element.wysiwyg&&this.util.removeItemAllParents(e,(function(e){return 0===e.childNodes.length}),null),this.focus()}this.history.push(!1)}},formatBlock:{name:"formatBlock",display:"submenu",add:function(e,t){const i=e.context;i.formatBlock={targetText:t.querySelector(".txt"),targetTooltip:t.parentNode.querySelector(".se-tooltip-text"),_formatList:null,currentFormat:""};let n=this.setSubmenu(e);n.querySelector("ul").addEventListener("click",this.pickUp.bind(e)),i.formatBlock._formatList=n.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(e){const t=e.options,i=e.lang.toolbar,n=e.util.createElement("DIV");n.className="se-submenu se-list-layer se-list-format";const o=["p","div","blockquote","pre","h1","h2","h3","h4","h5","h6"],l=t.formats&&0!==t.formats.length?t.formats:o;let r='<div class="se-list-inner"><ul class="se-list-basic">';for(let e,t,n,s,a,c,u,d=0,h=l.length;d<h;d++)e=l[d],"string"==typeof e&&o.indexOf(e)>-1?(t=e.toLowerCase(),n="blockquote"===t?"range":"pre"===t?"free":"replace",a=/^h/.test(t)?t.match(/\d+/)[0]:"",s=i["tag_"+(a?"h":t)]+a,u="",c=""):(t=e.tag.toLowerCase(),n=e.command,s=e.name||t,u=e.class,c=u?' class="'+u+'"':""),r+='<li><button type="button" class="se-btn-list" data-command="'+n+'" data-value="'+t+'" data-class="'+u+'" title="'+s+'" aria-label="'+s+'"><'+t+c+">"+s+"</"+t+"></button></li>";return r+="</ul></div>",n.innerHTML=r,n},active:function(e){let t=this.lang.toolbar.formats;const i=this.context.formatBlock.targetText;if(e){if(this.util.isFormatElement(e)){const n=this.context.formatBlock._formatList,o=e.nodeName.toLowerCase(),l=(e.className.match(/(\s|^)__se__format__[^\s]+/)||[""])[0].trim();for(let e,i=0,r=n.length;i<r;i++)if(e=n[i],o===e.getAttribute("data-value")&&l===e.getAttribute("data-class")){t=e.title;break}return this.util.changeTxt(i,t),i.setAttribute("data-value",o),i.setAttribute("data-class",l),!0}}else this.util.changeTxt(i,t);return!1},on:function(){const e=this.context.formatBlock,t=e._formatList,i=e.targetText,n=(i.getAttribute("data-value")||"")+(i.getAttribute("data-class")||"");if(n!==e.currentFormat){for(let e,i=0,o=t.length;i<o;i++)e=t[i],n===e.getAttribute("data-value")+e.getAttribute("data-class")?this.util.addClass(e,"active"):this.util.removeClass(e,"active");e.currentFormat=n}},pickUp:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=null,n=null,o=null,l="";for(;!i&&!/UL/i.test(t.tagName);){if(i=t.getAttribute("data-command"),n=t.getAttribute("data-value"),l=t.getAttribute("data-class"),i){o=t.firstChild;break}t=t.parentNode}if(i){if("range"===i){const e=o.cloneNode(!1);this.applyRangeFormatElement(e)}else{let e=this.getRange(),t=this.getSelectedElementsAndComponents(!1);if(0===t.length&&(e=this.getRange_addLine(e,null),t=this.getSelectedElementsAndComponents(!1),0===t.length))return;const r=e.startOffset,s=e.endOffset,a=this.util;let c=t[0],u=t[t.length-1];const d=a.getNodePath(e.startContainer,c,null,null),h=a.getNodePath(e.endContainer,u,null,null),p=this.detachList(t,!1);p.sc&&(c=p.sc),p.ec&&(u=p.ec),this.setRange(a.getNodeFromPath(d,c),r,a.getNodeFromPath(h,u),s);const f=this.getSelectedElementsAndComponents(!1);if("free"===i){const e=f.length-1;let t=f[e].parentNode,i=o.cloneNode(!1);const n=i;for(let n,l,r,s,c,u,d=e,h=!0;d>=0;d--)if(n=f[d],n!==(f[d+1]?f[d+1].parentNode:null)){if(u=a.isComponent(n),l=u?"":n.innerHTML.replace(/(?!>)\s+(?=<)|\n/g," "),r=a.getParentElement(n,(function(e){return e.parentNode===t})),(t!==n.parentNode||u)&&(a.isFormatElement(t)?(t.parentNode.insertBefore(i,t.nextSibling),t=t.parentNode):(t.insertBefore(i,r?r.nextSibling:null),t=n.parentNode),s=i.nextSibling,s&&i.nodeName===s.nodeName&&a.isSameAttributes(i,s)&&(i.innerHTML+="<BR>"+s.innerHTML,a.removeItem(s)),i=o.cloneNode(!1),h=!0),c=i.innerHTML,i.innerHTML=(h||!l||!c||/<br>$/i.test(l)?l:l+"<BR>")+c,0===d){t.insertBefore(i,n),s=n.nextSibling,s&&i.nodeName===s.nodeName&&a.isSameAttributes(i,s)&&(i.innerHTML+="<BR>"+s.innerHTML,a.removeItem(s));const e=i.previousSibling;e&&i.nodeName===e.nodeName&&a.isSameAttributes(i,e)&&(e.innerHTML+="<BR>"+i.innerHTML,a.removeItem(i))}u||a.removeItem(n),l&&(h=!1)}this.setRange(n,0,n,0)}else{for(let e,t,i=0,r=f.length;i<r;i++)e=f[i],e.nodeName.toLowerCase()===n.toLowerCase()&&(e.className.match(/(\s|^)__se__format__[^\s]+/)||[""])[0].trim()===l||a.isComponent(e)||(t=o.cloneNode(!1),a.copyFormatAttributes(t,e),t.innerHTML=e.innerHTML,e.parentNode.replaceChild(t,e)),0===i&&(c=t||e),i===r-1&&(u=t||e),t=null;this.setRange(a.getNodeFromPath(d,c),r,a.getNodeFromPath(h,u),s)}this.history.push(!1)}this.submenuOff()}}},lineHeight:{name:"lineHeight",display:"submenu",add:function(e,t){const i=e.context;i.lineHeight={_sizeList:null,currentSize:-1};let n=this.setSubmenu(e),o=n.querySelector("ul");o.addEventListener("click",this.pickup.bind(e)),i.lineHeight._sizeList=o.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null,o=null},setSubmenu:function(e){const t=e.options,i=e.lang,n=e.util.createElement("DIV");n.className="se-submenu se-list-layer";const o=t.lineHeights?t.lineHeights:[{text:"1",value:1},{text:"1.15",value:1.15},{text:"1.5",value:1.5},{text:"2",value:2}];let l='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+i.toolbar.default+'" aria-label="'+i.toolbar.default+'">('+i.toolbar.default+")</button></li>";for(let e,t=0,i=o.length;t<i;t++)e=o[t],l+='<li><button type="button" class="se-btn-list" data-value="'+e.value+'" title="'+e.text+'" aria-label="'+e.text+'">'+e.text+"</button></li>";return l+="</ul></div>",n.innerHTML=l,n},on:function(){const e=this.context.lineHeight,t=e._sizeList,i=this.util.getFormatElement(this.getSelectionNode()),n=i?i.style.lineHeight+"":"";if(n!==e.currentSize){for(let e=0,i=t.length;e<i;e++)n===t[e].getAttribute("data-value")?this.util.addClass(t[e],"active"):this.util.removeClass(t[e],"active");e.currentSize=n}},pickup:function(e){if(!/^BUTTON$/i.test(e.target.tagName))return!1;e.preventDefault(),e.stopPropagation();const t=e.target.getAttribute("data-value")||"",i=this.getSelectedElements();for(let e=0,n=i.length;e<n;e++)i[e].style.lineHeight=t;this.submenuOff(),this.history.push(!1)}},template:Ze,paragraphStyle:{name:"paragraphStyle",display:"submenu",add:function(e,t){const i=e.context;i.paragraphStyle={_classList:null};let n=this.setSubmenu(e);n.querySelector("ul").addEventListener("click",this.pickUp.bind(e)),i.paragraphStyle._classList=n.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(e){const t=e.options,i=e.util.createElement("DIV");i.className="se-submenu se-list-layer se-list-format";const n=e.lang.menu,o={spaced:{name:n.spaced,class:"__se__p-spaced",_class:""},bordered:{name:n.bordered,class:"__se__p-bordered",_class:""},neon:{name:n.neon,class:"__se__p-neon",_class:""}},l=t.paragraphStyles&&0!==t.paragraphStyles.length?t.paragraphStyles:["spaced","bordered","neon"];let r='<div class="se-list-inner"><ul class="se-list-basic">';for(let e,t,i,n,s=0,a=l.length;s<a;s++){if(e=l[s],"string"==typeof e){const t=o[e.toLowerCase()];if(!t)continue;e=t}t=e.name,i=e.class?' class="'+e.class+'"':"",n=e._class,r+='<li><button type="button" class="se-btn-list'+(n?" "+n:"")+'" data-value="'+e.class+'" title="'+t+'" aria-label="'+t+'"><div'+i+">"+t+"</div></button></li>"}return r+="</ul></div>",i.innerHTML=r,i},on:function(){const e=this.context.paragraphStyle._classList,t=this.util.getFormatElement(this.getSelectionNode());for(let i=0,n=e.length;i<n;i++)this.util.hasClass(t,e[i].getAttribute("data-value"))?this.util.addClass(e[i],"active"):this.util.removeClass(e[i],"active")},pickUp:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=null;for(;!/^UL$/i.test(t.tagName)&&(i=t.getAttribute("data-value"),!i);)t=t.parentNode;if(!i)return;let n=this.getSelectedElements();if(0===n.length&&(this.getRange_addLine(this.getRange(),null),n=this.getSelectedElements(),0===n.length))return;const o=this.util.hasClass(t,"active")?this.util.removeClass.bind(this.util):this.util.addClass.bind(this.util);for(let e=0,t=n.length;e<t;e++)o(n[e],i);this.submenuOff(),this.history.push(!1)}},textStyle:{name:"textStyle",display:"submenu",add:function(e,t){const i=e.context;i.textStyle={_styleList:null};let n=this.setSubmenu(e),o=n.querySelector("ul");o.addEventListener("click",this.pickup.bind(e)),i.textStyle._styleList=n.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null,o=null},setSubmenu:function(e){const t=e.options,i=e.util.createElement("DIV");i.className="se-submenu se-list-layer se-list-format";const n={code:{name:e.lang.menu.code,class:"__se__t-code",tag:"code"},translucent:{name:e.lang.menu.translucent,style:"opacity: 0.5;",tag:"span"},shadow:{name:e.lang.menu.shadow,class:"__se__t-shadow",tag:"span"}},o=t.textStyles?t.textStyles:e._w.Object.keys(n);let l='<div class="se-list-inner"><ul class="se-list-basic">';for(let e,t,i,r,s,a,c,u=0,d=o.length;u<d;u++){if(e=o[u],r="",a="",s=[],"string"==typeof e){const t=n[e.toLowerCase()];if(!t)continue;e=t}i=e.name,t=e.tag||"span",c=e._class,e.style&&(r+=' style="'+e.style+'"',a+=e.style.replace(/:[^;]+(;|$)\s*/g,","),s.push("style")),e.class&&(r+=' class="'+e.class+'"',a+="."+e.class.trim().replace(/\s+/g,",."),s.push("class")),a=a.replace(/,$/,""),l+='<li><button type="button" class="se-btn-list'+(c?" "+c:"")+'" data-command="'+t+'" data-value="'+a+'" title="'+i+'" aria-label="'+i+'"><'+t+r+">"+i+"</"+t+"></button></li>"}return l+="</ul></div>",i.innerHTML=l,i},on:function(){const e=this.util,t=this.context.textStyle._styleList,i=this.getSelectionNode();for(let n,o,l,r=0,s=t.length;r<s;r++){n=t[r],o=n.getAttribute("data-value").split(",");for(let t,r,s=0;s<o.length;s++){for(t=i,l=!1;t&&!e.isFormatElement(t)&&!e.isComponent(t);){if(t.nodeName.toLowerCase()===n.getAttribute("data-command").toLowerCase()&&(r=o[s],/^\./.test(r)?e.hasClass(t,r.replace(/^\./,"")):t.style[r])){l=!0;break}t=t.parentNode}if(!l)break}l?e.addClass(n,"active"):e.removeClass(n,"active")}},pickup:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=null,n=null;for(;!i&&!/UL/i.test(t.tagName);){if(i=t.getAttribute("data-command"),i){n=t.firstChild;break}t=t.parentNode}if(!i)return;const o=n.style.cssText.replace(/:.+(;|$)/g,",").split(",");o.pop();const l=n.classList;for(let e=0,t=l.length;e<t;e++)o.push("."+l[e]);const r=this.util.hasClass(t,"active")?null:n.cloneNode(!1),s=r?null:[n.nodeName];this.nodeChange(r,o,s,!0),this.submenuOff()}},link:Xe,image:ot,video:lt,audio:rt,math:at,imageGallery:dt};var pt=i(216),ft=i.n(pt);i(9949);function gt(e){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gt(e)}function mt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function vt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=gt(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=gt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var bt=[];const yt=function(e){var t=Q.init({codeMirror:ft(),height:"auto",plugins:ht,buttonList:[],stickyToolbar:!1});e.querySelectorAll('[data-component="wysiwyg-editor"][data-editor-type="suneditor"]').forEach((function(e){bt.includes(e.id)&&(e.id="".concat(e.id,"-").concat(Math.random().toString(36).substring(7)));var i=JSON.parse(e.dataset.editorButtons),n=e.dataset.editorHeight,o=e.dataset.editorLocale,l=JSON.parse(e.dataset.editorCustomConfig),r=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(i),!0).forEach((function(t){vt(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):mt(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({height:n,buttonList:i,lang:Ue[o],linkRelDefault:{check_new_window:"noreferrer noopener"},linkNoPrefix:!0},l),s=t.create(e,r);s.onChange=function(){s.save()},bt.push(e.id)}))};function wt(e){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wt(e)}function _t(e,t,i){return(t=Et(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ct(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return xt(e,t);var i={}.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?xt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,r=!0,s=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){s=!0,l=e},f:function(){try{r||null==i.return||i.return()}finally{if(s)throw l}}}}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}function kt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function St(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Et(n.key),n)}}function Lt(e,t,i){return t&&St(e.prototype,t),i&&St(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function Et(e){var t=function(e,t){if("object"!=wt(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=wt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wt(t)?t:t+""}var Tt=function(e){yt(e)};i.g.MonsieurBizRichEditorWysiwyg=function(){return Lt((function e(t){kt(this,e)}),[{key:"load",value:function(e){console.log("Deprecated method MonsieurBizRichEditorWysiwyg.load(), use initEditors(target) instead.")}},{key:"setupEditor",value:function(e){console.log("Deprecated method MonsieurBizRichEditorWysiwyg.setupEditor(), use initEditors(target) instead.")}}])}(),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("body");Tt(e)})),document.addEventListener("rich-editor:reload",(function(e){var t=e.detail.target;void 0!==t&&Tt(t)})),i.g.MonsieurBizRichEditorConfig=function(){return Lt((function e(t,i,n,o,l,r,s,a,c,u,d,h,p,f,g,m){kt(this,e),this.input=t,this.uielements=i,this.containerHtml=n,this.actionsHtml=o,this.elementHtml=l,this.elementCardHtml=r,this.panelsHtml=s,this.panelsEditHtml=a,this.deletionConfirmation=c,this.createElementFormUrl=u,this.editElementFormUrl=d,this.renderElementsUrl=h,this.defaultUiElement=p,this.defaultUIElementDataField=f,this.errorMessage=g,this.unallowedUiElementMessage=m,this.uid=Math.random().toString(36).substring(2,11)}),[{key:"findUiElementByCode",value:function(e){return void 0===this.uielements[e]?null:this.uielements[e]}}])}(),i.g.MonsieurBizRichEditorUiElement=function(){return Lt((function e(t,i,n,o){kt(this,e),this.config=t,this.code=i,this.data=n,this.previewHtml=o}),[{key:"toJSON",value:function(){return{code:this.code,data:this.data}}},{key:"uielement",get:function(){return this.config.findUiElementByCode(this.code)}},{key:"enabled",get:function(){return this.uielement.enabled}},{key:"title",get:function(){return this.uielement.title}},{key:"description",get:function(){return this.uielement.description}},{key:"icon",get:function(){return this.uielement.icon}},{key:"manager",get:function(){return this.config.input.manager}},{key:"edit",value:function(){this.manager.editUiElement(this)}},{key:"copy",value:function(e){this.manager.saveUiElementToClipboard(this,e)}},{key:"up",value:function(){this.manager.moveUp(this)}},{key:"down",value:function(){this.manager.moveDown(this)}},{key:"delete",value:function(){this.manager.delete(this)}}])}(),i.g.MonsieurBizRichEditorManager=function(){return Lt((function e(t,i,n){kt(this,e),t.input.setAttribute("data-rich-editor-uid",t.uid),this.config=t;var o=this.input.value.trim();this.tags=i,this.tagsAreExclusive=!1;var l,r=Ct(this.tags);try{for(r.s();!(l=r.n()).done;){if(!l.value.startsWith("-")){this.tagsAreExclusive=!0;break}}}catch(e){r.e(e)}finally{r.f()}this.locale=n;var s=function(){this.initInterface()}.bind(this);if(""!==o)try{this.initUiElements(JSON.parse(o),s)}catch(e){this.initUiElements([{code:this.config.defaultUiElement,data:_t({},this.config.defaultUIElementDataField,o)}],s)}else this.uiElements=[],this.initInterface()}),[{key:"initUiElements",value:function(e,t){this.uiElements=[],this.requestUiElementsHtml(e,(function(){200===this.status&&(JSON.parse(this.responseText).forEach(function(t,i){var n=e[i];void 0===n.code&&void 0!==n.type&&(n.code=n.type,n.data=n.fields,delete n.type,delete n.fields);var o=this.config.findUiElementByCode(n.code);null!==o&&this.uiElements.push(new MonsieurBizRichEditorUiElement(this.config,o.code,n.data,t))}.bind(this.manager)),t())}))}},{key:"initInterface",value:function(){this.initUiElementsInterface(),this.initUiPanelsInterface(),this.initUiToolsInterface(),document.dispatchEvent(new CustomEvent("mbiz:rich-editor:init-interface-complete",{detail:{editorManager:this}})),document.addEventListener("mbiz:rich-editor:uielement:copied",function(e){this.container.querySelectorAll(".js-uie-paste").forEach(function(e){e.classList.remove("disabled")}.bind(this))}.bind(this)),document.addEventListener("mbiz:rich-editor:uielements:copied",function(e){this.container.querySelectorAll(".js-uie-tools-paste-all").forEach(function(e){e.removeAttribute("disabled")}.bind(this))}.bind(this)),null!==window.localStorage.getItem("monsieurBizRichEditorElementsClipboard")&&this.container.querySelectorAll(".js-uie-tools-paste-all").forEach(function(e){e.removeAttribute("disabled")}.bind(this))}},{key:"initUiToolsInterface",value:function(){var e=this,t=this.container.querySelector(".js-uie-tools-copy-all"),i=this.container.querySelector(".js-uie-tools-paste-all"),n=this.container.querySelector(".js-uie-tools-trash-all");t&&t.addEventListener("click",(function(t){e.saveUiElementsToClipboard(t.currentTarget)})),i&&i.addEventListener("click",(function(t){e.pasteUiElementsFromClipboard()})),n&&n.addEventListener("click",(function(t){e.resetUiElements()}))}},{key:"initUiPanelsInterface",value:function(){var e=document.createElement("div");e.innerHTML=W.render(this.config.panelsHtml,{uid:this.config.uid}),document.body.appendChild(e.firstElementChild);var t=document.createElement("div");t.innerHTML=W.render(this.config.panelsEditHtml,{uid:this.config.uid}),document.body.appendChild(t.firstElementChild),this.selectionPanel=new x(".js-uie-panels-"+this.config.uid,{labelledby:"uie-heading-"+this.config.uid,enableAutoFocus:!1,closingSelector:".js-uie-panels-close-"+this.config.uid}),this.newPanel=new x(".js-uie-panels-new-"+this.config.uid,{helperSelector:".js-uie-panels-selector-"+this.config.uid,enableAutoFocus:!1}),this.editPanel=new x(".js-uie-panels-edit-"+this.config.uid,{enableAutoFocus:!1})}},{key:"initUiElementsInterface",value:function(){this.input.type="hidden";var e=document.createElement("div");e.innerHTML=W.render(this.config.containerHtml,{}),this.container=e.firstElementChild,this.input.after(this.container),this.write()}},{key:"drawUiElements",value:function(){var e=this.container.querySelector(".js-uie-container");e.innerHTML="",this.uiElements.forEach(function(t,i){e.append(this.getActions(i)),e.append(this.getUiElement(t,i))}.bind(this)),e.append(this.getActions(this.uiElements.length))}},{key:"getActions",value:function(e){var t=document.createElement("div");t.innerHTML=W.render(this.config.actionsHtml,{position:e});var i=t.firstElementChild;return i.querySelector(".js-uie-add").position=e,i.querySelector(".js-uie-add").manager=this,i.querySelector(".js-uie-add").addEventListener("click",(function(e){i.querySelector(".js-uie-add").manager.openSelectionPanel(i.querySelector(".js-uie-add").position)})),i.querySelector(".js-uie-paste").position=e,i.querySelector(".js-uie-paste").manager=this,i.querySelector(".js-uie-paste").addEventListener("click",(function(e){i.querySelector(".js-uie-paste").manager.pasteUiElementFromClipboard(i.querySelector(".js-uie-paste").position)})),this.isClipboardEmpty("monsieurBizRichEditorElementClipboard")||i.querySelector(".js-uie-paste").classList.remove("disabled"),i}},{key:"getUiElement",value:function(e,t){var i=document.createElement("div");i.innerHTML=W.render(this.config.elementHtml,{title:e.title,icon:e.icon,preview:e.previewHtml,disabled:!e.enabled});var n=i.firstElementChild;return n.element=e,n.position=t,n.querySelector(".js-uie-delete").addEventListener("click",(function(){confirm(this.closest(".js-uie-element").element.config.deletionConfirmation)&&this.closest(".js-uie-element").element.delete()})),0===t?n.querySelector(".js-uie-up").remove():n.querySelector(".js-uie-up").addEventListener("click",(function(){this.closest(".js-uie-element").element.up()})),t===this.uiElements.length-1?n.querySelector(".js-uie-down").remove():n.querySelector(".js-uie-down").addEventListener("click",(function(){this.closest(".js-uie-element").element.down()})),n.querySelector(".js-uie-edit").addEventListener("click",(function(){this.closest(".js-uie-element").element.edit()})),n.querySelector(".js-uie-copy").addEventListener("click",(function(e){this.closest(".js-uie-element").element.copy((function(){var t=e.currentTarget,i=t.dataset.tooltip;t.dataset.tooltip=t.dataset.alternateText,window.setTimeout((function(){t.dataset.tooltip=i}),1e3)}))})),n}},{key:"getNewUiElementCard",value:function(e,t){var i=document.createElement("div");i.innerHTML=W.render(this.config.elementCardHtml,e);var n=i.firstElementChild;return n.element=e,n.position=t,n.manager=this,n.addEventListener("click",(function(e){var t=e.currentTarget;t.manager.loadUiElementCreateForm(t.element,(function(e){if(200===this.status){var i=JSON.parse(this.responseText);t.manager.openNewPanel(i.form_html,t.element,t.position)}}))})),n}},{key:"input",get:function(){return this.config.input}},{key:"openSelectionPanel",value:function(e){this.selectionPanel.dialog.manager=this,this.selectionPanel.dialog.position=e;var t=this.selectionPanel.dialog.querySelector(".js-uie-cards-container");for(var i in t.innerHTML="",this.config.uielements)!this.config.uielements[i].ignored&&this.config.uielements[i].enabled&&this.elementIsAllowed(this.tags,this.config.uielements[i].tags,this.tagsAreExclusive)&&t.append(this.getNewUiElementCard(this.config.uielements[i],e));this.newPanel.close(),this.selectionPanel.open()}},{key:"drawNewForm",value:function(e,t){this.newPanel.dialog.innerHTML=e;var i=this.newPanel.dialog;Tt(i),this.dispatchInitFormEvent(i,this);var n=i.querySelector("form");n.manager=this,n.position=t,n.addEventListener("submit",(function(e){e.preventDefault();var t=e.currentTarget;return t.manager.submitUiElementForm(t,(function(){if(200===this.status){var e=JSON.parse(this.responseText);e.error?this.form.manager.drawNewForm(e.form_html,this.form.position):(this.form.manager.create(e.code,e.data,e.previewHtml,this.form.position),this.form.manager.newPanel.close(),this.form.manager.selectionPanel.close(),t.innerHTML="")}200!==this.status&&alert(this.form.manager.config.errorMessage)})),!1}));var o=i.querySelector(".js-uie-cancel");o.panel=this.newPanel,o.addEventListener("click",(function(e){e.currentTarget.panel.close(),n.innerHTML=""}));var l=i.querySelector(".js-uie-save");l.panel=this.newPanel,l.addEventListener("click",(function(e){e.currentTarget.panel.dialog.querySelector("form").dispatchEvent(new Event("submit",{cancelable:!0}))}))}},{key:"openNewPanel",value:function(e,t,i){this.newPanel.dialog.manager=this,this.newPanel.dialog.position=i,this.drawNewForm(e,i),this.newPanel.open()}},{key:"editUiElement",value:function(e){this.loadUiElementEditForm(e,(function(t){if(200===this.status){var i=JSON.parse(this.responseText);e.manager.openEditPanel(i.form_html,e)}}))}},{key:"drawEditForm",value:function(e,t){this.editPanel.dialog.querySelector(".js-uie-content").innerHTML=e;var i=this.editPanel.dialog;Tt(i),this.dispatchInitFormEvent(i,this);var n=i.querySelector("form");n.manager=this,n.uiElement=t,n.addEventListener("submit",(function(e){e.preventDefault();var t=e.currentTarget;return t.manager.submitUiElementForm(t,(function(){if(200===this.status){var e=JSON.parse(this.responseText);e.error?this.form.manager.drawEditForm(e.form_html,this.form.uiElement):(this.form.uiElement.data=e.data,this.form.uiElement.previewHtml=e.previewHtml,this.form.manager.write(),this.form.manager.editPanel.close(),t.innerHTML="")}200!==this.status&&alert(this.config.errorMessage)})),!1}));var o=i.querySelector(".js-uie-cancel");o.panel=this.editPanel,o.addEventListener("click",(function(e){e.currentTarget.panel.close(),n.innerHTML=""}));var l=i.querySelector(".js-uie-save");l.panel=this.editPanel,l.addEventListener("click",(function(e){e.currentTarget.panel.dialog.querySelector("form").dispatchEvent(new Event("submit",{cancelable:!0}))}))}},{key:"openEditPanel",value:function(e,t){this.editPanel.dialog.manager=this,this.editPanel.dialog.uiElement=t,this.drawEditForm(e,t),this.editPanel.open()}},{key:"write",value:function(){this.input.value=this.uiElements.length>0?JSON.stringify(this.uiElements):"",this.drawUiElements(),document.dispatchEvent(new CustomEvent("mbiz:rich-editor:write-complete",{detail:{editorManager:this}}))}},{key:"create",value:function(e,t,i,n){var o=new MonsieurBizRichEditorUiElement(this.config,e,t,i);return this.uiElements.splice(n,0,o),this.write(),o}},{key:"moveUp",value:function(e){var t=this.uiElements.indexOf(e);0!==t&&(this.uiElements.splice(t,1),this.uiElements.splice(t-1,0,e),this.write())}},{key:"moveDown",value:function(e){var t=this.uiElements.indexOf(e);t!==this.uiElements.length-1&&(this.uiElements.splice(t,1),this.uiElements.splice(t+1,0,e),this.write())}},{key:"delete",value:function(e){var t=this.uiElements.indexOf(e);this.uiElements.splice(t,1),this.write()}},{key:"loadUiElementCreateForm",value:function(e,t){var i=new XMLHttpRequest;i.onload=t;var n=this.config.createElementFormUrl+"?locale="+this.locale;i.open("get",n.replace("__CODE__",e.code),!0),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.send()}},{key:"loadUiElementEditForm",value:function(e,t){var i=new XMLHttpRequest;i.onload=t;var n=this.config.editElementFormUrl;i.open("post",n.replace("__CODE__",e.code),!0),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send(new URLSearchParams({data:JSON.stringify(e.data),locale:this.locale}).toString())}},{key:"submitUiElementForm",value:function(e,t){var i=new XMLHttpRequest;i.onload=t,i.form=e,i.open("post",e.action,!0),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.send(new FormData(e))}},{key:"requestUiElementsHtml",value:function(e,t){var i=new XMLHttpRequest;i.onload=t,i.open("post",this.config.renderElementsUrl,!0),i.setRequestHeader("X-Requested-With","XMLHttpRequest");var n=new FormData;n.append("ui_elements",JSON.stringify(e)),this.input.dataset.locale&&n.append("locale",this.input.dataset.locale),i.uiElements=e,i.manager=this,i.send(n)}},{key:"isClipboardEmpty",value:function(e){var t=window.localStorage.getItem(e);return null===t||""===t}},{key:"resetUiElements",value:function(){var e=this;0!==this.uiElements.length&&this.loadUiConfirmationModal((function(){e.initUiElements([],(function(){e.write()}))}))}},{key:"loadUiConfirmationModal",value:function(e){var t=document.querySelector("#monsieurbiz-rich-editor-confirmation-modal"),i=t.querySelector("#monsieurbiz-rich-editor-confirmation-button"),n=i.cloneNode(!0);i.parentNode.replaceChild(n,i),n.addEventListener("click",(function(){e()})),$(t).modal("show")}},{key:"saveUiElementsToClipboard",value:function(e){window.localStorage.setItem("monsieurBizRichEditorElementsClipboard",JSON.stringify(this.uiElements));var t=e.dataset.tooltip;e.dataset.tooltip=e.dataset.alternateText,window.setTimeout((function(){e.dataset.tooltip=t}),1e3),document.dispatchEvent(new CustomEvent("mbiz:rich-editor:uielements:copied",{}))}},{key:"pasteUiElementsFromClipboard",value:function(){var e=this,t=window.localStorage.getItem("monsieurBizRichEditorElementsClipboard");if(null!==t){var i=JSON.parse(t),n=!0;if(i.forEach((function(t){var i=t.code;e.elementIsAllowed(e.tags,e.config.uielements[i].tags,e.tagsAreExclusive)||(n=!1)})),!n)return void alert(this.config.unallowedUiElementMessage);this.uiElements.length>0?this.loadUiConfirmationModal((function(){e.initUiElements(i,(function(){e.write()}))})):this.initUiElements(i,(function(){e.write()}))}}},{key:"saveUiElementToClipboard",value:function(e,t){window.localStorage.setItem("monsieurBizRichEditorElementClipboard",JSON.stringify(e)),t(),document.dispatchEvent(new CustomEvent("mbiz:rich-editor:uielement:copied",{}))}},{key:"pasteUiElementFromClipboard",value:function(e){var t=window.localStorage.getItem("monsieurBizRichEditorElementClipboard");if(null!==t){var i=JSON.parse(t),n=this;n.requestUiElementsHtml([i],(function(){if(200===this.status){var t=JSON.parse(this.responseText).shift();void 0===i.code&&void 0!==i.type&&(i.code=i.type,i.data=i.fields,delete i.type,delete i.fields);var o=n.config.findUiElementByCode(i.code);null!==o&&(n.tags.length>0?n.elementIsAllowed(n.tags,n.config.uielements[o.code].tags,n.tagsAreExclusive)?n.create(o.code,i.data,t,e):alert(n.config.unallowedUiElementMessage):n.create(o.code,i.data,t,e))}}))}}},{key:"elementIsAllowed",value:function(e,t,i){var n=!0;if(e.length>0)for(var o in n=!i,e){var l=e[o].replace(/^(-|\+)/,"");0<=t.indexOf(l)&&(n=!e[o].startsWith("-"))}return n}},{key:"dispatchInitFormEvent",value:function(e,t){document.dispatchEvent(new CustomEvent("monsieurBizRichEditorInitForm",{detail:{form:e,manager:t}}))}}])}()})()})();