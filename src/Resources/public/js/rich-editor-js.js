/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/public/";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./assets/js/app.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./assets/js/app.js":
/*!**************************!*\
  !*** ./assets/js/app.js ***!
  \**************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony import */ var a11y_dialog_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! a11y-dialog-component */ "./node_modules/a11y-dialog-component/dist/a11y-dialog-component.esm.js");
/* harmony import */ var mustache__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mustache */ "./node_modules/mustache/mustache.js");
/* harmony import */ var mustache__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mustache__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _editor_provider_pell__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./editor-provider/pell */ "./assets/js/editor-provider/pell.js");
/* harmony import */ var _editor_provider_editorjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./editor-provider/editorjs */ "./assets/js/editor-provider/editorjs.js");
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }






global.MonsieurBizRichEditorWysiwyg = /*#__PURE__*/function () {
  function _class(config) {
    _classCallCheck(this, _class);

    this.config = config; // {actions: []}

    this.provider = null;
  }

  _createClass(_class, [{
    key: "exec",
    value: function exec() {
      var _this$provider;

      if (this.provider === null) {
        return;
      }

      return (_this$provider = this.provider).exec.apply(_this$provider, arguments);
    }
  }, {
    key: "load",
    value: function load(container) {
      var targets = container.querySelectorAll('textarea.wysiwyg-enabled');

      var _iterator = _createForOfIteratorHelper(targets),
          _step;

      try {
        for (_iterator.s(); !(_step = _iterator.n()).done;) {
          var target = _step.value;
          this.setupEditor(target);
        }
      } catch (err) {
        _iterator.e(err);
      } finally {
        _iterator.f();
      }
    }
  }, {
    key: "setupEditor",
    value: function setupEditor(target) {
      target.setAttribute('hidden', 'true');
      var isEditorJS = target.dataset.editorjs !== undefined && target.dataset.editorjs !== 'false';
      this.provider = isEditorJS ? new _editor_provider_editorjs__WEBPACK_IMPORTED_MODULE_3__["default"](this.config) : new _editor_provider_pell__WEBPACK_IMPORTED_MODULE_2__["default"](this.config);
      this.provider.init(target);
    }
  }]);

  return _class;
}();

global.MonsieurBizRichEditorConfig = /*#__PURE__*/function () {
  function _class2(input, uielements, wysiwyg, containerHtml, actionsHtml, elementHtml, elementCardHtml, panelsHtml, panelsEditHtml, deletionConfirmation, createElementFormUrl, editElementFormUrl, renderElementsUrl, defaultUiElement, defaultUIElementDataField, errorMessage, unallowedUiElementMessage) {
    _classCallCheck(this, _class2);

    this.input = input;
    this.uielements = uielements;
    this.wysiwyg = wysiwyg;
    this.containerHtml = containerHtml;
    this.actionsHtml = actionsHtml;
    this.elementHtml = elementHtml;
    this.elementCardHtml = elementCardHtml;
    this.panelsHtml = panelsHtml;
    this.panelsEditHtml = panelsEditHtml;
    this.deletionConfirmation = deletionConfirmation;
    this.createElementFormUrl = createElementFormUrl;
    this.editElementFormUrl = editElementFormUrl;
    this.renderElementsUrl = renderElementsUrl;
    this.defaultUiElement = defaultUiElement;
    this.defaultUIElementDataField = defaultUIElementDataField;
    this.errorMessage = errorMessage;
    this.unallowedUiElementMessage = unallowedUiElementMessage;
    this.uid = Math.random().toString(36).substring(2, 11);
  }

  _createClass(_class2, [{
    key: "findUiElementByCode",
    value: function findUiElementByCode(code) {
      if (this.uielements[code] === undefined) {
        return null;
      }

      return this.uielements[code];
    }
  }]);

  return _class2;
}();

global.MonsieurBizRichEditorUiElement = /*#__PURE__*/function () {
  function _class3(config, code, data, previewHtml) {
    _classCallCheck(this, _class3);

    this.config = config;
    this.code = code;
    this.data = data;
    this.previewHtml = previewHtml;
  }

  _createClass(_class3, [{
    key: "toJSON",
    value: function toJSON() {
      return {
        code: this.code,
        data: this.data
      };
    }
  }, {
    key: "uielement",
    get: function get() {
      return this.config.findUiElementByCode(this.code);
    }
  }, {
    key: "enabled",
    get: function get() {
      return this.uielement.enabled;
    }
  }, {
    key: "title",
    get: function get() {
      return this.uielement.title;
    }
  }, {
    key: "description",
    get: function get() {
      return this.uielement.description;
    }
  }, {
    key: "icon",
    get: function get() {
      return this.uielement.icon;
    }
  }, {
    key: "manager",
    get: function get() {
      return this.config.input.manager;
    }
  }, {
    key: "edit",
    value: function edit() {
      this.manager.editUiElement(this);
    }
  }, {
    key: "copy",
    value: function copy(callback) {
      this.manager.saveUiElementToClipboard(this, callback);
    }
  }, {
    key: "up",
    value: function up() {
      this.manager.moveUp(this);
    }
  }, {
    key: "down",
    value: function down() {
      this.manager.moveDown(this);
    }
  }, {
    key: "delete",
    value: function _delete() {
      this.manager["delete"](this);
    }
  }]);

  return _class3;
}();
/**
 * Rich Editor Manager
 */


global.MonsieurBizRichEditorManager = /*#__PURE__*/function () {
  /**
   *
   */
  function _class4(config, tags) {
    _classCallCheck(this, _class4);

    config.input.setAttribute('data-rich-editor-uid', config.uid);
    this.config = config;
    var inputValue = this.input.value.trim();
    this.tags = tags;
    this.tagsAreExclusive = false;

    var _iterator2 = _createForOfIteratorHelper(this.tags),
        _step2;

    try {
      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
        var tag = _step2.value;

        if (!tag.startsWith('-')) {
          this.tagsAreExclusive = true;
          break;
        }
      }
    } catch (err) {
      _iterator2.e(err);
    } finally {
      _iterator2.f();
    }

    var initInterfaceCallback = function () {
      this.initInterface();
    }.bind(this);

    if (inputValue !== '') {
      try {
        this.initUiElements(JSON.parse(inputValue), initInterfaceCallback);
      } catch (e) {
        this.initUiElements([{
          "code": this.config.defaultUiElement,
          "data": _defineProperty({}, this.config.defaultUIElementDataField, inputValue)
        }], initInterfaceCallback);
      }
    } else {
      this.uiElements = [];
      this.initInterface();
    }
  }

  _createClass(_class4, [{
    key: "initUiElements",
    value: function initUiElements(stack, initInterfaceCallback) {
      this.uiElements = [];
      this.requestUiElementsHtml(stack, function () {
        // this = req
        if (this.status === 200) {
          var renderedElements = JSON.parse(this.responseText);
          renderedElements.forEach(function (elementHtml, position) {
            var element = stack[position];

            if (element.code === undefined && element.type !== undefined) {
              element.code = element.type;
              element.data = element.fields;
              delete element.type;
              delete element.fields;
            }

            var uiElement = this.config.findUiElementByCode(element.code);

            if (null !== uiElement) {
              this.uiElements.push(new MonsieurBizRichEditorUiElement(this.config, uiElement.code, element.data, elementHtml));
            }
          }.bind(this.manager));
          initInterfaceCallback();
        }
      });
    }
  }, {
    key: "initInterface",
    value: function initInterface() {
      this.initUiElementsInterface();
      this.initUiPanelsInterface();
      document.dispatchEvent(new CustomEvent('mbiz:rich-editor:init-interface-complete', {
        'detail': {
          'editorManager': this
        }
      }));
      document.addEventListener('mbiz:rich-editor:uielement:copied', function (e) {
        this.container.querySelectorAll('.js-uie-paste').forEach(function (action) {
          action.classList.remove('disabled');
        }.bind(this));
      }.bind(this));
    }
  }, {
    key: "initUiPanelsInterface",
    value: function initUiPanelsInterface() {
      var panelsWrapper = document.createElement('div');
      panelsWrapper.innerHTML = mustache__WEBPACK_IMPORTED_MODULE_1___default.a.render(this.config.panelsHtml, {
        uid: this.config.uid
      });
      document.body.appendChild(panelsWrapper.firstElementChild);
      var panelsEditWrapper = document.createElement('div');
      panelsEditWrapper.innerHTML = mustache__WEBPACK_IMPORTED_MODULE_1___default.a.render(this.config.panelsEditHtml, {
        uid: this.config.uid
      });
      document.body.appendChild(panelsEditWrapper.firstElementChild);
      this.selectionPanel = new a11y_dialog_component__WEBPACK_IMPORTED_MODULE_0__["default"]('.js-uie-panels-' + this.config.uid, {
        labelledby: 'uie-heading-' + this.config.uid,
        enableAutoFocus: false,
        closingSelector: '.js-uie-panels-close-' + this.config.uid
      });
      this.newPanel = new a11y_dialog_component__WEBPACK_IMPORTED_MODULE_0__["default"]('.js-uie-panels-new-' + this.config.uid, {
        helperSelector: '.js-uie-panels-selector-' + this.config.uid,
        enableAutoFocus: false
      });
      this.editPanel = new a11y_dialog_component__WEBPACK_IMPORTED_MODULE_0__["default"]('.js-uie-panels-edit-' + this.config.uid, {
        enableAutoFocus: false
      });
    }
  }, {
    key: "initUiElementsInterface",
    value: function initUiElementsInterface() {
      this.input.type = 'hidden'; // container first

      var containerWrapper = document.createElement('div');
      containerWrapper.innerHTML = mustache__WEBPACK_IMPORTED_MODULE_1___default.a.render(this.config.containerHtml, {});
      this.container = containerWrapper.firstElementChild;
      this.input.after(this.container); // Redraw all elements then (using a write to keep compatibility)

      this.write();
    }
  }, {
    key: "drawUiElements",
    value: function drawUiElements() {
      // Elements
      var elementsContainer = this.container.querySelector('.js-uie-container');
      elementsContainer.innerHTML = '';
      this.uiElements.forEach(function (element, position) {
        elementsContainer.append(this.getActions(position));
        elementsContainer.append(this.getUiElement(element, position));
      }.bind(this));
      elementsContainer.append(this.getActions(this.uiElements.length));
    }
  }, {
    key: "getActions",
    value: function getActions(position) {
      var actionsWrapper = document.createElement('div');
      actionsWrapper.innerHTML = mustache__WEBPACK_IMPORTED_MODULE_1___default.a.render(this.config.actionsHtml, {
        'position': position
      });
      var actions = actionsWrapper.firstElementChild; // Add button

      actions.querySelector('.js-uie-add').position = position;
      actions.querySelector('.js-uie-add').manager = this;
      actions.querySelector('.js-uie-add').addEventListener('click', function (e) {
        actions.querySelector('.js-uie-add').manager.openSelectionPanel(actions.querySelector('.js-uie-add').position);
      }); // Paste clipboard button

      actions.querySelector('.js-uie-paste').position = position;
      actions.querySelector('.js-uie-paste').manager = this;
      actions.querySelector('.js-uie-paste').addEventListener('click', function (e) {
        actions.querySelector('.js-uie-paste').manager.pasteUiElementFromClipboard(actions.querySelector('.js-uie-paste').position);
      }); // Disabled?

      if (!this.isClipboardEmpty()) {
        actions.querySelector('.js-uie-paste').classList.remove('disabled');
      }

      return actions;
    }
  }, {
    key: "getUiElement",
    value: function getUiElement(element, position) {
      var elementWrapper = document.createElement('div');
      elementWrapper.innerHTML = mustache__WEBPACK_IMPORTED_MODULE_1___default.a.render(this.config.elementHtml, {
        'title': element.title,
        'icon': element.icon,
        'preview': element.previewHtml,
        'disabled': !element.enabled
      });
      var uiElement = elementWrapper.firstElementChild;
      uiElement.element = element;
      uiElement.position = position;
      uiElement.querySelector('.js-uie-delete').addEventListener('click', function () {
        if (confirm(this.closest('.js-uie-element').element.config.deletionConfirmation)) {
          this.closest('.js-uie-element').element["delete"]();
        }
      });

      if (position === 0) {
        uiElement.querySelector('.js-uie-up').remove();
      } else {
        uiElement.querySelector('.js-uie-up').addEventListener('click', function () {
          this.closest('.js-uie-element').element.up();
        });
      }

      if (position === this.uiElements.length - 1) {
        uiElement.querySelector('.js-uie-down').remove();
      } else {
        uiElement.querySelector('.js-uie-down').addEventListener('click', function () {
          this.closest('.js-uie-element').element.down();
        });
      }

      uiElement.querySelector('.js-uie-edit').addEventListener('click', function () {
        this.closest('.js-uie-element').element.edit();
      });
      uiElement.querySelector('.js-uie-copy').addEventListener('click', function (e) {
        this.closest('.js-uie-element').element.copy(function () {
          var button = e.currentTarget;
          var originalText = button.dataset.tooltip;
          button.dataset.tooltip = button.dataset.alternateText;
          window.setTimeout(function () {
            button.dataset.tooltip = originalText;
          }, 1000);
        });
      });
      return uiElement;
    }
  }, {
    key: "getNewUiElementCard",
    value: function getNewUiElementCard(element, position) {
      var cardWrapper = document.createElement('div');
      cardWrapper.innerHTML = mustache__WEBPACK_IMPORTED_MODULE_1___default.a.render(this.config.elementCardHtml, element);
      var button = cardWrapper.firstElementChild;
      button.element = element;
      button.position = position;
      button.manager = this;
      button.addEventListener('click', function (e) {
        var button = e.currentTarget;
        button.manager.loadUiElementCreateForm(button.element, function (progress) {
          if (this.status === 200) {
            var data = JSON.parse(this.responseText);
            button.manager.openNewPanel(data['form_html'], button.element, button.position);
          }
        });
      });
      return button;
    }
  }, {
    key: "input",
    get: function get() {
      return this.config.input;
    }
  }, {
    key: "wysiwyg",
    get: function get() {
      return this.config.wysiwyg;
    }
  }, {
    key: "openSelectionPanel",
    value: function openSelectionPanel(position) {
      this.selectionPanel.dialog.manager = this;
      this.selectionPanel.dialog.position = position; // Draw element cards

      var cardsContainer = this.selectionPanel.dialog.querySelector('.js-uie-cards-container');
      cardsContainer.innerHTML = '';

      for (var elementCode in this.config.uielements) {
        if (this.config.uielements[elementCode].ignored // duplicates using aliases
        || !this.config.uielements[elementCode].enabled // avoid disabled elements to show up!
        ) {
          continue;
        }

        var append = true;

        if (this.tags.length > 0) {
          append = !this.tagsAreExclusive;

          for (var tagIndex in this.tags) {
            // We proceed tag by tag, excluding and including for every tag, so the order matters!
            var realTag = this.tags[tagIndex].replace(/^(-|\+)/, '');

            if (0 <= this.config.uielements[elementCode].tags.indexOf(realTag)) {
              // The element is tagged
              append = !this.tags[tagIndex].startsWith('-'); // Append only if the tag is not excluded
            }
          }
        }

        if (append) {
          cardsContainer.append(this.getNewUiElementCard(this.config.uielements[elementCode], position));
        }
      }

      this.newPanel.close();
      this.selectionPanel.open();
    }
  }, {
    key: "drawNewForm",
    value: function drawNewForm(formHtml, position) {
      this.newPanel.dialog.innerHTML = formHtml;
      var form = this.newPanel.dialog;
      this.wysiwyg.load(form);
      this.dispatchInitFormEvent(form, this); // Form submit

      var formElement = form.querySelector('form');
      formElement.manager = this;
      formElement.position = position;
      formElement.addEventListener('submit', function (e) {
        e.preventDefault();
        var myForm = e.currentTarget;
        myForm.manager.submitUiElementForm(myForm, function () {
          if (this.status === 200) {
            var data = JSON.parse(this.responseText);

            if (data.error) {
              this.form.manager.drawNewForm(data.form_html, this.form.position);
            } else {
              this.form.manager.create(data.code, data.data, data.previewHtml, this.form.position);
              this.form.manager.newPanel.close();
              this.form.manager.selectionPanel.close();
            }
          }

          if (this.status !== 200) {
            alert(this.form.manager.config.errorMessage);
          }
        });
        return false;
      }); // Buttons

      var cancelButton = form.querySelector('.js-uie-cancel');
      cancelButton.panel = this.newPanel;
      cancelButton.addEventListener('click', function (e) {
        e.currentTarget.panel.close();
      });
      var saveButton = form.querySelector('.js-uie-save');
      saveButton.panel = this.newPanel;
      saveButton.addEventListener('click', function (e) {
        e.currentTarget.panel.dialog.querySelector('form').dispatchEvent(new Event('submit', {
          cancelable: true
        }));
      });
    }
  }, {
    key: "openNewPanel",
    value: function openNewPanel(formHtml, element, position) {
      this.newPanel.dialog.manager = this;
      this.newPanel.dialog.position = position; // Fill the panel with the form

      this.drawNewForm(formHtml, position);
      this.newPanel.open();
    }
  }, {
    key: "editUiElement",
    value: function editUiElement(uiElement) {
      this.loadUiElementEditForm(uiElement, function (progress) {
        if (this.status === 200) {
          var data = JSON.parse(this.responseText);
          uiElement.manager.openEditPanel(data['form_html'], uiElement);
        }
      });
    }
  }, {
    key: "drawEditForm",
    value: function drawEditForm(formHtml, uiElement) {
      this.editPanel.dialog.querySelector('.js-uie-content').innerHTML = formHtml;
      var form = this.editPanel.dialog;
      this.wysiwyg.load(form);
      this.dispatchInitFormEvent(form, this); // Form submit

      var formElement = form.querySelector('form');
      formElement.manager = this;
      formElement.uiElement = uiElement;
      formElement.addEventListener('submit', function (e) {
        e.preventDefault();
        var myForm = e.currentTarget;
        myForm.manager.submitUiElementForm(myForm, function () {
          if (this.status === 200) {
            var data = JSON.parse(this.responseText);

            if (data.error) {
              this.form.manager.drawEditForm(data.form_html, this.form.uiElement);
            } else {
              this.form.uiElement.data = data.data;
              this.form.uiElement.previewHtml = data.previewHtml;
              this.form.manager.write();
              this.form.manager.editPanel.close();
            }
          }

          if (this.status !== 200) {
            alert(this.config.errorMessage);
          }
        });
        return false;
      }); // Buttons

      var cancelButton = form.querySelector('.js-uie-cancel');
      cancelButton.panel = this.editPanel;
      cancelButton.addEventListener('click', function (e) {
        e.currentTarget.panel.close();
      });
      var saveButton = form.querySelector('.js-uie-save');
      saveButton.panel = this.editPanel;
      saveButton.addEventListener('click', function (e) {
        e.currentTarget.panel.dialog.querySelector('form').dispatchEvent(new Event('submit', {
          cancelable: true
        }));
      });
    }
  }, {
    key: "openEditPanel",
    value: function openEditPanel(formHtml, uiElement) {
      this.editPanel.dialog.manager = this;
      this.editPanel.dialog.uiElement = uiElement; // Fill the panel with the form

      this.drawEditForm(formHtml, uiElement);
      this.editPanel.open();
    }
  }, {
    key: "write",
    value: function write() {
      this.input.value = this.uiElements.length > 0 ? JSON.stringify(this.uiElements) : '';
      this.drawUiElements();
      document.dispatchEvent(new CustomEvent('mbiz:rich-editor:write-complete', {
        'detail': {
          'editorManager': this
        }
      }));
    }
  }, {
    key: "create",
    value: function create(code, data, previewHtml, position) {
      var uiElement = new MonsieurBizRichEditorUiElement(this.config, code, data, previewHtml);
      this.uiElements.splice(position, 0, uiElement);
      this.write();
      return uiElement;
    }
  }, {
    key: "moveUp",
    value: function moveUp(uiElement) {
      var position = this.uiElements.indexOf(uiElement);

      if (position === 0) {
        return;
      }

      this.uiElements.splice(position, 1);
      this.uiElements.splice(position - 1, 0, uiElement);
      this.write();
    }
  }, {
    key: "moveDown",
    value: function moveDown(uiElement) {
      var position = this.uiElements.indexOf(uiElement);

      if (position === this.uiElements.length - 1) {
        return;
      }

      this.uiElements.splice(position, 1);
      this.uiElements.splice(position + 1, 0, uiElement);
      this.write();
    }
  }, {
    key: "delete",
    value: function _delete(uiElement) {
      var position = this.uiElements.indexOf(uiElement);
      this.uiElements.splice(position, 1);
      this.write();
    }
  }, {
    key: "loadUiElementCreateForm",
    value: function loadUiElementCreateForm(element, callback) {
      var req = new XMLHttpRequest();
      req.onload = callback;
      var url = this.config.createElementFormUrl;
      req.open("get", url.replace('__CODE__', element.code), true);
      req.setRequestHeader("X-Requested-With", "XMLHttpRequest");
      req.send();
    }
  }, {
    key: "loadUiElementEditForm",
    value: function loadUiElementEditForm(element, callback) {
      var req = new XMLHttpRequest();
      req.onload = callback;
      var url = this.config.editElementFormUrl;
      req.open("post", url.replace('__CODE__', element.code), true);
      req.setRequestHeader("X-Requested-With", "XMLHttpRequest");
      req.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
      req.send(new URLSearchParams({
        data: JSON.stringify(element.data)
      }).toString());
    }
  }, {
    key: "submitUiElementForm",
    value: function submitUiElementForm(form, callback) {
      var req = new XMLHttpRequest();
      req.onload = callback;
      req.form = form;
      req.open("post", form.action, true);
      req.setRequestHeader("X-Requested-With", "XMLHttpRequest");
      req.send(new FormData(form));
    }
  }, {
    key: "requestUiElementsHtml",
    value: function requestUiElementsHtml(uiElements, callback) {
      var req = new XMLHttpRequest();
      req.onload = callback;
      req.open("post", this.config.renderElementsUrl, true);
      req.setRequestHeader("X-Requested-With", "XMLHttpRequest");
      var data = new FormData();
      data.append('ui_elements', JSON.stringify(uiElements));

      if (this.input.dataset.locale) {
        data.append('locale', this.input.dataset.locale);
      }

      req.uiElements = uiElements;
      req.manager = this;
      req.send(data);
    }
  }, {
    key: "isClipboardEmpty",
    value: function isClipboardEmpty() {
      var clipboard = window.sessionStorage.getItem('monsieurBizRichEditorClipboard');
      return null === clipboard || '' === clipboard;
    }
  }, {
    key: "saveUiElementToClipboard",
    value: function saveUiElementToClipboard(uiElement, callback) {
      window.sessionStorage.setItem('monsieurBizRichEditorClipboard', JSON.stringify(uiElement));
      callback();
      document.dispatchEvent(new CustomEvent('mbiz:rich-editor:uielement:copied', {}));
    }
  }, {
    key: "pasteUiElementFromClipboard",
    value: function pasteUiElementFromClipboard(futurePosition) {
      var clipboard = window.sessionStorage.getItem('monsieurBizRichEditorClipboard');

      if (null !== clipboard) {
        var pastedUiElement = JSON.parse(clipboard);
        var manager = this;
        manager.requestUiElementsHtml([pastedUiElement], function () {
          if (this.status === 200) {
            var renderedElements = JSON.parse(this.responseText);
            var elementHtml = renderedElements.shift();

            if (pastedUiElement.code === undefined && pastedUiElement.type !== undefined) {
              pastedUiElement.code = pastedUiElement.type;
              pastedUiElement.data = pastedUiElement.fields;
              delete pastedUiElement.type;
              delete pastedUiElement.fields;
            }

            var uiElement = manager.config.findUiElementByCode(pastedUiElement.code);

            if (null !== uiElement) {
              if (manager.tags.length > 0) {
                var copy = false;

                for (var tagIndex in manager.tags) {
                  if (0 <= manager.config.uielements[uiElement.code].tags.indexOf(manager.tags[tagIndex])) {
                    copy = true;
                  }
                }

                if (copy) {
                  manager.create(uiElement.code, pastedUiElement.data, elementHtml, futurePosition);
                } else {
                  alert(manager.config.unallowedUiElementMessage);
                }
              } else {
                manager.create(uiElement.code, pastedUiElement.data, elementHtml, futurePosition);
              }
            }
          }
        });
      }
    }
  }, {
    key: "dispatchInitFormEvent",
    value: function dispatchInitFormEvent(form, manager) {
      document.dispatchEvent(new CustomEvent('monsieurBizRichEditorInitForm', {
        'detail': {
          'form': form,
          'manager': manager
        }
      }));
    }
  }]);

  return _class4;
}();
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../node_modules/webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./assets/js/editor-provider/editorjs.js":
/*!***********************************************!*\
  !*** ./assets/js/editor-provider/editorjs.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _editorjs_editorjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @editorjs/editorjs */ "./node_modules/@editorjs/editorjs/dist/editorjs.mjs");
/* harmony import */ var _editorjs_header__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @editorjs/header */ "./node_modules/@editorjs/header/dist/header.mjs");
/* harmony import */ var _editorjs_list__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @editorjs/list */ "./node_modules/@editorjs/list/dist/list.mjs");
/* harmony import */ var editorjs_hyperlink__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! editorjs-hyperlink */ "./node_modules/editorjs-hyperlink/dist/bundle.js");
/* harmony import */ var editorjs_hyperlink__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(editorjs_hyperlink__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _editorjs_delimiter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @editorjs/delimiter */ "./node_modules/@editorjs/delimiter/dist/delimiter.mjs");
/* harmony import */ var editorjs_inline_tool__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! editorjs-inline-tool */ "./node_modules/editorjs-inline-tool/esm/index.js");
/* harmony import */ var _codexteam_icons__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @codexteam/icons */ "./node_modules/@codexteam/icons/dist/index.mjs");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }









var CustomHyperlink = /*#__PURE__*/function (_Hyperlink) {
  _inherits(CustomHyperlink, _Hyperlink);

  var _super = _createSuper(CustomHyperlink);

  function CustomHyperlink() {
    _classCallCheck(this, CustomHyperlink);

    return _super.apply(this, arguments);
  }

  _createClass(CustomHyperlink, [{
    key: "iconSvg",
    value: // Fix icon - cf https://github.com/trinhtam/editorjs-hyperlink/issues/19#issuecomment-1814519884
    function iconSvg(name) {
      var width = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 14;
      var height = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 14;
      var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
      svg.classList.add('icon', 'icon--' + name);
      svg.setAttribute('width', '24');
      svg.setAttribute('height', '24');
      svg.setAttribute('viewBox', '0 0 24 24');
      svg.setAttribute('fill', 'none');

      if (name == 'link') {
        svg.innerHTML = "\n        <path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12\"></path><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72\"></path>\n      ";
      } else {
        svg.innerHTML = "\n        <path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999\"></path><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883\"></path><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818\"></path><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397\"></path><line x1=\"12.1142\" x2=\"11.7\" y1=\"12.2\" y2=\"11.7858\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"></line>\n      ";
      }

      return svg;
    } // Fix can't change hyperlink - https://github.com/trinhtam/editorjs-hyperlink/pull/22/files

  }, {
    key: "insertLink",
    value: function insertLink(link) {
      var target = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
      var rel = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';
      document.execCommand(this.commandLink, false, link);

      _get(_getPrototypeOf(CustomHyperlink.prototype), "insertLink", this).call(this, link, target, rel);
    }
  }]);

  return CustomHyperlink;
}(editorjs_hyperlink__WEBPACK_IMPORTED_MODULE_3___default.a);

var EditorJSProvider = /*#__PURE__*/function () {
  function EditorJSProvider(config) {
    _classCallCheck(this, EditorJSProvider);

    this.config = config;
  }

  _createClass(EditorJSProvider, [{
    key: "init",
    value: function init(target) {
      var wysiwygContainer = document.createElement('div');
      wysiwygContainer.classList.add('editorjs');
      target.parentNode.appendChild(wysiwygContainer);
      var tools = this.getEditorJSTools();
      var toolbar = this.getEditorJSToolbar();
      var editor = new _editorjs_editorjs__WEBPACK_IMPORTED_MODULE_0__["default"]({
        holder: wysiwygContainer,
        inlineToolbar: toolbar,
        tools: tools,
        onChange: function onChange(api) {
          api.saver.save().then(function (outputData) {
            target.textContent = JSON.stringify(outputData);
          })["catch"](function (error) {
            console.log('Saving failed: ', error);
          });
        }
      });
      editor.isReady.then(function () {
        if (target.value === '') {
          return;
        }

        try {
          var value = JSON.parse(target.value);
          editor.blocks.render(value);
        } catch (e) {
          editor.blocks.renderFromHTML(target.value);
        }
      })["catch"](function (reason) {
        console.log("Editor.js initialization failed because of ".concat(reason));
      });
    }
  }, {
    key: "exec",
    value: function exec() {}
    /**
     * This method converts the config.actions into a list of EditorJS inline tools for the toolbar.
     */

  }, {
    key: "getEditorJSToolbar",
    value: function getEditorJSToolbar() {
      var toolbar = [];
      this.config.actions.forEach(function (action) {
        if (action === 'bold') {
          toolbar.push('bold');
        }

        if (action === 'italic') {
          toolbar.push('italic');
        }

        if (action === 'underline') {
          toolbar.push('underline');
        }

        if (action === 'link') {
          toolbar.push('link');
        }
      });
      return toolbar;
    }
    /**
     * This method converts the config.actions into a list of EditorJS tools.
     */

  }, {
    key: "getEditorJSTools",
    value: function getEditorJSTools() {
      var tools = {};
      var header = true;
      var levels = [];
      this.config.actions.forEach(function (action) {
        if (action === 'heading1') {
          header = true;
          levels.push(1);
        }

        if (action === 'heading2') {
          header = true;
          levels.push(2);
        }

        if (action instanceof Object && action.name === 'heading3') {
          header = true;
          levels.push(3);
        }

        if ((action === 'ulist' || action === 'olist') && !tools['list']) {
          tools['list'] = {
            "class": _editorjs_list__WEBPACK_IMPORTED_MODULE_2__["default"],
            inlineToolbar: true,
            config: {
              defaultStyle: 'unordered'
            }
          };
        }

        if (action === 'link') {
          tools['link'] = {
            "class": CustomHyperlink,
            config: {
              target: '_blank',
              availableTargets: ['_blank', '_self'],
              validate: false
            }
          };
        }

        if (action === 'bold') {
          tools['bold'] = {
            "class": Object(editorjs_inline_tool__WEBPACK_IMPORTED_MODULE_5__["default"])({
              sanitize: {
                strong: {},
                b: {}
              },
              tagName: 'STRONG',
              toolboxIcon: _codexteam_icons__WEBPACK_IMPORTED_MODULE_6__["IconBold"]
            })
          };
        }

        if (action === 'underline') {
          tools['underline'] = {
            "class": Object(editorjs_inline_tool__WEBPACK_IMPORTED_MODULE_5__["default"])({
              sanitize: {
                span: {
                  "class": "underline"
                }
              },
              tagName: 'SPAN',
              toolboxIcon: _codexteam_icons__WEBPACK_IMPORTED_MODULE_6__["IconUnderline"]
            })
          };
        }

        if (action instanceof Object && action.name === 'hr') {
          tools['delimiter'] = {
            "class": _editorjs_delimiter__WEBPACK_IMPORTED_MODULE_4__["default"]
          };
        }
      });

      if (header) {
        tools['header'] = {
          "class": _editorjs_header__WEBPACK_IMPORTED_MODULE_1__["default"],
          config: {
            levels: levels || [1, 2, 3, 4, 5, 6],
            defaultLevel: levels.length > 0 ? levels[0] : 1
          }
        };
      } // dispatch custom event to allow project to add tools


      document.dispatchEvent(new CustomEvent('mbiz:rich-editor:editorjs:tools', {
        'detail': {
          'tools': tools
        }
      }));
      return tools;
    }
  }]);

  return EditorJSProvider;
}();

/* harmony default export */ __webpack_exports__["default"] = (EditorJSProvider);

/***/ }),

/***/ "./assets/js/editor-provider/pell.js":
/*!*******************************************!*\
  !*** ./assets/js/editor-provider/pell.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var pell__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pell */ "./node_modules/pell/dist/pell.min.js");
/* harmony import */ var pell__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pell__WEBPACK_IMPORTED_MODULE_0__);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }



var PellEditorProvider = /*#__PURE__*/function () {
  function PellEditorProvider(config) {
    _classCallCheck(this, PellEditorProvider);

    this.config = config;
  }

  _createClass(PellEditorProvider, [{
    key: "init",
    value: function init(target) {
      var wysiwygContainer = document.createElement('div');
      wysiwygContainer.classList.add('pell');
      target.parentNode.appendChild(wysiwygContainer); // Init pell wysiwyg

      var editor = pell__WEBPACK_IMPORTED_MODULE_0___default.a.init({
        element: wysiwygContainer,
        onChange: function onChange(html) {
          target.textContent = html;
        },
        defaultParagraphSeparator: 'p',
        actions: this.config.actions
      });
      editor.addEventListener('paste', function (e) {
        e.stopPropagation();
        e.preventDefault();
        var tempContainer = document.createElement('div');
        var clipboardData = e.clipboardData || window.clipboardData;
        tempContainer.innerHTML = clipboardData.getData('Text');
        var text = tempContainer.textContent || tempContainer.innerText || "";
        pell__WEBPACK_IMPORTED_MODULE_0___default.a.exec('insertText', text);
        return true;
      }); // Populate wysiwyg with initial content

      editor.content.innerHTML = target.value;
    }
  }, {
    key: "exec",
    value: function exec() {
      return pell__WEBPACK_IMPORTED_MODULE_0___default.a.exec.apply(pell__WEBPACK_IMPORTED_MODULE_0___default.a, arguments);
    }
  }]);

  return PellEditorProvider;
}();

/* harmony default export */ __webpack_exports__["default"] = (PellEditorProvider);

/***/ }),

/***/ "./node_modules/@codexteam/icons/dist/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@codexteam/icons/dist/index.mjs ***!
  \******************************************************/
/*! exports provided: IconAddBackground, IconAddBorder, IconAlignCenter, IconAlignJustify, IconAlignLeft, IconAlignRight, IconBold, IconBrackets, IconCheck, IconChecklist, IconChevronDown, IconChevronLeft, IconChevronRight, IconChevronUp, IconClipboard, IconCollapse, IconColor, IconCopy, IconCross, IconCurlyBrackets, IconDelimiter, IconDirectionDownRight, IconDirectionLeftDown, IconDirectionRightDown, IconDirectionUpRight, IconDotCircle, IconEtcHorisontal, IconEtcVertical, IconFile, IconGift, IconGlobe, IconH1, IconH2, IconH3, IconH4, IconH5, IconH6, IconHeading, IconHeart, IconHidden, IconHtml, IconInstagram, IconItalic, IconLink, IconLinkedin, IconListBulleted, IconListNumbered, IconLoader, IconMarker, IconMenu, IconMenuSmall, IconPicture, IconPlay, IconPlus, IconQuestion, IconQuote, IconRedo, IconRemoveBackground, IconReplace, IconSave, IconSearch, IconStar, IconStretch, IconStrikethrough, IconTable, IconTableWithHeadings, IconTableWithoutHeadings, IconText, IconTranslate, IconTrash, IconTwitter, IconUnderline, IconUndo, IconUnlink, IconUser, IconUsersGroup, IconWarning */
/***/ (function(__webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconAddBackground", function() { return i; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconAddBorder", function() { return h; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconAlignCenter", function() { return l; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconAlignJustify", function() { return w; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconAlignLeft", function() { return d; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconAlignRight", function() { return k; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconBold", function() { return c; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconBrackets", function() { return C; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconCheck", function() { return g; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconChecklist", function() { return u; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconChevronDown", function() { return p; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconChevronLeft", function() { return a; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconChevronRight", function() { return v; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconChevronUp", function() { return M; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconClipboard", function() { return x; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconCollapse", function() { return L; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconColor", function() { return H; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconCopy", function() { return m; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconCross", function() { return f; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconCurlyBrackets", function() { return B; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconDelimiter", function() { return I; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconDirectionDownRight", function() { return V; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconDirectionLeftDown", function() { return j; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconDirectionRightDown", function() { return y; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconDirectionUpRight", function() { return Z; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconDotCircle", function() { return D; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconEtcHorisontal", function() { return T; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconEtcVertical", function() { return b; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconFile", function() { return R; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconGift", function() { return U; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconGlobe", function() { return A; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconH1", function() { return o; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconH2", function() { return t; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconH3", function() { return r; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconH4", function() { return e; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconH5", function() { return n; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconH6", function() { return s; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconHeading", function() { return S; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconHeart", function() { return G; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconHidden", function() { return P; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconHtml", function() { return W; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconInstagram", function() { return E; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconItalic", function() { return N; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconLink", function() { return Q; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconLinkedin", function() { return F; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconListBulleted", function() { return J; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconListNumbered", function() { return X; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconLoader", function() { return q; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconMarker", function() { return z; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconMenu", function() { return O; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconMenuSmall", function() { return K; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconPicture", function() { return Y; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconPlay", function() { return _; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconPlus", function() { return $; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconQuestion", function() { return o1; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconQuote", function() { return t1; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconRedo", function() { return r1; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconRemoveBackground", function() { return e1; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconReplace", function() { return n1; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconSave", function() { return s1; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconSearch", function() { return i1; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconStar", function() { return h1; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconStretch", function() { return l1; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconStrikethrough", function() { return w1; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconTable", function() { return c1; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconTableWithHeadings", function() { return d1; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconTableWithoutHeadings", function() { return k1; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconText", function() { return C1; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconTranslate", function() { return g1; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconTrash", function() { return u1; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconTwitter", function() { return p1; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconUnderline", function() { return a1; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconUndo", function() { return v1; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconUnlink", function() { return M1; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconUser", function() { return x1; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconUsersGroup", function() { return L1; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconWarning", function() { return H1; });
const o = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>', t = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>', r = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>', e = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>', n = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>', s = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>', i = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>', h = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>', l = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>', w = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 12L6 12"/></svg>', d = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>', k = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 7L7 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17H7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 12L11 12"/></svg>', c = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>', C = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 8L5 12L9 16"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8L19 12L15 16"/></svg>', g = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 12L10.4884 15.8372C10.5677 15.9245 10.705 15.9245 10.7844 15.8372L17 9"/></svg>', u = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.2 12L11.0586 13.8586C11.1367 13.9367 11.2633 13.9367 11.3414 13.8586L14.7 10.5"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>', p = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>', a = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.5 17.5L9.64142 12.6414C9.56331 12.5633 9.56331 12.4367 9.64142 12.3586L14.5 7.5"/></svg>', v = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.58284 17.5L14.4414 12.6414C14.5195 12.5633 14.5195 12.4367 14.4414 12.3586L9.58284 7.5"/></svg>', M = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>', x = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.42857 7H7.71429C7.25963 7 6.82359 7.15804 6.5021 7.43934C6.18061 7.72064 6 8.10218 6 8.5V17.5C6 17.8978 6.18061 18.2794 6.5021 18.5607C6.82359 18.842 7.25963 19 7.71429 19H16.2857C16.7404 19 17.1764 18.842 17.4979 18.5607C17.8194 18.2794 18 17.8978 18 17.5V8.5C18 8.10218 17.8194 7.72064 17.4979 7.43934C17.1764 7.15804 16.7404 7 16.2857 7H14.5714"/><rect width="5.15789" height="3.36842" x="9.42105" y="5" stroke="currentColor" stroke-width="2" rx="1.5"/></svg>', L = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L10 12M10 12L7 15M10 12H4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L14 12M14 12L17 15M14 12H20"/></svg>', H = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M5.24296 11.4075C5.23167 10.6253 5.52446 9.8395 6.12132 9.24264L9.65686 5.70711C10.0474 5.31658 10.6809 5.31693 11.0714 5.70745L16.0205 10.6565C16.2268 10.8629 16.3243 11.1371 16.3126 11.4075M5.24296 11.4075C5.25382 12.1607 5.54661 12.9106 6.12132 13.4853L8 15.364M5.24296 11.4075H11.9565M16.3126 11.4075C16.3022 11.6487 16.205 11.8869 16.0208 12.0711L12.4853 15.6066C11.3137 16.7782 9.41421 16.7782 8.24264 15.6066L8 15.364M16.3126 11.4075H11.9565M8 15.364L11.9565 11.4075"/><path stroke="currentColor" stroke-width="2" d="M20 17.4615C20 18.3112 19.3284 19 18.5 19C17.6716 19 17 18.3112 17 17.4615C17 16.6119 17.9 15.6154 18.5 15C19.1 15.6154 20 16.6119 20 17.4615Z"/></svg>', m = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.25 8.5H10.25C9.2835 8.5 8.5 9.2835 8.5 10.25V17.25C8.5 18.2165 9.2835 19 10.25 19H17.25C18.2165 19 19 18.2165 19 17.25V10.25C19 9.2835 18.2165 8.5 17.25 8.5Z"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.5 8.5V6.75C15.5 6.28587 15.3156 5.84075 14.9874 5.51256C14.6592 5.18437 14.2141 5 13.75 5H6.75C6.28587 5 5.84075 5.18437 5.51256 5.51256C5.18437 5.84075 5 6.28587 5 6.75V13.75C5 14.2141 5.18437 14.6592 5.51256 14.9874C5.84075 15.3156 6.28587 15.5 6.75 15.5H8.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 12L15.5 12"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15.5L15.5 15.5"/></svg>', f = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>', B = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17C7 17 7 15.2536 7 13.5L5.5 12L7 10.5C7 8.74644 7 7 9 7"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17C17 17 17 15.2536 17 13.5L18.5 12L17 10.5C17 8.74644 17 7 15 7"/></svg>', I = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="6" x2="10" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="14" x2="18" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>', V = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 9.16666L18.2167 12.5M18.2167 12.5L14.8833 15.8333M18.2167 12.5H10.05C9.16594 12.5 8.31809 12.1488 7.69297 11.5237C7.06785 10.8986 6.71666 10.0507 6.71666 9.16666"/></svg>', j = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.9167 14.9167L11.5833 18.25M11.5833 18.25L8.25 14.9167M11.5833 18.25L11.5833 10.0833C11.5833 9.19928 11.9345 8.35143 12.5596 7.72631C13.1848 7.10119 14.0326 6.75 14.9167 6.75"/></svg>', y = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.13333 14.9167L12.4667 18.25M12.4667 18.25L15.8 14.9167M12.4667 18.25L12.4667 10.0833C12.4667 9.19928 12.1155 8.35143 11.4904 7.72631C10.8652 7.10119 10.0174 6.75 9.13333 6.75"/></svg>', Z = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 15.8333L18.2167 12.5M18.2167 12.5L14.8833 9.16667M18.2167 12.5L10.05 12.5C9.16595 12.5 8.31811 12.8512 7.69299 13.4763C7.06787 14.1014 6.71667 14.9493 6.71667 15.8333"/></svg>', D = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>', T = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M7.30499 11.995L7.30499 12.005M12.005 11.995V12.005M16.705 11.995L16.705 12.005"/></svg>', b = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M12.01 7.29999H12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M12.01 12H12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M12.01 16.7H12"/></svg>', R = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.3236 8.43554L9.49533 12.1908C9.13119 12.5505 8.93118 13.043 8.9393 13.5598C8.94741 14.0767 9.163 14.5757 9.53862 14.947C9.91424 15.3182 10.4191 15.5314 10.9422 15.5397C11.4653 15.5479 11.9637 15.3504 12.3279 14.9908L16.1562 11.2355C16.8845 10.5161 17.2845 9.53123 17.2682 8.4975C17.252 7.46376 16.8208 6.46583 16.0696 5.72324C15.3184 4.98066 14.3086 4.55425 13.2624 4.53782C12.2162 4.52138 11.2193 4.91627 10.4911 5.63562L6.66277 9.39093C5.57035 10.4699 4.97032 11.9473 4.99467 13.4979C5.01903 15.0485 5.66578 16.5454 6.79264 17.6592C7.9195 18.7731 9.43417 19.4127 11.0034 19.4374C12.5727 19.462 14.068 18.8697 15.1604 17.7907L18.9887 14.0354"/></svg>', U = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="12" height="6" x="6" y="13" stroke="currentColor" stroke-width="2" rx="2"/><line x1="12" x2="12" y1="9" y2="19" stroke="currentColor" stroke-width="2"/><path stroke="currentColor" stroke-width="2" d="M5 11C5 9.89543 5.89543 9 7 9H17C18.1046 9 19 9.89543 19 11V11C19 12.1046 18.1046 13 17 13H7C5.89543 13 5 12.1046 5 11V11Z"/><path stroke="currentColor" stroke-width="2" d="M16 9C16 7.89543 16 6 14 6C12 6 12 7.89543 12 9C12 7.89543 12 6 10 6C8 6 8 7.89543 8 9"/></svg>', A = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M18 12C18 15.3137 15.3137 18 12 18C8.68629 18 6 15.3137 6 12M18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12M18 12H6M11.7 6C11.7 6 9.7 7.63811 9.7 12C9.7 16.9 11.7 18 11.7 18M12.3 6C12.3 6 14.3 7.63811 14.3 12C14.3 16.9 12.3 18 12.3 18"/></svg>', S = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>', G = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M6.6 7.50001C5.27451 8.82549 5.19999 10.6 6.59999 12.3C8 14 12.2 17.9 12.2 17.9C12.2 17.9 16.5 14 17.8 12.3C19.1 10.6 19.1255 8.82549 17.8 7.5C16.4745 6.17452 14.3255 6.17452 13 7.5L12.2 8.30001L11.4 7.50001C10.0745 6.17453 7.92548 6.17453 6.6 7.50001Z"/></svg>', P = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.77778 6L18.5 17.7222"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.687 10C10.2473 10.4392 10.0002 11.035 10 11.6564C9.99978 12.2777 10.2465 12.8737 10.6858 13.3132C11.1251 13.7527 11.7211 13.9998 12.3427 14C12.9642 14.0002 13.5604 13.7536 14 13.3144"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7C17 11.1666 20 11.17 20 11.67C20 12.17 19 13.17 19 13.17M8.2424 8.80936C7.59317 9.22876 6.97961 9.76732 6.4017 10.4251C5.70398 11.2193 5.35512 11.6164 5.35513 12.3702C5.35514 13.124 5.70406 13.5211 6.40191 14.3154C7.99587 16.1297 9.8618 17.0367 12 17.0367C13.1102 17.0367 14.1466 16.7917 15.1111 16.3024"/></svg>', W = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16.6954 5C17.912 5 18.8468 6.07716 18.6755 7.28165L17.426 16.0659C17.3183 16.8229 16.7885 17.4522 16.061 17.6873L12.6151 18.8012C12.2152 18.9304 11.7848 18.9304 11.3849 18.8012L7.93898 17.6873C7.21148 17.4522 6.6817 16.8229 6.57403 16.0659L5.32454 7.28165C5.15322 6.07716 6.088 5 7.30461 5H16.6954Z"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8.4H9L9.42857 11.7939H14.5714L14.3571 13.2788L14.1429 14.7636L12 15.4L9.85714 14.7636L9.77143 14.3394"/></svg>', E = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.9 8.1V8.11"/><circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/></svg>', N = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>', Q = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>', F = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="9" x2="9" y1="11.4" y2="15.4" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 8.7V8.71"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 11.4V12M12 15.4V12M12 12C14 11.5 15 11.3611 15 12.5C15 13.5 15 15.4 15 15.4"/></svg>', J = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>', X = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>', q = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 6.99998C9.1747 6.99987 6.99997 9.24998 7 12C7.00003 14.55 9.02119 17 12 17C14.7712 17 17 14.75 17 12"><animateTransform attributeName="transform" attributeType="XML" dur="560ms" from="0,12,12" repeatCount="indefinite" to="360,12,12" type="rotate"/></path></svg>', z = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M11.3535 9.31802L12.7678 7.90381C13.5488 7.12276 14.8151 7.12276 15.5962 7.90381C16.3772 8.68486 16.3772 9.95119 15.5962 10.7322L14.182 12.1464M11.3535 9.31802L7.96729 12.7043C7.40889 13.2627 7.02826 13.9739 6.87339 14.7482L6.69798 15.6253C6.55803 16.325 7.17495 16.942 7.87467 16.802L8.75175 16.6266C9.52612 16.4717 10.2373 16.0911 10.7957 15.5327L14.182 12.1464M11.3535 9.31802L14.182 12.1464"/><line x1="15" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>', K = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.41 9.66H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 9.66H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.31 14.36H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 14.36H14.59"/></svg>', O = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>', Y = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>', _ = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 10.5606V13.4394C10 14.4777 11.1572 15.0971 12.0211 14.5211L14.1803 13.0817C14.9536 12.5661 14.9503 11.4317 14.18 10.9181L12.0214 9.47907C11.1591 8.9042 10 9.5203 10 10.5606Z"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>', $ = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>', o1 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.52V15.51"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M10.0024 9.97655C10.1567 9.01858 11 8.5 12 8.5C13 8.5 13.6857 9.17188 13.8693 9.70703C14.0529 10.2422 14.0135 11.0514 13.5067 11.5159C13 11.9805 12.7344 11.832 12.2784 12.3168C12.1134 12.4923 12 12.7476 12 12.7476"/></svg>', t1 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>', r1 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.6667 13.6667L18 10.3333L14.6667 7M18 10.3333H8.83333C7.94928 10.3333 7.10143 10.6845 6.47631 11.3096C5.85119 11.9348 5.5 12.7826 5.5 13.6667C5.5 14.5507 5.85119 15.3986 6.47631 16.0237C7.10143 16.6488 7.94928 17 8.83333 17H9.66667"/></svg>', e1 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.1187 14.8787L16.9974 17M14.876 19.1213L16.9974 17M19.1187 19.1213L16.9974 17M16.9974 17L14.876 14.8787"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>', n1 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M11.5 17.5L5 11M5 11V15.5M5 11H9.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12.5 6.5L19 13M19 13V8.5M19 13H14.5"/></svg>', s1 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M15.078 5.62637L15.6153 4.78296L15.078 5.62637C15.4261 5.84808 15.7393 6.15354 16.5711 6.98528L17.2782 6.27817L16.5711 6.98528L17.5251 7.93934C17.8347 8.2489 17.9496 8.36494 18.0489 8.48177C18.5907 9.11982 18.9188 9.91178 18.9868 10.7461C18.9992 10.8989 19 11.0622 19 11.5V12C19 13.4166 18.9992 14.419 18.9352 15.2026C18.8721 15.9745 18.7527 16.4457 18.564 16.816C18.1805 17.5686 17.5686 18.1805 16.816 18.564C16.4457 18.7527 15.9745 18.8721 15.2026 18.9352C14.419 18.9992 13.4166 19 12 19C10.5834 19 9.58104 18.9992 8.79744 18.9352C8.02552 18.8721 7.55435 18.7527 7.18404 18.564C6.43139 18.1805 5.81947 17.5686 5.43597 16.816C5.24729 16.4457 5.12787 15.9745 5.0648 15.2026C5.00078 14.419 5 13.4166 5 12V11.7782C5 10.4673 5.00067 9.53987 5.05572 8.81299C5.10998 8.09655 5.21284 7.65673 5.37487 7.3093C5.77229 6.45718 6.45718 5.77229 7.3093 5.37487C7.65673 5.21284 8.09655 5.10998 8.81299 5.05572C9.53986 5.00067 10.4673 5 11.7782 5C12.9544 5 13.3919 5.00552 13.7948 5.09484C14.2503 5.19583 14.6846 5.37572 15.078 5.62637Z"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15C13.1046 15 14 14.1046 14 13C14 11.8954 13.1046 11 12 11C10.8954 11 10 11.8954 10 13C10 14.1046 10.8954 15 12 15Z"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5.5V7C14 7.55228 13.5523 8 13 8H11C10.4477 8 10 7.55228 10 7V5.2"/></svg>', i1 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>', h1 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M11.8197 6.04369C11.8924 5.8925 12.1076 5.8925 12.1803 6.04369L13.9776 9.78496C14.0068 9.84564 14.0645 9.88759 14.1312 9.89657L18.2448 10.4498C18.411 10.4722 18.4776 10.6769 18.3562 10.7927L15.3535 13.6582C15.3048 13.7047 15.2827 13.7726 15.2948 13.8388L16.0398 17.922C16.0699 18.087 15.8957 18.2136 15.7481 18.1339L12 16.1124L8.25192 18.1339C8.10429 18.2136 7.93012 18.087 7.96022 17.922L8.7052 13.8388C8.71728 13.7726 8.69523 13.7047 8.64652 13.6582L5.64378 10.7927C5.52244 10.6769 5.58896 10.4722 5.7552 10.4498L9.86876 9.89657C9.93549 9.88759 9.99322 9.84564 10.0224 9.78496L11.8197 6.04369Z"/></svg>', l1 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>', w1 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 8.50001C13.5 7 10.935 6.66476 9.75315 7.79706C9.27092 8.25909 9 8.88574 9 9.53915C9 10.1926 9.27092 10.8192 9.75315 11.2812C10.9835 12.46 13.0165 11.5457 14.2468 12.7244C14.7291 13.1865 15 13.8131 15 14.4665C15 15.1199 14.7291 15.7466 14.2468 16.2086C12.8659 17.5317 10 17.5 9 16"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 12H18"/></svg>', d1 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>', k1 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M14 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><path stroke="currentColor" stroke-width="2" d="M5 14H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>', c1 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>', C1 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>', g1 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 17C8 14.5 12 12 13 9"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.5 11C8.5 11 10 14 12.5 15"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7.7H16M11 7.7V5.7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.5 18L15.2143 16M15.2143 16L16.9159 11.2354C16.9663 11.0942 17.1001 11 17.25 11C17.3999 11 17.5337 11.0942 17.5841 11.2354L19.2857 16M15.2143 16H19.2857M20 18L19.2857 16"/></svg>', u1 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.1328 7.7234C18.423 7.7634 18.7115 7.80571 19 7.85109M18.1328 7.7234L17.2267 17.4023C17.1897 17.8371 16.973 18.2432 16.62 18.5394C16.267 18.8356 15.8037 19.0001 15.3227 19H8.67733C8.19632 19.0001 7.73299 18.8356 7.37998 18.5394C7.02698 18.2432 6.81032 17.8371 6.77333 17.4023L5.86715 7.7234M18.1328 7.7234C17.1536 7.58919 16.1693 7.48733 15.1818 7.41803M5.86715 7.7234C5.57697 7.76263 5.28848 7.80494 5 7.85032M5.86715 7.7234C6.84642 7.58919 7.83074 7.48733 8.81818 7.41803M15.1818 7.41803C13.0638 7.26963 10.9362 7.26963 8.81818 7.41803M15.1818 7.41803C15.1818 5.30368 13.7266 4.34834 12 4.34834C10.2734 4.34834 8.81818 5.43945 8.81818 7.41803"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.5 15.5L10 11"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 11L13.5 15.5"/></svg>', p1 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linejoin="round" stroke-width="2" d="M16.7893 7.87697C17.5 8 18.5 8 18.5 8C18.5 8 17.5 9.5 17.5 10C18.5 18.5 11.5 20.5 5.5 16.5C6.99996 16.6712 8.04617 16.5163 9.25234 15.6024C7.99546 15.58 5.36548 13.6033 5 12.5C6.5 13 8 12 8 12C6.52134 11.0446 4.93005 9.24114 5.97461 7.50832C7.39125 9.18838 9.50766 10.2939 11.8948 10.4097C11.2198 7.60755 14.9218 5.95341 16.7893 7.87697Z"/></svg>', a1 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7.5V11.5C9 12.2956 9.31607 13.0587 9.87868 13.6213C10.4413 14.1839 11.2044 14.5 12 14.5C12.7956 14.5 13.5587 14.1839 14.1213 13.6213C14.6839 13.0587 15 12.2956 15 11.5V7.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7.71429 18H16.2857"/></svg>', v1 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.33333 13.6667L6 10.3333L9.33333 7M6 10.3333H15.1667C16.0507 10.3333 16.8986 10.6845 17.5237 11.3096C18.1488 11.9348 18.5 12.7826 18.5 13.6667C18.5 14.5507 18.1488 15.3986 17.5237 16.0237C16.8986 16.6488 16.0507 17 15.1667 17H14.3333"/></svg>', M1 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>', x1 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M12 10C12.7145 10 13.239 9.56559 13.5392 9.11536C13.844 8.65814 14 8.0841 14 7.5C14 6.9159 13.844 6.34186 13.5392 5.88464C13.239 5.43441 12.7145 5 12 5C11.2855 5 10.761 5.43441 10.4608 5.88464C10.156 6.34186 10 6.9159 10 7.5C10 8.0841 10.156 8.65814 10.4608 9.11536C10.761 9.56559 11.2855 10 12 10Z"/><ellipse cx="12" cy="16" stroke="currentColor" stroke-width="2" rx="3" ry="5" transform="rotate(-90 12 16)"/></svg>', L1 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 10C10.7145 10 11.239 9.56559 11.5392 9.11536C11.844 8.65814 12 8.0841 12 7.5C12 6.9159 11.844 6.34186 11.5392 5.88464C11.239 5.43441 10.7145 5 10 5C9.28547 5 8.761 5.43441 8.46084 5.88464C8.15603 6.34186 8 6.9159 8 7.5C8 8.0841 8.15603 8.65814 8.46084 9.11536C8.761 9.56559 9.28547 10 10 10Z"/><ellipse cx="10" cy="16" stroke="currentColor" stroke-width="2" rx="3" ry="5" transform="rotate(-90 10 16)"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.5555 10.2222C16.5374 10.2222 17.3333 9.42629 17.3333 8.44445C17.3333 7.46261 16.5374 6.66667 15.5555 6.66667"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.5 13C21 14.5 20.5 18 18 18.5"/></svg>', H1 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>';



/***/ }),

/***/ "./node_modules/@editorjs/delimiter/dist/delimiter.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@editorjs/delimiter/dist/delimiter.mjs ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(__webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return o; });
(function() {
  "use strict";
  try {
    if (typeof document < "u") {
      var e = document.createElement("style");
      e.appendChild(document.createTextNode('.ce-delimiter{line-height:1.6em;width:100%;text-align:center}.ce-delimiter:before{display:inline-block;content:"***";font-size:30px;line-height:65px;height:30px;letter-spacing:.2em}')), document.head.appendChild(e);
    }
  } catch (t) {
    console.error("vite-plugin-css-injected-by-js", t);
  }
})();
const r = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="6" x2="10" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="14" x2="18" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';
/**
 * Delimiter Block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 * @version 2.0.0
 */
class o {
  /**
   * Notify core that read-only mode is supported
   * @return {boolean}
   */
  static get isReadOnlySupported() {
    return true;
  }
  /**
   * Allow Tool to have no content
   * @return {boolean}
   */
  static get contentless() {
    return true;
  }
  /**
   * Render plugin`s main Element and fill it with saved data
   *
   * @param {{data: DelimiterData, config: object, api: object}}
   *   data  previously saved data
   *   config - user config for Tool
   *   api - Editor.js API
   */
  constructor({ data: t, config: s, api: e }) {
    this.api = e, this._CSS = {
      block: this.api.styles.block,
      wrapper: "ce-delimiter"
    }, this._data = {}, this._element = this.drawView(), this.data = t;
  }
  /**
   * Create Tool's view
   * @return {HTMLElement}
   * @private
   */
  drawView() {
    let t = document.createElement("DIV");
    return t.classList.add(this._CSS.wrapper, this._CSS.block), t;
  }
  /**
   * Return Tool's view
   * @returns {HTMLDivElement}
   * @public
   */
  render() {
    return this._element;
  }
  /**
   * Extract Tool's data from the view
   * @param {HTMLDivElement} toolsContent - Paragraph tools rendered view
   * @returns {DelimiterData} - saved data
   * @public
   */
  save(t) {
    return {};
  }
  /**
   * Get Tool toolbox settings
   * icon - Tool icon's SVG
   * title - title to show in toolbox
   *
   * @return {{icon: string, title: string}}
   */
  static get toolbox() {
    return {
      icon: r,
      title: "Delimiter"
    };
  }
}



/***/ }),

/***/ "./node_modules/@editorjs/editorjs/dist/editorjs.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@editorjs/editorjs/dist/editorjs.mjs ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(__webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return vi; });
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
var __objRest = (source, exclude) => {
  var target = {};
  for (var prop in source)
    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)
      target[prop] = source[prop];
  if (source != null && __getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(source)) {
      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))
        target[prop] = source[prop];
    }
  return target;
};
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};
var Ot = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};
function xe(s) {
  return s && s.__esModule && Object.prototype.hasOwnProperty.call(s, "default") ? s.default : s;
}
function Be() {
}
Object.assign(Be, {
  default: Be,
  register: Be,
  revert: function() {
  },
  __esModule: true
});
Element.prototype.matches || (Element.prototype.matches = Element.prototype.matchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.webkitMatchesSelector || function(s) {
  const e = (this.document || this.ownerDocument).querySelectorAll(s);
  let t = e.length;
  for (; --t >= 0 && e.item(t) !== this; )
    ;
  return t > -1;
});
Element.prototype.closest || (Element.prototype.closest = function(s) {
  let e = this;
  if (!document.documentElement.contains(e))
    return null;
  do {
    if (e.matches(s))
      return e;
    e = e.parentElement || e.parentNode;
  } while (e !== null);
  return null;
});
Element.prototype.prepend || (Element.prototype.prepend = function(e) {
  const t = document.createDocumentFragment();
  Array.isArray(e) || (e = [e]), e.forEach((o) => {
    const i = o instanceof Node;
    t.appendChild(i ? o : document.createTextNode(o));
  }), this.insertBefore(t, this.firstChild);
});
Element.prototype.scrollIntoViewIfNeeded || (Element.prototype.scrollIntoViewIfNeeded = function(s) {
  s = arguments.length === 0 ? true : !!s;
  const e = this.parentNode, t = window.getComputedStyle(e, null), o = parseInt(t.getPropertyValue("border-top-width")), i = parseInt(t.getPropertyValue("border-left-width")), n = this.offsetTop - e.offsetTop < e.scrollTop, r = this.offsetTop - e.offsetTop + this.clientHeight - o > e.scrollTop + e.clientHeight, a = this.offsetLeft - e.offsetLeft < e.scrollLeft, l = this.offsetLeft - e.offsetLeft + this.clientWidth - i > e.scrollLeft + e.clientWidth, c = n && !r;
  (n || r) && s && (e.scrollTop = this.offsetTop - e.offsetTop - e.clientHeight / 2 - o + this.clientHeight / 2), (a || l) && s && (e.scrollLeft = this.offsetLeft - e.offsetLeft - e.clientWidth / 2 - i + this.clientWidth / 2), (n || r || a || l) && !s && this.scrollIntoView(c);
});
window.requestIdleCallback = window.requestIdleCallback || function(s) {
  const e = Date.now();
  return setTimeout(function() {
    s({
      didTimeout: false,
      timeRemaining: function() {
        return Math.max(0, 50 - (Date.now() - e));
      }
    });
  }, 1);
};
window.cancelIdleCallback = window.cancelIdleCallback || function(s) {
  clearTimeout(s);
};
let At = (s = 21) => crypto.getRandomValues(new Uint8Array(s)).reduce((e, t) => (t &= 63, t < 36 ? e += t.toString(36) : t < 62 ? e += (t - 26).toString(36).toUpperCase() : t > 62 ? e += "-" : e += "_", e), "");
var it = /* @__PURE__ */ ((s) => (s.VERBOSE = "VERBOSE", s.INFO = "INFO", s.WARN = "WARN", s.ERROR = "ERROR", s))(it || {});
const B = {
  BACKSPACE: 8,
  TAB: 9,
  ENTER: 13,
  SHIFT: 16,
  CTRL: 17,
  ALT: 18,
  ESC: 27,
  SPACE: 32,
  LEFT: 37,
  UP: 38,
  DOWN: 40,
  RIGHT: 39,
  DELETE: 46,
  META: 91
}, _t = {
  LEFT: 0,
  WHEEL: 1,
  RIGHT: 2,
  BACKWARD: 3,
  FORWARD: 4
};
function be(s, e, t = "log", o, i = "color: inherit") {
  if (!("console" in window) || !window.console[t])
    return;
  const n = ["info", "log", "warn", "error"].includes(t), r = [];
  switch (be.logLevel) {
    case "ERROR":
      if (t !== "error")
        return;
      break;
    case "WARN":
      if (!["error", "warn"].includes(t))
        return;
      break;
    case "INFO":
      if (!n || s)
        return;
      break;
  }
  o && r.push(o);
  const a = "Editor.js 2.28.2", l = `line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`;
  s && (n ? (r.unshift(l, i), e = `%c${a}%c ${e}`) : e = `( ${a} )${e}`);
  try {
    n ? o ? console[t](`${e} %o`, ...r) : console[t](e, ...r) : console[t](e);
  } catch (e2) {
  }
}
be.logLevel = "VERBOSE";
function Nt(s) {
  be.logLevel = s;
}
const L = be.bind(window, false), K = be.bind(window, true);
function oe(s) {
  return Object.prototype.toString.call(s).match(/\s([a-zA-Z]+)/)[1].toLowerCase();
}
function D(s) {
  return oe(s) === "function" || oe(s) === "asyncfunction";
}
function z(s) {
  return oe(s) === "object";
}
function J(s) {
  return oe(s) === "string";
}
function Rt(s) {
  return oe(s) === "boolean";
}
function qe(s) {
  return oe(s) === "number";
}
function Ze(s) {
  return oe(s) === "undefined";
}
function V(s) {
  return s ? Object.keys(s).length === 0 && s.constructor === Object : true;
}
function nt(s) {
  return s > 47 && s < 58 || // number keys
  s === 32 || s === 13 || // Space bar & return key(s)
  s === 229 || // processing key input for certain languages  Chinese, Japanese, etc.
  s > 64 && s < 91 || // letter keys
  s > 95 && s < 112 || // Numpad keys
  s > 185 && s < 193 || // ;=,-./` (in order)
  s > 218 && s < 223;
}
function Dt(s, e = () => {
}, t = () => {
}) {
  return __async(this, null, function* () {
    function o(i, n, r) {
      return __async(this, null, function* () {
        try {
          yield i.function(i.data), yield n(Ze(i.data) ? {} : i.data);
        } catch (e2) {
          r(Ze(i.data) ? {} : i.data);
        }
      });
    }
    return s.reduce((i, n) => __async(this, null, function* () {
      return yield i, o(n, e, t);
    }), Promise.resolve());
  });
}
function st(s) {
  return Array.prototype.slice.call(s);
}
function re(s, e) {
  return function() {
    const t = this, o = arguments;
    window.setTimeout(() => s.apply(t, o), e);
  };
}
function Pt(s) {
  return s.name.split(".").pop();
}
function Ft(s) {
  return /^[-\w]+\/([-+\w]+|\*)$/.test(s);
}
function Ht(s, e, t) {
  let o;
  return (...i) => {
    const n = this, r = () => {
      o = null, t || s.apply(n, i);
    }, a = t && !o;
    window.clearTimeout(o), o = window.setTimeout(r, e), a && s.apply(n, i);
  };
}
function Ce(s, e, t = void 0) {
  let o, i, n, r = null, a = 0;
  t || (t = {});
  const l = function() {
    a = t.leading === false ? 0 : Date.now(), r = null, n = s.apply(o, i), r || (o = i = null);
  };
  return function() {
    const c = Date.now();
    !a && t.leading === false && (a = c);
    const u = e - (c - a);
    return o = this, i = arguments, u <= 0 || u > e ? (r && (clearTimeout(r), r = null), a = c, n = s.apply(o, i), r || (o = i = null)) : !r && t.trailing !== false && (r = setTimeout(l, u)), n;
  };
}
function jt() {
  const s = {
    win: false,
    mac: false,
    x11: false,
    linux: false
  }, e = Object.keys(s).find((t) => window.navigator.appVersion.toLowerCase().indexOf(t) !== -1);
  return e && (s[e] = true), s;
}
function ae(s) {
  return s[0].toUpperCase() + s.slice(1);
}
function Se(s, ...e) {
  if (!e.length)
    return s;
  const t = e.shift();
  if (z(s) && z(t))
    for (const o in t)
      z(t[o]) ? (s[o] || Object.assign(s, { [o]: {} }), Se(s[o], t[o])) : Object.assign(s, { [o]: t[o] });
  return Se(s, ...e);
}
function Re(s) {
  const e = jt();
  return s = s.replace(/shift/gi, "\u21E7").replace(/backspace/gi, "\u232B").replace(/enter/gi, "\u23CE").replace(/up/gi, "\u2191").replace(/left/gi, "\u2192").replace(/down/gi, "\u2193").replace(/right/gi, "\u2190").replace(/escape/gi, "\u238B").replace(/insert/gi, "Ins").replace(/delete/gi, "\u2421").replace(/\+/gi, " + "), e.mac ? s = s.replace(/ctrl|cmd/gi, "\u2318").replace(/alt/gi, "\u2325") : s = s.replace(/cmd/gi, "Ctrl").replace(/windows/gi, "WIN"), s;
}
function zt(s) {
  try {
    return new URL(s).href;
  } catch (e) {
  }
  return s.substring(0, 2) === "//" ? window.location.protocol + s : window.location.origin + s;
}
function Ut() {
  return At(10);
}
function $t(s) {
  window.open(s, "_blank");
}
function Wt(s = "") {
  return `${s}${Math.floor(Math.random() * 1e8).toString(16)}`;
}
function Ie(s, e, t) {
  const o = `\xAB${e}\xBB is deprecated and will be removed in the next major release. Please use the \xAB${t}\xBB instead.`;
  s && K(o, "warn");
}
function ce(s, e, t) {
  const o = t.value ? "value" : "get", i = t[o], n = `#${e}Cache`;
  if (t[o] = function(...r) {
    return this[n] === void 0 && (this[n] = i.apply(this, ...r)), this[n];
  }, o === "get" && t.set) {
    const r = t.set;
    t.set = function(a) {
      delete s[n], r.apply(this, a);
    };
  }
  return t;
}
const rt = 650;
function te() {
  return window.matchMedia(`(max-width: ${rt}px)`).matches;
}
const Ge = typeof window < "u" && window.navigator && window.navigator.platform && (/iP(ad|hone|od)/.test(window.navigator.platform) || window.navigator.platform === "MacIntel" && window.navigator.maxTouchPoints > 1);
function Yt(s, e) {
  const t = Array.isArray(s) || z(s), o = Array.isArray(e) || z(e);
  return t || o ? JSON.stringify(s) === JSON.stringify(e) : s === e;
}
class d {
  /**
   * Check if passed tag has no closed tag
   *
   * @param {HTMLElement} tag - element to check
   * @returns {boolean}
   */
  static isSingleTag(e) {
    return e.tagName && [
      "AREA",
      "BASE",
      "BR",
      "COL",
      "COMMAND",
      "EMBED",
      "HR",
      "IMG",
      "INPUT",
      "KEYGEN",
      "LINK",
      "META",
      "PARAM",
      "SOURCE",
      "TRACK",
      "WBR"
    ].includes(e.tagName);
  }
  /**
   * Check if element is BR or WBR
   *
   * @param {HTMLElement} element - element to check
   * @returns {boolean}
   */
  static isLineBreakTag(e) {
    return e && e.tagName && [
      "BR",
      "WBR"
    ].includes(e.tagName);
  }
  /**
   * Helper for making Elements with class name and attributes
   *
   * @param  {string} tagName - new Element tag name
   * @param  {string[]|string} [classNames] - list or name of CSS class name(s)
   * @param  {object} [attributes] - any attributes
   * @returns {HTMLElement}
   */
  static make(e, t = null, o = {}) {
    const i = document.createElement(e);
    Array.isArray(t) ? i.classList.add(...t) : t && i.classList.add(t);
    for (const n in o)
      Object.prototype.hasOwnProperty.call(o, n) && (i[n] = o[n]);
    return i;
  }
  /**
   * Creates Text Node with the passed content
   *
   * @param {string} content - text content
   * @returns {Text}
   */
  static text(e) {
    return document.createTextNode(e);
  }
  /**
   * Append one or several elements to the parent
   *
   * @param  {Element|DocumentFragment} parent - where to append
   * @param  {Element|Element[]|DocumentFragment|Text|Text[]} elements - element or elements list
   */
  static append(e, t) {
    Array.isArray(t) ? t.forEach((o) => e.appendChild(o)) : e.appendChild(t);
  }
  /**
   * Append element or a couple to the beginning of the parent elements
   *
   * @param {Element} parent - where to append
   * @param {Element|Element[]} elements - element or elements list
   */
  static prepend(e, t) {
    Array.isArray(t) ? (t = t.reverse(), t.forEach((o) => e.prepend(o))) : e.prepend(t);
  }
  /**
   * Swap two elements in parent
   *
   * @param {HTMLElement} el1 - from
   * @param {HTMLElement} el2 - to
   * @deprecated
   */
  static swap(e, t) {
    const o = document.createElement("div"), i = e.parentNode;
    i.insertBefore(o, e), i.insertBefore(e, t), i.insertBefore(t, o), i.removeChild(o);
  }
  /**
   * Selector Decorator
   *
   * Returns first match
   *
   * @param {Element} el - element we searching inside. Default - DOM Document
   * @param {string} selector - searching string
   * @returns {Element}
   */
  static find(e = document, t) {
    return e.querySelector(t);
  }
  /**
   * Get Element by Id
   *
   * @param {string} id - id to find
   * @returns {HTMLElement | null}
   */
  static get(e) {
    return document.getElementById(e);
  }
  /**
   * Selector Decorator.
   *
   * Returns all matches
   *
   * @param {Element|Document} el - element we searching inside. Default - DOM Document
   * @param {string} selector - searching string
   * @returns {NodeList}
   */
  static findAll(e = document, t) {
    return e.querySelectorAll(t);
  }
  /**
   * Returns CSS selector for all text inputs
   */
  static get allInputsSelector() {
    return "[contenteditable=true], textarea, input:not([type]), " + ["text", "password", "email", "number", "search", "tel", "url"].map((t) => `input[type="${t}"]`).join(", ");
  }
  /**
   * Find all contenteditable, textarea and editable input elements passed holder contains
   *
   * @param holder - element where to find inputs
   */
  static findAllInputs(e) {
    return st(e.querySelectorAll(d.allInputsSelector)).reduce((t, o) => d.isNativeInput(o) || d.containsOnlyInlineElements(o) ? [...t, o] : [...t, ...d.getDeepestBlockElements(o)], []);
  }
  /**
   * Search for deepest node which is Leaf.
   * Leaf is the vertex that doesn't have any child nodes
   *
   * @description Method recursively goes throw the all Node until it finds the Leaf
   * @param {Node} node - root Node. From this vertex we start Deep-first search
   *                      {@link https://en.wikipedia.org/wiki/Depth-first_search}
   * @param {boolean} [atLast] - find last text node
   * @returns {Node} - it can be text Node or Element Node, so that caret will able to work with it
   */
  static getDeepestNode(e, t = false) {
    const o = t ? "lastChild" : "firstChild", i = t ? "previousSibling" : "nextSibling";
    if (e && e.nodeType === Node.ELEMENT_NODE && e[o]) {
      let n = e[o];
      if (d.isSingleTag(n) && !d.isNativeInput(n) && !d.isLineBreakTag(n))
        if (n[i])
          n = n[i];
        else if (n.parentNode[i])
          n = n.parentNode[i];
        else
          return n.parentNode;
      return this.getDeepestNode(n, t);
    }
    return e;
  }
  /**
   * Check if object is DOM node
   *
   * @param {*} node - object to check
   * @returns {boolean}
   */
  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  static isElement(e) {
    return qe(e) ? false : e && e.nodeType && e.nodeType === Node.ELEMENT_NODE;
  }
  /**
   * Check if object is DocumentFragment node
   *
   * @param {object} node - object to check
   * @returns {boolean}
   */
  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  static isFragment(e) {
    return qe(e) ? false : e && e.nodeType && e.nodeType === Node.DOCUMENT_FRAGMENT_NODE;
  }
  /**
   * Check if passed element is contenteditable
   *
   * @param {HTMLElement} element - html element to check
   * @returns {boolean}
   */
  static isContentEditable(e) {
    return e.contentEditable === "true";
  }
  /**
   * Checks target if it is native input
   *
   * @param {*} target - HTML element or string
   * @returns {boolean}
   */
  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  static isNativeInput(e) {
    const t = [
      "INPUT",
      "TEXTAREA"
    ];
    return e && e.tagName ? t.includes(e.tagName) : false;
  }
  /**
   * Checks if we can set caret
   *
   * @param {HTMLElement} target - target to check
   * @returns {boolean}
   */
  static canSetCaret(e) {
    let t = true;
    if (d.isNativeInput(e))
      switch (e.type) {
        case "file":
        case "checkbox":
        case "radio":
        case "hidden":
        case "submit":
        case "button":
        case "image":
        case "reset":
          t = false;
          break;
      }
    else
      t = d.isContentEditable(e);
    return t;
  }
  /**
   * Checks node if it is empty
   *
   * @description Method checks simple Node without any childs for emptiness
   * If you have Node with 2 or more children id depth, you better use {@link Dom#isEmpty} method
   * @param {Node} node - node to check
   * @returns {boolean} true if it is empty
   */
  static isNodeEmpty(e) {
    let t;
    return this.isSingleTag(e) && !this.isLineBreakTag(e) ? false : (this.isElement(e) && this.isNativeInput(e) ? t = e.value : t = e.textContent.replace("\u200B", ""), t.trim().length === 0);
  }
  /**
   * checks node if it is doesn't have any child nodes
   *
   * @param {Node} node - node to check
   * @returns {boolean}
   */
  static isLeaf(e) {
    return e ? e.childNodes.length === 0 : false;
  }
  /**
   * breadth-first search (BFS)
   * {@link https://en.wikipedia.org/wiki/Breadth-first_search}
   *
   * @description Pushes to stack all DOM leafs and checks for emptiness
   * @param {Node} node - node to check
   * @returns {boolean}
   */
  static isEmpty(e) {
    e.normalize();
    const t = [e];
    for (; t.length > 0; )
      if (e = t.shift(), !!e) {
        if (this.isLeaf(e) && !this.isNodeEmpty(e))
          return false;
        e.childNodes && t.push(...Array.from(e.childNodes));
      }
    return true;
  }
  /**
   * Check if string contains html elements
   *
   * @param {string} str - string to check
   * @returns {boolean}
   */
  static isHTMLString(e) {
    const t = d.make("div");
    return t.innerHTML = e, t.childElementCount > 0;
  }
  /**
   * Return length of node`s text content
   *
   * @param {Node} node - node with content
   * @returns {number}
   */
  static getContentLength(e) {
    return d.isNativeInput(e) ? e.value.length : e.nodeType === Node.TEXT_NODE ? e.length : e.textContent.length;
  }
  /**
   * Return array of names of block html elements
   *
   * @returns {string[]}
   */
  static get blockElements() {
    return [
      "address",
      "article",
      "aside",
      "blockquote",
      "canvas",
      "div",
      "dl",
      "dt",
      "fieldset",
      "figcaption",
      "figure",
      "footer",
      "form",
      "h1",
      "h2",
      "h3",
      "h4",
      "h5",
      "h6",
      "header",
      "hgroup",
      "hr",
      "li",
      "main",
      "nav",
      "noscript",
      "ol",
      "output",
      "p",
      "pre",
      "ruby",
      "section",
      "table",
      "tbody",
      "thead",
      "tr",
      "tfoot",
      "ul",
      "video"
    ];
  }
  /**
   * Check if passed content includes only inline elements
   *
   * @param {string|HTMLElement} data - element or html string
   * @returns {boolean}
   */
  static containsOnlyInlineElements(e) {
    let t;
    J(e) ? (t = document.createElement("div"), t.innerHTML = e) : t = e;
    const o = (i) => !d.blockElements.includes(i.tagName.toLowerCase()) && Array.from(i.children).every(o);
    return Array.from(t.children).every(o);
  }
  /**
   * Find and return all block elements in the passed parent (including subtree)
   *
   * @param {HTMLElement} parent - root element
   * @returns {HTMLElement[]}
   */
  static getDeepestBlockElements(e) {
    return d.containsOnlyInlineElements(e) ? [e] : Array.from(e.children).reduce((t, o) => [...t, ...d.getDeepestBlockElements(o)], []);
  }
  /**
   * Helper for get holder from {string} or return HTMLElement
   *
   * @param {string | HTMLElement} element - holder's id or holder's HTML Element
   * @returns {HTMLElement}
   */
  static getHolder(e) {
    return J(e) ? document.getElementById(e) : e;
  }
  /**
   * Returns true if element is anchor (is A tag)
   *
   * @param {Element} element - element to check
   * @returns {boolean}
   */
  static isAnchor(e) {
    return e.tagName.toLowerCase() === "a";
  }
  /**
   * Return element's offset related to the document
   *
   * @todo handle case when editor initialized in scrollable popup
   * @param el - element to compute offset
   */
  static offset(e) {
    const t = e.getBoundingClientRect(), o = window.pageXOffset || document.documentElement.scrollLeft, i = window.pageYOffset || document.documentElement.scrollTop, n = t.top + i, r = t.left + o;
    return {
      top: n,
      left: r,
      bottom: n + t.height,
      right: r + t.width
    };
  }
}
const Kt = {
  blockTunes: {
    toggler: {
      "Click to tune": "",
      "or drag to move": ""
    }
  },
  inlineToolbar: {
    converter: {
      "Convert to": ""
    }
  },
  toolbar: {
    toolbox: {
      Add: ""
    }
  },
  popover: {
    Filter: "",
    "Nothing found": ""
  }
}, Xt = {
  Text: "",
  Link: "",
  Bold: "",
  Italic: ""
}, Vt = {
  link: {
    "Add a link": ""
  },
  stub: {
    "The block can not be displayed correctly.": ""
  }
}, qt = {
  delete: {
    Delete: "",
    "Click to delete": ""
  },
  moveUp: {
    "Move up": ""
  },
  moveDown: {
    "Move down": ""
  }
}, at = {
  ui: Kt,
  toolNames: Xt,
  tools: Vt,
  blockTunes: qt
}, ie = class {
  /**
   * Type-safe translation for internal UI texts:
   * Perform translation of the string by namespace and a key
   *
   * @example I18n.ui(I18nInternalNS.ui.blockTunes.toggler, 'Click to tune')
   * @param internalNamespace - path to translated string in dictionary
   * @param dictKey - dictionary key. Better to use default locale original text
   */
  static ui(s, e) {
    return ie._t(s, e);
  }
  /**
   * Translate for external strings that is not presented in default dictionary.
   * For example, for user-specified tool names
   *
   * @param namespace - path to translated string in dictionary
   * @param dictKey - dictionary key. Better to use default locale original text
   */
  static t(s, e) {
    return ie._t(s, e);
  }
  /**
   * Adjust module for using external dictionary
   *
   * @param dictionary - new messages list to override default
   */
  static setDictionary(s) {
    ie.currentDictionary = s;
  }
  /**
   * Perform translation both for internal and external namespaces
   * If there is no translation found, returns passed key as a translated message
   *
   * @param namespace - path to translated string in dictionary
   * @param dictKey - dictionary key. Better to use default locale original text
   */
  static _t(s, e) {
    const t = ie.getNamespace(s);
    return !t || !t[e] ? e : t[e];
  }
  /**
   * Find messages section by namespace path
   *
   * @param namespace - path to section
   */
  static getNamespace(s) {
    return s.split(".").reduce((t, o) => !t || !Object.keys(t).length ? {} : t[o], ie.currentDictionary);
  }
};
let $ = ie;
$.currentDictionary = at;
class lt extends Error {
}
class we {
  constructor() {
    this.subscribers = {};
  }
  /**
   * Subscribe any event on callback
   *
   * @param eventName - event name
   * @param callback - subscriber
   */
  on(e, t) {
    e in this.subscribers || (this.subscribers[e] = []), this.subscribers[e].push(t);
  }
  /**
   * Subscribe any event on callback. Callback will be called once and be removed from subscribers array after call.
   *
   * @param eventName - event name
   * @param callback - subscriber
   */
  once(e, t) {
    e in this.subscribers || (this.subscribers[e] = []);
    const o = (i) => {
      const n = t(i), r = this.subscribers[e].indexOf(o);
      return r !== -1 && this.subscribers[e].splice(r, 1), n;
    };
    this.subscribers[e].push(o);
  }
  /**
   * Emit callbacks with passed data
   *
   * @param eventName - event name
   * @param data - subscribers get this data when they were fired
   */
  emit(e, t) {
    V(this.subscribers) || !this.subscribers[e] || this.subscribers[e].reduce((o, i) => {
      const n = i(o);
      return n !== void 0 ? n : o;
    }, t);
  }
  /**
   * Unsubscribe callback from event
   *
   * @param eventName - event name
   * @param callback - event handler
   */
  off(e, t) {
    if (this.subscribers[e] === void 0) {
      console.warn(`EventDispatcher .off(): there is no subscribers for event "${e.toString()}". Probably, .off() called before .on()`);
      return;
    }
    for (let o = 0; o < this.subscribers[e].length; o++)
      if (this.subscribers[e][o] === t) {
        delete this.subscribers[e][o];
        break;
      }
  }
  /**
   * Destroyer
   * clears subscribers list
   */
  destroy() {
    this.subscribers = {};
  }
}
function ee(s) {
  Object.setPrototypeOf(this, {
    /**
     * Block id
     *
     * @returns {string}
     */
    get id() {
      return s.id;
    },
    /**
     * Tool name
     *
     * @returns {string}
     */
    get name() {
      return s.name;
    },
    /**
     * Tool config passed on Editor's initialization
     *
     * @returns {ToolConfig}
     */
    get config() {
      return s.config;
    },
    /**
     * .ce-block element, that wraps plugin contents
     *
     * @returns {HTMLElement}
     */
    get holder() {
      return s.holder;
    },
    /**
     * True if Block content is empty
     *
     * @returns {boolean}
     */
    get isEmpty() {
      return s.isEmpty;
    },
    /**
     * True if Block is selected with Cross-Block selection
     *
     * @returns {boolean}
     */
    get selected() {
      return s.selected;
    },
    /**
     * Set Block's stretch state
     *
     * @param {boolean} state  state to set
     */
    set stretched(t) {
      s.stretched = t;
    },
    /**
     * True if Block is stretched
     *
     * @returns {boolean}
     */
    get stretched() {
      return s.stretched;
    },
    /**
     * Call Tool method with errors handler under-the-hood
     *
     * @param {string} methodName - method to call
     * @param {object} param - object with parameters
     * @returns {unknown}
     */
    call(t, o) {
      return s.call(t, o);
    },
    /**
     * Save Block content
     *
     * @returns {Promise<void|SavedData>}
     */
    save() {
      return s.save();
    },
    /**
     * Validate Block data
     *
     * @param {BlockToolData} data - data to validate
     * @returns {Promise<boolean>}
     */
    validate(t) {
      return s.validate(t);
    },
    /**
     * Allows to say Editor that Block was changed. Used to manually trigger Editor's 'onChange' callback
     * Can be useful for block changes invisible for editor core.
     */
    dispatchChange() {
      s.dispatchChange();
    }
  });
}
class De {
  constructor() {
    this.allListeners = [];
  }
  /**
   * Assigns event listener on element and returns unique identifier
   *
   * @param {EventTarget} element - DOM element that needs to be listened
   * @param {string} eventType - event type
   * @param {Function} handler - method that will be fired on event
   * @param {boolean|AddEventListenerOptions} options - useCapture or {capture, passive, once}
   */
  on(e, t, o, i = false) {
    const n = Wt("l"), r = {
      id: n,
      element: e,
      eventType: t,
      handler: o,
      options: i
    };
    if (!this.findOne(e, t, o))
      return this.allListeners.push(r), e.addEventListener(t, o, i), n;
  }
  /**
   * Removes event listener from element
   *
   * @param {EventTarget} element - DOM element that we removing listener
   * @param {string} eventType - event type
   * @param {Function} handler - remove handler, if element listens several handlers on the same event type
   * @param {boolean|AddEventListenerOptions} options - useCapture or {capture, passive, once}
   */
  off(e, t, o, i) {
    const n = this.findAll(e, t, o);
    n.forEach((r, a) => {
      const l = this.allListeners.indexOf(n[a]);
      l > -1 && (this.allListeners.splice(l, 1), r.element.removeEventListener(r.eventType, r.handler, r.options));
    });
  }
  /**
   * Removes listener by id
   *
   * @param {string} id - listener identifier
   */
  offById(e) {
    const t = this.findById(e);
    t && t.element.removeEventListener(t.eventType, t.handler, t.options);
  }
  /**
   * Finds and returns first listener by passed params
   *
   * @param {EventTarget} element - event target
   * @param {string} [eventType] - event type
   * @param {Function} [handler] - event handler
   * @returns {ListenerData|null}
   */
  findOne(e, t, o) {
    const i = this.findAll(e, t, o);
    return i.length > 0 ? i[0] : null;
  }
  /**
   * Return all stored listeners by passed params
   *
   * @param {EventTarget} element - event target
   * @param {string} eventType - event type
   * @param {Function} handler - event handler
   * @returns {ListenerData[]}
   */
  findAll(e, t, o) {
    let i;
    const n = e ? this.findByEventTarget(e) : [];
    return e && t && o ? i = n.filter((r) => r.eventType === t && r.handler === o) : e && t ? i = n.filter((r) => r.eventType === t) : i = n, i;
  }
  /**
   * Removes all listeners
   */
  removeAll() {
    this.allListeners.map((e) => {
      e.element.removeEventListener(e.eventType, e.handler, e.options);
    }), this.allListeners = [];
  }
  /**
   * Module cleanup on destruction
   */
  destroy() {
    this.removeAll();
  }
  /**
   * Search method: looks for listener by passed element
   *
   * @param {EventTarget} element - searching element
   * @returns {Array} listeners that found on element
   */
  findByEventTarget(e) {
    return this.allListeners.filter((t) => {
      if (t.element === e)
        return t;
    });
  }
  /**
   * Search method: looks for listener by passed event type
   *
   * @param {string} eventType - event type
   * @returns {ListenerData[]} listeners that found on element
   */
  findByType(e) {
    return this.allListeners.filter((t) => {
      if (t.eventType === e)
        return t;
    });
  }
  /**
   * Search method: looks for listener by passed handler
   *
   * @param {Function} handler - event handler
   * @returns {ListenerData[]} listeners that found on element
   */
  findByHandler(e) {
    return this.allListeners.filter((t) => {
      if (t.handler === e)
        return t;
    });
  }
  /**
   * Returns listener data found by id
   *
   * @param {string} id - listener identifier
   * @returns {ListenerData}
   */
  findById(e) {
    return this.allListeners.find((t) => t.id === e);
  }
}
class C {
  /**
   * @class
   * @param options - Module options
   * @param options.config - Module config
   * @param options.eventsDispatcher - Common event bus
   */
  constructor({ config: e, eventsDispatcher: t }) {
    if (this.nodes = {}, this.listeners = new De(), this.readOnlyMutableListeners = {
      /**
       * Assigns event listener on DOM element and pushes into special array that might be removed
       *
       * @param {EventTarget} element - DOM Element
       * @param {string} eventType - Event name
       * @param {Function} handler - Event handler
       * @param {boolean|AddEventListenerOptions} options - Listening options
       */
      on: (o, i, n, r = false) => {
        this.mutableListenerIds.push(
          this.listeners.on(o, i, n, r)
        );
      },
      /**
       * Clears all mutable listeners
       */
      clearAll: () => {
        for (const o of this.mutableListenerIds)
          this.listeners.offById(o);
        this.mutableListenerIds = [];
      }
    }, this.mutableListenerIds = [], new.target === C)
      throw new TypeError("Constructors for abstract class Module are not allowed.");
    this.config = e, this.eventsDispatcher = t;
  }
  /**
   * Editor modules setter
   *
   * @param {EditorModules} Editor - Editor's Modules
   */
  set state(e) {
    this.Editor = e;
  }
  /**
   * Remove memorized nodes
   */
  removeAllNodes() {
    for (const e in this.nodes) {
      const t = this.nodes[e];
      t instanceof HTMLElement && t.remove();
    }
  }
  /**
   * Returns true if current direction is RTL (Right-To-Left)
   */
  get isRtl() {
    return this.config.i18n.direction === "rtl";
  }
}
class m {
  constructor() {
    this.instance = null, this.selection = null, this.savedSelectionRange = null, this.isFakeBackgroundEnabled = false, this.commandBackground = "backColor", this.commandRemoveFormat = "removeFormat";
  }
  /**
   * Editor styles
   *
   * @returns {{editorWrapper: string, editorZone: string}}
   */
  static get CSS() {
    return {
      editorWrapper: "codex-editor",
      editorZone: "codex-editor__redactor"
    };
  }
  /**
   * Returns selected anchor
   * {@link https://developer.mozilla.org/ru/docs/Web/API/Selection/anchorNode}
   *
   * @returns {Node|null}
   */
  static get anchorNode() {
    const e = window.getSelection();
    return e ? e.anchorNode : null;
  }
  /**
   * Returns selected anchor element
   *
   * @returns {Element|null}
   */
  static get anchorElement() {
    const e = window.getSelection();
    if (!e)
      return null;
    const t = e.anchorNode;
    return t ? d.isElement(t) ? t : t.parentElement : null;
  }
  /**
   * Returns selection offset according to the anchor node
   * {@link https://developer.mozilla.org/ru/docs/Web/API/Selection/anchorOffset}
   *
   * @returns {number|null}
   */
  static get anchorOffset() {
    const e = window.getSelection();
    return e ? e.anchorOffset : null;
  }
  /**
   * Is current selection range collapsed
   *
   * @returns {boolean|null}
   */
  static get isCollapsed() {
    const e = window.getSelection();
    return e ? e.isCollapsed : null;
  }
  /**
   * Check current selection if it is at Editor's zone
   *
   * @returns {boolean}
   */
  static get isAtEditor() {
    return this.isSelectionAtEditor(m.get());
  }
  /**
   * Check if passed selection is at Editor's zone
   *
   * @param selection - Selection object to check
   */
  static isSelectionAtEditor(e) {
    if (!e)
      return false;
    let t = e.anchorNode || e.focusNode;
    t && t.nodeType === Node.TEXT_NODE && (t = t.parentNode);
    let o = null;
    return t && t instanceof Element && (o = t.closest(`.${m.CSS.editorZone}`)), o ? o.nodeType === Node.ELEMENT_NODE : false;
  }
  /**
   * Check if passed range at Editor zone
   *
   * @param range - range to check
   */
  static isRangeAtEditor(e) {
    if (!e)
      return;
    let t = e.startContainer;
    t && t.nodeType === Node.TEXT_NODE && (t = t.parentNode);
    let o = null;
    return t && t instanceof Element && (o = t.closest(`.${m.CSS.editorZone}`)), o ? o.nodeType === Node.ELEMENT_NODE : false;
  }
  /**
   * Methods return boolean that true if selection exists on the page
   */
  static get isSelectionExists() {
    return !!m.get().anchorNode;
  }
  /**
   * Return first range
   *
   * @returns {Range|null}
   */
  static get range() {
    return this.getRangeFromSelection(this.get());
  }
  /**
   * Returns range from passed Selection object
   *
   * @param selection - Selection object to get Range from
   */
  static getRangeFromSelection(e) {
    return e && e.rangeCount ? e.getRangeAt(0) : null;
  }
  /**
   * Calculates position and size of selected text
   *
   * @returns {DOMRect | ClientRect}
   */
  static get rect() {
    let e = document.selection, t, o = {
      x: 0,
      y: 0,
      width: 0,
      height: 0
    };
    if (e && e.type !== "Control")
      return e = e, t = e.createRange(), o.x = t.boundingLeft, o.y = t.boundingTop, o.width = t.boundingWidth, o.height = t.boundingHeight, o;
    if (!window.getSelection)
      return L("Method window.getSelection is not supported", "warn"), o;
    if (e = window.getSelection(), e.rangeCount === null || isNaN(e.rangeCount))
      return L("Method SelectionUtils.rangeCount is not supported", "warn"), o;
    if (e.rangeCount === 0)
      return o;
    if (t = e.getRangeAt(0).cloneRange(), t.getBoundingClientRect && (o = t.getBoundingClientRect()), o.x === 0 && o.y === 0) {
      const i = document.createElement("span");
      if (i.getBoundingClientRect) {
        i.appendChild(document.createTextNode("\u200B")), t.insertNode(i), o = i.getBoundingClientRect();
        const n = i.parentNode;
        n.removeChild(i), n.normalize();
      }
    }
    return o;
  }
  /**
   * Returns selected text as String
   *
   * @returns {string}
   */
  static get text() {
    return window.getSelection ? window.getSelection().toString() : "";
  }
  /**
   * Returns window SelectionUtils
   * {@link https://developer.mozilla.org/ru/docs/Web/API/Window/getSelection}
   *
   * @returns {Selection}
   */
  static get() {
    return window.getSelection();
  }
  /**
   * Set focus to contenteditable or native input element
   *
   * @param element - element where to set focus
   * @param offset - offset of cursor
   */
  static setCursor(e, t = 0) {
    const o = document.createRange(), i = window.getSelection();
    return d.isNativeInput(e) ? d.canSetCaret(e) ? (e.focus(), e.selectionStart = e.selectionEnd = t, e.getBoundingClientRect()) : void 0 : (o.setStart(e, t), o.setEnd(e, t), i.removeAllRanges(), i.addRange(o), o.getBoundingClientRect());
  }
  /**
   * Check if current range exists and belongs to container
   *
   * @param container - where range should be
   */
  static isRangeInsideContainer(e) {
    const t = m.range;
    return t === null ? false : e.contains(t.startContainer);
  }
  /**
   * Adds fake cursor to the current range
   */
  static addFakeCursor() {
    const e = m.range;
    if (e === null)
      return;
    const t = d.make("span", "codex-editor__fake-cursor");
    t.dataset.mutationFree = "true", e.collapse(), e.insertNode(t);
  }
  /**
   * Check if passed element contains a fake cursor
   *
   * @param el - where to check
   */
  static isFakeCursorInsideContainer(e) {
    return d.find(e, ".codex-editor__fake-cursor") !== null;
  }
  /**
   * Removes fake cursor from a container
   *
   * @param container - container to look for
   */
  static removeFakeCursor(e = document.body) {
    const t = d.find(e, ".codex-editor__fake-cursor");
    t && t.remove();
  }
  /**
   * Removes fake background
   */
  removeFakeBackground() {
    this.isFakeBackgroundEnabled && (this.isFakeBackgroundEnabled = false, document.execCommand(this.commandRemoveFormat));
  }
  /**
   * Sets fake background
   */
  setFakeBackground() {
    document.execCommand(this.commandBackground, false, "#a8d6ff"), this.isFakeBackgroundEnabled = true;
  }
  /**
   * Save SelectionUtils's range
   */
  save() {
    this.savedSelectionRange = m.range;
  }
  /**
   * Restore saved SelectionUtils's range
   */
  restore() {
    if (!this.savedSelectionRange)
      return;
    const e = window.getSelection();
    e.removeAllRanges(), e.addRange(this.savedSelectionRange);
  }
  /**
   * Clears saved selection
   */
  clearSaved() {
    this.savedSelectionRange = null;
  }
  /**
   * Collapse current selection
   */
  collapseToEnd() {
    const e = window.getSelection(), t = document.createRange();
    t.selectNodeContents(e.focusNode), t.collapse(false), e.removeAllRanges(), e.addRange(t);
  }
  /**
   * Looks ahead to find passed tag from current selection
   *
   * @param  {string} tagName       - tag to found
   * @param  {string} [className]   - tag's class name
   * @param  {number} [searchDepth] - count of tags that can be included. For better performance.
   * @returns {HTMLElement|null}
   */
  findParentTag(e, t, o = 10) {
    const i = window.getSelection();
    let n = null;
    return !i || !i.anchorNode || !i.focusNode ? null : ([
      /** the Node in which the selection begins */
      i.anchorNode,
      /** the Node in which the selection ends */
      i.focusNode
    ].forEach((a) => {
      let l = o;
      for (; l > 0 && a.parentNode && !(a.tagName === e && (n = a, t && a.classList && !a.classList.contains(t) && (n = null), n)); )
        a = a.parentNode, l--;
    }), n);
  }
  /**
   * Expands selection range to the passed parent node
   *
   * @param {HTMLElement} element - element which contents should be selected
   */
  expandToTag(e) {
    const t = window.getSelection();
    t.removeAllRanges();
    const o = document.createRange();
    o.selectNodeContents(e), t.addRange(o);
  }
}
function Zt(s, e) {
  const { type: t, target: o, addedNodes: i, removedNodes: n } = s;
  if (o === e)
    return true;
  if (["characterData", "attributes"].includes(t)) {
    const l = o.nodeType === Node.TEXT_NODE ? o.parentNode : o;
    return e.contains(l);
  }
  const r = Array.from(i).some((l) => e.contains(l)), a = Array.from(n).some((l) => e.contains(l));
  return r || a;
}
const Me = "redactor dom changed", ct = "block changed", dt = "fake cursor is about to be toggled", ht = "fake cursor have been set";
function Je(s, e) {
  return s.mergeable && s.name === e.name;
}
function Gt(s, e) {
  const t = e == null ? void 0 : e.export;
  return D(t) ? t(s) : J(t) ? s[t] : (t !== void 0 && L("Conversion \xABexport\xBB property must be a string or function. String means key of saved data object to export. Function should export processed string to export."), "");
}
function Jt(s, e) {
  const t = e == null ? void 0 : e.import;
  return D(t) ? t(s) : J(t) ? {
    [t]: s
  } : (t !== void 0 && L("Conversion \xABimport\xBB property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."), {});
}
var q = /* @__PURE__ */ ((s) => (s.APPEND_CALLBACK = "appendCallback", s.RENDERED = "rendered", s.MOVED = "moved", s.UPDATED = "updated", s.REMOVED = "removed", s.ON_PASTE = "onPaste", s))(q || {});
class F extends we {
  /**
   * @param options - block constructor options
   * @param [options.id] - block's id. Will be generated if omitted.
   * @param options.data - Tool's initial data
   * @param options.tool  block's tool
   * @param options.api - Editor API module for pass it to the Block Tunes
   * @param options.readOnly - Read-Only flag
   * @param [eventBus] - Editor common event bus. Allows to subscribe on some Editor events. Could be omitted when "virtual" Block is created. See BlocksAPI@composeBlockData.
   */
  constructor({
    id: e = Ut(),
    data: t,
    tool: o,
    api: i,
    readOnly: n,
    tunesData: r
  }, a) {
    super(), this.cachedInputs = [], this.toolRenderedElement = null, this.tunesInstances = /* @__PURE__ */ new Map(), this.defaultTunesInstances = /* @__PURE__ */ new Map(), this.unavailableTunesData = {}, this.inputIndex = 0, this.editorEventBus = null, this.handleFocus = () => {
      this.dropInputsCache(), this.updateCurrentInput();
    }, this.didMutated = (l = void 0) => {
      const c = l === void 0, u = l instanceof InputEvent;
      !c && !u && this.detectToolRootChange(l);
      let h;
      c || u ? h = true : h = !(l.length > 0 && l.every((k) => {
        const { addedNodes: p, removedNodes: v, target: A } = k;
        return [
          ...Array.from(p),
          ...Array.from(v),
          A
        ].some((_) => d.isElement(_) ? _.dataset.mutationFree === "true" : false);
      })), h && (this.dropInputsCache(), this.updateCurrentInput(), this.call(
        "updated"
        /* UPDATED */
      ), this.emit("didMutated", this));
    }, this.name = o.name, this.id = e, this.settings = o.settings, this.config = o.settings.config || {}, this.api = i, this.editorEventBus = a || null, this.blockAPI = new ee(this), this.tool = o, this.toolInstance = o.create(t, this.blockAPI, n), this.tunes = o.tunes, this.composeTunes(r), this.holder = this.compose(), window.requestIdleCallback(() => {
      this.watchBlockMutations(), this.addInputEvents();
    });
  }
  /**
   * CSS classes for the Block
   *
   * @returns {{wrapper: string, content: string}}
   */
  static get CSS() {
    return {
      wrapper: "ce-block",
      wrapperStretched: "ce-block--stretched",
      content: "ce-block__content",
      focused: "ce-block--focused",
      selected: "ce-block--selected",
      dropTarget: "ce-block--drop-target"
    };
  }
  /**
   * Find and return all editable elements (contenteditable and native inputs) in the Tool HTML
   *
   * @returns {HTMLElement[]}
   */
  get inputs() {
    if (this.cachedInputs.length !== 0)
      return this.cachedInputs;
    const e = d.findAllInputs(this.holder);
    return this.inputIndex > e.length - 1 && (this.inputIndex = e.length - 1), this.cachedInputs = e, e;
  }
  /**
   * Return current Tool`s input
   *
   * @returns {HTMLElement}
   */
  get currentInput() {
    return this.inputs[this.inputIndex];
  }
  /**
   * Set input index to the passed element
   *
   * @param {HTMLElement | Node} element - HTML Element to set as current input
   */
  set currentInput(e) {
    const t = this.inputs.findIndex((o) => o === e || o.contains(e));
    t !== -1 && (this.inputIndex = t);
  }
  /**
   * Return first Tool`s input
   *
   * @returns {HTMLElement}
   */
  get firstInput() {
    return this.inputs[0];
  }
  /**
   * Return first Tool`s input
   *
   * @returns {HTMLElement}
   */
  get lastInput() {
    const e = this.inputs;
    return e[e.length - 1];
  }
  /**
   * Return next Tool`s input or undefined if it doesn't exist
   *
   * @returns {HTMLElement}
   */
  get nextInput() {
    return this.inputs[this.inputIndex + 1];
  }
  /**
   * Return previous Tool`s input or undefined if it doesn't exist
   *
   * @returns {HTMLElement}
   */
  get previousInput() {
    return this.inputs[this.inputIndex - 1];
  }
  /**
   * Get Block's JSON data
   *
   * @returns {object}
   */
  get data() {
    return this.save().then((e) => e && !V(e.data) ? e.data : {});
  }
  /**
   * Returns tool's sanitizer config
   *
   * @returns {object}
   */
  get sanitize() {
    return this.tool.sanitizeConfig;
  }
  /**
   * is block mergeable
   * We plugin have merge function then we call it mergeable
   *
   * @returns {boolean}
   */
  get mergeable() {
    return D(this.toolInstance.merge);
  }
  /**
   * Check block for emptiness
   *
   * @returns {boolean}
   */
  get isEmpty() {
    const e = d.isEmpty(this.pluginsContent), t = !this.hasMedia;
    return e && t;
  }
  /**
   * Check if block has a media content such as images, iframe and other
   *
   * @returns {boolean}
   */
  get hasMedia() {
    const e = [
      "img",
      "iframe",
      "video",
      "audio",
      "source",
      "input",
      "textarea",
      "twitterwidget"
    ];
    return !!this.holder.querySelector(e.join(","));
  }
  /**
   * Set focused state
   *
   * @param {boolean} state - 'true' to select, 'false' to remove selection
   */
  set focused(e) {
    this.holder.classList.toggle(F.CSS.focused, e);
  }
  /**
   * Get Block's focused state
   */
  get focused() {
    return this.holder.classList.contains(F.CSS.focused);
  }
  /**
   * Set selected state
   * We don't need to mark Block as Selected when it is empty
   *
   * @param {boolean} state - 'true' to select, 'false' to remove selection
   */
  set selected(e) {
    var i, n;
    this.holder.classList.toggle(F.CSS.selected, e);
    const t = e === true && m.isRangeInsideContainer(this.holder), o = e === false && m.isFakeCursorInsideContainer(this.holder);
    (t || o) && ((i = this.editorEventBus) == null || i.emit(dt, { state: e }), t ? m.addFakeCursor() : m.removeFakeCursor(this.holder), (n = this.editorEventBus) == null || n.emit(ht, { state: e }));
  }
  /**
   * Returns True if it is Selected
   *
   * @returns {boolean}
   */
  get selected() {
    return this.holder.classList.contains(F.CSS.selected);
  }
  /**
   * Set stretched state
   *
   * @param {boolean} state - 'true' to enable, 'false' to disable stretched state
   */
  set stretched(e) {
    this.holder.classList.toggle(F.CSS.wrapperStretched, e);
  }
  /**
   * Return Block's stretched state
   *
   * @returns {boolean}
   */
  get stretched() {
    return this.holder.classList.contains(F.CSS.wrapperStretched);
  }
  /**
   * Toggle drop target state
   *
   * @param {boolean} state - 'true' if block is drop target, false otherwise
   */
  set dropTarget(e) {
    this.holder.classList.toggle(F.CSS.dropTarget, e);
  }
  /**
   * Returns Plugins content
   *
   * @returns {HTMLElement}
   */
  get pluginsContent() {
    return this.toolRenderedElement;
  }
  /**
   * Calls Tool's method
   *
   * Method checks tool property {MethodName}. Fires method with passes params If it is instance of Function
   *
   * @param {string} methodName - method to call
   * @param {object} params - method argument
   */
  call(e, t) {
    if (D(this.toolInstance[e])) {
      e === "appendCallback" && L(
        "`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead",
        "warn"
      );
      try {
        this.toolInstance[e].call(this.toolInstance, t);
      } catch (o) {
        L(`Error during '${e}' call: ${o.message}`, "error");
      }
    }
  }
  /**
   * Call plugins merge method
   *
   * @param {BlockToolData} data - data to merge
   */
  mergeWith(e) {
    return __async(this, null, function* () {
      yield this.toolInstance.merge(e);
    });
  }
  /**
   * Extracts data from Block
   * Groups Tool's save processing time
   *
   * @returns {object}
   */
  save() {
    return __async(this, null, function* () {
      const e = yield this.toolInstance.save(this.pluginsContent), t = this.unavailableTunesData;
      [
        ...this.tunesInstances.entries(),
        ...this.defaultTunesInstances.entries()
      ].forEach(([n, r]) => {
        if (D(r.save))
          try {
            t[n] = r.save();
          } catch (a) {
            L(`Tune ${r.constructor.name} save method throws an Error %o`, "warn", a);
          }
      });
      const o = window.performance.now();
      let i;
      return Promise.resolve(e).then((n) => (i = window.performance.now(), {
        id: this.id,
        tool: this.name,
        data: n,
        tunes: t,
        time: i - o
      })).catch((n) => {
        L(`Saving process for ${this.name} tool failed due to the ${n}`, "log", "red");
      });
    });
  }
  /**
   * Uses Tool's validation method to check the correctness of output data
   * Tool's validation method is optional
   *
   * @description Method returns true|false whether data passed the validation or not
   * @param {BlockToolData} data - data to validate
   * @returns {Promise<boolean>} valid
   */
  validate(e) {
    return __async(this, null, function* () {
      let t = true;
      return this.toolInstance.validate instanceof Function && (t = yield this.toolInstance.validate(e)), t;
    });
  }
  /**
   * Returns data to render in tunes menu.
   * Splits block tunes settings into 2 groups: popover items and custom html.
   */
  getTunes() {
    const e = document.createElement("div"), t = [], o = typeof this.toolInstance.renderSettings == "function" ? this.toolInstance.renderSettings() : [], i = [
      ...this.tunesInstances.values(),
      ...this.defaultTunesInstances.values()
    ].map((n) => n.render());
    return [o, i].flat().forEach((n) => {
      d.isElement(n) ? e.appendChild(n) : Array.isArray(n) ? t.push(...n) : t.push(n);
    }), [t, e];
  }
  /**
   * Update current input index with selection anchor node
   */
  updateCurrentInput() {
    this.currentInput = d.isNativeInput(document.activeElement) || !m.anchorNode ? document.activeElement : m.anchorNode;
  }
  /**
   * Allows to say Editor that Block was changed. Used to manually trigger Editor's 'onChange' callback
   * Can be useful for block changes invisible for editor core.
   */
  dispatchChange() {
    this.didMutated();
  }
  /**
   * Call Tool instance destroy method
   */
  destroy() {
    this.unwatchBlockMutations(), this.removeInputEvents(), super.destroy(), D(this.toolInstance.destroy) && this.toolInstance.destroy();
  }
  /**
   * Tool could specify several entries to be displayed at the Toolbox (for example, "Heading 1", "Heading 2", "Heading 3")
   * This method returns the entry that is related to the Block (depended on the Block data)
   */
  getActiveToolboxEntry() {
    return __async(this, null, function* () {
      const e = this.tool.toolbox;
      if (e.length === 1)
        return Promise.resolve(this.tool.toolbox[0]);
      const t = yield this.data;
      return e.find((i) => Object.entries(i.data).some(([n, r]) => t[n] && Yt(t[n], r)));
    });
  }
  /**
   * Exports Block data as string using conversion config
   */
  exportDataAsString() {
    return __async(this, null, function* () {
      const e = yield this.data;
      return Gt(e, this.tool.conversionConfig);
    });
  }
  /**
   * Make default Block wrappers and put Tool`s content there
   *
   * @returns {HTMLDivElement}
   */
  compose() {
    const e = d.make("div", F.CSS.wrapper), t = d.make("div", F.CSS.content), o = this.toolInstance.render();
    e.dataset.id = this.id, this.toolRenderedElement = o, t.appendChild(this.toolRenderedElement);
    let i = t;
    return [...this.tunesInstances.values(), ...this.defaultTunesInstances.values()].forEach((n) => {
      if (D(n.wrap))
        try {
          i = n.wrap(i);
        } catch (r) {
          L(`Tune ${n.constructor.name} wrap method throws an Error %o`, "warn", r);
        }
    }), e.appendChild(i), e;
  }
  /**
   * Instantiate Block Tunes
   *
   * @param tunesData - current Block tunes data
   * @private
   */
  composeTunes(e) {
    Array.from(this.tunes.values()).forEach((t) => {
      (t.isInternal ? this.defaultTunesInstances : this.tunesInstances).set(t.name, t.create(e[t.name], this.blockAPI));
    }), Object.entries(e).forEach(([t, o]) => {
      this.tunesInstances.has(t) || (this.unavailableTunesData[t] = o);
    });
  }
  /**
   * Adds focus event listeners to all inputs and contenteditable
   */
  addInputEvents() {
    this.inputs.forEach((e) => {
      e.addEventListener("focus", this.handleFocus), d.isNativeInput(e) && e.addEventListener("input", this.didMutated);
    });
  }
  /**
   * removes focus event listeners from all inputs and contenteditable
   */
  removeInputEvents() {
    this.inputs.forEach((e) => {
      e.removeEventListener("focus", this.handleFocus), d.isNativeInput(e) && e.removeEventListener("input", this.didMutated);
    });
  }
  /**
   * Listen common editor Dom Changed event and detect mutations related to the  Block
   */
  watchBlockMutations() {
    var e;
    this.redactorDomChangedCallback = (t) => {
      const { mutations: o } = t;
      o.some((n) => Zt(n, this.toolRenderedElement)) && this.didMutated(o);
    }, (e = this.editorEventBus) == null || e.on(Me, this.redactorDomChangedCallback);
  }
  /**
   * Remove redactor dom change event listener
   */
  unwatchBlockMutations() {
    var e;
    (e = this.editorEventBus) == null || e.off(Me, this.redactorDomChangedCallback);
  }
  /**
   * Sometimes Tool can replace own main element, for example H2 -> H4 or UL -> OL
   * We need to detect such changes and update a link to tools main element with the new one
   *
   * @param mutations - records of block content mutations
   */
  detectToolRootChange(e) {
    e.forEach((t) => {
      if (Array.from(t.removedNodes).includes(this.toolRenderedElement)) {
        const i = t.addedNodes[t.addedNodes.length - 1];
        this.toolRenderedElement = i;
      }
    });
  }
  /**
   * Clears inputs cached value
   */
  dropInputsCache() {
    this.cachedInputs = [];
  }
}
class Qt extends C {
  constructor() {
    super(...arguments), this.insert = (e = this.config.defaultBlock, t = {}, o = {}, i, n, r, a) => {
      const l = this.Editor.BlockManager.insert({
        id: a,
        tool: e,
        data: t,
        index: i,
        needToFocus: n,
        replace: r
      });
      return new ee(l);
    }, this.composeBlockData = (e) => __async(this, null, function* () {
      const t = this.Editor.Tools.blockTools.get(e);
      return new F({
        tool: t,
        api: this.Editor.API,
        readOnly: true,
        data: {},
        tunesData: {}
      }).data;
    }), this.update = (e, t) => __async(this, null, function* () {
      const { BlockManager: o } = this.Editor, i = o.getBlockById(e);
      if (i === void 0)
        throw new Error(`Block with id "${e}" not found`);
      const n = yield o.update(i, t);
      return new ee(n);
    }), this.convert = (e, t, o) => {
      var h, f;
      const { BlockManager: i, Tools: n } = this.Editor, r = i.getBlockById(e);
      if (!r)
        throw new Error(`Block with id "${e}" not found`);
      const a = n.blockTools.get(r.name), l = n.blockTools.get(t);
      if (!l)
        throw new Error(`Block Tool with type "${t}" not found`);
      const c = ((h = a == null ? void 0 : a.conversionConfig) == null ? void 0 : h.export) !== void 0, u = ((f = l.conversionConfig) == null ? void 0 : f.import) !== void 0;
      if (c && u)
        i.convert(r, t, o);
      else {
        const k = [
          c ? false : ae(r.name),
          u ? false : ae(t)
        ].filter(Boolean).join(" and ");
        throw new Error(`Conversion from "${r.name}" to "${t}" is not possible. ${k} tool(s) should provide a "conversionConfig"`);
      }
    }, this.insertMany = (e, t = this.Editor.BlockManager.blocks.length - 1) => {
      this.validateIndex(t);
      const o = e.map(({ id: i, type: n, data: r }) => this.Editor.BlockManager.composeBlock({
        id: i,
        tool: n || this.config.defaultBlock,
        data: r
      }));
      return this.Editor.BlockManager.insertMany(o, t), o.map((i) => new ee(i));
    };
  }
  /**
   * Available methods
   *
   * @returns {Blocks}
   */
  get methods() {
    return {
      clear: () => this.clear(),
      render: (e) => this.render(e),
      renderFromHTML: (e) => this.renderFromHTML(e),
      delete: (e) => this.delete(e),
      swap: (e, t) => this.swap(e, t),
      move: (e, t) => this.move(e, t),
      getBlockByIndex: (e) => this.getBlockByIndex(e),
      getById: (e) => this.getById(e),
      getCurrentBlockIndex: () => this.getCurrentBlockIndex(),
      getBlockIndex: (e) => this.getBlockIndex(e),
      getBlocksCount: () => this.getBlocksCount(),
      stretchBlock: (e, t = true) => this.stretchBlock(e, t),
      insertNewBlock: () => this.insertNewBlock(),
      insert: this.insert,
      insertMany: this.insertMany,
      update: this.update,
      composeBlockData: this.composeBlockData,
      convert: this.convert
    };
  }
  /**
   * Returns Blocks count
   *
   * @returns {number}
   */
  getBlocksCount() {
    return this.Editor.BlockManager.blocks.length;
  }
  /**
   * Returns current block index
   *
   * @returns {number}
   */
  getCurrentBlockIndex() {
    return this.Editor.BlockManager.currentBlockIndex;
  }
  /**
   * Returns the index of Block by id;
   *
   * @param id - block id
   */
  getBlockIndex(e) {
    const t = this.Editor.BlockManager.getBlockById(e);
    if (!t) {
      K("There is no block with id `" + e + "`", "warn");
      return;
    }
    return this.Editor.BlockManager.getBlockIndex(t);
  }
  /**
   * Returns BlockAPI object by Block index
   *
   * @param {number} index - index to get
   */
  getBlockByIndex(e) {
    const t = this.Editor.BlockManager.getBlockByIndex(e);
    if (t === void 0) {
      K("There is no block at index `" + e + "`", "warn");
      return;
    }
    return new ee(t);
  }
  /**
   * Returns BlockAPI object by Block id
   *
   * @param id - id of block to get
   */
  getById(e) {
    const t = this.Editor.BlockManager.getBlockById(e);
    return t === void 0 ? (K("There is no block with id `" + e + "`", "warn"), null) : new ee(t);
  }
  /**
   * Call Block Manager method that swap Blocks
   *
   * @param {number} fromIndex - position of first Block
   * @param {number} toIndex - position of second Block
   * @deprecated  use 'move' instead
   */
  swap(e, t) {
    L(
      "`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead",
      "info"
    ), this.Editor.BlockManager.swap(e, t);
  }
  /**
   * Move block from one index to another
   *
   * @param {number} toIndex - index to move to
   * @param {number} fromIndex - index to move from
   */
  move(e, t) {
    this.Editor.BlockManager.move(e, t);
  }
  /**
   * Deletes Block
   *
   * @param {number} blockIndex - index of Block to delete
   */
  delete(e = this.Editor.BlockManager.currentBlockIndex) {
    try {
      const t = this.Editor.BlockManager.getBlockByIndex(e);
      this.Editor.BlockManager.removeBlock(t);
    } catch (t) {
      K(t, "warn");
      return;
    }
    this.Editor.BlockManager.blocks.length === 0 && this.Editor.BlockManager.insert(), this.Editor.BlockManager.currentBlock && this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock, this.Editor.Caret.positions.END), this.Editor.Toolbar.close();
  }
  /**
   * Clear Editor's area
   */
  clear() {
    return __async(this, null, function* () {
      yield this.Editor.BlockManager.clear(true), this.Editor.InlineToolbar.close();
    });
  }
  /**
   * Fills Editor with Blocks data
   *
   * @param {OutputData} data  Saved Editor data
   */
  render(e) {
    return __async(this, null, function* () {
      if (e === void 0 || e.blocks === void 0)
        throw new Error("Incorrect data passed to the render() method");
      this.Editor.ModificationsObserver.disable(), yield this.Editor.BlockManager.clear(), yield this.Editor.Renderer.render(e.blocks), this.Editor.ModificationsObserver.enable();
    });
  }
  /**
   * Render passed HTML string
   *
   * @param {string} data - HTML string to render
   * @returns {Promise<void>}
   */
  renderFromHTML(e) {
    return this.Editor.BlockManager.clear(), this.Editor.Paste.processText(e, true);
  }
  /**
   * Stretch Block's content
   *
   * @param {number} index - index of Block to stretch
   * @param {boolean} status - true to enable, false to disable
   * @deprecated Use BlockAPI interface to stretch Blocks
   */
  stretchBlock(e, t = true) {
    Ie(
      true,
      "blocks.stretchBlock()",
      "BlockAPI"
    );
    const o = this.Editor.BlockManager.getBlockByIndex(e);
    o && (o.stretched = t);
  }
  /**
   * Insert new Block
   * After set caret to this Block
   *
   * @todo remove in 3.0.0
   * @deprecated with insert() method
   */
  insertNewBlock() {
    L("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.", "warn"), this.insert();
  }
  /**
   * Validated block index and throws an error if it's invalid
   *
   * @param index - index to validate
   */
  validateIndex(e) {
    if (typeof e != "number")
      throw new Error("Index should be a number");
    if (e < 0)
      throw new Error("Index should be greater than or equal to 0");
    if (e === null)
      throw new Error("Index should be greater than or equal to 0");
  }
}
class eo extends C {
  constructor() {
    super(...arguments), this.setToFirstBlock = (e = this.Editor.Caret.positions.DEFAULT, t = 0) => this.Editor.BlockManager.firstBlock ? (this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock, e, t), true) : false, this.setToLastBlock = (e = this.Editor.Caret.positions.DEFAULT, t = 0) => this.Editor.BlockManager.lastBlock ? (this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock, e, t), true) : false, this.setToPreviousBlock = (e = this.Editor.Caret.positions.DEFAULT, t = 0) => this.Editor.BlockManager.previousBlock ? (this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock, e, t), true) : false, this.setToNextBlock = (e = this.Editor.Caret.positions.DEFAULT, t = 0) => this.Editor.BlockManager.nextBlock ? (this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock, e, t), true) : false, this.setToBlock = (e, t = this.Editor.Caret.positions.DEFAULT, o = 0) => this.Editor.BlockManager.blocks[e] ? (this.Editor.Caret.setToBlock(this.Editor.BlockManager.blocks[e], t, o), true) : false, this.focus = (e = false) => e ? this.setToLastBlock(this.Editor.Caret.positions.END) : this.setToFirstBlock(this.Editor.Caret.positions.START);
  }
  /**
   * Available methods
   *
   * @returns {Caret}
   */
  get methods() {
    return {
      setToFirstBlock: this.setToFirstBlock,
      setToLastBlock: this.setToLastBlock,
      setToPreviousBlock: this.setToPreviousBlock,
      setToNextBlock: this.setToNextBlock,
      setToBlock: this.setToBlock,
      focus: this.focus
    };
  }
}
class to extends C {
  /**
   * Available methods
   *
   * @returns {Events}
   */
  get methods() {
    return {
      emit: (e, t) => this.emit(e, t),
      off: (e, t) => this.off(e, t),
      on: (e, t) => this.on(e, t)
    };
  }
  /**
   * Subscribe on Events
   *
   * @param {string} eventName - event name to subscribe
   * @param {Function} callback - event handler
   */
  on(e, t) {
    this.eventsDispatcher.on(e, t);
  }
  /**
   * Emit event with data
   *
   * @param {string} eventName - event to emit
   * @param {object} data - event's data
   */
  emit(e, t) {
    this.eventsDispatcher.emit(e, t);
  }
  /**
   * Unsubscribe from Event
   *
   * @param {string} eventName - event to unsubscribe
   * @param {Function} callback - event handler
   */
  off(e, t) {
    this.eventsDispatcher.off(e, t);
  }
}
class Pe extends C {
  /**
   * Return namespace section for tool or block tune
   *
   * @param tool - tool object
   */
  static getNamespace(e) {
    return e.isTune() ? `blockTunes.${e.name}` : `tools.${e.name}`;
  }
  /**
   * Return I18n API methods with global dictionary access
   */
  get methods() {
    return {
      t: () => {
        K("I18n.t() method can be accessed only from Tools", "warn");
      }
    };
  }
  /**
   * Return I18n API methods with tool namespaced dictionary
   *
   * @param tool - Tool object
   */
  getMethodsForTool(e) {
    return Object.assign(
      this.methods,
      {
        t: (t) => $.t(Pe.getNamespace(e), t)
      }
    );
  }
}
class oo extends C {
  /**
   * Editor.js Core API modules
   */
  get methods() {
    return {
      blocks: this.Editor.BlocksAPI.methods,
      caret: this.Editor.CaretAPI.methods,
      events: this.Editor.EventsAPI.methods,
      listeners: this.Editor.ListenersAPI.methods,
      notifier: this.Editor.NotifierAPI.methods,
      sanitizer: this.Editor.SanitizerAPI.methods,
      saver: this.Editor.SaverAPI.methods,
      selection: this.Editor.SelectionAPI.methods,
      styles: this.Editor.StylesAPI.classes,
      toolbar: this.Editor.ToolbarAPI.methods,
      inlineToolbar: this.Editor.InlineToolbarAPI.methods,
      tooltip: this.Editor.TooltipAPI.methods,
      i18n: this.Editor.I18nAPI.methods,
      readOnly: this.Editor.ReadOnlyAPI.methods,
      ui: this.Editor.UiAPI.methods
    };
  }
  /**
   * Returns Editor.js Core API methods for passed tool
   *
   * @param tool - tool object
   */
  getMethodsForTool(e) {
    return Object.assign(
      this.methods,
      {
        i18n: this.Editor.I18nAPI.getMethodsForTool(e)
      }
    );
  }
}
class io extends C {
  /**
   * Available methods
   *
   * @returns {InlineToolbar}
   */
  get methods() {
    return {
      close: () => this.close(),
      open: () => this.open()
    };
  }
  /**
   * Open Inline Toolbar
   */
  open() {
    this.Editor.InlineToolbar.tryToShow();
  }
  /**
   * Close Inline Toolbar
   */
  close() {
    this.Editor.InlineToolbar.close();
  }
}
class no extends C {
  /**
   * Available methods
   *
   * @returns {Listeners}
   */
  get methods() {
    return {
      on: (e, t, o, i) => this.on(e, t, o, i),
      off: (e, t, o, i) => this.off(e, t, o, i),
      offById: (e) => this.offById(e)
    };
  }
  /**
   * Ads a DOM event listener. Return it's id.
   *
   * @param {HTMLElement} element - Element to set handler to
   * @param {string} eventType - event type
   * @param {() => void} handler - event handler
   * @param {boolean} useCapture - capture event or not
   */
  on(e, t, o, i) {
    return this.listeners.on(e, t, o, i);
  }
  /**
   * Removes DOM listener from element
   *
   * @param {Element} element - Element to remove handler from
   * @param eventType - event type
   * @param handler - event handler
   * @param {boolean} useCapture - capture event or not
   */
  off(e, t, o, i) {
    this.listeners.off(e, t, o, i);
  }
  /**
   * Removes DOM listener by the listener id
   *
   * @param id - id of the listener to remove
   */
  offById(e) {
    this.listeners.offById(e);
  }
}
var Le = {}, so = {
  get exports() {
    return Le;
  },
  set exports(s) {
    Le = s;
  }
};
(function(s, e) {
  (function(t, o) {
    s.exports = o();
  })(window, function() {
    return function(t) {
      var o = {};
      function i(n) {
        if (o[n])
          return o[n].exports;
        var r = o[n] = { i: n, l: false, exports: {} };
        return t[n].call(r.exports, r, r.exports, i), r.l = true, r.exports;
      }
      return i.m = t, i.c = o, i.d = function(n, r, a) {
        i.o(n, r) || Object.defineProperty(n, r, { enumerable: true, get: a });
      }, i.r = function(n) {
        typeof Symbol < "u" && Symbol.toStringTag && Object.defineProperty(n, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(n, "__esModule", { value: true });
      }, i.t = function(n, r) {
        if (1 & r && (n = i(n)), 8 & r || 4 & r && typeof n == "object" && n && n.__esModule)
          return n;
        var a = /* @__PURE__ */ Object.create(null);
        if (i.r(a), Object.defineProperty(a, "default", { enumerable: true, value: n }), 2 & r && typeof n != "string")
          for (var l in n)
            i.d(a, l, function(c) {
              return n[c];
            }.bind(null, l));
        return a;
      }, i.n = function(n) {
        var r = n && n.__esModule ? function() {
          return n.default;
        } : function() {
          return n;
        };
        return i.d(r, "a", r), r;
      }, i.o = function(n, r) {
        return Object.prototype.hasOwnProperty.call(n, r);
      }, i.p = "/", i(i.s = 0);
    }([function(t, o, i) {
      i(1), /*!
      * Codex JavaScript Notification module
      * https://github.com/codex-team/js-notifier
      */
      t.exports = function() {
        var n = i(6), r = "cdx-notify--bounce-in", a = null;
        return { show: function(l) {
          if (l.message) {
            (function() {
              if (a)
                return true;
              a = n.getWrapper(), document.body.appendChild(a);
            })();
            var c = null, u = l.time || 8e3;
            switch (l.type) {
              case "confirm":
                c = n.confirm(l);
                break;
              case "prompt":
                c = n.prompt(l);
                break;
              default:
                c = n.alert(l), window.setTimeout(function() {
                  c.remove();
                }, u);
            }
            a.appendChild(c), c.classList.add(r);
          }
        } };
      }();
    }, function(t, o, i) {
      var n = i(2);
      typeof n == "string" && (n = [[t.i, n, ""]]);
      var r = { hmr: true, transform: void 0, insertInto: void 0 };
      i(4)(n, r), n.locals && (t.exports = n.locals);
    }, function(t, o, i) {
      (t.exports = i(3)(false)).push([t.i, `.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`, ""]);
    }, function(t, o) {
      t.exports = function(i) {
        var n = [];
        return n.toString = function() {
          return this.map(function(r) {
            var a = function(l, c) {
              var u = l[1] || "", h = l[3];
              if (!h)
                return u;
              if (c && typeof btoa == "function") {
                var f = (p = h, "/*# sourceMappingURL=data:application/json;charset=utf-8;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(p)))) + " */"), k = h.sources.map(function(v) {
                  return "/*# sourceURL=" + h.sourceRoot + v + " */";
                });
                return [u].concat(k).concat([f]).join(`
`);
              }
              var p;
              return [u].join(`
`);
            }(r, i);
            return r[2] ? "@media " + r[2] + "{" + a + "}" : a;
          }).join("");
        }, n.i = function(r, a) {
          typeof r == "string" && (r = [[null, r, ""]]);
          for (var l = {}, c = 0; c < this.length; c++) {
            var u = this[c][0];
            typeof u == "number" && (l[u] = true);
          }
          for (c = 0; c < r.length; c++) {
            var h = r[c];
            typeof h[0] == "number" && l[h[0]] || (a && !h[2] ? h[2] = a : a && (h[2] = "(" + h[2] + ") and (" + a + ")"), n.push(h));
          }
        }, n;
      };
    }, function(t, o, i) {
      var n, r, a = {}, l = (n = function() {
        return window && document && document.all && !window.atob;
      }, function() {
        return r === void 0 && (r = n.apply(this, arguments)), r;
      }), c = /* @__PURE__ */ function(b) {
        var g = {};
        return function(E) {
          if (typeof E == "function")
            return E();
          if (g[E] === void 0) {
            var T = function(O) {
              return document.querySelector(O);
            }.call(this, E);
            if (window.HTMLIFrameElement && T instanceof window.HTMLIFrameElement)
              try {
                T = T.contentDocument.head;
              } catch (e2) {
                T = null;
              }
            g[E] = T;
          }
          return g[E];
        };
      }(), u = null, h = 0, f = [], k = i(5);
      function p(b, g) {
        for (var E = 0; E < b.length; E++) {
          var T = b[E], O = a[T.id];
          if (O) {
            O.refs++;
            for (var S = 0; S < O.parts.length; S++)
              O.parts[S](T.parts[S]);
            for (; S < T.parts.length; S++)
              O.parts.push(x(T.parts[S], g));
          } else {
            var H = [];
            for (S = 0; S < T.parts.length; S++)
              H.push(x(T.parts[S], g));
            a[T.id] = { id: T.id, refs: 1, parts: H };
          }
        }
      }
      function v(b, g) {
        for (var E = [], T = {}, O = 0; O < b.length; O++) {
          var S = b[O], H = g.base ? S[0] + g.base : S[0], M = { css: S[1], media: S[2], sourceMap: S[3] };
          T[H] ? T[H].parts.push(M) : E.push(T[H] = { id: H, parts: [M] });
        }
        return E;
      }
      function A(b, g) {
        var E = c(b.insertInto);
        if (!E)
          throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");
        var T = f[f.length - 1];
        if (b.insertAt === "top")
          T ? T.nextSibling ? E.insertBefore(g, T.nextSibling) : E.appendChild(g) : E.insertBefore(g, E.firstChild), f.push(g);
        else if (b.insertAt === "bottom")
          E.appendChild(g);
        else {
          if (typeof b.insertAt != "object" || !b.insertAt.before)
            throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);
          var O = c(b.insertInto + " " + b.insertAt.before);
          E.insertBefore(g, O);
        }
      }
      function N(b) {
        if (b.parentNode === null)
          return false;
        b.parentNode.removeChild(b);
        var g = f.indexOf(b);
        g >= 0 && f.splice(g, 1);
      }
      function _(b) {
        var g = document.createElement("style");
        return b.attrs.type === void 0 && (b.attrs.type = "text/css"), y(g, b.attrs), A(b, g), g;
      }
      function y(b, g) {
        Object.keys(g).forEach(function(E) {
          b.setAttribute(E, g[E]);
        });
      }
      function x(b, g) {
        var E, T, O, S;
        if (g.transform && b.css) {
          if (!(S = g.transform(b.css)))
            return function() {
            };
          b.css = S;
        }
        if (g.singleton) {
          var H = h++;
          E = u || (u = _(g)), T = R.bind(null, E, H, false), O = R.bind(null, E, H, true);
        } else
          b.sourceMap && typeof URL == "function" && typeof URL.createObjectURL == "function" && typeof URL.revokeObjectURL == "function" && typeof Blob == "function" && typeof btoa == "function" ? (E = function(M) {
            var W = document.createElement("link");
            return M.attrs.type === void 0 && (M.attrs.type = "text/css"), M.attrs.rel = "stylesheet", y(W, M.attrs), A(M, W), W;
          }(g), T = function(M, W, de) {
            var Q = de.css, Ee = de.sourceMap, Mt = W.convertToAbsoluteUrls === void 0 && Ee;
            (W.convertToAbsoluteUrls || Mt) && (Q = k(Q)), Ee && (Q += `
/*# sourceMappingURL=data:application/json;base64,` + btoa(unescape(encodeURIComponent(JSON.stringify(Ee)))) + " */");
            var Lt = new Blob([Q], { type: "text/css" }), Ve = M.href;
            M.href = URL.createObjectURL(Lt), Ve && URL.revokeObjectURL(Ve);
          }.bind(null, E, g), O = function() {
            N(E), E.href && URL.revokeObjectURL(E.href);
          }) : (E = _(g), T = function(M, W) {
            var de = W.css, Q = W.media;
            if (Q && M.setAttribute("media", Q), M.styleSheet)
              M.styleSheet.cssText = de;
            else {
              for (; M.firstChild; )
                M.removeChild(M.firstChild);
              M.appendChild(document.createTextNode(de));
            }
          }.bind(null, E), O = function() {
            N(E);
          });
        return T(b), function(M) {
          if (M) {
            if (M.css === b.css && M.media === b.media && M.sourceMap === b.sourceMap)
              return;
            T(b = M);
          } else
            O();
        };
      }
      t.exports = function(b, g) {
        if (typeof DEBUG < "u" && DEBUG && typeof document != "object")
          throw new Error("The style-loader cannot be used in a non-browser environment");
        (g = g || {}).attrs = typeof g.attrs == "object" ? g.attrs : {}, g.singleton || typeof g.singleton == "boolean" || (g.singleton = l()), g.insertInto || (g.insertInto = "head"), g.insertAt || (g.insertAt = "bottom");
        var E = v(b, g);
        return p(E, g), function(T) {
          for (var O = [], S = 0; S < E.length; S++) {
            var H = E[S];
            (M = a[H.id]).refs--, O.push(M);
          }
          for (T && p(v(T, g), g), S = 0; S < O.length; S++) {
            var M;
            if ((M = O[S]).refs === 0) {
              for (var W = 0; W < M.parts.length; W++)
                M.parts[W]();
              delete a[M.id];
            }
          }
        };
      };
      var w, I = (w = [], function(b, g) {
        return w[b] = g, w.filter(Boolean).join(`
`);
      });
      function R(b, g, E, T) {
        var O = E ? "" : T.css;
        if (b.styleSheet)
          b.styleSheet.cssText = I(g, O);
        else {
          var S = document.createTextNode(O), H = b.childNodes;
          H[g] && b.removeChild(H[g]), H.length ? b.insertBefore(S, H[g]) : b.appendChild(S);
        }
      }
    }, function(t, o) {
      t.exports = function(i) {
        var n = typeof window < "u" && window.location;
        if (!n)
          throw new Error("fixUrls requires window.location");
        if (!i || typeof i != "string")
          return i;
        var r = n.protocol + "//" + n.host, a = r + n.pathname.replace(/\/[^\/]*$/, "/");
        return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, function(l, c) {
          var u, h = c.trim().replace(/^"(.*)"$/, function(f, k) {
            return k;
          }).replace(/^'(.*)'$/, function(f, k) {
            return k;
          });
          return /^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(h) ? l : (u = h.indexOf("//") === 0 ? h : h.indexOf("/") === 0 ? r + h : a + h.replace(/^\.\//, ""), "url(" + JSON.stringify(u) + ")");
        });
      };
    }, function(t, o, i) {
      var n, r, a, l, c, u, h, f, k;
      t.exports = (n = "cdx-notifies", r = "cdx-notify", a = "cdx-notify__cross", l = "cdx-notify__button--confirm", c = "cdx-notify__button--cancel", u = "cdx-notify__input", h = "cdx-notify__button", f = "cdx-notify__btns-wrapper", { alert: k = function(p) {
        var v = document.createElement("DIV"), A = document.createElement("DIV"), N = p.message, _ = p.style;
        return v.classList.add(r), _ && v.classList.add(r + "--" + _), v.innerHTML = N, A.classList.add(a), A.addEventListener("click", v.remove.bind(v)), v.appendChild(A), v;
      }, confirm: function(p) {
        var v = k(p), A = document.createElement("div"), N = document.createElement("button"), _ = document.createElement("button"), y = v.querySelector("." + a), x = p.cancelHandler, w = p.okHandler;
        return A.classList.add(f), N.innerHTML = p.okText || "Confirm", _.innerHTML = p.cancelText || "Cancel", N.classList.add(h), _.classList.add(h), N.classList.add(l), _.classList.add(c), x && typeof x == "function" && (_.addEventListener("click", x), y.addEventListener("click", x)), w && typeof w == "function" && N.addEventListener("click", w), N.addEventListener("click", v.remove.bind(v)), _.addEventListener("click", v.remove.bind(v)), A.appendChild(N), A.appendChild(_), v.appendChild(A), v;
      }, prompt: function(p) {
        var v = k(p), A = document.createElement("div"), N = document.createElement("button"), _ = document.createElement("input"), y = v.querySelector("." + a), x = p.cancelHandler, w = p.okHandler;
        return A.classList.add(f), N.innerHTML = p.okText || "Ok", N.classList.add(h), N.classList.add(l), _.classList.add(u), p.placeholder && _.setAttribute("placeholder", p.placeholder), p.default && (_.value = p.default), p.inputType && (_.type = p.inputType), x && typeof x == "function" && y.addEventListener("click", x), w && typeof w == "function" && N.addEventListener("click", function() {
          w(_.value);
        }), N.addEventListener("click", v.remove.bind(v)), A.appendChild(_), A.appendChild(N), v.appendChild(A), v;
      }, getWrapper: function() {
        var p = document.createElement("DIV");
        return p.classList.add(n), p;
      } });
    }]);
  });
})(so);
const ro = /* @__PURE__ */ xe(Le);
class ao {
  /**
   * Show web notification
   *
   * @param {NotifierOptions | ConfirmNotifierOptions | PromptNotifierOptions} options - notification options
   */
  show(e) {
    ro.show(e);
  }
}
class lo extends C {
  /**
   * @param moduleConfiguration - Module Configuration
   * @param moduleConfiguration.config - Editor's config
   * @param moduleConfiguration.eventsDispatcher - Editor's event dispatcher
   */
  constructor({ config: e, eventsDispatcher: t }) {
    super({
      config: e,
      eventsDispatcher: t
    }), this.notifier = new ao();
  }
  /**
   * Available methods
   */
  get methods() {
    return {
      show: (e) => this.show(e)
    };
  }
  /**
   * Show notification
   *
   * @param {NotifierOptions} options - message option
   */
  show(e) {
    return this.notifier.show(e);
  }
}
class co extends C {
  /**
   * Available methods
   */
  get methods() {
    const e = () => this.isEnabled;
    return {
      toggle: (t) => this.toggle(t),
      get isEnabled() {
        return e();
      }
    };
  }
  /**
   * Set or toggle read-only state
   *
   * @param {boolean|undefined} state - set or toggle state
   * @returns {boolean} current value
   */
  toggle(e) {
    return this.Editor.ReadOnly.toggle(e);
  }
  /**
   * Returns current read-only state
   */
  get isEnabled() {
    return this.Editor.ReadOnly.isEnabled;
  }
}
var Oe = {}, ho = {
  get exports() {
    return Oe;
  },
  set exports(s) {
    Oe = s;
  }
};
(function(s, e) {
  (function(t, o) {
    s.exports = o();
  })(Ot, function() {
    function t(h) {
      var f = h.tags, k = Object.keys(f), p = k.map(function(v) {
        return typeof f[v];
      }).every(function(v) {
        return v === "object" || v === "boolean" || v === "function";
      });
      if (!p)
        throw new Error("The configuration was invalid");
      this.config = h;
    }
    var o = ["P", "LI", "TD", "TH", "DIV", "H1", "H2", "H3", "H4", "H5", "H6", "PRE"];
    function i(h) {
      return o.indexOf(h.nodeName) !== -1;
    }
    var n = ["A", "B", "STRONG", "I", "EM", "SUB", "SUP", "U", "STRIKE"];
    function r(h) {
      return n.indexOf(h.nodeName) !== -1;
    }
    t.prototype.clean = function(h) {
      const f = document.implementation.createHTMLDocument(), k = f.createElement("div");
      return k.innerHTML = h, this._sanitize(f, k), k.innerHTML;
    }, t.prototype._sanitize = function(h, f) {
      var k = a(h, f), p = k.firstChild();
      if (p)
        do {
          if (p.nodeType === Node.TEXT_NODE)
            if (p.data.trim() === "" && (p.previousElementSibling && i(p.previousElementSibling) || p.nextElementSibling && i(p.nextElementSibling))) {
              f.removeChild(p), this._sanitize(h, f);
              break;
            } else
              continue;
          if (p.nodeType === Node.COMMENT_NODE) {
            f.removeChild(p), this._sanitize(h, f);
            break;
          }
          var v = r(p), A;
          v && (A = Array.prototype.some.call(p.childNodes, i));
          var N = !!f.parentNode, _ = i(f) && i(p) && N, y = p.nodeName.toLowerCase(), x = l(this.config, y, p), w = v && A;
          if (w || c(p, x) || !this.config.keepNestedBlockElements && _) {
            if (!(p.nodeName === "SCRIPT" || p.nodeName === "STYLE"))
              for (; p.childNodes.length > 0; )
                f.insertBefore(p.childNodes[0], p);
            f.removeChild(p), this._sanitize(h, f);
            break;
          }
          for (var I = 0; I < p.attributes.length; I += 1) {
            var R = p.attributes[I];
            u(R, x, p) && (p.removeAttribute(R.name), I = I - 1);
          }
          this._sanitize(h, p);
        } while (p = k.nextSibling());
    };
    function a(h, f) {
      return h.createTreeWalker(
        f,
        NodeFilter.SHOW_TEXT | NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT,
        null,
        false
      );
    }
    function l(h, f, k) {
      return typeof h.tags[f] == "function" ? h.tags[f](k) : h.tags[f];
    }
    function c(h, f) {
      return typeof f > "u" ? true : typeof f == "boolean" ? !f : false;
    }
    function u(h, f, k) {
      var p = h.name.toLowerCase();
      return f === true ? false : typeof f[p] == "function" ? !f[p](h.value, k) : typeof f[p] > "u" || f[p] === false ? true : typeof f[p] == "string" ? f[p] !== h.value : false;
    }
    return t;
  });
})(ho);
const uo = Oe;
function ut(s, e) {
  return s.map((t) => {
    const o = D(e) ? e(t.tool) : e;
    return V(o) || (t.data = Fe(t.data, o)), t;
  });
}
function Z(s, e = {}) {
  const t = {
    tags: e
  };
  return new uo(t).clean(s);
}
function Fe(s, e) {
  return Array.isArray(s) ? po(s, e) : z(s) ? fo(s, e) : J(s) ? go(s, e) : s;
}
function po(s, e) {
  return s.map((t) => Fe(t, e));
}
function fo(s, e) {
  const t = {};
  for (const o in s) {
    if (!Object.prototype.hasOwnProperty.call(s, o))
      continue;
    const i = s[o], n = bo(e[o]) ? e[o] : e;
    t[o] = Fe(i, n);
  }
  return t;
}
function go(s, e) {
  return z(e) ? Z(s, e) : e === false ? Z(s, {}) : s;
}
function bo(s) {
  return z(s) || Rt(s) || D(s);
}
class mo extends C {
  /**
   * Available methods
   *
   * @returns {SanitizerConfig}
   */
  get methods() {
    return {
      clean: (e, t) => this.clean(e, t)
    };
  }
  /**
   * Perform sanitizing of a string
   *
   * @param {string} taintString - what to sanitize
   * @param {SanitizerConfig} config - sanitizer config
   * @returns {string}
   */
  clean(e, t) {
    return Z(e, t);
  }
}
class ko extends C {
  /**
   * Available methods
   *
   * @returns {Saver}
   */
  get methods() {
    return {
      save: () => this.save()
    };
  }
  /**
   * Return Editor's data
   *
   * @returns {OutputData}
   */
  save() {
    const e = "Editor's content can not be saved in read-only mode";
    return this.Editor.ReadOnly.isEnabled ? (K(e, "warn"), Promise.reject(new Error(e))) : this.Editor.Saver.save();
  }
}
class vo extends C {
  /**
   * Available methods
   *
   * @returns {SelectionAPIInterface}
   */
  get methods() {
    return {
      findParentTag: (e, t) => this.findParentTag(e, t),
      expandToTag: (e) => this.expandToTag(e)
    };
  }
  /**
   * Looks ahead from selection and find passed tag with class name
   *
   * @param {string} tagName - tag to find
   * @param {string} className - tag's class name
   * @returns {HTMLElement|null}
   */
  findParentTag(e, t) {
    return new m().findParentTag(e, t);
  }
  /**
   * Expand selection to passed tag
   *
   * @param {HTMLElement} node - tag that should contain selection
   */
  expandToTag(e) {
    new m().expandToTag(e);
  }
}
class xo extends C {
  /**
   * Exported classes
   */
  get classes() {
    return {
      /**
       * Base Block styles
       */
      block: "cdx-block",
      /**
       * Inline Tools styles
       */
      inlineToolButton: "ce-inline-tool",
      inlineToolButtonActive: "ce-inline-tool--active",
      /**
       * UI elements
       */
      input: "cdx-input",
      loader: "cdx-loader",
      button: "cdx-button",
      /**
       * Settings styles
       */
      settingsButton: "cdx-settings-button",
      settingsButtonActive: "cdx-settings-button--active"
    };
  }
}
class wo extends C {
  /**
   * Available methods
   *
   * @returns {Toolbar}
   */
  get methods() {
    return {
      close: () => this.close(),
      open: () => this.open(),
      toggleBlockSettings: (e) => this.toggleBlockSettings(e),
      toggleToolbox: (e) => this.toggleToolbox(e)
    };
  }
  /**
   * Open toolbar
   */
  open() {
    this.Editor.Toolbar.moveAndOpen();
  }
  /**
   * Close toolbar and all included elements
   */
  close() {
    this.Editor.Toolbar.close();
  }
  /**
   * Toggles Block Setting of the current block
   *
   * @param {boolean} openingState   opening state of Block Setting
   */
  toggleBlockSettings(e) {
    if (this.Editor.BlockManager.currentBlockIndex === -1) {
      K("Could't toggle the Toolbar because there is no block selected ", "warn");
      return;
    }
    (e != null ? e : !this.Editor.BlockSettings.opened) ? (this.Editor.Toolbar.moveAndOpen(), this.Editor.BlockSettings.open()) : this.Editor.BlockSettings.close();
  }
  /**
   * Open toolbox
   *
   * @param {boolean} openingState - Opening state of toolbox
   */
  toggleToolbox(e) {
    if (this.Editor.BlockManager.currentBlockIndex === -1) {
      K("Could't toggle the Toolbox because there is no block selected ", "warn");
      return;
    }
    (e != null ? e : !this.Editor.Toolbar.toolbox.opened) ? (this.Editor.Toolbar.moveAndOpen(), this.Editor.Toolbar.toolbox.open()) : this.Editor.Toolbar.toolbox.close();
  }
}
var Ae = {}, yo = {
  get exports() {
    return Ae;
  },
  set exports(s) {
    Ae = s;
  }
};
/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */
(function(s, e) {
  (function(t, o) {
    s.exports = o();
  })(window, function() {
    return function(t) {
      var o = {};
      function i(n) {
        if (o[n])
          return o[n].exports;
        var r = o[n] = { i: n, l: false, exports: {} };
        return t[n].call(r.exports, r, r.exports, i), r.l = true, r.exports;
      }
      return i.m = t, i.c = o, i.d = function(n, r, a) {
        i.o(n, r) || Object.defineProperty(n, r, { enumerable: true, get: a });
      }, i.r = function(n) {
        typeof Symbol < "u" && Symbol.toStringTag && Object.defineProperty(n, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(n, "__esModule", { value: true });
      }, i.t = function(n, r) {
        if (1 & r && (n = i(n)), 8 & r || 4 & r && typeof n == "object" && n && n.__esModule)
          return n;
        var a = /* @__PURE__ */ Object.create(null);
        if (i.r(a), Object.defineProperty(a, "default", { enumerable: true, value: n }), 2 & r && typeof n != "string")
          for (var l in n)
            i.d(a, l, function(c) {
              return n[c];
            }.bind(null, l));
        return a;
      }, i.n = function(n) {
        var r = n && n.__esModule ? function() {
          return n.default;
        } : function() {
          return n;
        };
        return i.d(r, "a", r), r;
      }, i.o = function(n, r) {
        return Object.prototype.hasOwnProperty.call(n, r);
      }, i.p = "", i(i.s = 0);
    }([function(t, o, i) {
      t.exports = i(1);
    }, function(t, o, i) {
      i.r(o), i.d(o, "default", function() {
        return n;
      });
      class n {
        constructor() {
          this.nodes = { wrapper: null, content: null }, this.showed = false, this.offsetTop = 10, this.offsetLeft = 10, this.offsetRight = 10, this.hidingDelay = 0, this.handleWindowScroll = () => {
            this.showed && this.hide(true);
          }, this.loadStyles(), this.prepare(), window.addEventListener("scroll", this.handleWindowScroll, { passive: true });
        }
        get CSS() {
          return { tooltip: "ct", tooltipContent: "ct__content", tooltipShown: "ct--shown", placement: { left: "ct--left", bottom: "ct--bottom", right: "ct--right", top: "ct--top" } };
        }
        show(a, l, c) {
          this.nodes.wrapper || this.prepare(), this.hidingTimeout && clearTimeout(this.hidingTimeout);
          const u = Object.assign({ placement: "bottom", marginTop: 0, marginLeft: 0, marginRight: 0, marginBottom: 0, delay: 70, hidingDelay: 0 }, c);
          if (u.hidingDelay && (this.hidingDelay = u.hidingDelay), this.nodes.content.innerHTML = "", typeof l == "string")
            this.nodes.content.appendChild(document.createTextNode(l));
          else {
            if (!(l instanceof Node))
              throw Error("[CodeX Tooltip] Wrong type of \xABcontent\xBB passed. It should be an instance of Node or String. But " + typeof l + " given.");
            this.nodes.content.appendChild(l);
          }
          switch (this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)), u.placement) {
            case "top":
              this.placeTop(a, u);
              break;
            case "left":
              this.placeLeft(a, u);
              break;
            case "right":
              this.placeRight(a, u);
              break;
            case "bottom":
            default:
              this.placeBottom(a, u);
          }
          u && u.delay ? this.showingTimeout = setTimeout(() => {
            this.nodes.wrapper.classList.add(this.CSS.tooltipShown), this.showed = true;
          }, u.delay) : (this.nodes.wrapper.classList.add(this.CSS.tooltipShown), this.showed = true);
        }
        hide(a = false) {
          if (this.hidingDelay && !a)
            return this.hidingTimeout && clearTimeout(this.hidingTimeout), void (this.hidingTimeout = setTimeout(() => {
              this.hide(true);
            }, this.hidingDelay));
          this.nodes.wrapper.classList.remove(this.CSS.tooltipShown), this.showed = false, this.showingTimeout && clearTimeout(this.showingTimeout);
        }
        onHover(a, l, c) {
          a.addEventListener("mouseenter", () => {
            this.show(a, l, c);
          }), a.addEventListener("mouseleave", () => {
            this.hide();
          });
        }
        destroy() {
          this.nodes.wrapper.remove(), window.removeEventListener("scroll", this.handleWindowScroll);
        }
        prepare() {
          this.nodes.wrapper = this.make("div", this.CSS.tooltip), this.nodes.content = this.make("div", this.CSS.tooltipContent), this.append(this.nodes.wrapper, this.nodes.content), this.append(document.body, this.nodes.wrapper);
        }
        loadStyles() {
          const a = "codex-tooltips-style";
          if (document.getElementById(a))
            return;
          const l = i(2), c = this.make("style", null, { textContent: l.toString(), id: a });
          this.prepend(document.head, c);
        }
        placeBottom(a, l) {
          const c = a.getBoundingClientRect(), u = c.left + a.clientWidth / 2 - this.nodes.wrapper.offsetWidth / 2, h = c.bottom + window.pageYOffset + this.offsetTop + l.marginTop;
          this.applyPlacement("bottom", u, h);
        }
        placeTop(a, l) {
          const c = a.getBoundingClientRect(), u = c.left + a.clientWidth / 2 - this.nodes.wrapper.offsetWidth / 2, h = c.top + window.pageYOffset - this.nodes.wrapper.clientHeight - this.offsetTop;
          this.applyPlacement("top", u, h);
        }
        placeLeft(a, l) {
          const c = a.getBoundingClientRect(), u = c.left - this.nodes.wrapper.offsetWidth - this.offsetLeft - l.marginLeft, h = c.top + window.pageYOffset + a.clientHeight / 2 - this.nodes.wrapper.offsetHeight / 2;
          this.applyPlacement("left", u, h);
        }
        placeRight(a, l) {
          const c = a.getBoundingClientRect(), u = c.right + this.offsetRight + l.marginRight, h = c.top + window.pageYOffset + a.clientHeight / 2 - this.nodes.wrapper.offsetHeight / 2;
          this.applyPlacement("right", u, h);
        }
        applyPlacement(a, l, c) {
          this.nodes.wrapper.classList.add(this.CSS.placement[a]), this.nodes.wrapper.style.left = l + "px", this.nodes.wrapper.style.top = c + "px";
        }
        make(a, l = null, c = {}) {
          const u = document.createElement(a);
          Array.isArray(l) ? u.classList.add(...l) : l && u.classList.add(l);
          for (const h in c)
            c.hasOwnProperty(h) && (u[h] = c[h]);
          return u;
        }
        append(a, l) {
          Array.isArray(l) ? l.forEach((c) => a.appendChild(c)) : a.appendChild(l);
        }
        prepend(a, l) {
          Array.isArray(l) ? (l = l.reverse()).forEach((c) => a.prepend(c)) : a.prepend(l);
        }
      }
    }, function(t, o) {
      t.exports = `.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`;
    }]).default;
  });
})(yo);
const Eo = /* @__PURE__ */ xe(Ae);
class He {
  constructor() {
    this.lib = new Eo();
  }
  /**
   * Release the library
   */
  destroy() {
    this.lib.destroy();
  }
  /**
   * Shows tooltip on element with passed HTML content
   *
   * @param {HTMLElement} element - any HTML element in DOM
   * @param content - tooltip's content
   * @param options - showing settings
   */
  show(e, t, o) {
    this.lib.show(e, t, o);
  }
  /**
   * Hides tooltip
   *
   * @param skipHidingDelay  pass true to immediately hide the tooltip
   */
  hide(e = false) {
    this.lib.hide(e);
  }
  /**
   * Binds 'mouseenter' and 'mouseleave' events that shows/hides the Tooltip
   *
   * @param {HTMLElement} element - any HTML element in DOM
   * @param content - tooltip's content
   * @param options - showing settings
   */
  onHover(e, t, o) {
    this.lib.onHover(e, t, o);
  }
}
class Bo extends C {
  /**
   * @class
   * @param moduleConfiguration - Module Configuration
   * @param moduleConfiguration.config - Editor's config
   * @param moduleConfiguration.eventsDispatcher - Editor's event dispatcher
   */
  constructor({ config: e, eventsDispatcher: t }) {
    super({
      config: e,
      eventsDispatcher: t
    }), this.tooltip = new He();
  }
  /**
   * Destroy Module
   */
  destroy() {
    this.tooltip.destroy();
  }
  /**
   * Available methods
   */
  get methods() {
    return {
      show: (e, t, o) => this.show(e, t, o),
      hide: () => this.hide(),
      onHover: (e, t, o) => this.onHover(e, t, o)
    };
  }
  /**
   * Method show tooltip on element with passed HTML content
   *
   * @param {HTMLElement} element - element on which tooltip should be shown
   * @param {TooltipContent} content - tooltip content
   * @param {TooltipOptions} options - tooltip options
   */
  show(e, t, o) {
    this.tooltip.show(e, t, o);
  }
  /**
   * Method hides tooltip on HTML page
   */
  hide() {
    this.tooltip.hide();
  }
  /**
   * Decorator for showing Tooltip by mouseenter/mouseleave
   *
   * @param {HTMLElement} element - element on which tooltip should be shown
   * @param {TooltipContent} content - tooltip content
   * @param {TooltipOptions} options - tooltip options
   */
  onHover(e, t, o) {
    this.tooltip.onHover(e, t, o);
  }
}
class To extends C {
  /**
   * Available methods / getters
   */
  get methods() {
    return {
      nodes: this.editorNodes
      /**
       * There can be added some UI methods, like toggleThinMode() etc
       */
    };
  }
  /**
   * Exported classes
   */
  get editorNodes() {
    return {
      /**
       * Top-level editor instance wrapper
       */
      wrapper: this.Editor.UI.nodes.wrapper,
      /**
       * Element that holds all the Blocks
       */
      redactor: this.Editor.UI.nodes.redactor
    };
  }
}
function pt(s, e) {
  const t = {};
  return Object.entries(s).forEach(([o, i]) => {
    if (z(i)) {
      const n = e ? `${e}.${o}` : o;
      Object.values(i).every((a) => J(a)) ? t[o] = n : t[o] = pt(i, n);
      return;
    }
    t[o] = i;
  }), t;
}
const X = pt(at);
function Co(s, e) {
  const t = {};
  return Object.keys(s).forEach((o) => {
    const i = e[o];
    i !== void 0 ? t[i] = s[o] : t[o] = s[o];
  }), t;
}
const So = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>', ft = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>', Io = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>', Mo = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>', Lo = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>', Oo = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>', Qe = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>', Ao = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>', _o = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>', No = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>', Ro = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>', Do = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>';
class P {
  /**
   * Constructs popover item instance
   *
   * @param params - popover item construction params
   */
  constructor(e) {
    this.nodes = {
      root: null,
      icon: null
    }, this.confirmationState = null, this.removeSpecialFocusBehavior = () => {
      this.nodes.root.classList.remove(P.CSS.noFocus);
    }, this.removeSpecialHoverBehavior = () => {
      this.nodes.root.classList.remove(P.CSS.noHover);
    }, this.onErrorAnimationEnd = () => {
      this.nodes.icon.classList.remove(P.CSS.wobbleAnimation), this.nodes.icon.removeEventListener("animationend", this.onErrorAnimationEnd);
    }, this.params = e, this.nodes.root = this.make(e);
  }
  /**
   * True if item is disabled and hence not clickable
   */
  get isDisabled() {
    return this.params.isDisabled;
  }
  /**
   * Exposes popover item toggle parameter
   */
  get toggle() {
    return this.params.toggle;
  }
  /**
   * Item title
   */
  get title() {
    return this.params.title;
  }
  /**
   * True if popover should close once item is activated
   */
  get closeOnActivate() {
    return this.params.closeOnActivate;
  }
  /**
   * True if confirmation state is enabled for popover item
   */
  get isConfirmationStateEnabled() {
    return this.confirmationState !== null;
  }
  /**
   * True if item is focused in keyboard navigation process
   */
  get isFocused() {
    return this.nodes.root.classList.contains(P.CSS.focused);
  }
  /**
   * Popover item CSS classes
   */
  static get CSS() {
    return {
      container: "ce-popover-item",
      title: "ce-popover-item__title",
      secondaryTitle: "ce-popover-item__secondary-title",
      icon: "ce-popover-item__icon",
      active: "ce-popover-item--active",
      disabled: "ce-popover-item--disabled",
      focused: "ce-popover-item--focused",
      hidden: "ce-popover-item--hidden",
      confirmationState: "ce-popover-item--confirmation",
      noHover: "ce-popover-item--no-hover",
      noFocus: "ce-popover-item--no-focus",
      wobbleAnimation: "wobble"
    };
  }
  /**
   * Returns popover item root element
   */
  getElement() {
    return this.nodes.root;
  }
  /**
   * Called on popover item click
   */
  handleClick() {
    if (this.isConfirmationStateEnabled) {
      this.activateOrEnableConfirmationMode(this.confirmationState);
      return;
    }
    this.activateOrEnableConfirmationMode(this.params);
  }
  /**
   * Toggles item active state
   *
   * @param isActive - true if item should strictly should become active
   */
  toggleActive(e) {
    this.nodes.root.classList.toggle(P.CSS.active, e);
  }
  /**
   * Toggles item hidden state
   *
   * @param isHidden - true if item should be hidden
   */
  toggleHidden(e) {
    this.nodes.root.classList.toggle(P.CSS.hidden, e);
  }
  /**
   * Resets popover item to its original state
   */
  reset() {
    this.isConfirmationStateEnabled && this.disableConfirmationMode();
  }
  /**
   * Method called once item becomes focused during keyboard navigation
   */
  onFocus() {
    this.disableSpecialHoverAndFocusBehavior();
  }
  /**
   * Constructs HTML element corresponding to popover item params
   *
   * @param params - item construction params
   */
  make(e) {
    const t = d.make("div", P.CSS.container);
    return e.name && (t.dataset.itemName = e.name), this.nodes.icon = d.make("div", P.CSS.icon, {
      innerHTML: e.icon || Lo
    }), t.appendChild(this.nodes.icon), t.appendChild(d.make("div", P.CSS.title, {
      innerHTML: e.title || ""
    })), e.secondaryLabel && t.appendChild(d.make("div", P.CSS.secondaryTitle, {
      textContent: e.secondaryLabel
    })), e.isActive && t.classList.add(P.CSS.active), e.isDisabled && t.classList.add(P.CSS.disabled), t;
  }
  /**
   * Activates confirmation mode for the item.
   *
   * @param newState - new popover item params that should be applied
   */
  enableConfirmationMode(e) {
    const t = __spreadProps(__spreadValues(__spreadValues({}, this.params), e), {
      confirmation: e.confirmation
    }), o = this.make(t);
    this.nodes.root.innerHTML = o.innerHTML, this.nodes.root.classList.add(P.CSS.confirmationState), this.confirmationState = e, this.enableSpecialHoverAndFocusBehavior();
  }
  /**
   * Returns item to its original state
   */
  disableConfirmationMode() {
    const e = this.make(this.params);
    this.nodes.root.innerHTML = e.innerHTML, this.nodes.root.classList.remove(P.CSS.confirmationState), this.confirmationState = null, this.disableSpecialHoverAndFocusBehavior();
  }
  /**
   * Enables special focus and hover behavior for item in confirmation state.
   * This is needed to prevent item from being highlighted as hovered/focused just after click.
   */
  enableSpecialHoverAndFocusBehavior() {
    this.nodes.root.classList.add(P.CSS.noHover), this.nodes.root.classList.add(P.CSS.noFocus), this.nodes.root.addEventListener("mouseleave", this.removeSpecialHoverBehavior, { once: true });
  }
  /**
   * Disables special focus and hover behavior
   */
  disableSpecialHoverAndFocusBehavior() {
    this.removeSpecialFocusBehavior(), this.removeSpecialHoverBehavior(), this.nodes.root.removeEventListener("mouseleave", this.removeSpecialHoverBehavior);
  }
  /**
   * Executes item's onActivate callback if the item has no confirmation configured
   *
   * @param item - item to activate or bring to confirmation mode
   */
  activateOrEnableConfirmationMode(e) {
    if (e.confirmation === void 0)
      try {
        e.onActivate(e), this.disableConfirmationMode();
      } catch (e2) {
        this.animateError();
      }
    else
      this.enableConfirmationMode(e.confirmation);
  }
  /**
   * Animates item which symbolizes that error occured while executing 'onActivate()' callback
   */
  animateError() {
    this.nodes.icon.classList.contains(P.CSS.wobbleAnimation) || (this.nodes.icon.classList.add(P.CSS.wobbleAnimation), this.nodes.icon.addEventListener("animationend", this.onErrorAnimationEnd));
  }
}
const he = class {
  /**
   * @param {HTMLElement[]} nodeList  the list of iterable HTML-items
   * @param {string} focusedCssClass - user-provided CSS-class that will be set in flipping process
   */
  constructor(s, e) {
    this.cursor = -1, this.items = [], this.items = s || [], this.focusedCssClass = e;
  }
  /**
   * Returns Focused button Node
   *
   * @returns {HTMLElement}
   */
  get currentItem() {
    return this.cursor === -1 ? null : this.items[this.cursor];
  }
  /**
   * Sets cursor to specified position
   *
   * @param cursorPosition - new cursor position
   */
  setCursor(s) {
    s < this.items.length && s >= -1 && (this.dropCursor(), this.cursor = s, this.items[this.cursor].classList.add(this.focusedCssClass));
  }
  /**
   * Sets items. Can be used when iterable items changed dynamically
   *
   * @param {HTMLElement[]} nodeList - nodes to iterate
   */
  setItems(s) {
    this.items = s;
  }
  /**
   * Sets cursor next to the current
   */
  next() {
    this.cursor = this.leafNodesAndReturnIndex(he.directions.RIGHT);
  }
  /**
   * Sets cursor before current
   */
  previous() {
    this.cursor = this.leafNodesAndReturnIndex(he.directions.LEFT);
  }
  /**
   * Sets cursor to the default position and removes CSS-class from previously focused item
   */
  dropCursor() {
    this.cursor !== -1 && (this.items[this.cursor].classList.remove(this.focusedCssClass), this.cursor = -1);
  }
  /**
   * Leafs nodes inside the target list from active element
   *
   * @param {string} direction - leaf direction. Can be 'left' or 'right'
   * @returns {number} index of focused node
   */
  leafNodesAndReturnIndex(s) {
    if (this.items.length === 0)
      return this.cursor;
    let e = this.cursor;
    return e === -1 ? e = s === he.directions.RIGHT ? -1 : 0 : this.items[e].classList.remove(this.focusedCssClass), s === he.directions.RIGHT ? e = (e + 1) % this.items.length : e = (this.items.length + e - 1) % this.items.length, d.canSetCaret(this.items[e]) && re(() => m.setCursor(this.items[e]), 50)(), this.items[e].classList.add(this.focusedCssClass), e;
  }
};
let ne = he;
ne.directions = {
  RIGHT: "right",
  LEFT: "left"
};
class G {
  /**
   * @param {FlipperOptions} options - different constructing settings
   */
  constructor(e) {
    this.iterator = null, this.activated = false, this.flipCallbacks = [], this.onKeyDown = (t) => {
      if (this.isEventReadyForHandling(t))
        switch (G.usedKeys.includes(t.keyCode) && t.preventDefault(), t.keyCode) {
          case B.TAB:
            this.handleTabPress(t);
            break;
          case B.LEFT:
          case B.UP:
            this.flipLeft();
            break;
          case B.RIGHT:
          case B.DOWN:
            this.flipRight();
            break;
          case B.ENTER:
            this.handleEnterPress(t);
            break;
        }
    }, this.iterator = new ne(e.items, e.focusedItemClass), this.activateCallback = e.activateCallback, this.allowedKeys = e.allowedKeys || G.usedKeys;
  }
  /**
   * True if flipper is currently activated
   */
  get isActivated() {
    return this.activated;
  }
  /**
   * Array of keys (codes) that is handled by Flipper
   * Used to:
   *  - preventDefault only for this keys, not all keydowns (@see constructor)
   *  - to skip external behaviours only for these keys, when filler is activated (@see BlockEvents@arrowRightAndDown)
   */
  static get usedKeys() {
    return [
      B.TAB,
      B.LEFT,
      B.RIGHT,
      B.ENTER,
      B.UP,
      B.DOWN
    ];
  }
  /**
   * Active tab/arrows handling by flipper
   *
   * @param items - Some modules (like, InlineToolbar, BlockSettings) might refresh buttons dynamically
   * @param cursorPosition - index of the item that should be focused once flipper is activated
   */
  activate(e, t) {
    this.activated = true, e && this.iterator.setItems(e), t !== void 0 && this.iterator.setCursor(t), document.addEventListener("keydown", this.onKeyDown, true);
  }
  /**
   * Disable tab/arrows handling by flipper
   */
  deactivate() {
    this.activated = false, this.dropCursor(), document.removeEventListener("keydown", this.onKeyDown);
  }
  /**
   * Focus first item
   */
  focusFirst() {
    this.dropCursor(), this.flipRight();
  }
  /**
   * Focuses previous flipper iterator item
   */
  flipLeft() {
    this.iterator.previous(), this.flipCallback();
  }
  /**
   * Focuses next flipper iterator item
   */
  flipRight() {
    this.iterator.next(), this.flipCallback();
  }
  /**
   * Return true if some button is focused
   */
  hasFocus() {
    return !!this.iterator.currentItem;
  }
  /**
   * Registeres function that should be executed on each navigation action
   *
   * @param cb - function to execute
   */
  onFlip(e) {
    this.flipCallbacks.push(e);
  }
  /**
   * Unregisteres function that is executed on each navigation action
   *
   * @param cb - function to stop executing
   */
  removeOnFlip(e) {
    this.flipCallbacks = this.flipCallbacks.filter((t) => t !== e);
  }
  /**
   * Drops flipper's iterator cursor
   *
   * @see DomIterator#dropCursor
   */
  dropCursor() {
    this.iterator.dropCursor();
  }
  /**
   * This function is fired before handling flipper keycodes
   * The result of this function defines if it is need to be handled or not
   *
   * @param {KeyboardEvent} event - keydown keyboard event
   * @returns {boolean}
   */
  isEventReadyForHandling(e) {
    return this.activated && this.allowedKeys.includes(e.keyCode);
  }
  /**
   * When flipper is activated tab press will leaf the items
   *
   * @param {KeyboardEvent} event - tab keydown event
   */
  handleTabPress(e) {
    switch (e.shiftKey ? ne.directions.LEFT : ne.directions.RIGHT) {
      case ne.directions.RIGHT:
        this.flipRight();
        break;
      case ne.directions.LEFT:
        this.flipLeft();
        break;
    }
  }
  /**
   * Enter press will click current item if flipper is activated
   *
   * @param {KeyboardEvent} event - enter keydown event
   */
  handleEnterPress(e) {
    this.activated && (this.iterator.currentItem && (e.stopPropagation(), e.preventDefault(), this.iterator.currentItem.click()), D(this.activateCallback) && this.activateCallback(this.iterator.currentItem));
  }
  /**
   * Fired after flipping in any direction
   */
  flipCallback() {
    this.iterator.currentItem && this.iterator.currentItem.scrollIntoViewIfNeeded(), this.flipCallbacks.forEach((e) => e());
  }
}
class pe {
  /**
   * Styles
   */
  static get CSS() {
    return {
      wrapper: "cdx-search-field",
      icon: "cdx-search-field__icon",
      input: "cdx-search-field__input"
    };
  }
  /**
   * @param options - available config
   * @param options.items - searchable items list
   * @param options.onSearch - search callback
   * @param options.placeholder - input placeholder
   */
  constructor({ items: e, onSearch: t, placeholder: o }) {
    this.listeners = new De(), this.items = e, this.onSearch = t, this.render(o);
  }
  /**
   * Returns search field element
   */
  getElement() {
    return this.wrapper;
  }
  /**
   * Sets focus to the input
   */
  focus() {
    this.input.focus();
  }
  /**
   * Clears search query and results
   */
  clear() {
    this.input.value = "", this.searchQuery = "", this.onSearch("", this.foundItems);
  }
  /**
   * Clears memory
   */
  destroy() {
    this.listeners.removeAll();
  }
  /**
   * Creates the search field
   *
   * @param placeholder - input placeholder
   */
  render(e) {
    this.wrapper = d.make("div", pe.CSS.wrapper);
    const t = d.make("div", pe.CSS.icon, {
      innerHTML: No
    });
    this.input = d.make("input", pe.CSS.input, {
      placeholder: e
    }), this.wrapper.appendChild(t), this.wrapper.appendChild(this.input), this.listeners.on(this.input, "input", () => {
      this.searchQuery = this.input.value, this.onSearch(this.searchQuery, this.foundItems);
    });
  }
  /**
   * Returns list of found items for the current search query
   */
  get foundItems() {
    return this.items.filter((e) => this.checkItem(e));
  }
  /**
   * Contains logic for checking whether passed item conforms the search query
   *
   * @param item - item to be checked
   */
  checkItem(e) {
    var i;
    const t = ((i = e.title) == null ? void 0 : i.toLowerCase()) || "", o = this.searchQuery.toLowerCase();
    return t.includes(o);
  }
}
const ue = class {
  /**
   * Locks body element scroll
   */
  lock() {
    Ge ? this.lockHard() : document.body.classList.add(ue.CSS.scrollLocked);
  }
  /**
   * Unlocks body element scroll
   */
  unlock() {
    Ge ? this.unlockHard() : document.body.classList.remove(ue.CSS.scrollLocked);
  }
  /**
   * Locks scroll in a hard way (via setting fixed position to body element)
   */
  lockHard() {
    this.scrollPosition = window.pageYOffset, document.documentElement.style.setProperty(
      "--window-scroll-offset",
      `${this.scrollPosition}px`
    ), document.body.classList.add(ue.CSS.scrollLockedHard);
  }
  /**
   * Unlocks hard scroll lock
   */
  unlockHard() {
    document.body.classList.remove(ue.CSS.scrollLockedHard), this.scrollPosition !== null && window.scrollTo(0, this.scrollPosition), this.scrollPosition = null;
  }
};
let gt = ue;
gt.CSS = {
  scrollLocked: "ce-scroll-locked",
  scrollLockedHard: "ce-scroll-locked--hard"
};
var Po = Object.defineProperty, Fo = Object.getOwnPropertyDescriptor, Ho = (s, e, t, o) => {
  for (var i = o > 1 ? void 0 : o ? Fo(e, t) : e, n = s.length - 1, r; n >= 0; n--)
    (r = s[n]) && (i = (o ? r(e, t, i) : r(i)) || i);
  return o && i && Po(e, t, i), i;
}, ge = /* @__PURE__ */ ((s) => (s.Close = "close", s))(ge || {});
const j = class extends we {
  /**
   * Constructs the instance
   *
   * @param params - popover construction params
   */
  constructor(s) {
    super(), this.scopeElement = document.body, this.listeners = new De(), this.scrollLocker = new gt(), this.nodes = {
      wrapper: null,
      popover: null,
      nothingFoundMessage: null,
      customContent: null,
      items: null,
      overlay: null
    }, this.messages = {
      nothingFound: "Nothing found",
      search: "Search"
    }, this.onFlip = () => {
      this.items.find((t) => t.isFocused).onFocus();
    }, this.items = s.items.map((e) => new P(e)), s.scopeElement !== void 0 && (this.scopeElement = s.scopeElement), s.messages && (this.messages = __spreadValues(__spreadValues({}, this.messages), s.messages)), s.customContentFlippableItems && (this.customContentFlippableItems = s.customContentFlippableItems), this.make(), s.customContent && this.addCustomContent(s.customContent), s.searchable && this.addSearch(), this.initializeFlipper();
  }
  /**
   * Popover CSS classes
   */
  static get CSS() {
    return {
      popover: "ce-popover",
      popoverOpenTop: "ce-popover--open-top",
      popoverOpened: "ce-popover--opened",
      search: "ce-popover__search",
      nothingFoundMessage: "ce-popover__nothing-found-message",
      nothingFoundMessageDisplayed: "ce-popover__nothing-found-message--displayed",
      customContent: "ce-popover__custom-content",
      customContentHidden: "ce-popover__custom-content--hidden",
      items: "ce-popover__items",
      overlay: "ce-popover__overlay",
      overlayHidden: "ce-popover__overlay--hidden"
    };
  }
  /**
   * Returns HTML element corresponding to the popover
   */
  getElement() {
    return this.nodes.wrapper;
  }
  /**
   * Returns true if some item inside popover is focused
   */
  hasFocus() {
    return this.flipper.hasFocus();
  }
  /**
   * Open popover
   */
  show() {
    this.shouldOpenBottom || (this.nodes.popover.style.setProperty("--popover-height", this.height + "px"), this.nodes.popover.classList.add(j.CSS.popoverOpenTop)), this.nodes.overlay.classList.remove(j.CSS.overlayHidden), this.nodes.popover.classList.add(j.CSS.popoverOpened), this.flipper.activate(this.flippableElements), this.search !== void 0 && setTimeout(() => {
      this.search.focus();
    }, 100), te() && this.scrollLocker.lock();
  }
  /**
   * Closes popover
   */
  hide() {
    this.nodes.popover.classList.remove(j.CSS.popoverOpened), this.nodes.popover.classList.remove(j.CSS.popoverOpenTop), this.nodes.overlay.classList.add(j.CSS.overlayHidden), this.flipper.deactivate(), this.items.forEach((s) => s.reset()), this.search !== void 0 && this.search.clear(), te() && this.scrollLocker.unlock(), this.emit(
      "close"
      /* Close */
    );
  }
  /**
   * Clears memory
   */
  destroy() {
    this.flipper.deactivate(), this.listeners.removeAll(), te() && this.scrollLocker.unlock();
  }
  /**
   * Constructs HTML element corresponding to popover
   */
  make() {
    this.nodes.popover = d.make("div", [j.CSS.popover]), this.nodes.nothingFoundMessage = d.make("div", [j.CSS.nothingFoundMessage], {
      textContent: this.messages.nothingFound
    }), this.nodes.popover.appendChild(this.nodes.nothingFoundMessage), this.nodes.items = d.make("div", [j.CSS.items]), this.items.forEach((s) => {
      this.nodes.items.appendChild(s.getElement());
    }), this.nodes.popover.appendChild(this.nodes.items), this.listeners.on(this.nodes.popover, "click", (s) => {
      const e = this.getTargetItem(s);
      e !== void 0 && this.handleItemClick(e);
    }), this.nodes.wrapper = d.make("div"), this.nodes.overlay = d.make("div", [j.CSS.overlay, j.CSS.overlayHidden]), this.listeners.on(this.nodes.overlay, "click", () => {
      this.hide();
    }), this.nodes.wrapper.appendChild(this.nodes.overlay), this.nodes.wrapper.appendChild(this.nodes.popover);
  }
  /**
   * Adds search to the popover
   */
  addSearch() {
    this.search = new pe({
      items: this.items,
      placeholder: this.messages.search,
      onSearch: (e, t) => {
        this.items.forEach((i) => {
          const n = !t.includes(i);
          i.toggleHidden(n);
        }), this.toggleNothingFoundMessage(t.length === 0), this.toggleCustomContent(e !== "");
        const o = e === "" ? this.flippableElements : t.map((i) => i.getElement());
        this.flipper.isActivated && (this.flipper.deactivate(), this.flipper.activate(o));
      }
    });
    const s = this.search.getElement();
    s.classList.add(j.CSS.search), this.nodes.popover.insertBefore(s, this.nodes.popover.firstChild);
  }
  /**
   * Adds custom html content to the popover
   *
   * @param content - html content to append
   */
  addCustomContent(s) {
    this.nodes.customContent = s, this.nodes.customContent.classList.add(j.CSS.customContent), this.nodes.popover.insertBefore(s, this.nodes.popover.firstChild);
  }
  /**
   * Retrieves popover item that is the target of the specified event
   *
   * @param event - event to retrieve popover item from
   */
  getTargetItem(s) {
    return this.items.find((e) => s.composedPath().includes(e.getElement()));
  }
  /**
   * Handles item clicks
   *
   * @param item - item to handle click of
   */
  handleItemClick(s) {
    s.isDisabled || (this.items.filter((e) => e !== s).forEach((e) => e.reset()), s.handleClick(), this.toggleItemActivenessIfNeeded(s), s.closeOnActivate && this.hide());
  }
  /**
   * Creates Flipper instance which allows to navigate between popover items via keyboard
   */
  initializeFlipper() {
    this.flipper = new G({
      items: this.flippableElements,
      focusedItemClass: P.CSS.focused,
      allowedKeys: [
        B.TAB,
        B.UP,
        B.DOWN,
        B.ENTER
      ]
    }), this.flipper.onFlip(this.onFlip);
  }
  /**
   * Returns list of elements available for keyboard navigation.
   * Contains both usual popover items elements and custom html content.
   */
  get flippableElements() {
    const s = this.items.map((t) => t.getElement());
    return (this.customContentFlippableItems || []).concat(s);
  }
  get height() {
    let s = 0;
    if (this.nodes.popover === null)
      return s;
    const e = this.nodes.popover.cloneNode(true);
    return e.style.visibility = "hidden", e.style.position = "absolute", e.style.top = "-1000px", e.classList.add(j.CSS.popoverOpened), document.body.appendChild(e), s = e.offsetHeight, e.remove(), s;
  }
  /**
   * Checks if popover should be opened bottom.
   * It should happen when there is enough space below or not enough space above
   */
  get shouldOpenBottom() {
    const s = this.nodes.popover.getBoundingClientRect(), e = this.scopeElement.getBoundingClientRect(), t = this.height, o = s.top + t, i = s.top - t, n = Math.min(window.innerHeight, e.bottom);
    return i < e.top || o <= n;
  }
  /**
   * Toggles nothing found message visibility
   *
   * @param isDisplayed - true if the message should be displayed
   */
  toggleNothingFoundMessage(s) {
    this.nodes.nothingFoundMessage.classList.toggle(j.CSS.nothingFoundMessageDisplayed, s);
  }
  /**
   * Toggles custom content visibility
   *
   * @param isDisplayed - true if custom content should be displayed
   */
  toggleCustomContent(s) {
    var e;
    (e = this.nodes.customContent) == null || e.classList.toggle(j.CSS.customContentHidden, s);
  }
  /**
   * - Toggles item active state, if clicked popover item has property 'toggle' set to true.
   *
   * - Performs radiobutton-like behavior if the item has property 'toggle' set to string key.
   * (All the other items with the same key get inactive, and the item gets active)
   *
   * @param clickedItem - popover item that was clicked
   */
  toggleItemActivenessIfNeeded(s) {
    if (s.toggle === true && s.toggleActive(), typeof s.toggle == "string") {
      const e = this.items.filter((t) => t.toggle === s.toggle);
      if (e.length === 1) {
        s.toggleActive();
        return;
      }
      e.forEach((t) => {
        t.toggleActive(t === s);
      });
    }
  }
};
let je = j;
Ho([
  ce
], je.prototype, "height", 1);
class jo extends C {
  constructor() {
    super(...arguments), this.opened = false, this.selection = new m(), this.onPopoverClose = () => {
      this.close();
    };
  }
  /**
   * Module Events
   *
   * @returns {{opened: string, closed: string}}
   */
  get events() {
    return {
      opened: "block-settings-opened",
      closed: "block-settings-closed"
    };
  }
  /**
   * Block Settings CSS
   */
  get CSS() {
    return {
      settings: "ce-settings"
    };
  }
  /**
   * Getter for inner popover's flipper instance
   *
   * @todo remove once BlockSettings becomes standalone non-module class
   */
  get flipper() {
    var e;
    return (e = this.popover) == null ? void 0 : e.flipper;
  }
  /**
   * Panel with block settings with 2 sections:
   *  - Tool's Settings
   *  - Default Settings [Move, Remove, etc]
   */
  make() {
    this.nodes.wrapper = d.make("div", [this.CSS.settings]);
  }
  /**
   * Destroys module
   */
  destroy() {
    this.removeAllNodes();
  }
  /**
   * Open Block Settings pane
   *
   * @param targetBlock - near which Block we should open BlockSettings
   */
  open(e = this.Editor.BlockManager.currentBlock) {
    this.opened = true, this.selection.save(), e.selected = true, this.Editor.BlockSelection.clearCache();
    const [t, o] = e.getTunes();
    this.eventsDispatcher.emit(this.events.opened), this.popover = new je({
      searchable: true,
      items: t.map((i) => this.resolveTuneAliases(i)),
      customContent: o,
      customContentFlippableItems: this.getControls(o),
      scopeElement: this.Editor.API.methods.ui.nodes.redactor,
      messages: {
        nothingFound: $.ui(X.ui.popover, "Nothing found"),
        search: $.ui(X.ui.popover, "Filter")
      }
    }), this.popover.on(ge.Close, this.onPopoverClose), this.nodes.wrapper.append(this.popover.getElement()), this.popover.show();
  }
  /**
   * Returns root block settings element
   */
  getElement() {
    return this.nodes.wrapper;
  }
  /**
   * Close Block Settings pane
   */
  close() {
    this.opened = false, m.isAtEditor || this.selection.restore(), this.selection.clearSaved(), !this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted && this.Editor.BlockManager.currentBlock && (this.Editor.BlockManager.currentBlock.selected = false), this.eventsDispatcher.emit(this.events.closed), this.popover && (this.popover.off(ge.Close, this.onPopoverClose), this.popover.destroy(), this.popover.getElement().remove(), this.popover = null);
  }
  /**
   * Returns list of buttons and inputs inside specified container
   *
   * @param container - container to query controls inside of
   */
  getControls(e) {
    const { StylesAPI: t } = this.Editor, o = e.querySelectorAll(
      `.${t.classes.settingsButton}, ${d.allInputsSelector}`
    );
    return Array.from(o);
  }
  /**
   * Resolves aliases in tunes menu items
   *
   * @param item - item with resolved aliases
   */
  resolveTuneAliases(e) {
    const t = Co(e, { label: "title" });
    return e.confirmation && (t.confirmation = this.resolveTuneAliases(e.confirmation)), t;
  }
}
class Y extends C {
  constructor() {
    super(...arguments), this.opened = false, this.tools = [], this.flipper = null, this.togglingCallback = null;
  }
  /**
   * CSS getter
   */
  static get CSS() {
    return {
      conversionToolbarWrapper: "ce-conversion-toolbar",
      conversionToolbarShowed: "ce-conversion-toolbar--showed",
      conversionToolbarTools: "ce-conversion-toolbar__tools",
      conversionToolbarLabel: "ce-conversion-toolbar__label",
      conversionTool: "ce-conversion-tool",
      conversionToolHidden: "ce-conversion-tool--hidden",
      conversionToolIcon: "ce-conversion-tool__icon",
      conversionToolSecondaryLabel: "ce-conversion-tool__secondary-label",
      conversionToolFocused: "ce-conversion-tool--focused",
      conversionToolActive: "ce-conversion-tool--active"
    };
  }
  /**
   * Create UI of Conversion Toolbar
   */
  make() {
    this.nodes.wrapper = d.make("div", [
      Y.CSS.conversionToolbarWrapper,
      ...this.isRtl ? [this.Editor.UI.CSS.editorRtlFix] : []
    ]), this.nodes.tools = d.make("div", Y.CSS.conversionToolbarTools);
    const e = d.make("div", Y.CSS.conversionToolbarLabel, {
      textContent: $.ui(X.ui.inlineToolbar.converter, "Convert to")
    });
    return this.addTools(), this.enableFlipper(), d.append(this.nodes.wrapper, e), d.append(this.nodes.wrapper, this.nodes.tools), this.nodes.wrapper;
  }
  /**
   * Deactivates flipper and removes all nodes
   */
  destroy() {
    this.flipper && (this.flipper.deactivate(), this.flipper = null), this.removeAllNodes();
  }
  /**
   * Toggle conversion dropdown visibility
   *
   * @param {Function} [togglingCallback]  callback that will accept opening state
   */
  toggle(e) {
    this.opened ? this.close() : this.open(), D(e) && (this.togglingCallback = e);
  }
  /**
   * Shows Conversion Toolbar
   */
  open() {
    this.filterTools(), this.opened = true, this.nodes.wrapper.classList.add(Y.CSS.conversionToolbarShowed), window.requestAnimationFrame(() => {
      this.flipper.activate(this.tools.map((e) => e.button).filter((e) => !e.classList.contains(Y.CSS.conversionToolHidden))), this.flipper.focusFirst(), D(this.togglingCallback) && this.togglingCallback(true);
    });
  }
  /**
   * Closes Conversion Toolbar
   */
  close() {
    this.opened = false, this.flipper.deactivate(), this.nodes.wrapper.classList.remove(Y.CSS.conversionToolbarShowed), D(this.togglingCallback) && this.togglingCallback(false);
  }
  /**
   * Returns true if it has more than one tool available for convert in
   */
  hasTools() {
    return this.tools.length === 1 ? this.tools[0].name !== this.config.defaultBlock : true;
  }
  /**
   * Replaces one Block with another
   * For that Tools must provide import/export methods
   *
   * @param {string} replacingToolName - name of Tool which replaces current
   * @param blockDataOverrides - If this conversion fired by the one of multiple Toolbox items, extend converted data with this item's "data" overrides
   */
  replaceWithBlock(e, t) {
    return __async(this, null, function* () {
      const { BlockManager: o, BlockSelection: i, InlineToolbar: n, Caret: r } = this.Editor;
      o.convert(this.Editor.BlockManager.currentBlock, e, t), i.clearSelection(), this.close(), n.close(), window.requestAnimationFrame(() => {
        r.setToBlock(this.Editor.BlockManager.currentBlock, r.positions.END);
      });
    });
  }
  /**
   * Iterates existing Tools and inserts to the ConversionToolbar
   * if tools have ability to import
   */
  addTools() {
    const e = this.Editor.Tools.blockTools;
    Array.from(e.entries()).forEach(([t, o]) => {
      var n;
      const i = o.conversionConfig;
      !i || !i.import || (n = o.toolbox) == null || n.forEach(
        (r) => this.addToolIfValid(t, r)
      );
    });
  }
  /**
   * Inserts a tool to the ConversionToolbar if the tool's toolbox config is valid
   *
   * @param name - tool's name
   * @param toolboxSettings - tool's single toolbox setting
   */
  addToolIfValid(e, t) {
    V(t) || !t.icon || this.addTool(e, t);
  }
  /**
   * Add tool to the Conversion Toolbar
   *
   * @param toolName - name of Tool to add
   * @param toolboxItem - tool's toolbox item data
   */
  addTool(e, t) {
    var r;
    const o = d.make("div", [Y.CSS.conversionTool]), i = d.make("div", [Y.CSS.conversionToolIcon]);
    o.dataset.tool = e, i.innerHTML = t.icon, d.append(o, i), d.append(o, d.text($.t(X.toolNames, t.title || ae(e))));
    const n = (r = this.Editor.Tools.blockTools.get(e)) == null ? void 0 : r.shortcut;
    if (n) {
      const a = d.make("span", Y.CSS.conversionToolSecondaryLabel, {
        innerText: Re(n)
      });
      d.append(o, a);
    }
    d.append(this.nodes.tools, o), this.tools.push({
      name: e,
      button: o,
      toolboxItem: t
    }), this.listeners.on(o, "click", () => __async(this, null, function* () {
      yield this.replaceWithBlock(e, t.data);
    }));
  }
  /**
   * Hide current Tool and show others
   */
  filterTools() {
    return __async(this, null, function* () {
      const { currentBlock: e } = this.Editor.BlockManager, t = yield e.getActiveToolboxEntry();
      function o(i, n) {
        return i.icon === n.icon && i.title === n.title;
      }
      this.tools.forEach((i) => {
        let n = false;
        if (t) {
          const r = o(t, i.toolboxItem);
          n = i.button.dataset.tool === e.name && r;
        }
        i.button.hidden = n, i.button.classList.toggle(Y.CSS.conversionToolHidden, n);
      });
    });
  }
  /**
   * Prepare Flipper to be able to leaf tools by arrows/tab
   */
  enableFlipper() {
    this.flipper = new G({
      focusedItemClass: Y.CSS.conversionToolFocused
    });
  }
}
var _e = {}, zo = {
  get exports() {
    return _e;
  },
  set exports(s) {
    _e = s;
  }
};
/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */
(function(s, e) {
  (function(t, o) {
    s.exports = o();
  })(window, function() {
    return function(t) {
      var o = {};
      function i(n) {
        if (o[n])
          return o[n].exports;
        var r = o[n] = { i: n, l: false, exports: {} };
        return t[n].call(r.exports, r, r.exports, i), r.l = true, r.exports;
      }
      return i.m = t, i.c = o, i.d = function(n, r, a) {
        i.o(n, r) || Object.defineProperty(n, r, { enumerable: true, get: a });
      }, i.r = function(n) {
        typeof Symbol < "u" && Symbol.toStringTag && Object.defineProperty(n, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(n, "__esModule", { value: true });
      }, i.t = function(n, r) {
        if (1 & r && (n = i(n)), 8 & r || 4 & r && typeof n == "object" && n && n.__esModule)
          return n;
        var a = /* @__PURE__ */ Object.create(null);
        if (i.r(a), Object.defineProperty(a, "default", { enumerable: true, value: n }), 2 & r && typeof n != "string")
          for (var l in n)
            i.d(a, l, function(c) {
              return n[c];
            }.bind(null, l));
        return a;
      }, i.n = function(n) {
        var r = n && n.__esModule ? function() {
          return n.default;
        } : function() {
          return n;
        };
        return i.d(r, "a", r), r;
      }, i.o = function(n, r) {
        return Object.prototype.hasOwnProperty.call(n, r);
      }, i.p = "", i(i.s = 0);
    }([function(t, o, i) {
      function n(l, c) {
        for (var u = 0; u < c.length; u++) {
          var h = c[u];
          h.enumerable = h.enumerable || false, h.configurable = true, "value" in h && (h.writable = true), Object.defineProperty(l, h.key, h);
        }
      }
      function r(l, c, u) {
        return c && n(l.prototype, c), u && n(l, u), l;
      }
      i.r(o);
      var a = function() {
        function l(c) {
          var u = this;
          (function(h, f) {
            if (!(h instanceof f))
              throw new TypeError("Cannot call a class as a function");
          })(this, l), this.commands = {}, this.keys = {}, this.name = c.name, this.parseShortcutName(c.name), this.element = c.on, this.callback = c.callback, this.executeShortcut = function(h) {
            u.execute(h);
          }, this.element.addEventListener("keydown", this.executeShortcut, false);
        }
        return r(l, null, [{ key: "supportedCommands", get: function() {
          return { SHIFT: ["SHIFT"], CMD: ["CMD", "CONTROL", "COMMAND", "WINDOWS", "CTRL"], ALT: ["ALT", "OPTION"] };
        } }, { key: "keyCodes", get: function() {
          return { 0: 48, 1: 49, 2: 50, 3: 51, 4: 52, 5: 53, 6: 54, 7: 55, 8: 56, 9: 57, A: 65, B: 66, C: 67, D: 68, E: 69, F: 70, G: 71, H: 72, I: 73, J: 74, K: 75, L: 76, M: 77, N: 78, O: 79, P: 80, Q: 81, R: 82, S: 83, T: 84, U: 85, V: 86, W: 87, X: 88, Y: 89, Z: 90, BACKSPACE: 8, ENTER: 13, ESCAPE: 27, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40, INSERT: 45, DELETE: 46, ".": 190 };
        } }]), r(l, [{ key: "parseShortcutName", value: function(c) {
          c = c.split("+");
          for (var u = 0; u < c.length; u++) {
            c[u] = c[u].toUpperCase();
            var h = false;
            for (var f in l.supportedCommands)
              if (l.supportedCommands[f].includes(c[u])) {
                h = this.commands[f] = true;
                break;
              }
            h || (this.keys[c[u]] = true);
          }
          for (var k in l.supportedCommands)
            this.commands[k] || (this.commands[k] = false);
        } }, { key: "execute", value: function(c) {
          var u, h = { CMD: c.ctrlKey || c.metaKey, SHIFT: c.shiftKey, ALT: c.altKey }, f = true;
          for (u in this.commands)
            this.commands[u] !== h[u] && (f = false);
          var k, p = true;
          for (k in this.keys)
            p = p && c.keyCode === l.keyCodes[k];
          f && p && this.callback(c);
        } }, { key: "remove", value: function() {
          this.element.removeEventListener("keydown", this.executeShortcut);
        } }]), l;
      }();
      o.default = a;
    }]).default;
  });
})(zo);
const Uo = /* @__PURE__ */ xe(_e);
class $o {
  constructor() {
    this.registeredShortcuts = /* @__PURE__ */ new Map();
  }
  /**
   * Register shortcut
   *
   * @param shortcut - shortcut options
   */
  add(e) {
    if (this.findShortcut(e.on, e.name))
      throw Error(
        `Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`
      );
    const o = new Uo({
      name: e.name,
      on: e.on,
      callback: e.handler
    }), i = this.registeredShortcuts.get(e.on) || [];
    this.registeredShortcuts.set(e.on, [...i, o]);
  }
  /**
   * Remove shortcut
   *
   * @param element - Element shortcut is set for
   * @param name - shortcut name
   */
  remove(e, t) {
    const o = this.findShortcut(e, t);
    if (!o)
      return;
    o.remove();
    const i = this.registeredShortcuts.get(e);
    this.registeredShortcuts.set(e, i.filter((n) => n !== o));
  }
  /**
   * Get Shortcut instance if exist
   *
   * @param element - Element shorcut is set for
   * @param shortcut - shortcut name
   * @returns {number} index - shortcut index if exist
   */
  findShortcut(e, t) {
    return (this.registeredShortcuts.get(e) || []).find(({ name: i }) => i === t);
  }
}
const le = new $o();
var Wo = Object.defineProperty, Yo = Object.getOwnPropertyDescriptor, bt = (s, e, t, o) => {
  for (var i = o > 1 ? void 0 : o ? Yo(e, t) : e, n = s.length - 1, r; n >= 0; n--)
    (r = s[n]) && (i = (o ? r(e, t, i) : r(i)) || i);
  return o && i && Wo(e, t, i), i;
}, me = /* @__PURE__ */ ((s) => (s.Opened = "toolbox-opened", s.Closed = "toolbox-closed", s.BlockAdded = "toolbox-block-added", s))(me || {});
const mt = class extends we {
  /**
   * Toolbox constructor
   *
   * @param options - available parameters
   * @param options.api - Editor API methods
   * @param options.tools - Tools available to check whether some of them should be displayed at the Toolbox or not
   */
  constructor({ api: s, tools: e, i18nLabels: t }) {
    super(), this.opened = false, this.nodes = {
      toolbox: null
    }, this.onPopoverClose = () => {
      this.opened = false, this.emit(
        "toolbox-closed"
        /* Closed */
      );
    }, this.api = s, this.tools = e, this.i18nLabels = t;
  }
  /**
   * Returns True if Toolbox is Empty and nothing to show
   *
   * @returns {boolean}
   */
  get isEmpty() {
    return this.toolsToBeDisplayed.length === 0;
  }
  /**
   * CSS styles
   *
   * @returns {Object<string, string>}
   */
  static get CSS() {
    return {
      toolbox: "ce-toolbox"
    };
  }
  /**
   * Makes the Toolbox
   */
  make() {
    return this.popover = new je({
      scopeElement: this.api.ui.nodes.redactor,
      searchable: true,
      messages: {
        nothingFound: this.i18nLabels.nothingFound,
        search: this.i18nLabels.filter
      },
      items: this.toolboxItemsToBeDisplayed
    }), this.popover.on(ge.Close, this.onPopoverClose), this.enableShortcuts(), this.nodes.toolbox = this.popover.getElement(), this.nodes.toolbox.classList.add(mt.CSS.toolbox), this.nodes.toolbox;
  }
  /**
   * Returns true if the Toolbox has the Flipper activated and the Flipper has selected button
   */
  hasFocus() {
    var s;
    return (s = this.popover) == null ? void 0 : s.hasFocus();
  }
  /**
   * Destroy Module
   */
  destroy() {
    var s;
    super.destroy(), this.nodes && this.nodes.toolbox && (this.nodes.toolbox.remove(), this.nodes.toolbox = null), this.removeAllShortcuts(), (s = this.popover) == null || s.off(ge.Close, this.onPopoverClose);
  }
  /**
   * Toolbox Tool's button click handler
   *
   * @param toolName - tool type to be activated
   * @param blockDataOverrides - Block data predefined by the activated Toolbox item
   */
  toolButtonActivated(s, e) {
    this.insertNewBlock(s, e);
  }
  /**
   * Open Toolbox with Tools
   */
  open() {
    var s;
    this.isEmpty || ((s = this.popover) == null || s.show(), this.opened = true, this.emit(
      "toolbox-opened"
      /* Opened */
    ));
  }
  /**
   * Close Toolbox
   */
  close() {
    var s;
    (s = this.popover) == null || s.hide(), this.opened = false, this.emit(
      "toolbox-closed"
      /* Closed */
    );
  }
  /**
   * Close Toolbox
   */
  toggle() {
    this.opened ? this.close() : this.open();
  }
  get toolsToBeDisplayed() {
    const s = [];
    return this.tools.forEach((e) => {
      e.toolbox && s.push(e);
    }), s;
  }
  get toolboxItemsToBeDisplayed() {
    const s = (e, t) => ({
      icon: e.icon,
      title: $.t(X.toolNames, e.title || ae(t.name)),
      name: t.name,
      onActivate: () => {
        this.toolButtonActivated(t.name, e.data);
      },
      secondaryLabel: t.shortcut ? Re(t.shortcut) : ""
    });
    return this.toolsToBeDisplayed.reduce((e, t) => (Array.isArray(t.toolbox) ? t.toolbox.forEach((o) => {
      e.push(s(o, t));
    }) : t.toolbox !== void 0 && e.push(s(t.toolbox, t)), e), []);
  }
  /**
   * Iterate all tools and enable theirs shortcuts if specified
   */
  enableShortcuts() {
    this.toolsToBeDisplayed.forEach((s) => {
      const e = s.shortcut;
      e && this.enableShortcutForTool(s.name, e);
    });
  }
  /**
   * Enable shortcut Block Tool implemented shortcut
   *
   * @param {string} toolName - Tool name
   * @param {string} shortcut - shortcut according to the ShortcutData Module format
   */
  enableShortcutForTool(s, e) {
    le.add({
      name: e,
      on: this.api.ui.nodes.redactor,
      handler: (t) => {
        t.preventDefault();
        const o = this.api.blocks.getCurrentBlockIndex(), i = this.api.blocks.getBlockByIndex(o);
        if (i)
          try {
            this.api.blocks.convert(i.id, s), window.requestAnimationFrame(() => {
              this.api.caret.setToBlock(o, "end");
            });
            return;
          } catch (e2) {
          }
        this.insertNewBlock(s);
      }
    });
  }
  /**
   * Removes all added shortcuts
   * Fired when the Read-Only mode is activated
   */
  removeAllShortcuts() {
    this.toolsToBeDisplayed.forEach((s) => {
      const e = s.shortcut;
      e && le.remove(this.api.ui.nodes.redactor, e);
    });
  }
  /**
   * Inserts new block
   * Can be called when button clicked on Toolbox or by ShortcutData
   *
   * @param {string} toolName - Tool name
   * @param blockDataOverrides - predefined Block data
   */
  insertNewBlock(s, e) {
    return __async(this, null, function* () {
      const t = this.api.blocks.getCurrentBlockIndex(), o = this.api.blocks.getBlockByIndex(t);
      if (!o)
        return;
      const i = o.isEmpty ? t : t + 1;
      let n;
      if (e) {
        const a = yield this.api.blocks.composeBlockData(s);
        n = Object.assign(a, e);
      }
      const r = this.api.blocks.insert(
        s,
        n,
        void 0,
        i,
        void 0,
        o.isEmpty
      );
      r.call(q.APPEND_CALLBACK), this.api.caret.setToBlock(i), this.emit("toolbox-block-added", {
        block: r
      }), this.api.toolbar.close();
    });
  }
};
let ze = mt;
bt([
  ce
], ze.prototype, "toolsToBeDisplayed", 1);
bt([
  ce
], ze.prototype, "toolboxItemsToBeDisplayed", 1);
const kt = "block hovered";
class Ko extends C {
  /**
   * @class
   * @param moduleConfiguration - Module Configuration
   * @param moduleConfiguration.config - Editor's config
   * @param moduleConfiguration.eventsDispatcher - Editor's event dispatcher
   */
  constructor({ config: e, eventsDispatcher: t }) {
    super({
      config: e,
      eventsDispatcher: t
    }), this.toolboxInstance = null, this.tooltip = new He();
  }
  /**
   * CSS styles
   *
   * @returns {object}
   */
  get CSS() {
    return {
      toolbar: "ce-toolbar",
      content: "ce-toolbar__content",
      actions: "ce-toolbar__actions",
      actionsOpened: "ce-toolbar__actions--opened",
      toolbarOpened: "ce-toolbar--opened",
      openedToolboxHolderModifier: "codex-editor--toolbox-opened",
      plusButton: "ce-toolbar__plus",
      plusButtonShortcut: "ce-toolbar__plus-shortcut",
      settingsToggler: "ce-toolbar__settings-btn",
      settingsTogglerHidden: "ce-toolbar__settings-btn--hidden"
    };
  }
  /**
   * Returns the Toolbar opening state
   *
   * @returns {boolean}
   */
  get opened() {
    return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened);
  }
  /**
   * Public interface for accessing the Toolbox
   */
  get toolbox() {
    var e;
    return {
      opened: (e = this.toolboxInstance) == null ? void 0 : e.opened,
      close: () => {
        var t;
        (t = this.toolboxInstance) == null || t.close();
      },
      open: () => {
        if (this.toolboxInstance === null) {
          L("toolbox.open() called before initialization is finished", "warn");
          return;
        }
        this.Editor.BlockManager.currentBlock = this.hoveredBlock, this.toolboxInstance.open();
      },
      toggle: () => {
        if (this.toolboxInstance === null) {
          L("toolbox.toggle() called before initialization is finished", "warn");
          return;
        }
        this.toolboxInstance.toggle();
      },
      hasFocus: () => {
        var t;
        return (t = this.toolboxInstance) == null ? void 0 : t.hasFocus();
      }
    };
  }
  /**
   * Block actions appearance manipulations
   */
  get blockActions() {
    return {
      hide: () => {
        this.nodes.actions.classList.remove(this.CSS.actionsOpened);
      },
      show: () => {
        this.nodes.actions.classList.add(this.CSS.actionsOpened);
      }
    };
  }
  /**
   * Methods for working with Block Tunes toggler
   */
  get blockTunesToggler() {
    return {
      hide: () => this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),
      show: () => this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)
    };
  }
  /**
   * Toggles read-only mode
   *
   * @param {boolean} readOnlyEnabled - read-only mode
   */
  toggleReadOnly(e) {
    e ? (this.destroy(), this.Editor.BlockSettings.destroy(), this.disableModuleBindings()) : window.requestIdleCallback(() => {
      this.drawUI(), this.enableModuleBindings();
    }, { timeout: 2e3 });
  }
  /**
   * Move Toolbar to the passed (or current) Block
   *
   * @param block - block to move Toolbar near it
   */
  moveAndOpen(e = this.Editor.BlockManager.currentBlock) {
    if (this.toolboxInstance === null) {
      L("Can't open Toolbar since Editor initialization is not finished yet", "warn");
      return;
    }
    if (this.toolboxInstance.opened && this.toolboxInstance.close(), this.Editor.BlockSettings.opened && this.Editor.BlockSettings.close(), !e)
      return;
    this.hoveredBlock = e;
    const t = e.holder, { isMobile: o } = this.Editor.UI, i = e.pluginsContent, n = window.getComputedStyle(i), r = parseInt(n.paddingTop, 10), a = t.offsetHeight;
    let l;
    o ? l = t.offsetTop + a : l = t.offsetTop + r, this.nodes.wrapper.style.top = `${Math.floor(l)}px`, this.Editor.BlockManager.blocks.length === 1 && e.isEmpty ? this.blockTunesToggler.hide() : this.blockTunesToggler.show(), this.open();
  }
  /**
   * Close the Toolbar
   */
  close() {
    var e;
    this.Editor.ReadOnly.isEnabled || (this.nodes.wrapper.classList.remove(this.CSS.toolbarOpened), this.blockActions.hide(), (e = this.toolboxInstance) == null || e.close(), this.Editor.BlockSettings.close());
  }
  /**
   * Open Toolbar with Plus Button and Actions
   *
   * @param {boolean} withBlockActions - by default, Toolbar opens with Block Actions.
   *                                     This flag allows to open Toolbar without Actions.
   */
  open(e = true) {
    re(() => {
      this.nodes.wrapper.classList.add(this.CSS.toolbarOpened), e ? this.blockActions.show() : this.blockActions.hide();
    }, 50)();
  }
  /**
   * Draws Toolbar elements
   */
  make() {
    this.nodes.wrapper = d.make("div", this.CSS.toolbar), ["content", "actions"].forEach((t) => {
      this.nodes[t] = d.make("div", this.CSS[t]);
    }), d.append(this.nodes.wrapper, this.nodes.content), d.append(this.nodes.content, this.nodes.actions), this.nodes.plusButton = d.make("div", this.CSS.plusButton, {
      innerHTML: _o
    }), d.append(this.nodes.actions, this.nodes.plusButton), this.readOnlyMutableListeners.on(this.nodes.plusButton, "click", () => {
      this.tooltip.hide(true), this.plusButtonClicked();
    }, false);
    const e = d.make("div");
    e.appendChild(document.createTextNode($.ui(X.ui.toolbar.toolbox, "Add"))), e.appendChild(d.make("div", this.CSS.plusButtonShortcut, {
      textContent: "\u21E5 Tab"
    })), this.tooltip.onHover(this.nodes.plusButton, e, {
      hidingDelay: 400
    }), this.nodes.settingsToggler = d.make("span", this.CSS.settingsToggler, {
      innerHTML: Ao
    }), d.append(this.nodes.actions, this.nodes.settingsToggler), this.tooltip.onHover(
      this.nodes.settingsToggler,
      $.ui(X.ui.blockTunes.toggler, "Click to tune"),
      {
        hidingDelay: 400
      }
    ), d.append(this.nodes.actions, this.makeToolbox()), d.append(this.nodes.actions, this.Editor.BlockSettings.getElement()), d.append(this.Editor.UI.nodes.wrapper, this.nodes.wrapper);
  }
  /**
   * Creates the Toolbox instance and return it's rendered element
   */
  makeToolbox() {
    return this.toolboxInstance = new ze({
      api: this.Editor.API.methods,
      tools: this.Editor.Tools.blockTools,
      i18nLabels: {
        filter: $.ui(X.ui.popover, "Filter"),
        nothingFound: $.ui(X.ui.popover, "Nothing found")
      }
    }), this.toolboxInstance.on(me.Opened, () => {
      this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier);
    }), this.toolboxInstance.on(me.Closed, () => {
      this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier);
    }), this.toolboxInstance.on(me.BlockAdded, ({ block: e }) => {
      const { BlockManager: t, Caret: o } = this.Editor, i = t.getBlockById(e.id);
      i.inputs.length === 0 && (i === t.lastBlock ? (t.insertAtEnd(), o.setToBlock(t.lastBlock)) : o.setToBlock(t.nextBlock));
    }), this.toolboxInstance.make();
  }
  /**
   * Handler for Plus Button
   */
  plusButtonClicked() {
    var e;
    this.Editor.BlockManager.currentBlock = this.hoveredBlock, (e = this.toolboxInstance) == null || e.toggle();
  }
  /**
   * Enable bindings
   */
  enableModuleBindings() {
    this.readOnlyMutableListeners.on(this.nodes.settingsToggler, "mousedown", (e) => {
      var t;
      e.stopPropagation(), this.settingsTogglerClicked(), (t = this.toolboxInstance) != null && t.opened && this.toolboxInstance.close(), this.tooltip.hide(true);
    }, true), te() || this.eventsDispatcher.on(kt, (e) => {
      var t;
      this.Editor.BlockSettings.opened || (t = this.toolboxInstance) != null && t.opened || this.moveAndOpen(e.block);
    });
  }
  /**
   * Disable bindings
   */
  disableModuleBindings() {
    this.readOnlyMutableListeners.clearAll();
  }
  /**
   * Clicks on the Block Settings toggler
   */
  settingsTogglerClicked() {
    this.Editor.BlockManager.currentBlock = this.hoveredBlock, this.Editor.BlockSettings.opened ? this.Editor.BlockSettings.close() : this.Editor.BlockSettings.open(this.hoveredBlock);
  }
  /**
   * Draws Toolbar UI
   *
   * Toolbar contains BlockSettings and Toolbox.
   * That's why at first we draw its components and then Toolbar itself
   *
   * Steps:
   *  - Make Toolbar dependent components like BlockSettings, Toolbox and so on
   *  - Make itself and append dependent nodes to itself
   *
   */
  drawUI() {
    this.Editor.BlockSettings.make(), this.make();
  }
  /**
   * Removes all created and saved HTMLElements
   * It is used in Read-Only mode
   */
  destroy() {
    this.removeAllNodes(), this.toolboxInstance && this.toolboxInstance.destroy(), this.tooltip.destroy();
  }
}
var ye = /* @__PURE__ */ ((s) => (s[s.Block = 0] = "Block", s[s.Inline = 1] = "Inline", s[s.Tune = 2] = "Tune", s))(ye || {}), ke = /* @__PURE__ */ ((s) => (s.Shortcut = "shortcut", s.Toolbox = "toolbox", s.EnabledInlineTools = "inlineToolbar", s.EnabledBlockTunes = "tunes", s.Config = "config", s))(ke || {}), vt = /* @__PURE__ */ ((s) => (s.Shortcut = "shortcut", s.SanitizeConfig = "sanitize", s))(vt || {}), se = /* @__PURE__ */ ((s) => (s.IsEnabledLineBreaks = "enableLineBreaks", s.Toolbox = "toolbox", s.ConversionConfig = "conversionConfig", s.IsReadOnlySupported = "isReadOnlySupported", s.PasteConfig = "pasteConfig", s))(se || {}), Ue = /* @__PURE__ */ ((s) => (s.IsInline = "isInline", s.Title = "title", s))(Ue || {}), xt = /* @__PURE__ */ ((s) => (s.IsTune = "isTune", s))(xt || {});
class $e {
  /**
   * @class
   * @param {ConstructorOptions} options - Constructor options
   */
  constructor({
    name: e,
    constructable: t,
    config: o,
    api: i,
    isDefault: n,
    isInternal: r = false,
    defaultPlaceholder: a
  }) {
    this.api = i, this.name = e, this.constructable = t, this.config = o, this.isDefault = n, this.isInternal = r, this.defaultPlaceholder = a;
  }
  /**
   * Returns Tool user configuration
   */
  get settings() {
    const e = this.config.config || {};
    return this.isDefault && !("placeholder" in e) && this.defaultPlaceholder && (e.placeholder = this.defaultPlaceholder), e;
  }
  /**
   * Calls Tool's reset method
   */
  reset() {
    if (D(this.constructable.reset))
      return this.constructable.reset();
  }
  /**
   * Calls Tool's prepare method
   */
  prepare() {
    if (D(this.constructable.prepare))
      return this.constructable.prepare({
        toolName: this.name,
        config: this.settings
      });
  }
  /**
   * Returns shortcut for Tool (internal or specified by user)
   */
  get shortcut() {
    const e = this.constructable.shortcut;
    return this.config.shortcut || e;
  }
  /**
   * Returns Tool's sanitizer configuration
   */
  get sanitizeConfig() {
    return this.constructable.sanitize || {};
  }
  /**
   * Returns true if Tools is inline
   */
  isInline() {
    return this.type === 1;
  }
  /**
   * Returns true if Tools is block
   */
  isBlock() {
    return this.type === 0;
  }
  /**
   * Returns true if Tools is tune
   */
  isTune() {
    return this.type === 2;
  }
}
class Xo extends C {
  /**
   * @class
   * @param moduleConfiguration - Module Configuration
   * @param moduleConfiguration.config - Editor's config
   * @param moduleConfiguration.eventsDispatcher - Editor's event dispatcher
   */
  constructor({ config: e, eventsDispatcher: t }) {
    super({
      config: e,
      eventsDispatcher: t
    }), this.CSS = {
      inlineToolbar: "ce-inline-toolbar",
      inlineToolbarShowed: "ce-inline-toolbar--showed",
      inlineToolbarLeftOriented: "ce-inline-toolbar--left-oriented",
      inlineToolbarRightOriented: "ce-inline-toolbar--right-oriented",
      inlineToolbarShortcut: "ce-inline-toolbar__shortcut",
      buttonsWrapper: "ce-inline-toolbar__buttons",
      actionsWrapper: "ce-inline-toolbar__actions",
      inlineToolButton: "ce-inline-tool",
      inputField: "cdx-input",
      focusedButton: "ce-inline-tool--focused",
      conversionToggler: "ce-inline-toolbar__dropdown",
      conversionTogglerArrow: "ce-inline-toolbar__dropdown-arrow",
      conversionTogglerHidden: "ce-inline-toolbar__dropdown--hidden",
      conversionTogglerContent: "ce-inline-toolbar__dropdown-content",
      togglerAndButtonsWrapper: "ce-inline-toolbar__toggler-and-button-wrapper"
    }, this.opened = false, this.toolbarVerticalMargin = te() ? 20 : 6, this.buttonsList = null, this.width = 0, this.flipper = null, this.tooltip = new He();
  }
  /**
   * Toggles read-only mode
   *
   * @param {boolean} readOnlyEnabled - read-only mode
   */
  toggleReadOnly(e) {
    e ? (this.destroy(), this.Editor.ConversionToolbar.destroy()) : window.requestIdleCallback(() => {
      this.make();
    }, { timeout: 2e3 });
  }
  /**
   *  Moving / appearance
   *  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
   */
  /**
   * Shows Inline Toolbar if something is selected
   *
   * @param [needToClose] - pass true to close toolbar if it is not allowed.
   *                                  Avoid to use it just for closing IT, better call .close() clearly.
   * @param [needToShowConversionToolbar] - pass false to not to show Conversion Toolbar
   */
  tryToShow(e = false, t = true) {
    if (!this.allowedToShow()) {
      e && this.close();
      return;
    }
    this.move(), this.open(t), this.Editor.Toolbar.close();
  }
  /**
   * Move Toolbar to the selected text
   */
  move() {
    const e = m.rect, t = this.Editor.UI.nodes.wrapper.getBoundingClientRect(), o = {
      x: e.x - t.left,
      y: e.y + e.height - // + window.scrollY
      t.top + this.toolbarVerticalMargin
    };
    e.width && (o.x += Math.floor(e.width / 2));
    const i = o.x - this.width / 2, n = o.x + this.width / 2;
    this.nodes.wrapper.classList.toggle(
      this.CSS.inlineToolbarLeftOriented,
      i < this.Editor.UI.contentRect.left
    ), this.nodes.wrapper.classList.toggle(
      this.CSS.inlineToolbarRightOriented,
      n > this.Editor.UI.contentRect.right
    ), this.nodes.wrapper.style.left = Math.floor(o.x) + "px", this.nodes.wrapper.style.top = Math.floor(o.y) + "px";
  }
  /**
   * Hides Inline Toolbar
   */
  close() {
    this.opened && (this.Editor.ReadOnly.isEnabled || (this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed), Array.from(this.toolsInstances.entries()).forEach(([e, t]) => {
      const o = this.getToolShortcut(e);
      o && le.remove(this.Editor.UI.nodes.redactor, o), D(t.clear) && t.clear();
    }), this.opened = false, this.flipper.deactivate(), this.Editor.ConversionToolbar.close()));
  }
  /**
   * Shows Inline Toolbar
   *
   * @param [needToShowConversionToolbar] - pass false to not to show Conversion Toolbar
   */
  open(e = true) {
    if (this.opened)
      return;
    this.addToolsFiltered(), this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed), this.buttonsList = this.nodes.buttons.querySelectorAll(`.${this.CSS.inlineToolButton}`), this.opened = true, e && this.Editor.ConversionToolbar.hasTools() ? this.setConversionTogglerContent() : this.nodes.conversionToggler.hidden = true;
    let t = Array.from(this.buttonsList);
    t.unshift(this.nodes.conversionToggler), t = t.filter((o) => !o.hidden), this.flipper.activate(t);
  }
  /**
   * Check if node is contained by Inline Toolbar
   *
   * @param {Node} node  node to check
   */
  containsNode(e) {
    return this.nodes.wrapper.contains(e);
  }
  /**
   * Removes UI and its components
   */
  destroy() {
    this.flipper && (this.flipper.deactivate(), this.flipper = null), this.removeAllNodes(), this.tooltip.destroy();
  }
  /**
   * Making DOM
   */
  make() {
    this.nodes.wrapper = d.make("div", [
      this.CSS.inlineToolbar,
      ...this.isRtl ? [this.Editor.UI.CSS.editorRtlFix] : []
    ]), this.nodes.togglerAndButtonsWrapper = d.make("div", this.CSS.togglerAndButtonsWrapper), this.nodes.buttons = d.make("div", this.CSS.buttonsWrapper), this.nodes.actions = d.make("div", this.CSS.actionsWrapper), this.listeners.on(this.nodes.wrapper, "mousedown", (e) => {
      e.target.closest(`.${this.CSS.actionsWrapper}`) || e.preventDefault();
    }), d.append(this.nodes.wrapper, [this.nodes.togglerAndButtonsWrapper, this.nodes.actions]), d.append(this.Editor.UI.nodes.wrapper, this.nodes.wrapper), this.addConversionToggler(), d.append(this.nodes.togglerAndButtonsWrapper, this.nodes.buttons), this.prepareConversionToolbar(), window.requestAnimationFrame(() => {
      this.recalculateWidth();
    }), this.enableFlipper();
  }
  /**
   * Need to show Inline Toolbar or not
   */
  allowedToShow() {
    const e = ["IMG", "INPUT"], t = m.get(), o = m.text;
    if (!t || !t.anchorNode || t.isCollapsed || o.length < 1)
      return false;
    const i = d.isElement(t.anchorNode) ? t.anchorNode : t.anchorNode.parentElement;
    if (t && e.includes(i.tagName) || i.closest('[contenteditable="true"]') === null)
      return false;
    const r = this.Editor.BlockManager.getBlock(t.anchorNode);
    return r ? r.tool.inlineTools.size !== 0 : false;
  }
  /**
   * Recalculate inline toolbar width
   */
  recalculateWidth() {
    this.width = this.nodes.wrapper.offsetWidth;
  }
  /**
   * Create a toggler for Conversion Dropdown
   * and prepend it to the buttons list
   */
  addConversionToggler() {
    this.nodes.conversionToggler = d.make("div", this.CSS.conversionToggler), this.nodes.conversionTogglerContent = d.make("div", this.CSS.conversionTogglerContent);
    const e = d.make("div", this.CSS.conversionTogglerArrow, {
      innerHTML: ft
    });
    this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent), this.nodes.conversionToggler.appendChild(e), this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler), this.listeners.on(this.nodes.conversionToggler, "click", () => {
      this.Editor.ConversionToolbar.toggle((t) => {
        !t && this.opened ? this.flipper.activate() : this.opened && this.flipper.deactivate();
      });
    }), te() === false && this.tooltip.onHover(this.nodes.conversionToggler, $.ui(X.ui.inlineToolbar.converter, "Convert to"), {
      placement: "top",
      hidingDelay: 100
    });
  }
  /**
   * Changes Conversion Dropdown content for current block's Tool
   */
  setConversionTogglerContent() {
    return __async(this, null, function* () {
      const { BlockManager: e } = this.Editor, { currentBlock: t } = e, o = t.name, i = t.tool.conversionConfig, n = i && i.export;
      this.nodes.conversionToggler.hidden = !n, this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden, !n);
      const r = (yield t.getActiveToolboxEntry()) || {};
      this.nodes.conversionTogglerContent.innerHTML = r.icon || r.title || ae(o);
    });
  }
  /**
   * Makes the Conversion Dropdown
   */
  prepareConversionToolbar() {
    const e = this.Editor.ConversionToolbar.make();
    d.append(this.nodes.wrapper, e);
  }
  /**
   *  Working with Tools
   *  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
   */
  /**
   * Append only allowed Tools
   */
  addToolsFiltered() {
    const e = m.get(), t = this.Editor.BlockManager.getBlock(e.anchorNode);
    this.nodes.buttons.innerHTML = "", this.nodes.actions.innerHTML = "", this.toolsInstances = /* @__PURE__ */ new Map(), Array.from(t.tool.inlineTools.values()).forEach((o) => {
      this.addTool(o);
    }), this.recalculateWidth();
  }
  /**
   * Add tool button and activate clicks
   *
   * @param {InlineTool} tool - InlineTool object
   */
  addTool(e) {
    const t = e.create(), o = t.render();
    if (!o) {
      L("Render method must return an instance of Node", "warn", e.name);
      return;
    }
    if (o.dataset.tool = e.name, this.nodes.buttons.appendChild(o), this.toolsInstances.set(e.name, t), D(t.renderActions)) {
      const a = t.renderActions();
      this.nodes.actions.appendChild(a);
    }
    this.listeners.on(o, "click", (a) => {
      this.toolClicked(t), a.preventDefault();
    });
    const i = this.getToolShortcut(e.name);
    if (i)
      try {
        this.enableShortcuts(t, i);
      } catch (e2) {
      }
    const n = d.make("div"), r = $.t(
      X.toolNames,
      e.title || ae(e.name)
    );
    n.appendChild(d.text(r)), i && n.appendChild(d.make("div", this.CSS.inlineToolbarShortcut, {
      textContent: Re(i)
    })), te() === false && this.tooltip.onHover(o, n, {
      placement: "top",
      hidingDelay: 100
    }), t.checkState(m.get());
  }
  /**
   * Get shortcut name for tool
   *
   * @param toolName  Tool name
   */
  getToolShortcut(e) {
    const { Tools: t } = this.Editor, o = t.inlineTools.get(e), i = t.internal.inlineTools;
    return Array.from(i.keys()).includes(e) ? this.inlineTools[e][vt.Shortcut] : o.shortcut;
  }
  /**
   * Enable Tool shortcut with Editor Shortcuts Module
   *
   * @param {InlineTool} tool - Tool instance
   * @param {string} shortcut - shortcut according to the ShortcutData Module format
   */
  enableShortcuts(e, t) {
    le.add({
      name: t,
      handler: (o) => {
        const { currentBlock: i } = this.Editor.BlockManager;
        i && i.tool.enabledInlineTools && (o.preventDefault(), this.toolClicked(e));
      },
      on: this.Editor.UI.nodes.redactor
    });
  }
  /**
   * Inline Tool button clicks
   *
   * @param {InlineTool} tool - Tool's instance
   */
  toolClicked(e) {
    const t = m.range;
    e.surround(t), this.checkToolsState(), e.renderActions !== void 0 && this.flipper.deactivate();
  }
  /**
   * Check Tools` state by selection
   */
  checkToolsState() {
    this.toolsInstances.forEach((e) => {
      e.checkState(m.get());
    });
  }
  /**
   * Get inline tools tools
   * Tools that has isInline is true
   */
  get inlineTools() {
    const e = {};
    return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([t, o]) => {
      e[t] = o.create();
    }), e;
  }
  /**
   * Allow to leaf buttons by arrows / tab
   * Buttons will be filled on opening
   */
  enableFlipper() {
    this.flipper = new G({
      focusedItemClass: this.CSS.focusedButton,
      allowedKeys: [
        B.ENTER,
        B.TAB
      ]
    });
  }
}
class Vo extends C {
  /**
   * All keydowns on Block
   *
   * @param {KeyboardEvent} event - keydown
   */
  keydown(e) {
    switch (this.beforeKeydownProcessing(e), e.keyCode) {
      case B.BACKSPACE:
        this.backspace(e);
        break;
      case B.DELETE:
        this.delete(e);
        break;
      case B.ENTER:
        this.enter(e);
        break;
      case B.DOWN:
      case B.RIGHT:
        this.arrowRightAndDown(e);
        break;
      case B.UP:
      case B.LEFT:
        this.arrowLeftAndUp(e);
        break;
      case B.TAB:
        this.tabPressed(e);
        break;
    }
  }
  /**
   * Fires on keydown before event processing
   *
   * @param {KeyboardEvent} event - keydown
   */
  beforeKeydownProcessing(e) {
    this.needToolbarClosing(e) && nt(e.keyCode) && (this.Editor.Toolbar.close(), this.Editor.ConversionToolbar.close(), e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || (this.Editor.BlockManager.clearFocused(), this.Editor.BlockSelection.clearSelection(e)));
  }
  /**
   * Key up on Block:
   * - shows Inline Toolbar if something selected
   * - shows conversion toolbar with 85% of block selection
   *
   * @param {KeyboardEvent} event - keyup event
   */
  keyup(e) {
    e.shiftKey || this.Editor.UI.checkEmptiness();
  }
  /**
   * Open Toolbox to leaf Tools
   *
   * @param {KeyboardEvent} event - tab keydown event
   */
  tabPressed(e) {
    this.Editor.BlockSelection.clearSelection(e);
    const { BlockManager: t, InlineToolbar: o, ConversionToolbar: i } = this.Editor, n = t.currentBlock;
    if (!n)
      return;
    const r = n.isEmpty, a = n.tool.isDefault && r, l = !r && i.opened, c = !r && !m.isCollapsed && o.opened;
    a ? this.activateToolbox() : !l && !c && this.activateBlockSettings();
  }
  /**
   * Add drop target styles
   *
   * @param {DragEvent} event - drag over event
   */
  dragOver(e) {
    const t = this.Editor.BlockManager.getBlockByChildNode(e.target);
    t.dropTarget = true;
  }
  /**
   * Remove drop target style
   *
   * @param {DragEvent} event - drag leave event
   */
  dragLeave(e) {
    const t = this.Editor.BlockManager.getBlockByChildNode(e.target);
    t.dropTarget = false;
  }
  /**
   * Copying selected blocks
   * Before putting to the clipboard we sanitize all blocks and then copy to the clipboard
   *
   * @param {ClipboardEvent} event - clipboard event
   */
  handleCommandC(e) {
    const { BlockSelection: t } = this.Editor;
    t.anyBlockSelected && t.copySelectedBlocks(e);
  }
  /**
   * Copy and Delete selected Blocks
   *
   * @param {ClipboardEvent} event - clipboard event
   */
  handleCommandX(e) {
    const { BlockSelection: t, BlockManager: o, Caret: i } = this.Editor;
    t.anyBlockSelected && t.copySelectedBlocks(e).then(() => {
      const n = o.removeSelectedBlocks(), r = o.insertDefaultBlockAtIndex(n, true);
      i.setToBlock(r, i.positions.START), t.clearSelection(e);
    });
  }
  /**
   * ENTER pressed on block
   *
   * @param {KeyboardEvent} event - keydown
   */
  enter(e) {
    const { BlockManager: t, UI: o } = this.Editor;
    if (t.currentBlock.tool.isLineBreaksEnabled || o.someToolbarOpened && o.someFlipperButtonFocused || e.shiftKey)
      return;
    let n = this.Editor.BlockManager.currentBlock;
    this.Editor.Caret.isAtStart && !this.Editor.BlockManager.currentBlock.hasMedia ? this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex) : this.Editor.Caret.isAtEnd ? n = this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex + 1) : n = this.Editor.BlockManager.split(), this.Editor.Caret.setToBlock(n), this.Editor.Toolbar.moveAndOpen(n), e.preventDefault();
  }
  /**
   * Handle backspace keydown on Block
   *
   * @param {KeyboardEvent} event - keydown
   */
  backspace(e) {
    const { BlockManager: t, Caret: o } = this.Editor, { currentBlock: i, previousBlock: n } = t;
    if (!m.isCollapsed || !o.isAtStart)
      return;
    if (e.preventDefault(), this.Editor.Toolbar.close(), !(i.currentInput === i.firstInput)) {
      o.navigatePrevious();
      return;
    }
    if (n === null)
      return;
    if (n.isEmpty) {
      t.removeBlock(n);
      return;
    }
    if (i.isEmpty) {
      t.removeBlock(i);
      const l = t.currentBlock;
      o.setToBlock(l, o.positions.END);
      return;
    }
    Je(i, n) ? this.mergeBlocks(n, i) : o.setToBlock(n, o.positions.END);
  }
  /**
   * Handles delete keydown on Block
   * Removes char after the caret.
   * If caret is at the end of the block, merge next block with current
   *
   * @param {KeyboardEvent} event - keydown
   */
  delete(e) {
    const { BlockManager: t, Caret: o } = this.Editor, { currentBlock: i, nextBlock: n } = t;
    if (!m.isCollapsed || !o.isAtEnd)
      return;
    if (e.preventDefault(), this.Editor.Toolbar.close(), !(i.currentInput === i.lastInput)) {
      o.navigateNext();
      return;
    }
    if (n === null)
      return;
    if (n.isEmpty) {
      t.removeBlock(n);
      return;
    }
    if (i.isEmpty) {
      t.removeBlock(i), o.setToBlock(n, o.positions.START);
      return;
    }
    Je(i, n) ? this.mergeBlocks(i, n) : o.setToBlock(n, o.positions.START);
  }
  /**
   * Merge passed Blocks
   *
   * @param targetBlock - to which Block we want to merge
   * @param blockToMerge - what Block we want to merge
   */
  mergeBlocks(e, t) {
    const { BlockManager: o, Caret: i, Toolbar: n } = this.Editor;
    i.createShadow(e.pluginsContent), o.mergeBlocks(e, t).then(() => {
      window.requestAnimationFrame(() => {
        i.restoreCaret(e.pluginsContent), e.pluginsContent.normalize(), n.close();
      });
    });
  }
  /**
   * Handle right and down keyboard keys
   *
   * @param {KeyboardEvent} event - keyboard event
   */
  arrowRightAndDown(e) {
    const t = G.usedKeys.includes(e.keyCode) && (!e.shiftKey || e.keyCode === B.TAB);
    if (this.Editor.UI.someToolbarOpened && t)
      return;
    this.Editor.BlockManager.clearFocused(), this.Editor.Toolbar.close();
    const o = this.Editor.Caret.isAtEnd || this.Editor.BlockSelection.anyBlockSelected;
    if (e.shiftKey && e.keyCode === B.DOWN && o) {
      this.Editor.CrossBlockSelection.toggleBlockSelectedState();
      return;
    }
    (e.keyCode === B.DOWN || e.keyCode === B.RIGHT && !this.isRtl ? this.Editor.Caret.navigateNext() : this.Editor.Caret.navigatePrevious()) ? e.preventDefault() : re(() => {
      this.Editor.BlockManager.currentBlock && this.Editor.BlockManager.currentBlock.updateCurrentInput();
    }, 20)(), this.Editor.BlockSelection.clearSelection(e);
  }
  /**
   * Handle left and up keyboard keys
   *
   * @param {KeyboardEvent} event - keyboard event
   */
  arrowLeftAndUp(e) {
    if (this.Editor.UI.someToolbarOpened) {
      if (G.usedKeys.includes(e.keyCode) && (!e.shiftKey || e.keyCode === B.TAB))
        return;
      this.Editor.UI.closeAllToolbars();
    }
    this.Editor.BlockManager.clearFocused(), this.Editor.Toolbar.close();
    const t = this.Editor.Caret.isAtStart || this.Editor.BlockSelection.anyBlockSelected;
    if (e.shiftKey && e.keyCode === B.UP && t) {
      this.Editor.CrossBlockSelection.toggleBlockSelectedState(false);
      return;
    }
    (e.keyCode === B.UP || e.keyCode === B.LEFT && !this.isRtl ? this.Editor.Caret.navigatePrevious() : this.Editor.Caret.navigateNext()) ? e.preventDefault() : re(() => {
      this.Editor.BlockManager.currentBlock && this.Editor.BlockManager.currentBlock.updateCurrentInput();
    }, 20)(), this.Editor.BlockSelection.clearSelection(e);
  }
  /**
   * Cases when we need to close Toolbar
   *
   * @param {KeyboardEvent} event - keyboard event
   */
  needToolbarClosing(e) {
    const t = e.keyCode === B.ENTER && this.Editor.Toolbar.toolbox.opened, o = e.keyCode === B.ENTER && this.Editor.BlockSettings.opened, i = e.keyCode === B.ENTER && this.Editor.InlineToolbar.opened, n = e.keyCode === B.ENTER && this.Editor.ConversionToolbar.opened, r = e.keyCode === B.TAB;
    return !(e.shiftKey || r || t || o || i || n);
  }
  /**
   * If Toolbox is not open, then just open it and show plus button
   */
  activateToolbox() {
    this.Editor.Toolbar.opened || this.Editor.Toolbar.moveAndOpen(), this.Editor.Toolbar.toolbox.open();
  }
  /**
   * Open Toolbar and show BlockSettings before flipping Tools
   */
  activateBlockSettings() {
    this.Editor.Toolbar.opened || (this.Editor.BlockManager.currentBlock.focused = true, this.Editor.Toolbar.moveAndOpen()), this.Editor.BlockSettings.opened || this.Editor.BlockSettings.open();
  }
}
class Te {
  /**
   * @class
   * @param {HTMLElement} workingArea  editor`s working node
   */
  constructor(e) {
    this.blocks = [], this.workingArea = e;
  }
  /**
   * Get length of Block instances array
   *
   * @returns {number}
   */
  get length() {
    return this.blocks.length;
  }
  /**
   * Get Block instances array
   *
   * @returns {Block[]}
   */
  get array() {
    return this.blocks;
  }
  /**
   * Get blocks html elements array
   *
   * @returns {HTMLElement[]}
   */
  get nodes() {
    return st(this.workingArea.children);
  }
  /**
   * Proxy trap to implement array-like setter
   *
   * @example
   * blocks[0] = new Block(...)
   * @param {Blocks} instance  Blocks instance
   * @param {PropertyKey} property  block index or any Blocks class property key to set
   * @param {Block} value  value to set
   * @returns {boolean}
   */
  static set(e, t, o) {
    return isNaN(Number(t)) ? (Reflect.set(e, t, o), true) : (e.insert(+t, o), true);
  }
  /**
   * Proxy trap to implement array-like getter
   *
   * @param {Blocks} instance  Blocks instance
   * @param {PropertyKey} property  Blocks class property key
   * @returns {Block|*}
   */
  static get(e, t) {
    return isNaN(Number(t)) ? Reflect.get(e, t) : e.get(+t);
  }
  /**
   * Push new Block to the blocks array and append it to working area
   *
   * @param {Block} block - Block to add
   */
  push(e) {
    this.blocks.push(e), this.insertToDOM(e);
  }
  /**
   * Swaps blocks with indexes first and second
   *
   * @param {number} first - first block index
   * @param {number} second - second block index
   * @deprecated  use 'move' instead
   */
  swap(e, t) {
    const o = this.blocks[t];
    d.swap(this.blocks[e].holder, o.holder), this.blocks[t] = this.blocks[e], this.blocks[e] = o;
  }
  /**
   * Move a block from one to another index
   *
   * @param {number} toIndex - new index of the block
   * @param {number} fromIndex - block to move
   */
  move(e, t) {
    const o = this.blocks.splice(t, 1)[0], i = e - 1, n = Math.max(0, i), r = this.blocks[n];
    e > 0 ? this.insertToDOM(o, "afterend", r) : this.insertToDOM(o, "beforebegin", r), this.blocks.splice(e, 0, o);
    const a = this.composeBlockEvent("move", {
      fromIndex: t,
      toIndex: e
    });
    o.call(q.MOVED, a);
  }
  /**
   * Insert new Block at passed index
   *
   * @param {number} index  index to insert Block
   * @param {Block} block  Block to insert
   * @param {boolean} replace  it true, replace block on given index
   */
  insert(e, t, o = false) {
    if (!this.length) {
      this.push(t);
      return;
    }
    e > this.length && (e = this.length), o && (this.blocks[e].holder.remove(), this.blocks[e].call(q.REMOVED));
    const i = o ? 1 : 0;
    if (this.blocks.splice(e, i, t), e > 0) {
      const n = this.blocks[e - 1];
      this.insertToDOM(t, "afterend", n);
    } else {
      const n = this.blocks[e + 1];
      n ? this.insertToDOM(t, "beforebegin", n) : this.insertToDOM(t);
    }
  }
  /**
   * Replaces block under passed index with passed block
   *
   * @param index - index of existed block
   * @param block - new block
   */
  replace(e, t) {
    if (this.blocks[e] === void 0)
      throw Error("Incorrect index");
    this.blocks[e].holder.replaceWith(t.holder), this.blocks[e] = t;
  }
  /**
   * Inserts several blocks at once
   *
   * @param blocks - blocks to insert
   * @param index - index to insert blocks at
   */
  insertMany(e, t) {
    const o = new DocumentFragment();
    for (const i of e)
      o.appendChild(i.holder);
    if (this.length > 0) {
      if (t > 0) {
        const i = Math.min(t - 1, this.length - 1);
        this.blocks[i].holder.after(o);
      } else
        t === 0 && this.workingArea.prepend(o);
      this.blocks.splice(t, 0, ...e);
    } else
      this.blocks.push(...e), this.workingArea.appendChild(o);
    e.forEach((i) => i.call(q.RENDERED));
  }
  /**
   * Remove block
   *
   * @param {number} index - index of Block to remove
   */
  remove(e) {
    isNaN(e) && (e = this.length - 1), this.blocks[e].holder.remove(), this.blocks[e].call(q.REMOVED), this.blocks.splice(e, 1);
  }
  /**
   * Remove all blocks
   */
  removeAll() {
    this.workingArea.innerHTML = "", this.blocks.forEach((e) => e.call(q.REMOVED)), this.blocks.length = 0;
  }
  /**
   * Insert Block after passed target
   *
   * @todo decide if this method is necessary
   * @param {Block} targetBlock  target after which Block should be inserted
   * @param {Block} newBlock  Block to insert
   */
  insertAfter(e, t) {
    const o = this.blocks.indexOf(e);
    this.insert(o + 1, t);
  }
  /**
   * Get Block by index
   *
   * @param {number} index  Block index
   * @returns {Block}
   */
  get(e) {
    return this.blocks[e];
  }
  /**
   * Return index of passed Block
   *
   * @param {Block} block - Block to find
   * @returns {number}
   */
  indexOf(e) {
    return this.blocks.indexOf(e);
  }
  /**
   * Insert new Block into DOM
   *
   * @param {Block} block - Block to insert
   * @param {InsertPosition} position  insert position (if set, will use insertAdjacentElement)
   * @param {Block} target  Block related to position
   */
  insertToDOM(e, t, o) {
    t ? o.holder.insertAdjacentElement(t, e.holder) : this.workingArea.appendChild(e.holder), e.call(q.RENDERED);
  }
  /**
   * Composes Block event with passed type and details
   *
   * @param {string} type - event type
   * @param {object} detail - event detail
   */
  composeBlockEvent(e, t) {
    return new CustomEvent(e, {
      detail: t
    });
  }
}
const et = "block-removed", tt = "block-added", qo = "block-moved", ot = "block-changed";
class Zo {
  constructor() {
    this.completed = Promise.resolve();
  }
  /**
   * Add new promise to queue
   *
   * @param operation - promise should be added to queue
   */
  add(e) {
    return new Promise((t, o) => {
      this.completed = this.completed.then(e).then(t).catch(o);
    });
  }
}
class Go extends C {
  constructor() {
    super(...arguments), this._currentBlockIndex = -1, this._blocks = null;
  }
  /**
   * Returns current Block index
   *
   * @returns {number}
   */
  get currentBlockIndex() {
    return this._currentBlockIndex;
  }
  /**
   * Set current Block index and fire Block lifecycle callbacks
   *
   * @param {number} newIndex - index of Block to set as current
   */
  set currentBlockIndex(e) {
    this._currentBlockIndex = e;
  }
  /**
   * returns first Block
   *
   * @returns {Block}
   */
  get firstBlock() {
    return this._blocks[0];
  }
  /**
   * returns last Block
   *
   * @returns {Block}
   */
  get lastBlock() {
    return this._blocks[this._blocks.length - 1];
  }
  /**
   * Get current Block instance
   *
   * @returns {Block}
   */
  get currentBlock() {
    return this._blocks[this.currentBlockIndex];
  }
  /**
   * Set passed Block as a current
   *
   * @param block - block to set as a current
   */
  set currentBlock(e) {
    this.currentBlockIndex = this.getBlockIndex(e);
  }
  /**
   * Returns next Block instance
   *
   * @returns {Block|null}
   */
  get nextBlock() {
    return this.currentBlockIndex === this._blocks.length - 1 ? null : this._blocks[this.currentBlockIndex + 1];
  }
  /**
   * Return first Block with inputs after current Block
   *
   * @returns {Block | undefined}
   */
  get nextContentfulBlock() {
    return this.blocks.slice(this.currentBlockIndex + 1).find((t) => !!t.inputs.length);
  }
  /**
   * Return first Block with inputs before current Block
   *
   * @returns {Block | undefined}
   */
  get previousContentfulBlock() {
    return this.blocks.slice(0, this.currentBlockIndex).reverse().find((t) => !!t.inputs.length);
  }
  /**
   * Returns previous Block instance
   *
   * @returns {Block|null}
   */
  get previousBlock() {
    return this.currentBlockIndex === 0 ? null : this._blocks[this.currentBlockIndex - 1];
  }
  /**
   * Get array of Block instances
   *
   * @returns {Block[]} {@link Blocks#array}
   */
  get blocks() {
    return this._blocks.array;
  }
  /**
   * Check if each Block is empty
   *
   * @returns {boolean}
   */
  get isEditorEmpty() {
    return this.blocks.every((e) => e.isEmpty);
  }
  /**
   * Should be called after Editor.UI preparation
   * Define this._blocks property
   */
  prepare() {
    const e = new Te(this.Editor.UI.nodes.redactor);
    this._blocks = new Proxy(e, {
      set: Te.set,
      get: Te.get
    }), this.listeners.on(
      document,
      "copy",
      (t) => this.Editor.BlockEvents.handleCommandC(t)
    );
  }
  /**
   * Toggle read-only state
   *
   * If readOnly is true:
   *  - Unbind event handlers from created Blocks
   *
   * if readOnly is false:
   *  - Bind event handlers to all existing Blocks
   *
   * @param {boolean} readOnlyEnabled - "read only" state
   */
  toggleReadOnly(e) {
    e ? this.disableModuleBindings() : this.enableModuleBindings();
  }
  /**
   * Creates Block instance by tool name
   *
   * @param {object} options - block creation options
   * @param {string} options.tool - tools passed in editor config {@link EditorConfig#tools}
   * @param {string} [options.id] - unique id for this block
   * @param {BlockToolData} [options.data] - constructor params
   * @returns {Block}
   */
  composeBlock({
    tool: e,
    data: t = {},
    id: o = void 0,
    tunes: i = {}
  }) {
    const n = this.Editor.ReadOnly.isEnabled, r = this.Editor.Tools.blockTools.get(e), a = new F({
      id: o,
      data: t,
      tool: r,
      api: this.Editor.API,
      readOnly: n,
      tunesData: i
    }, this.eventsDispatcher);
    return n || window.requestIdleCallback(() => {
      this.bindBlockEvents(a);
    }, { timeout: 2e3 }), a;
  }
  /**
   * Insert new block into _blocks
   *
   * @param {object} options - insert options
   * @param {string} [options.id] - block's unique id
   * @param {string} [options.tool] - plugin name, by default method inserts the default block type
   * @param {object} [options.data] - plugin data
   * @param {number} [options.index] - index where to insert new Block
   * @param {boolean} [options.needToFocus] - flag shows if needed to update current Block index
   * @param {boolean} [options.replace] - flag shows if block by passed index should be replaced with inserted one
   * @returns {Block}
   */
  insert({
    id: e = void 0,
    tool: t = this.config.defaultBlock,
    data: o = {},
    index: i,
    needToFocus: n = true,
    replace: r = false,
    tunes: a = {}
  } = {}) {
    let l = i;
    l === void 0 && (l = this.currentBlockIndex + (r ? 0 : 1));
    const c = this.composeBlock({
      id: e,
      tool: t,
      data: o,
      tunes: a
    });
    return r && this.blockDidMutated(et, this.getBlockByIndex(l), {
      index: l
    }), this._blocks.insert(l, c, r), this.blockDidMutated(tt, c, {
      index: l
    }), n ? this.currentBlockIndex = l : l <= this.currentBlockIndex && this.currentBlockIndex++, c;
  }
  /**
   * Inserts several blocks at once
   *
   * @param blocks - blocks to insert
   * @param index - index where to insert
   */
  insertMany(e, t = 0) {
    this._blocks.insertMany(e, t);
  }
  /**
   * Update Block data.
   *
   * Currently we don't have an 'update' method in the Tools API, so we just create a new block with the same id and type
   * Should not trigger 'block-removed' or 'block-added' events
   *
   * @param block - block to update
   * @param data - new data
   */
  update(e, t) {
    return __async(this, null, function* () {
      const o = yield e.data, i = this.composeBlock({
        id: e.id,
        tool: e.name,
        data: Object.assign({}, o, t),
        tunes: e.tunes
      }), n = this.getBlockIndex(e);
      return this._blocks.replace(n, i), this.blockDidMutated(ot, i, {
        index: n
      }), i;
    });
  }
  /**
   * Replace passed Block with the new one with specified Tool and data
   *
   * @param block - block to replace
   * @param newTool - new Tool name
   * @param data - new Tool data
   */
  replace(e, t, o) {
    const i = this.getBlockIndex(e);
    this.insert({
      tool: t,
      data: o,
      index: i,
      replace: true
    });
  }
  /**
   * Insert pasted content. Call onPaste callback after insert.
   *
   * @param {string} toolName - name of Tool to insert
   * @param {PasteEvent} pasteEvent - pasted data
   * @param {boolean} replace - should replace current block
   */
  paste(e, t, o = false) {
    const i = this.insert({
      tool: e,
      replace: o
    });
    try {
      window.requestIdleCallback(() => {
        i.call(q.ON_PASTE, t);
      });
    } catch (n) {
      L(`${e}: onPaste callback call is failed`, "error", n);
    }
    return i;
  }
  /**
   * Insert new default block at passed index
   *
   * @param {number} index - index where Block should be inserted
   * @param {boolean} needToFocus - if true, updates current Block index
   *
   * TODO: Remove method and use insert() with index instead (?)
   * @returns {Block} inserted Block
   */
  insertDefaultBlockAtIndex(e, t = false) {
    const o = this.composeBlock({ tool: this.config.defaultBlock });
    return this._blocks[e] = o, this.blockDidMutated(tt, o, {
      index: e
    }), t ? this.currentBlockIndex = e : e <= this.currentBlockIndex && this.currentBlockIndex++, o;
  }
  /**
   * Always inserts at the end
   *
   * @returns {Block}
   */
  insertAtEnd() {
    return this.currentBlockIndex = this.blocks.length - 1, this.insert();
  }
  /**
   * Merge two blocks
   *
   * @param {Block} targetBlock - previous block will be append to this block
   * @param {Block} blockToMerge - block that will be merged with target block
   * @returns {Promise} - the sequence that can be continued
   */
  mergeBlocks(e, t) {
    return __async(this, null, function* () {
      const o = yield t.data;
      V(o) || (yield e.mergeWith(o)), this.removeBlock(t), this.currentBlockIndex = this._blocks.indexOf(e);
    });
  }
  /**
   * Remove passed Block
   *
   * @param block - Block to remove
   * @param addLastBlock - if true, adds new default block at the end. @todo remove this logic and use event-bus instead
   */
  removeBlock(e, t = true) {
    return new Promise((o) => {
      const i = this._blocks.indexOf(e);
      if (!this.validateIndex(i))
        throw new Error("Can't find a Block to remove");
      e.destroy(), this._blocks.remove(i), this.blockDidMutated(et, e, {
        index: i
      }), this.currentBlockIndex >= i && this.currentBlockIndex--, this.blocks.length ? i === 0 && (this.currentBlockIndex = 0) : (this.currentBlockIndex = -1, t && this.insert()), o();
    });
  }
  /**
   * Remove only selected Blocks
   * and returns first Block index where started removing...
   *
   * @returns {number|undefined}
   */
  removeSelectedBlocks() {
    let e;
    for (let t = this.blocks.length - 1; t >= 0; t--)
      this.blocks[t].selected && (this.removeBlock(this.blocks[t]), e = t);
    return e;
  }
  /**
   * Attention!
   * After removing insert the new default typed Block and focus on it
   * Removes all blocks
   */
  removeAllBlocks() {
    for (let e = this.blocks.length - 1; e >= 0; e--)
      this._blocks.remove(e);
    this.currentBlockIndex = -1, this.insert(), this.currentBlock.firstInput.focus();
  }
  /**
   * Split current Block
   * 1. Extract content from Caret position to the Block`s end
   * 2. Insert a new Block below current one with extracted content
   *
   * @returns {Block}
   */
  split() {
    const e = this.Editor.Caret.extractFragmentFromCaretPosition(), t = d.make("div");
    t.appendChild(e);
    const o = {
      text: d.isEmpty(t) ? "" : t.innerHTML
    };
    return this.insert({ data: o });
  }
  /**
   * Returns Block by passed index
   *
   * @param {number} index - index to get. -1 to get last
   * @returns {Block}
   */
  getBlockByIndex(e) {
    return e === -1 && (e = this._blocks.length - 1), this._blocks[e];
  }
  /**
   * Returns an index for passed Block
   *
   * @param block - block to find index
   */
  getBlockIndex(e) {
    return this._blocks.indexOf(e);
  }
  /**
   * Returns the Block by passed id
   *
   * @param id - id of block to get
   * @returns {Block}
   */
  getBlockById(e) {
    return this._blocks.array.find((t) => t.id === e);
  }
  /**
   * Get Block instance by html element
   *
   * @param {Node} element - html element to get Block by
   */
  getBlock(e) {
    d.isElement(e) || (e = e.parentNode);
    const t = this._blocks.nodes, o = e.closest(`.${F.CSS.wrapper}`), i = t.indexOf(o);
    if (i >= 0)
      return this._blocks[i];
  }
  /**
   * Remove selection from all Blocks then highlight only Current Block
   */
  highlightCurrentNode() {
    this.clearFocused(), this.currentBlock.focused = true;
  }
  /**
   * Remove selection from all Blocks
   */
  clearFocused() {
    this.blocks.forEach((e) => {
      e.focused = false;
    });
  }
  /**
   * 1) Find first-level Block from passed child Node
   * 2) Mark it as current
   *
   * @param {Node} childNode - look ahead from this node.
   * @returns {Block | undefined} can return undefined in case when the passed child note is not a part of the current editor instance
   */
  setCurrentBlockByChildNode(e) {
    d.isElement(e) || (e = e.parentNode);
    const t = e.closest(`.${F.CSS.wrapper}`);
    if (!t)
      return;
    const o = t.closest(`.${this.Editor.UI.CSS.editorWrapper}`);
    if (o != null && o.isEqualNode(this.Editor.UI.nodes.wrapper))
      return this.currentBlockIndex = this._blocks.nodes.indexOf(t), this.currentBlock.updateCurrentInput(), this.currentBlock;
  }
  /**
   * Return block which contents passed node
   *
   * @param {Node} childNode - node to get Block by
   * @returns {Block}
   */
  getBlockByChildNode(e) {
    d.isElement(e) || (e = e.parentNode);
    const t = e.closest(`.${F.CSS.wrapper}`);
    return this.blocks.find((o) => o.holder === t);
  }
  /**
   * Swap Blocks Position
   *
   * @param {number} fromIndex - index of first block
   * @param {number} toIndex - index of second block
   * @deprecated  use 'move' instead
   */
  swap(e, t) {
    this._blocks.swap(e, t), this.currentBlockIndex = t;
  }
  /**
   * Move a block to a new index
   *
   * @param {number} toIndex - index where to move Block
   * @param {number} fromIndex - index of Block to move
   */
  move(e, t = this.currentBlockIndex) {
    if (isNaN(e) || isNaN(t)) {
      L("Warning during 'move' call: incorrect indices provided.", "warn");
      return;
    }
    if (!this.validateIndex(e) || !this.validateIndex(t)) {
      L("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.", "warn");
      return;
    }
    this._blocks.move(e, t), this.currentBlockIndex = e, this.blockDidMutated(qo, this.currentBlock, {
      fromIndex: t,
      toIndex: e
    });
  }
  /**
   * Converts passed Block to the new Tool
   * Uses Conversion Config
   *
   * @param blockToConvert - Block that should be converted
   * @param targetToolName - name of the Tool to convert to
   * @param blockDataOverrides - optional new Block data overrides
   */
  convert(e, t, o) {
    return __async(this, null, function* () {
      if (!(yield e.save()))
        throw new Error("Could not convert Block. Failed to extract original Block data.");
      const n = this.Editor.Tools.blockTools.get(t);
      if (!n)
        throw new Error(`Could not convert Block. Tool \xAB${t}\xBB not found.`);
      const r = yield e.exportDataAsString(), a = Z(
        r,
        n.sanitizeConfig
      );
      let l = Jt(a, n.conversionConfig);
      o && (l = Object.assign(l, o)), this.replace(e, n.name, l);
    });
  }
  /**
   * Sets current Block Index -1 which means unknown
   * and clear highlights
   */
  dropPointer() {
    this.currentBlockIndex = -1, this.clearFocused();
  }
  /**
   * Clears Editor
   *
   * @param {boolean} needToAddDefaultBlock - 1) in internal calls (for example, in api.blocks.render)
   *                                             we don't need to add an empty default block
   *                                        2) in api.blocks.clear we should add empty block
   */
  clear(e = false) {
    return __async(this, null, function* () {
      const t = new Zo();
      this.blocks.forEach((o) => {
        t.add(() => __async(this, null, function* () {
          yield this.removeBlock(o, false);
        }));
      }), yield t.completed, this.dropPointer(), e && this.insert(), this.Editor.UI.checkEmptiness();
    });
  }
  /**
   * Cleans up all the block tools' resources
   * This is called when editor is destroyed
   */
  destroy() {
    return __async(this, null, function* () {
      yield Promise.all(this.blocks.map((e) => e.destroy()));
    });
  }
  /**
   * Bind Block events
   *
   * @param {Block} block - Block to which event should be bound
   */
  bindBlockEvents(e) {
    const { BlockEvents: t } = this.Editor;
    this.readOnlyMutableListeners.on(e.holder, "keydown", (o) => {
      t.keydown(o);
    }), this.readOnlyMutableListeners.on(e.holder, "keyup", (o) => {
      t.keyup(o);
    }), this.readOnlyMutableListeners.on(e.holder, "dragover", (o) => {
      t.dragOver(o);
    }), this.readOnlyMutableListeners.on(e.holder, "dragleave", (o) => {
      t.dragLeave(o);
    }), e.on("didMutated", (o) => this.blockDidMutated(ot, o, {
      index: this.getBlockIndex(o)
    }));
  }
  /**
   * Disable mutable handlers and bindings
   */
  disableModuleBindings() {
    this.readOnlyMutableListeners.clearAll();
  }
  /**
   * Enables all module handlers and bindings for all Blocks
   */
  enableModuleBindings() {
    this.readOnlyMutableListeners.on(
      document,
      "cut",
      (e) => this.Editor.BlockEvents.handleCommandX(e)
    ), this.blocks.forEach((e) => {
      this.bindBlockEvents(e);
    });
  }
  /**
   * Validates that the given index is not lower than 0 or higher than the amount of blocks
   *
   * @param {number} index - index of blocks array to validate
   * @returns {boolean}
   */
  validateIndex(e) {
    return !(e < 0 || e >= this._blocks.length);
  }
  /**
   * Block mutation callback
   *
   * @param mutationType - what happened with block
   * @param block - mutated block
   * @param detailData - additional data to pass with change event
   */
  blockDidMutated(e, t, o) {
    const i = new CustomEvent(e, {
      detail: __spreadValues({
        target: new ee(t)
      }, o)
    });
    return this.eventsDispatcher.emit(ct, {
      event: i
    }), t;
  }
}
class Jo extends C {
  constructor() {
    super(...arguments), this.anyBlockSelectedCache = null, this.needToSelectAll = false, this.nativeInputSelected = false, this.readyToBlockSelection = false;
  }
  /**
   * Sanitizer Config
   *
   * @returns {SanitizerConfig}
   */
  get sanitizerConfig() {
    return {
      p: {},
      h1: {},
      h2: {},
      h3: {},
      h4: {},
      h5: {},
      h6: {},
      ol: {},
      ul: {},
      li: {},
      br: true,
      img: {
        src: true,
        width: true,
        height: true
      },
      a: {
        href: true
      },
      b: {},
      i: {},
      u: {}
    };
  }
  /**
   * Flag that identifies all Blocks selection
   *
   * @returns {boolean}
   */
  get allBlocksSelected() {
    const { BlockManager: e } = this.Editor;
    return e.blocks.every((t) => t.selected === true);
  }
  /**
   * Set selected all blocks
   *
   * @param {boolean} state - state to set
   */
  set allBlocksSelected(e) {
    const { BlockManager: t } = this.Editor;
    t.blocks.forEach((o) => {
      o.selected = e;
    }), this.clearCache();
  }
  /**
   * Flag that identifies any Block selection
   *
   * @returns {boolean}
   */
  get anyBlockSelected() {
    const { BlockManager: e } = this.Editor;
    return this.anyBlockSelectedCache === null && (this.anyBlockSelectedCache = e.blocks.some((t) => t.selected === true)), this.anyBlockSelectedCache;
  }
  /**
   * Return selected Blocks array
   *
   * @returns {Block[]}
   */
  get selectedBlocks() {
    return this.Editor.BlockManager.blocks.filter((e) => e.selected);
  }
  /**
   * Module Preparation
   * Registers Shortcuts CMD+A and CMD+C
   * to select all and copy them
   */
  prepare() {
    this.selection = new m(), le.add({
      name: "CMD+A",
      handler: (e) => {
        const { BlockManager: t, ReadOnly: o } = this.Editor;
        if (o.isEnabled) {
          e.preventDefault(), this.selectAllBlocks();
          return;
        }
        t.currentBlock && this.handleCommandA(e);
      },
      on: this.Editor.UI.nodes.redactor
    });
  }
  /**
   * Toggle read-only state
   *
   *  - Remove all ranges
   *  - Unselect all Blocks
   */
  toggleReadOnly() {
    m.get().removeAllRanges(), this.allBlocksSelected = false;
  }
  /**
   * Remove selection of Block
   *
   * @param {number?} index - Block index according to the BlockManager's indexes
   */
  unSelectBlockByIndex(e) {
    const { BlockManager: t } = this.Editor;
    let o;
    isNaN(e) ? o = t.currentBlock : o = t.getBlockByIndex(e), o.selected = false, this.clearCache();
  }
  /**
   * Clear selection from Blocks
   *
   * @param {Event} reason - event caused clear of selection
   * @param {boolean} restoreSelection - if true, restore saved selection
   */
  clearSelection(e, t = false) {
    const { BlockManager: o, Caret: i, RectangleSelection: n } = this.Editor;
    this.needToSelectAll = false, this.nativeInputSelected = false, this.readyToBlockSelection = false;
    const r = e && e instanceof KeyboardEvent, a = r && nt(e.keyCode);
    if (this.anyBlockSelected && r && a && !m.isSelectionExists) {
      const l = o.removeSelectedBlocks();
      o.insertDefaultBlockAtIndex(l, true), i.setToBlock(o.currentBlock), re(() => {
        const c = e.key;
        i.insertContentAtCaretPosition(c.length > 1 ? "" : c);
      }, 20)();
    }
    if (this.Editor.CrossBlockSelection.clear(e), !this.anyBlockSelected || n.isRectActivated()) {
      this.Editor.RectangleSelection.clearSelection();
      return;
    }
    t && this.selection.restore(), this.allBlocksSelected = false;
  }
  /**
   * Reduce each Block and copy its content
   *
   * @param {ClipboardEvent} e - copy/cut event
   * @returns {Promise<void>}
   */
  copySelectedBlocks(e) {
    e.preventDefault();
    const t = d.make("div");
    this.selectedBlocks.forEach((n) => {
      const r = Z(n.holder.innerHTML, this.sanitizerConfig), a = d.make("p");
      a.innerHTML = r, t.appendChild(a);
    });
    const o = Array.from(t.childNodes).map((n) => n.textContent).join(`

`), i = t.innerHTML;
    return e.clipboardData.setData("text/plain", o), e.clipboardData.setData("text/html", i), Promise.all(this.selectedBlocks.map((n) => n.save())).then((n) => {
      try {
        e.clipboardData.setData(this.Editor.Paste.MIME_TYPE, JSON.stringify(n));
      } catch (e2) {
      }
    });
  }
  /**
   * select Block
   *
   * @param {number?} index - Block index according to the BlockManager's indexes
   */
  selectBlockByIndex(e) {
    const { BlockManager: t } = this.Editor;
    t.clearFocused();
    let o;
    isNaN(e) ? o = t.currentBlock : o = t.getBlockByIndex(e), this.selection.save(), m.get().removeAllRanges(), o.selected = true, this.clearCache(), this.Editor.InlineToolbar.close();
  }
  /**
   * Clear anyBlockSelected cache
   */
  clearCache() {
    this.anyBlockSelectedCache = null;
  }
  /**
   * Module destruction
   * De-registers Shortcut CMD+A
   */
  destroy() {
    le.remove(this.Editor.UI.nodes.redactor, "CMD+A");
  }
  /**
   * First CMD+A selects all input content by native behaviour,
   * next CMD+A keypress selects all blocks
   *
   * @param {KeyboardEvent} event - keyboard event
   */
  handleCommandA(e) {
    if (this.Editor.RectangleSelection.clearSelection(), d.isNativeInput(e.target) && !this.readyToBlockSelection) {
      this.readyToBlockSelection = true;
      return;
    }
    const o = this.Editor.BlockManager.getBlock(e.target).inputs;
    if (o.length > 1 && !this.readyToBlockSelection) {
      this.readyToBlockSelection = true;
      return;
    }
    if (o.length === 1 && !this.needToSelectAll) {
      this.needToSelectAll = true;
      return;
    }
    this.needToSelectAll ? (e.preventDefault(), this.selectAllBlocks(), this.needToSelectAll = false, this.readyToBlockSelection = false, this.Editor.ConversionToolbar.close()) : this.readyToBlockSelection && (e.preventDefault(), this.selectBlockByIndex(), this.needToSelectAll = true);
  }
  /**
   * Select All Blocks
   * Each Block has selected setter that makes Block copyable
   */
  selectAllBlocks() {
    this.selection.save(), m.get().removeAllRanges(), this.allBlocksSelected = true, this.Editor.InlineToolbar.close();
  }
}
class ve extends C {
  /**
   * Allowed caret positions in input
   *
   * @static
   * @returns {{START: string, END: string, DEFAULT: string}}
   */
  get positions() {
    return {
      START: "start",
      END: "end",
      DEFAULT: "default"
    };
  }
  /**
   * Elements styles that can be useful for Caret Module
   */
  static get CSS() {
    return {
      shadowCaret: "cdx-shadow-caret"
    };
  }
  /**
   * Get's deepest first node and checks if offset is zero
   *
   * @returns {boolean}
   */
  get isAtStart() {
    const e = m.get(), t = d.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput);
    let o = e.focusNode;
    if (d.isNativeInput(t))
      return t.selectionEnd === 0;
    if (!e.anchorNode)
      return false;
    let i = o.textContent.search(/\S/);
    i === -1 && (i = 0);
    let n = e.focusOffset;
    return o.nodeType !== Node.TEXT_NODE && o.childNodes.length && (o.childNodes[n] ? (o = o.childNodes[n], n = 0) : (o = o.childNodes[n - 1], n = o.textContent.length)), (d.isLineBreakTag(t) || d.isEmpty(t)) && this.getHigherLevelSiblings(o, "left").every((l) => {
      const c = d.isLineBreakTag(l), u = l.children.length === 1 && d.isLineBreakTag(l.children[0]), h = c || u;
      return d.isEmpty(l) && !h;
    }) && n === i ? true : t === null || o === t && n <= i;
  }
  /**
   * Get's deepest last node and checks if offset is last node text length
   *
   * @returns {boolean}
   */
  get isAtEnd() {
    const e = m.get();
    let t = e.focusNode;
    const o = d.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput, true);
    if (d.isNativeInput(o))
      return o.selectionEnd === o.value.length;
    if (!e.focusNode)
      return false;
    let i = e.focusOffset;
    if (t.nodeType !== Node.TEXT_NODE && t.childNodes.length && (t.childNodes[i - 1] ? (t = t.childNodes[i - 1], i = t.textContent.length) : (t = t.childNodes[0], i = 0)), d.isLineBreakTag(o) || d.isEmpty(o)) {
      const r = this.getHigherLevelSiblings(t, "right");
      if (r.every((l, c) => c === r.length - 1 && d.isLineBreakTag(l) || d.isEmpty(l) && !d.isLineBreakTag(l)) && i === t.textContent.length)
        return true;
    }
    const n = o.textContent.replace(/\s+$/, "");
    return t === o && i >= n.length;
  }
  /**
   * Method gets Block instance and puts caret to the text node with offset
   * There two ways that method applies caret position:
   *   - first found text node: sets at the beginning, but you can pass an offset
   *   - last found text node: sets at the end of the node. Also, you can customize the behaviour
   *
   * @param {Block} block - Block class
   * @param {string} position - position where to set caret.
   *                            If default - leave default behaviour and apply offset if it's passed
   * @param {number} offset - caret offset regarding to the text node
   */
  setToBlock(e, t = this.positions.DEFAULT, o = 0) {
    const { BlockManager: i } = this.Editor;
    let n;
    switch (t) {
      case this.positions.START:
        n = e.firstInput;
        break;
      case this.positions.END:
        n = e.lastInput;
        break;
      default:
        n = e.currentInput;
    }
    if (!n)
      return;
    const r = d.getDeepestNode(n, t === this.positions.END), a = d.getContentLength(r);
    switch (true) {
      case t === this.positions.START:
        o = 0;
        break;
      case t === this.positions.END:
      case o > a:
        o = a;
        break;
    }
    re(() => {
      this.set(r, o);
    }, 20)(), i.setCurrentBlockByChildNode(e.holder), i.currentBlock.currentInput = n;
  }
  /**
   * Set caret to the current input of current Block.
   *
   * @param {HTMLElement} input - input where caret should be set
   * @param {string} position - position of the caret.
   *                            If default - leave default behaviour and apply offset if it's passed
   * @param {number} offset - caret offset regarding to the text node
   */
  setToInput(e, t = this.positions.DEFAULT, o = 0) {
    const { currentBlock: i } = this.Editor.BlockManager, n = d.getDeepestNode(e);
    switch (t) {
      case this.positions.START:
        this.set(n, 0);
        break;
      case this.positions.END:
        this.set(n, d.getContentLength(n));
        break;
      default:
        o && this.set(n, o);
    }
    i.currentInput = e;
  }
  /**
   * Creates Document Range and sets caret to the element with offset
   *
   * @param {HTMLElement} element - target node.
   * @param {number} offset - offset
   */
  set(e, t = 0) {
    const { top: o, bottom: i } = m.setCursor(e, t), { innerHeight: n } = window;
    o < 0 && window.scrollBy(0, o), i > n && window.scrollBy(0, i - n);
  }
  /**
   * Set Caret to the last Block
   * If last block is not empty, append another empty block
   */
  setToTheLastBlock() {
    const e = this.Editor.BlockManager.lastBlock;
    if (e)
      if (e.tool.isDefault && e.isEmpty)
        this.setToBlock(e);
      else {
        const t = this.Editor.BlockManager.insertAtEnd();
        this.setToBlock(t);
      }
  }
  /**
   * Extract content fragment of current Block from Caret position to the end of the Block
   */
  extractFragmentFromCaretPosition() {
    const e = m.get();
    if (e.rangeCount) {
      const t = e.getRangeAt(0), o = this.Editor.BlockManager.currentBlock.currentInput;
      if (t.deleteContents(), o)
        if (d.isNativeInput(o)) {
          const i = o, n = document.createDocumentFragment(), r = i.value.substring(0, i.selectionStart), a = i.value.substring(i.selectionStart);
          return n.textContent = a, i.value = r, n;
        } else {
          const i = t.cloneRange();
          return i.selectNodeContents(o), i.setStart(t.endContainer, t.endOffset), i.extractContents();
        }
    }
  }
  /**
   * Set's caret to the next Block or Tool`s input
   * Before moving caret, we should check if caret position is at the end of Plugins node
   * Using {@link Dom#getDeepestNode} to get a last node and match with current selection
   *
   * @returns {boolean}
   */
  navigateNext() {
    const { BlockManager: e } = this.Editor, { currentBlock: t, nextContentfulBlock: o } = e, { nextInput: i } = t, n = this.isAtEnd;
    let r = o;
    if (!r && !i) {
      if (t.tool.isDefault || !n)
        return false;
      r = e.insertAtEnd();
    }
    return n ? (i ? this.setToInput(i, this.positions.START) : this.setToBlock(r, this.positions.START), true) : false;
  }
  /**
   * Set's caret to the previous Tool`s input or Block
   * Before moving caret, we should check if caret position is start of the Plugins node
   * Using {@link Dom#getDeepestNode} to get a last node and match with current selection
   *
   * @returns {boolean}
   */
  navigatePrevious() {
    const { currentBlock: e, previousContentfulBlock: t } = this.Editor.BlockManager;
    if (!e)
      return false;
    const { previousInput: o } = e;
    return !t && !o ? false : this.isAtStart ? (o ? this.setToInput(o, this.positions.END) : this.setToBlock(t, this.positions.END), true) : false;
  }
  /**
   * Inserts shadow element after passed element where caret can be placed
   *
   * @param {Element} element - element after which shadow caret should be inserted
   */
  createShadow(e) {
    const t = document.createElement("span");
    t.classList.add(ve.CSS.shadowCaret), e.insertAdjacentElement("beforeend", t);
  }
  /**
   * Restores caret position
   *
   * @param {HTMLElement} element - element where caret should be restored
   */
  restoreCaret(e) {
    const t = e.querySelector(`.${ve.CSS.shadowCaret}`);
    if (!t)
      return;
    new m().expandToTag(t);
    const i = document.createRange();
    i.selectNode(t), i.extractContents();
  }
  /**
   * Inserts passed content at caret position
   *
   * @param {string} content - content to insert
   */
  insertContentAtCaretPosition(e) {
    const t = document.createDocumentFragment(), o = document.createElement("div"), i = m.get(), n = m.range;
    o.innerHTML = e, Array.from(o.childNodes).forEach((c) => t.appendChild(c)), t.childNodes.length === 0 && t.appendChild(new Text());
    const r = t.lastChild;
    n.deleteContents(), n.insertNode(t);
    const a = document.createRange(), l = r.nodeType === Node.TEXT_NODE ? r : r.firstChild;
    l !== null && l.textContent !== null && a.setStart(l, l.textContent.length), i.removeAllRanges(), i.addRange(a);
  }
  /**
   * Get all first-level (first child of [contenteditable]) siblings from passed node
   * Then you can check it for emptiness
   *
   * @example
   * <div contenteditable>
   * <p></p>                            |
   * <p></p>                            | left first-level siblings
   * <p></p>                            |
   * <blockquote><a><b>adaddad</b><a><blockquote>       <-- passed node for example <b>
   * <p></p>                            |
   * <p></p>                            | right first-level siblings
   * <p></p>                            |
   * </div>
   * @param {HTMLElement} from - element from which siblings should be searched
   * @param {'left' | 'right'} direction - direction of search
   * @returns {HTMLElement[]}
   */
  getHigherLevelSiblings(e, t) {
    let o = e;
    const i = [];
    for (; o.parentNode && o.parentNode.contentEditable !== "true"; )
      o = o.parentNode;
    const n = t === "left" ? "previousSibling" : "nextSibling";
    for (; o[n]; )
      o = o[n], i.push(o);
    return i;
  }
}
class Qo extends C {
  constructor() {
    super(...arguments), this.onMouseUp = () => {
      this.listeners.off(document, "mouseover", this.onMouseOver), this.listeners.off(document, "mouseup", this.onMouseUp);
    }, this.onMouseOver = (e) => {
      const { BlockManager: t, BlockSelection: o } = this.Editor, i = t.getBlockByChildNode(e.relatedTarget) || this.lastSelectedBlock, n = t.getBlockByChildNode(e.target);
      if (!(!i || !n) && n !== i) {
        if (i === this.firstSelectedBlock) {
          m.get().removeAllRanges(), i.selected = true, n.selected = true, o.clearCache();
          return;
        }
        if (n === this.firstSelectedBlock) {
          i.selected = false, n.selected = false, o.clearCache();
          return;
        }
        this.Editor.InlineToolbar.close(), this.toggleBlocksSelectedState(i, n), this.lastSelectedBlock = n;
      }
    };
  }
  /**
   * Module preparation
   *
   * @returns {Promise}
   */
  prepare() {
    return __async(this, null, function* () {
      this.listeners.on(document, "mousedown", (e) => {
        this.enableCrossBlockSelection(e);
      });
    });
  }
  /**
   * Sets up listeners
   *
   * @param {MouseEvent} event - mouse down event
   */
  watchSelection(e) {
    if (e.button !== _t.LEFT)
      return;
    const { BlockManager: t } = this.Editor;
    this.firstSelectedBlock = t.getBlock(e.target), this.lastSelectedBlock = this.firstSelectedBlock, this.listeners.on(document, "mouseover", this.onMouseOver), this.listeners.on(document, "mouseup", this.onMouseUp);
  }
  /**
   * return boolean is cross block selection started
   */
  get isCrossBlockSelectionStarted() {
    return !!this.firstSelectedBlock && !!this.lastSelectedBlock;
  }
  /**
   * Change selection state of the next Block
   * Used for CBS via Shift + arrow keys
   *
   * @param {boolean} next - if true, toggle next block. Previous otherwise
   */
  toggleBlockSelectedState(e = true) {
    const { BlockManager: t, BlockSelection: o } = this.Editor;
    this.lastSelectedBlock || (this.lastSelectedBlock = this.firstSelectedBlock = t.currentBlock), this.firstSelectedBlock === this.lastSelectedBlock && (this.firstSelectedBlock.selected = true, o.clearCache(), m.get().removeAllRanges());
    const i = t.blocks.indexOf(this.lastSelectedBlock) + (e ? 1 : -1), n = t.blocks[i];
    n && (this.lastSelectedBlock.selected !== n.selected ? (n.selected = true, o.clearCache()) : (this.lastSelectedBlock.selected = false, o.clearCache()), this.lastSelectedBlock = n, this.Editor.InlineToolbar.close(), n.holder.scrollIntoView({
      block: "nearest"
    }));
  }
  /**
   * Clear saved state
   *
   * @param {Event} reason - event caused clear of selection
   */
  clear(e) {
    const { BlockManager: t, BlockSelection: o, Caret: i } = this.Editor, n = t.blocks.indexOf(this.firstSelectedBlock), r = t.blocks.indexOf(this.lastSelectedBlock);
    if (o.anyBlockSelected && n > -1 && r > -1)
      if (e && e instanceof KeyboardEvent)
        switch (e.keyCode) {
          case B.DOWN:
          case B.RIGHT:
            i.setToBlock(t.blocks[Math.max(n, r)], i.positions.END);
            break;
          case B.UP:
          case B.LEFT:
            i.setToBlock(t.blocks[Math.min(n, r)], i.positions.START);
            break;
          default:
            i.setToBlock(t.blocks[Math.max(n, r)], i.positions.END);
        }
      else
        i.setToBlock(t.blocks[Math.max(n, r)], i.positions.END);
    this.firstSelectedBlock = this.lastSelectedBlock = null;
  }
  /**
   * Enables Cross Block Selection
   *
   * @param {MouseEvent} event - mouse down event
   */
  enableCrossBlockSelection(e) {
    const { UI: t } = this.Editor;
    m.isCollapsed || this.Editor.BlockSelection.clearSelection(e), t.nodes.redactor.contains(e.target) ? this.watchSelection(e) : this.Editor.BlockSelection.clearSelection(e);
  }
  /**
   * Change blocks selection state between passed two blocks.
   *
   * @param {Block} firstBlock - first block in range
   * @param {Block} lastBlock - last block in range
   */
  toggleBlocksSelectedState(e, t) {
    const { BlockManager: o, BlockSelection: i } = this.Editor, n = o.blocks.indexOf(e), r = o.blocks.indexOf(t), a = e.selected !== t.selected;
    for (let l = Math.min(n, r); l <= Math.max(n, r); l++) {
      const c = o.blocks[l];
      c !== this.firstSelectedBlock && c !== (a ? e : t) && (o.blocks[l].selected = !o.blocks[l].selected, i.clearCache());
    }
  }
}
class ei extends C {
  constructor() {
    super(...arguments), this.isStartedAtEditor = false;
  }
  /**
   * Toggle read-only state
   *
   * if state is true:
   *  - disable all drag-n-drop event handlers
   *
   * if state is false:
   *  - restore drag-n-drop event handlers
   *
   * @param {boolean} readOnlyEnabled - "read only" state
   */
  toggleReadOnly(e) {
    e ? this.disableModuleBindings() : this.enableModuleBindings();
  }
  /**
   * Add drag events listeners to editor zone
   */
  enableModuleBindings() {
    const { UI: e } = this.Editor;
    this.readOnlyMutableListeners.on(e.nodes.holder, "drop", (t) => __async(this, null, function* () {
      yield this.processDrop(t);
    }), true), this.readOnlyMutableListeners.on(e.nodes.holder, "dragstart", () => {
      this.processDragStart();
    }), this.readOnlyMutableListeners.on(e.nodes.holder, "dragover", (t) => {
      this.processDragOver(t);
    }, true);
  }
  /**
   * Unbind drag-n-drop event handlers
   */
  disableModuleBindings() {
    this.readOnlyMutableListeners.clearAll();
  }
  /**
   * Handle drop event
   *
   * @param {DragEvent} dropEvent - drop event
   */
  processDrop(e) {
    return __async(this, null, function* () {
      const {
        BlockManager: t,
        Caret: o,
        Paste: i
      } = this.Editor;
      e.preventDefault(), t.blocks.forEach((r) => {
        r.dropTarget = false;
      }), m.isAtEditor && !m.isCollapsed && this.isStartedAtEditor && document.execCommand("delete"), this.isStartedAtEditor = false;
      const n = t.setCurrentBlockByChildNode(e.target);
      if (n)
        this.Editor.Caret.setToBlock(n, o.positions.END);
      else {
        const r = t.setCurrentBlockByChildNode(t.lastBlock.holder);
        this.Editor.Caret.setToBlock(r, o.positions.END);
      }
      yield i.processDataTransfer(e.dataTransfer, true);
    });
  }
  /**
   * Handle drag start event
   */
  processDragStart() {
    m.isAtEditor && !m.isCollapsed && (this.isStartedAtEditor = true), this.Editor.InlineToolbar.close();
  }
  /**
   * @param {DragEvent} dragEvent - drag event
   */
  processDragOver(e) {
    e.preventDefault();
  }
}
class ti extends C {
  /**
   * Prepare the module
   *
   * @param options - options used by the modification observer module
   * @param options.config - Editor configuration object
   * @param options.eventsDispatcher - common Editor event bus
   */
  constructor({ config: e, eventsDispatcher: t }) {
    super({
      config: e,
      eventsDispatcher: t
    }), this.disabled = false, this.batchingTimeout = null, this.batchingOnChangeQueue = /* @__PURE__ */ new Map(), this.batchTime = 400, this.mutationObserver = new MutationObserver((o) => {
      this.redactorChanged(o);
    }), this.eventsDispatcher.on(ct, (o) => {
      this.particularBlockChanged(o.event);
    }), this.eventsDispatcher.on(dt, () => {
      this.disable();
    }), this.eventsDispatcher.on(ht, () => {
      this.enable();
    });
  }
  /**
   * Enables onChange event
   */
  enable() {
    this.mutationObserver.observe(
      this.Editor.UI.nodes.redactor,
      {
        childList: true,
        subtree: true,
        characterData: true,
        attributes: true
      }
    ), this.disabled = false;
  }
  /**
   * Disables onChange event
   */
  disable() {
    this.mutationObserver.disconnect(), this.disabled = true;
  }
  /**
   * Call onChange event passed to Editor.js configuration
   *
   * @param event - some of our custom change events
   */
  particularBlockChanged(e) {
    this.disabled || !D(this.config.onChange) || (this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`, e), this.batchingTimeout && clearTimeout(this.batchingTimeout), this.batchingTimeout = setTimeout(() => {
      let t;
      this.batchingOnChangeQueue.size === 1 ? t = this.batchingOnChangeQueue.values().next().value : t = Array.from(this.batchingOnChangeQueue.values()), this.config.onChange && this.config.onChange(this.Editor.API.methods, t), this.batchingOnChangeQueue.clear();
    }, this.batchTime));
  }
  /**
   * Fired on every blocks wrapper dom change
   *
   * @param mutations - mutations happened
   */
  redactorChanged(e) {
    this.eventsDispatcher.emit(Me, {
      mutations: e
    });
  }
}
const wt = class extends C {
  constructor() {
    super(...arguments), this.MIME_TYPE = "application/x-editor-js", this.toolsTags = {}, this.tagsByTool = {}, this.toolsPatterns = [], this.toolsFiles = {}, this.exceptionList = [], this.processTool = (s) => {
      try {
        const e = s.create({}, {}, false);
        if (s.pasteConfig === false) {
          this.exceptionList.push(s.name);
          return;
        }
        if (!D(e.onPaste))
          return;
        this.getTagsConfig(s), this.getFilesConfig(s), this.getPatternsConfig(s);
      } catch (e) {
        L(
          `Paste handling for \xAB${s.name}\xBB Tool hasn't been set up because of the error`,
          "warn",
          e
        );
      }
    }, this.handlePasteEvent = (s) => __async(this, null, function* () {
      const { BlockManager: e, Toolbar: t } = this.Editor, o = e.setCurrentBlockByChildNode(s.target);
      !o || this.isNativeBehaviour(s.target) && !s.clipboardData.types.includes("Files") || o && this.exceptionList.includes(o.name) || (s.preventDefault(), this.processDataTransfer(s.clipboardData), e.clearFocused(), t.close());
    });
  }
  /**
   * Set onPaste callback and collect tools` paste configurations
   */
  prepare() {
    return __async(this, null, function* () {
      this.processTools();
    });
  }
  /**
   * Set read-only state
   *
   * @param {boolean} readOnlyEnabled - read only flag value
   */
  toggleReadOnly(s) {
    s ? this.unsetCallback() : this.setCallback();
  }
  /**
   * Handle pasted or dropped data transfer object
   *
   * @param {DataTransfer} dataTransfer - pasted or dropped data transfer object
   * @param {boolean} isDragNDrop - true if data transfer comes from drag'n'drop events
   */
  processDataTransfer(s, e = false) {
    return __async(this, null, function* () {
      const { Tools: t } = this.Editor, o = s.types;
      if ((o.includes ? o.includes("Files") : o.contains("Files")) && !V(this.toolsFiles)) {
        yield this.processFiles(s.files);
        return;
      }
      const n = s.getData(this.MIME_TYPE), r = s.getData("text/plain");
      let a = s.getData("text/html");
      if (n)
        try {
          this.insertEditorJSData(JSON.parse(n));
          return;
        } catch (e2) {
        }
      e && r.trim() && a.trim() && (a = "<p>" + (a.trim() ? a : r) + "</p>");
      const l = Object.keys(this.toolsTags).reduce((h, f) => {
        var _a;
        return h[f.toLowerCase()] = (_a = this.toolsTags[f].sanitizationConfig) != null ? _a : {}, h;
      }, {}), c = Object.assign({}, l, t.getAllInlineToolsSanitizeConfig(), { br: {} }), u = Z(a, c);
      !u.trim() || u.trim() === r || !d.isHTMLString(u) ? yield this.processText(r) : yield this.processText(u, true);
    });
  }
  /**
   * Process pasted text and divide them into Blocks
   *
   * @param {string} data - text to process. Can be HTML or plain.
   * @param {boolean} isHTML - if passed string is HTML, this parameter should be true
   */
  processText(s, e = false) {
    return __async(this, null, function* () {
      const { Caret: t, BlockManager: o } = this.Editor, i = e ? this.processHTML(s) : this.processPlain(s);
      if (!i.length)
        return;
      if (i.length === 1) {
        i[0].isBlock ? this.processSingleBlock(i.pop()) : this.processInlinePaste(i.pop());
        return;
      }
      const r = o.currentBlock && o.currentBlock.tool.isDefault && o.currentBlock.isEmpty;
      i.map(
        (a, l) => __async(this, null, function* () {
          return this.insertBlock(a, l === 0 && r);
        })
      ), o.currentBlock && t.setToBlock(o.currentBlock, t.positions.END);
    });
  }
  /**
   * Set onPaste callback handler
   */
  setCallback() {
    this.listeners.on(this.Editor.UI.nodes.holder, "paste", this.handlePasteEvent);
  }
  /**
   * Unset onPaste callback handler
   */
  unsetCallback() {
    this.listeners.off(this.Editor.UI.nodes.holder, "paste", this.handlePasteEvent);
  }
  /**
   * Get and process tool`s paste configs
   */
  processTools() {
    const s = this.Editor.Tools.blockTools;
    Array.from(s.values()).forEach(this.processTool);
  }
  /**
   * Get tags name list from either tag name or sanitization config.
   *
   * @param {string | object} tagOrSanitizeConfig - tag name or sanitize config object.
   * @returns {string[]} array of tags.
   */
  collectTagNames(s) {
    return J(s) ? [s] : z(s) ? Object.keys(s) : [];
  }
  /**
   * Get tags to substitute by Tool
   *
   * @param tool - BlockTool object
   */
  getTagsConfig(s) {
    if (s.pasteConfig === false)
      return;
    const e = s.pasteConfig.tags || [], t = [];
    e.forEach((o) => {
      const i = this.collectTagNames(o);
      t.push(...i), i.forEach((n) => {
        if (Object.prototype.hasOwnProperty.call(this.toolsTags, n)) {
          L(
            `Paste handler for \xAB${s.name}\xBB Tool on \xAB${n}\xBB tag is skipped because it is already used by \xAB${this.toolsTags[n].tool.name}\xBB Tool.`,
            "warn"
          );
          return;
        }
        const r = z(o) ? o[n] : null;
        this.toolsTags[n.toUpperCase()] = {
          tool: s,
          sanitizationConfig: r
        };
      });
    }), this.tagsByTool[s.name] = t.map((o) => o.toUpperCase());
  }
  /**
   * Get files` types and extensions to substitute by Tool
   *
   * @param tool - BlockTool object
   */
  getFilesConfig(s) {
    if (s.pasteConfig === false)
      return;
    const { files: e = {} } = s.pasteConfig;
    let { extensions: t, mimeTypes: o } = e;
    !t && !o || (t && !Array.isArray(t) && (L(`\xABextensions\xBB property of the onDrop config for \xAB${s.name}\xBB Tool should be an array`), t = []), o && !Array.isArray(o) && (L(`\xABmimeTypes\xBB property of the onDrop config for \xAB${s.name}\xBB Tool should be an array`), o = []), o && (o = o.filter((i) => Ft(i) ? true : (L(`MIME type value \xAB${i}\xBB for the \xAB${s.name}\xBB Tool is not a valid MIME type`, "warn"), false))), this.toolsFiles[s.name] = {
      extensions: t || [],
      mimeTypes: o || []
    });
  }
  /**
   * Get RegExp patterns to substitute by Tool
   *
   * @param tool - BlockTool object
   */
  getPatternsConfig(s) {
    s.pasteConfig === false || !s.pasteConfig.patterns || V(s.pasteConfig.patterns) || Object.entries(s.pasteConfig.patterns).forEach(([e, t]) => {
      t instanceof RegExp || L(
        `Pattern ${t} for \xAB${s.name}\xBB Tool is skipped because it should be a Regexp instance.`,
        "warn"
      ), this.toolsPatterns.push({
        key: e,
        pattern: t,
        tool: s
      });
    });
  }
  /**
   * Check if browser behavior suits better
   *
   * @param {EventTarget} element - element where content has been pasted
   * @returns {boolean}
   */
  isNativeBehaviour(s) {
    return d.isNativeInput(s);
  }
  /**
   * Get files from data transfer object and insert related Tools
   *
   * @param {FileList} items - pasted or dropped items
   */
  processFiles(s) {
    return __async(this, null, function* () {
      const { BlockManager: e } = this.Editor;
      let t;
      t = yield Promise.all(
        Array.from(s).map((n) => this.processFile(n))
      ), t = t.filter((n) => !!n);
      const i = e.currentBlock.tool.isDefault && e.currentBlock.isEmpty;
      t.forEach(
        (n, r) => {
          e.paste(n.type, n.event, r === 0 && i);
        }
      );
    });
  }
  /**
   * Get information about file and find Tool to handle it
   *
   * @param {File} file - file to process
   */
  processFile(s) {
    return __async(this, null, function* () {
      const e = Pt(s), t = Object.entries(this.toolsFiles).find(([n, { mimeTypes: r, extensions: a }]) => {
        const [l, c] = s.type.split("/"), u = a.find((f) => f.toLowerCase() === e.toLowerCase()), h = r.find((f) => {
          const [k, p] = f.split("/");
          return k === l && (p === c || p === "*");
        });
        return !!u || !!h;
      });
      if (!t)
        return;
      const [o] = t;
      return {
        event: this.composePasteEvent("file", {
          file: s
        }),
        type: o
      };
    });
  }
  /**
   * Split HTML string to blocks and return it as array of Block data
   *
   * @param {string} innerHTML - html string to process
   * @returns {PasteData[]}
   */
  processHTML(s) {
    const { Tools: e } = this.Editor, t = d.make("DIV");
    return t.innerHTML = s, this.getNodes(t).map((i) => {
      let n, r = e.defaultTool, a = false;
      switch (i.nodeType) {
        case Node.DOCUMENT_FRAGMENT_NODE:
          n = d.make("div"), n.appendChild(i);
          break;
        case Node.ELEMENT_NODE:
          n = i, a = true, this.toolsTags[n.tagName] && (r = this.toolsTags[n.tagName].tool);
          break;
      }
      const { tags: l } = r.pasteConfig || { tags: [] }, c = l.reduce((f, k) => (this.collectTagNames(k).forEach((v) => {
        const A = z(k) ? k[v] : null;
        f[v.toLowerCase()] = A || {};
      }), f), {}), u = Object.assign({}, c, r.baseSanitizeConfig);
      if (n.tagName.toLowerCase() === "table") {
        const f = Z(n.outerHTML, u);
        n = d.make("div", void 0, {
          innerHTML: f
        }).firstChild;
      } else
        n.innerHTML = Z(n.innerHTML, u);
      const h = this.composePasteEvent("tag", {
        data: n
      });
      return {
        content: n,
        isBlock: a,
        tool: r.name,
        event: h
      };
    }).filter((i) => {
      const n = d.isEmpty(i.content), r = d.isSingleTag(i.content);
      return !n || r;
    });
  }
  /**
   * Split plain text by new line symbols and return it as array of Block data
   *
   * @param {string} plain - string to process
   * @returns {PasteData[]}
   */
  processPlain(s) {
    const { defaultBlock: e } = this.config;
    if (!s)
      return [];
    const t = e;
    return s.split(/\r?\n/).filter((o) => o.trim()).map((o) => {
      const i = d.make("div");
      i.textContent = o;
      const n = this.composePasteEvent("tag", {
        data: i
      });
      return {
        content: i,
        tool: t,
        isBlock: false,
        event: n
      };
    });
  }
  /**
   * Process paste of single Block tool content
   *
   * @param {PasteData} dataToInsert - data of Block to insert
   */
  processSingleBlock(s) {
    return __async(this, null, function* () {
      const { Caret: e, BlockManager: t } = this.Editor, { currentBlock: o } = t;
      if (!o || s.tool !== o.name || !d.containsOnlyInlineElements(s.content.innerHTML)) {
        this.insertBlock(s, (o == null ? void 0 : o.tool.isDefault) && o.isEmpty);
        return;
      }
      e.insertContentAtCaretPosition(s.content.innerHTML);
    });
  }
  /**
   * Process paste to single Block:
   * 1. Find patterns` matches
   * 2. Insert new block if it is not the same type as current one
   * 3. Just insert text if there is no substitutions
   *
   * @param {PasteData} dataToInsert - data of Block to insert
   */
  processInlinePaste(s) {
    return __async(this, null, function* () {
      const { BlockManager: e, Caret: t } = this.Editor, { content: o } = s;
      if (e.currentBlock && e.currentBlock.tool.isDefault && o.textContent.length < wt.PATTERN_PROCESSING_MAX_LENGTH) {
        const n = yield this.processPattern(o.textContent);
        if (n) {
          const r = e.currentBlock && e.currentBlock.tool.isDefault && e.currentBlock.isEmpty, a = e.paste(n.tool, n.event, r);
          t.setToBlock(a, t.positions.END);
          return;
        }
      }
      if (e.currentBlock && e.currentBlock.currentInput) {
        const n = e.currentBlock.tool.baseSanitizeConfig;
        document.execCommand(
          "insertHTML",
          false,
          Z(o.innerHTML, n)
        );
      } else
        this.insertBlock(s);
    });
  }
  /**
   * Get patterns` matches
   *
   * @param {string} text - text to process
   * @returns {Promise<{event: PasteEvent, tool: string}>}
   */
  processPattern(s) {
    return __async(this, null, function* () {
      const e = this.toolsPatterns.find((o) => {
        const i = o.pattern.exec(s);
        return i ? s === i.shift() : false;
      });
      return e ? {
        event: this.composePasteEvent("pattern", {
          key: e.key,
          data: s
        }),
        tool: e.tool.name
      } : void 0;
    });
  }
  /**
   * Insert pasted Block content to Editor
   *
   * @param {PasteData} data - data to insert
   * @param {boolean} canReplaceCurrentBlock - if true and is current Block is empty, will replace current Block
   * @returns {void}
   */
  insertBlock(s, e = false) {
    const { BlockManager: t, Caret: o } = this.Editor, { currentBlock: i } = t;
    let n;
    if (e && i && i.isEmpty) {
      n = t.paste(s.tool, s.event, true), o.setToBlock(n, o.positions.END);
      return;
    }
    n = t.paste(s.tool, s.event), o.setToBlock(n, o.positions.END);
  }
  /**
   * Insert data passed as application/x-editor-js JSON
   *
   * @param {Array} blocks  Blocks' data to insert
   * @returns {void}
   */
  insertEditorJSData(s) {
    const { BlockManager: e, Caret: t, Tools: o } = this.Editor;
    ut(
      s,
      (n) => o.blockTools.get(n).sanitizeConfig
    ).forEach(({ tool: n, data: r }, a) => {
      let l = false;
      a === 0 && (l = e.currentBlock && e.currentBlock.tool.isDefault && e.currentBlock.isEmpty);
      const c = e.insert({
        tool: n,
        data: r,
        replace: l
      });
      t.setToBlock(c, t.positions.END);
    });
  }
  /**
   * Fetch nodes from Element node
   *
   * @param {Node} node - current node
   * @param {Node[]} nodes - processed nodes
   * @param {Node} destNode - destination node
   */
  processElementNode(s, e, t) {
    const o = Object.keys(this.toolsTags), i = s, { tool: n } = this.toolsTags[i.tagName] || {}, r = this.tagsByTool[n == null ? void 0 : n.name] || [], a = o.includes(i.tagName), l = d.blockElements.includes(i.tagName.toLowerCase()), c = Array.from(i.children).some(
      ({ tagName: h }) => o.includes(h) && !r.includes(h)
    ), u = Array.from(i.children).some(
      ({ tagName: h }) => d.blockElements.includes(h.toLowerCase())
    );
    if (!l && !a && !c)
      return t.appendChild(i), [...e, t];
    if (a && !c || l && !u && !c)
      return [...e, t, i];
  }
  /**
   * Recursively divide HTML string to two types of nodes:
   * 1. Block element
   * 2. Document Fragments contained text and markup tags like a, b, i etc.
   *
   * @param {Node} wrapper - wrapper of paster HTML content
   * @returns {Node[]}
   */
  getNodes(s) {
    const e = Array.from(s.childNodes);
    let t;
    const o = (i, n) => {
      if (d.isEmpty(n) && !d.isSingleTag(n))
        return i;
      const r = i[i.length - 1];
      let a = new DocumentFragment();
      switch (r && d.isFragment(r) && (a = i.pop()), n.nodeType) {
        case Node.ELEMENT_NODE:
          if (t = this.processElementNode(n, i, a), t)
            return t;
          break;
        case Node.TEXT_NODE:
          return a.appendChild(n), [...i, a];
        default:
          return [...i, a];
      }
      return [...i, ...Array.from(n.childNodes).reduce(o, [])];
    };
    return e.reduce(o, []);
  }
  /**
   * Compose paste event with passed type and detail
   *
   * @param {string} type - event type
   * @param {PasteEventDetail} detail - event detail
   */
  composePasteEvent(s, e) {
    return new CustomEvent(s, {
      detail: e
    });
  }
};
let yt = wt;
yt.PATTERN_PROCESSING_MAX_LENGTH = 450;
class oi extends C {
  constructor() {
    super(...arguments), this.toolsDontSupportReadOnly = [], this.readOnlyEnabled = false;
  }
  /**
   * Returns state of read only mode
   */
  get isEnabled() {
    return this.readOnlyEnabled;
  }
  /**
   * Set initial state
   */
  prepare() {
    return __async(this, null, function* () {
      const { Tools: e } = this.Editor, { blockTools: t } = e, o = [];
      Array.from(t.entries()).forEach(([i, n]) => {
        n.isReadOnlySupported || o.push(i);
      }), this.toolsDontSupportReadOnly = o, this.config.readOnly && o.length > 0 && this.throwCriticalError(), this.toggle(this.config.readOnly);
    });
  }
  /**
   * Set read-only mode or toggle current state
   * Call all Modules `toggleReadOnly` method and re-render Editor
   *
   * @param {boolean} state - (optional) read-only state or toggle
   */
  toggle() {
    return __async(this, arguments, function* (e = !this.readOnlyEnabled) {
      e && this.toolsDontSupportReadOnly.length > 0 && this.throwCriticalError();
      const t = this.readOnlyEnabled;
      this.readOnlyEnabled = e;
      for (const i in this.Editor)
        this.Editor[i].toggleReadOnly && this.Editor[i].toggleReadOnly(e);
      if (t === e)
        return this.readOnlyEnabled;
      const o = yield this.Editor.Saver.save();
      return yield this.Editor.BlockManager.clear(), yield this.Editor.Renderer.render(o.blocks), this.readOnlyEnabled;
    });
  }
  /**
   * Throws an error about tools which don't support read-only mode
   */
  throwCriticalError() {
    throw new lt(
      `To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`
    );
  }
}
class fe extends C {
  constructor() {
    super(...arguments), this.isRectSelectionActivated = false, this.SCROLL_SPEED = 3, this.HEIGHT_OF_SCROLL_ZONE = 40, this.BOTTOM_SCROLL_ZONE = 1, this.TOP_SCROLL_ZONE = 2, this.MAIN_MOUSE_BUTTON = 0, this.mousedown = false, this.isScrolling = false, this.inScrollZone = null, this.startX = 0, this.startY = 0, this.mouseX = 0, this.mouseY = 0, this.stackOfSelected = [], this.listenerIds = [];
  }
  /**
   * CSS classes for the Block
   *
   * @returns {{wrapper: string, content: string}}
   */
  static get CSS() {
    return {
      overlay: "codex-editor-overlay",
      overlayContainer: "codex-editor-overlay__container",
      rect: "codex-editor-overlay__rectangle",
      topScrollZone: "codex-editor-overlay__scroll-zone--top",
      bottomScrollZone: "codex-editor-overlay__scroll-zone--bottom"
    };
  }
  /**
   * Module Preparation
   * Creating rect and hang handlers
   */
  prepare() {
    this.enableModuleBindings();
  }
  /**
   * Init rect params
   *
   * @param {number} pageX - X coord of mouse
   * @param {number} pageY - Y coord of mouse
   */
  startSelection(e, t) {
    const o = document.elementFromPoint(e - window.pageXOffset, t - window.pageYOffset);
    o.closest(`.${this.Editor.Toolbar.CSS.toolbar}`) || (this.Editor.BlockSelection.allBlocksSelected = false, this.clearSelection(), this.stackOfSelected = []);
    const n = [
      `.${F.CSS.content}`,
      `.${this.Editor.Toolbar.CSS.toolbar}`,
      `.${this.Editor.InlineToolbar.CSS.inlineToolbar}`
    ], r = o.closest("." + this.Editor.UI.CSS.editorWrapper), a = n.some((l) => !!o.closest(l));
    !r || a || (this.mousedown = true, this.startX = e, this.startY = t);
  }
  /**
   * Clear all params to end selection
   */
  endSelection() {
    this.mousedown = false, this.startX = 0, this.startY = 0, this.overlayRectangle.style.display = "none";
  }
  /**
   * is RectSelection Activated
   */
  isRectActivated() {
    return this.isRectSelectionActivated;
  }
  /**
   * Mark that selection is end
   */
  clearSelection() {
    this.isRectSelectionActivated = false;
  }
  /**
   * Sets Module necessary event handlers
   */
  enableModuleBindings() {
    const { container: e } = this.genHTML();
    this.listeners.on(e, "mousedown", (t) => {
      this.processMouseDown(t);
    }, false), this.listeners.on(document.body, "mousemove", Ce((t) => {
      this.processMouseMove(t);
    }, 10), {
      passive: true
    }), this.listeners.on(document.body, "mouseleave", () => {
      this.processMouseLeave();
    }), this.listeners.on(window, "scroll", Ce((t) => {
      this.processScroll(t);
    }, 10), {
      passive: true
    }), this.listeners.on(document.body, "mouseup", () => {
      this.processMouseUp();
    }, false);
  }
  /**
   * Handle mouse down events
   *
   * @param {MouseEvent} mouseEvent - mouse event payload
   */
  processMouseDown(e) {
    if (e.button !== this.MAIN_MOUSE_BUTTON)
      return;
    e.target.closest(d.allInputsSelector) !== null || this.startSelection(e.pageX, e.pageY);
  }
  /**
   * Handle mouse move events
   *
   * @param {MouseEvent} mouseEvent - mouse event payload
   */
  processMouseMove(e) {
    this.changingRectangle(e), this.scrollByZones(e.clientY);
  }
  /**
   * Handle mouse leave
   */
  processMouseLeave() {
    this.clearSelection(), this.endSelection();
  }
  /**
   * @param {MouseEvent} mouseEvent - mouse event payload
   */
  processScroll(e) {
    this.changingRectangle(e);
  }
  /**
   * Handle mouse up
   */
  processMouseUp() {
    this.clearSelection(), this.endSelection();
  }
  /**
   * Scroll If mouse in scroll zone
   *
   * @param {number} clientY - Y coord of mouse
   */
  scrollByZones(e) {
    if (this.inScrollZone = null, e <= this.HEIGHT_OF_SCROLL_ZONE && (this.inScrollZone = this.TOP_SCROLL_ZONE), document.documentElement.clientHeight - e <= this.HEIGHT_OF_SCROLL_ZONE && (this.inScrollZone = this.BOTTOM_SCROLL_ZONE), !this.inScrollZone) {
      this.isScrolling = false;
      return;
    }
    this.isScrolling || (this.scrollVertical(this.inScrollZone === this.TOP_SCROLL_ZONE ? -this.SCROLL_SPEED : this.SCROLL_SPEED), this.isScrolling = true);
  }
  /**
   * Generates required HTML elements
   *
   * @returns {Object<string, Element>}
   */
  genHTML() {
    const { UI: e } = this.Editor, t = e.nodes.holder.querySelector("." + e.CSS.editorWrapper), o = d.make("div", fe.CSS.overlay, {}), i = d.make("div", fe.CSS.overlayContainer, {}), n = d.make("div", fe.CSS.rect, {});
    return i.appendChild(n), o.appendChild(i), t.appendChild(o), this.overlayRectangle = n, {
      container: t,
      overlay: o
    };
  }
  /**
   * Activates scrolling if blockSelection is active and mouse is in scroll zone
   *
   * @param {number} speed - speed of scrolling
   */
  scrollVertical(e) {
    if (!(this.inScrollZone && this.mousedown))
      return;
    const t = window.pageYOffset;
    window.scrollBy(0, e), this.mouseY += window.pageYOffset - t, setTimeout(() => {
      this.scrollVertical(e);
    }, 0);
  }
  /**
   * Handles the change in the rectangle and its effect
   *
   * @param {MouseEvent} event - mouse event
   */
  changingRectangle(e) {
    if (!this.mousedown)
      return;
    e.pageY !== void 0 && (this.mouseX = e.pageX, this.mouseY = e.pageY);
    const { rightPos: t, leftPos: o, index: i } = this.genInfoForMouseSelection(), n = this.startX > t && this.mouseX > t, r = this.startX < o && this.mouseX < o;
    this.rectCrossesBlocks = !(n || r), this.isRectSelectionActivated || (this.rectCrossesBlocks = false, this.isRectSelectionActivated = true, this.shrinkRectangleToPoint(), this.overlayRectangle.style.display = "block"), this.updateRectangleSize(), this.Editor.Toolbar.close(), i !== void 0 && (this.trySelectNextBlock(i), this.inverseSelection(), m.get().removeAllRanges());
  }
  /**
   * Shrink rect to singular point
   */
  shrinkRectangleToPoint() {
    this.overlayRectangle.style.left = `${this.startX - window.pageXOffset}px`, this.overlayRectangle.style.top = `${this.startY - window.pageYOffset}px`, this.overlayRectangle.style.bottom = `calc(100% - ${this.startY - window.pageYOffset}px`, this.overlayRectangle.style.right = `calc(100% - ${this.startX - window.pageXOffset}px`;
  }
  /**
   * Select or unselect all of blocks in array if rect is out or in selectable area
   */
  inverseSelection() {
    const t = this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;
    if (this.rectCrossesBlocks && !t)
      for (const o of this.stackOfSelected)
        this.Editor.BlockSelection.selectBlockByIndex(o);
    if (!this.rectCrossesBlocks && t)
      for (const o of this.stackOfSelected)
        this.Editor.BlockSelection.unSelectBlockByIndex(o);
  }
  /**
   * Updates size of rectangle
   */
  updateRectangleSize() {
    this.mouseY >= this.startY ? (this.overlayRectangle.style.top = `${this.startY - window.pageYOffset}px`, this.overlayRectangle.style.bottom = `calc(100% - ${this.mouseY - window.pageYOffset}px`) : (this.overlayRectangle.style.bottom = `calc(100% - ${this.startY - window.pageYOffset}px`, this.overlayRectangle.style.top = `${this.mouseY - window.pageYOffset}px`), this.mouseX >= this.startX ? (this.overlayRectangle.style.left = `${this.startX - window.pageXOffset}px`, this.overlayRectangle.style.right = `calc(100% - ${this.mouseX - window.pageXOffset}px`) : (this.overlayRectangle.style.right = `calc(100% - ${this.startX - window.pageXOffset}px`, this.overlayRectangle.style.left = `${this.mouseX - window.pageXOffset}px`);
  }
  /**
   * Collects information needed to determine the behavior of the rectangle
   *
   * @returns {object} index - index next Block, leftPos - start of left border of Block, rightPos - right border
   */
  genInfoForMouseSelection() {
    const t = document.body.offsetWidth / 2, o = this.mouseY - window.pageYOffset, i = document.elementFromPoint(t, o), n = this.Editor.BlockManager.getBlockByChildNode(i);
    let r;
    n !== void 0 && (r = this.Editor.BlockManager.blocks.findIndex((h) => h.holder === n.holder));
    const a = this.Editor.BlockManager.lastBlock.holder.querySelector("." + F.CSS.content), l = Number.parseInt(window.getComputedStyle(a).width, 10) / 2, c = t - l, u = t + l;
    return {
      index: r,
      leftPos: c,
      rightPos: u
    };
  }
  /**
   * Select block with index index
   *
   * @param index - index of block in redactor
   */
  addBlockInSelection(e) {
    this.rectCrossesBlocks && this.Editor.BlockSelection.selectBlockByIndex(e), this.stackOfSelected.push(e);
  }
  /**
   * Adds a block to the selection and determines which blocks should be selected
   *
   * @param {object} index - index of new block in the reactor
   */
  trySelectNextBlock(e) {
    const t = this.stackOfSelected[this.stackOfSelected.length - 1] === e, o = this.stackOfSelected.length, i = 1, n = -1, r = 0;
    if (t)
      return;
    const a = this.stackOfSelected[o - 1] - this.stackOfSelected[o - 2] > 0;
    let l = r;
    o > 1 && (l = a ? i : n);
    const c = e > this.stackOfSelected[o - 1] && l === i, u = e < this.stackOfSelected[o - 1] && l === n, f = !(c || u || l === r);
    if (!f && (e > this.stackOfSelected[o - 1] || this.stackOfSelected[o - 1] === void 0)) {
      let v = this.stackOfSelected[o - 1] + 1 || e;
      for (v; v <= e; v++)
        this.addBlockInSelection(v);
      return;
    }
    if (!f && e < this.stackOfSelected[o - 1]) {
      for (let v = this.stackOfSelected[o - 1] - 1; v >= e; v--)
        this.addBlockInSelection(v);
      return;
    }
    if (!f)
      return;
    let k = o - 1, p;
    for (e > this.stackOfSelected[o - 1] ? p = () => e > this.stackOfSelected[k] : p = () => e < this.stackOfSelected[k]; p(); )
      this.rectCrossesBlocks && this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[k]), this.stackOfSelected.pop(), k--;
  }
}
class ii extends C {
  /**
   * Renders passed blocks as one batch
   *
   * @param blocksData - blocks to render
   */
  render(e) {
    return __async(this, null, function* () {
      return new Promise((t) => {
        const { Tools: o, BlockManager: i } = this.Editor, n = e.map(({ type: r, data: a, tunes: l, id: c }) => {
          o.available.has(r) === false && (K(`Tool \xAB${r}\xBB is not found. Check 'tools' property at the Editor.js config.`, "warn"), a = this.composeStubDataForTool(r, a, c), r = o.stubTool);
          let u;
          try {
            u = i.composeBlock({
              id: c,
              tool: r,
              data: a,
              tunes: l
            });
          } catch (h) {
            L(`Block \xAB${r}\xBB skipped because of plugins error`, "error", {
              data: a,
              error: h
            }), a = this.composeStubDataForTool(r, a, c), r = o.stubTool, u = i.composeBlock({
              id: c,
              tool: r,
              data: a,
              tunes: l
            });
          }
          return u;
        });
        i.insertMany(n), window.requestIdleCallback(() => {
          t();
        }, { timeout: 2e3 });
      });
    });
  }
  /**
   * Create data for the Stub Tool that will be used instead of unavailable tool
   *
   * @param tool - unavailable tool name to stub
   * @param data - data of unavailable block
   * @param [id] - id of unavailable block
   */
  composeStubDataForTool(e, t, o) {
    const { Tools: i } = this.Editor;
    let n = e;
    if (i.unavailable.has(e)) {
      const r = i.unavailable.get(e).toolbox;
      r !== void 0 && r[0].title !== void 0 && (n = r[0].title);
    }
    return {
      savedData: {
        id: o,
        type: e,
        data: t
      },
      title: n
    };
  }
}
class ni extends C {
  /**
   * Composes new chain of Promises to fire them alternatelly
   *
   * @returns {OutputData}
   */
  save() {
    return __async(this, null, function* () {
      const { BlockManager: e, Tools: t } = this.Editor, o = e.blocks, i = [];
      try {
        o.forEach((a) => {
          i.push(this.getSavedData(a));
        });
        const n = yield Promise.all(i), r = yield ut(n, (a) => t.blockTools.get(a).sanitizeConfig);
        return this.makeOutput(r);
      } catch (n) {
        K("Saving failed due to the Error %o", "error", n);
      }
    });
  }
  /**
   * Saves and validates
   *
   * @param {Block} block - Editor's Tool
   * @returns {ValidatedData} - Tool's validated data
   */
  getSavedData(e) {
    return __async(this, null, function* () {
      const t = yield e.save(), o = t && (yield e.validate(t.data));
      return __spreadProps(__spreadValues({}, t), {
        isValid: o
      });
    });
  }
  /**
   * Creates output object with saved data, time and version of editor
   *
   * @param {ValidatedData} allExtractedData - data extracted from Blocks
   * @returns {OutputData}
   */
  makeOutput(e) {
    const t = [];
    return e.forEach(({ id: o, tool: i, data: n, tunes: r, isValid: a }) => {
      if (!a) {
        L(`Block \xAB${i}\xBB skipped because saved data is invalid`);
        return;
      }
      if (i === this.Editor.Tools.stubTool) {
        t.push(n);
        return;
      }
      const l = __spreadValues({
        id: o,
        type: i,
        data: n
      }, !V(r) && {
        tunes: r
      });
      t.push(l);
    }), {
      time: +/* @__PURE__ */ new Date(),
      blocks: t,
      version: "2.28.2"
    };
  }
}
var Ne = {}, si = {
  get exports() {
    return Ne;
  },
  set exports(s) {
    Ne = s;
  }
};
(function(s, e) {
  (function(t, o) {
    s.exports = o();
  })(window, function() {
    return function(t) {
      var o = {};
      function i(n) {
        if (o[n])
          return o[n].exports;
        var r = o[n] = { i: n, l: false, exports: {} };
        return t[n].call(r.exports, r, r.exports, i), r.l = true, r.exports;
      }
      return i.m = t, i.c = o, i.d = function(n, r, a) {
        i.o(n, r) || Object.defineProperty(n, r, { enumerable: true, get: a });
      }, i.r = function(n) {
        typeof Symbol < "u" && Symbol.toStringTag && Object.defineProperty(n, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(n, "__esModule", { value: true });
      }, i.t = function(n, r) {
        if (1 & r && (n = i(n)), 8 & r || 4 & r && typeof n == "object" && n && n.__esModule)
          return n;
        var a = /* @__PURE__ */ Object.create(null);
        if (i.r(a), Object.defineProperty(a, "default", { enumerable: true, value: n }), 2 & r && typeof n != "string")
          for (var l in n)
            i.d(a, l, function(c) {
              return n[c];
            }.bind(null, l));
        return a;
      }, i.n = function(n) {
        var r = n && n.__esModule ? function() {
          return n.default;
        } : function() {
          return n;
        };
        return i.d(r, "a", r), r;
      }, i.o = function(n, r) {
        return Object.prototype.hasOwnProperty.call(n, r);
      }, i.p = "/", i(i.s = 4);
    }([function(t, o, i) {
      var n = i(1), r = i(2);
      typeof (r = r.__esModule ? r.default : r) == "string" && (r = [[t.i, r, ""]]);
      var a = { insert: "head", singleton: false };
      n(r, a), t.exports = r.locals || {};
    }, function(t, o, i) {
      var n, r = function() {
        return n === void 0 && (n = !!(window && document && document.all && !window.atob)), n;
      }, a = /* @__PURE__ */ function() {
        var y = {};
        return function(x) {
          if (y[x] === void 0) {
            var w = document.querySelector(x);
            if (window.HTMLIFrameElement && w instanceof window.HTMLIFrameElement)
              try {
                w = w.contentDocument.head;
              } catch (e2) {
                w = null;
              }
            y[x] = w;
          }
          return y[x];
        };
      }(), l = [];
      function c(y) {
        for (var x = -1, w = 0; w < l.length; w++)
          if (l[w].identifier === y) {
            x = w;
            break;
          }
        return x;
      }
      function u(y, x) {
        for (var w = {}, I = [], R = 0; R < y.length; R++) {
          var b = y[R], g = x.base ? b[0] + x.base : b[0], E = w[g] || 0, T = "".concat(g, " ").concat(E);
          w[g] = E + 1;
          var O = c(T), S = { css: b[1], media: b[2], sourceMap: b[3] };
          O !== -1 ? (l[O].references++, l[O].updater(S)) : l.push({ identifier: T, updater: _(S, x), references: 1 }), I.push(T);
        }
        return I;
      }
      function h(y) {
        var x = document.createElement("style"), w = y.attributes || {};
        if (w.nonce === void 0) {
          var I = i.nc;
          I && (w.nonce = I);
        }
        if (Object.keys(w).forEach(function(b) {
          x.setAttribute(b, w[b]);
        }), typeof y.insert == "function")
          y.insert(x);
        else {
          var R = a(y.insert || "head");
          if (!R)
            throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
          R.appendChild(x);
        }
        return x;
      }
      var f, k = (f = [], function(y, x) {
        return f[y] = x, f.filter(Boolean).join(`
`);
      });
      function p(y, x, w, I) {
        var R = w ? "" : I.media ? "@media ".concat(I.media, " {").concat(I.css, "}") : I.css;
        if (y.styleSheet)
          y.styleSheet.cssText = k(x, R);
        else {
          var b = document.createTextNode(R), g = y.childNodes;
          g[x] && y.removeChild(g[x]), g.length ? y.insertBefore(b, g[x]) : y.appendChild(b);
        }
      }
      function v(y, x, w) {
        var I = w.css, R = w.media, b = w.sourceMap;
        if (R ? y.setAttribute("media", R) : y.removeAttribute("media"), b && btoa && (I += `
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(b)))), " */")), y.styleSheet)
          y.styleSheet.cssText = I;
        else {
          for (; y.firstChild; )
            y.removeChild(y.firstChild);
          y.appendChild(document.createTextNode(I));
        }
      }
      var A = null, N = 0;
      function _(y, x) {
        var w, I, R;
        if (x.singleton) {
          var b = N++;
          w = A || (A = h(x)), I = p.bind(null, w, b, false), R = p.bind(null, w, b, true);
        } else
          w = h(x), I = v.bind(null, w, x), R = function() {
            (function(g) {
              if (g.parentNode === null)
                return false;
              g.parentNode.removeChild(g);
            })(w);
          };
        return I(y), function(g) {
          if (g) {
            if (g.css === y.css && g.media === y.media && g.sourceMap === y.sourceMap)
              return;
            I(y = g);
          } else
            R();
        };
      }
      t.exports = function(y, x) {
        (x = x || {}).singleton || typeof x.singleton == "boolean" || (x.singleton = r());
        var w = u(y = y || [], x);
        return function(I) {
          if (I = I || [], Object.prototype.toString.call(I) === "[object Array]") {
            for (var R = 0; R < w.length; R++) {
              var b = c(w[R]);
              l[b].references--;
            }
            for (var g = u(I, x), E = 0; E < w.length; E++) {
              var T = c(w[E]);
              l[T].references === 0 && (l[T].updater(), l.splice(T, 1));
            }
            w = g;
          }
        };
      };
    }, function(t, o, i) {
      (o = i(3)(false)).push([t.i, `.ce-paragraph {
    line-height: 1.6em;
    outline: none;
}

.ce-paragraph[data-placeholder]:empty::before{
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

/** Show placeholder at the first paragraph if Editor is empty */
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {
  opacity: 1;
}

.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {
  opacity: 0;
}

.ce-paragraph p:first-of-type{
    margin-top: 0;
}

.ce-paragraph p:last-of-type{
    margin-bottom: 0;
}
`, ""]), t.exports = o;
    }, function(t, o, i) {
      t.exports = function(n) {
        var r = [];
        return r.toString = function() {
          return this.map(function(a) {
            var l = function(c, u) {
              var h = c[1] || "", f = c[3];
              if (!f)
                return h;
              if (u && typeof btoa == "function") {
                var k = (v = f, A = btoa(unescape(encodeURIComponent(JSON.stringify(v)))), N = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(A), "/*# ".concat(N, " */")), p = f.sources.map(function(_) {
                  return "/*# sourceURL=".concat(f.sourceRoot || "").concat(_, " */");
                });
                return [h].concat(p).concat([k]).join(`
`);
              }
              var v, A, N;
              return [h].join(`
`);
            }(a, n);
            return a[2] ? "@media ".concat(a[2], " {").concat(l, "}") : l;
          }).join("");
        }, r.i = function(a, l, c) {
          typeof a == "string" && (a = [[null, a, ""]]);
          var u = {};
          if (c)
            for (var h = 0; h < this.length; h++) {
              var f = this[h][0];
              f != null && (u[f] = true);
            }
          for (var k = 0; k < a.length; k++) {
            var p = [].concat(a[k]);
            c && u[p[0]] || (l && (p[2] ? p[2] = "".concat(l, " and ").concat(p[2]) : p[2] = l), r.push(p));
          }
        }, r;
      };
    }, function(t, o, i) {
      i.r(o), i.d(o, "default", function() {
        return a;
      }), i(0);
      function n(l, c) {
        for (var u = 0; u < c.length; u++) {
          var h = c[u];
          h.enumerable = h.enumerable || false, h.configurable = true, "value" in h && (h.writable = true), Object.defineProperty(l, h.key, h);
        }
      }
      function r(l, c, u) {
        return c && n(l.prototype, c), u && n(l, u), l;
      }
      /**
       * Base Paragraph Block for the Editor.js.
       * Represents a regular text block
       *
       * @author CodeX (team@codex.so)
       * @copyright CodeX 2018
       * @license The MIT License (MIT)
       */
      var a = function() {
        function l(c) {
          var u = c.data, h = c.config, f = c.api, k = c.readOnly;
          (function(p, v) {
            if (!(p instanceof v))
              throw new TypeError("Cannot call a class as a function");
          })(this, l), this.api = f, this.readOnly = k, this._CSS = { block: this.api.styles.block, wrapper: "ce-paragraph" }, this.readOnly || (this.onKeyUp = this.onKeyUp.bind(this)), this._placeholder = h.placeholder ? h.placeholder : l.DEFAULT_PLACEHOLDER, this._data = {}, this._element = null, this._preserveBlank = h.preserveBlank !== void 0 && h.preserveBlank, this.data = u;
        }
        return r(l, null, [{ key: "DEFAULT_PLACEHOLDER", get: function() {
          return "";
        } }]), r(l, [{ key: "onKeyUp", value: function(c) {
          c.code !== "Backspace" && c.code !== "Delete" || this._element.textContent === "" && (this._element.innerHTML = "");
        } }, { key: "drawView", value: function() {
          var c = document.createElement("DIV");
          return c.classList.add(this._CSS.wrapper, this._CSS.block), c.contentEditable = false, c.dataset.placeholder = this.api.i18n.t(this._placeholder), this.readOnly || (c.contentEditable = true, c.addEventListener("keyup", this.onKeyUp)), c;
        } }, { key: "render", value: function() {
          return this._element === null && (this._element = this.drawView()), this.hydrate(), this._element;
        } }, { key: "merge", value: function(c) {
          var u = { text: this.data.text + c.text };
          this.data = u;
        } }, { key: "validate", value: function(c) {
          return !(c.text.trim() === "" && !this._preserveBlank);
        } }, { key: "save", value: function(c) {
          return { text: c.innerHTML };
        } }, { key: "onPaste", value: function(c) {
          var u = { text: c.detail.data.innerHTML };
          this.data = u;
        } }, { key: "hydrate", value: function() {
          var c = this;
          window.requestAnimationFrame(function() {
            c._element.innerHTML = c._data.text || "";
          });
        } }, { key: "data", get: function() {
          if (this._element !== null) {
            var c = this._element.innerHTML;
            this._data.text = c;
          }
          return this._data;
        }, set: function(c) {
          this._data = c || {}, this._element !== null && this.hydrate();
        } }], [{ key: "conversionConfig", get: function() {
          return { export: "text", import: "text" };
        } }, { key: "sanitize", get: function() {
          return { text: { br: true } };
        } }, { key: "isReadOnlySupported", get: function() {
          return true;
        } }, { key: "pasteConfig", get: function() {
          return { tags: ["P"] };
        } }, { key: "toolbox", get: function() {
          return { icon: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>', title: "Text" };
        } }]), l;
      }();
    }]).default;
  });
})(si);
const ri = /* @__PURE__ */ xe(Ne);
class We {
  constructor() {
    this.commandName = "bold", this.CSS = {
      button: "ce-inline-tool",
      buttonActive: "ce-inline-tool--active",
      buttonModifier: "ce-inline-tool--bold"
    }, this.nodes = {
      button: void 0
    };
  }
  /**
   * Sanitizer Rule
   * Leave <b> tags
   *
   * @returns {object}
   */
  static get sanitize() {
    return {
      b: {}
    };
  }
  /**
   * Create button for Inline Toolbar
   */
  render() {
    return this.nodes.button = document.createElement("button"), this.nodes.button.type = "button", this.nodes.button.classList.add(this.CSS.button, this.CSS.buttonModifier), this.nodes.button.innerHTML = So, this.nodes.button;
  }
  /**
   * Wrap range with <b> tag
   */
  surround() {
    document.execCommand(this.commandName);
  }
  /**
   * Check selection and set activated state to button if there are <b> tag
   *
   * @returns {boolean}
   */
  checkState() {
    const e = document.queryCommandState(this.commandName);
    return this.nodes.button.classList.toggle(this.CSS.buttonActive, e), e;
  }
  /**
   * Set a shortcut
   *
   * @returns {boolean}
   */
  get shortcut() {
    return "CMD+B";
  }
}
We.isInline = true;
We.title = "Bold";
class Ye {
  constructor() {
    this.commandName = "italic", this.CSS = {
      button: "ce-inline-tool",
      buttonActive: "ce-inline-tool--active",
      buttonModifier: "ce-inline-tool--italic"
    }, this.nodes = {
      button: null
    };
  }
  /**
   * Sanitizer Rule
   * Leave <i> tags
   *
   * @returns {object}
   */
  static get sanitize() {
    return {
      i: {}
    };
  }
  /**
   * Create button for Inline Toolbar
   */
  render() {
    return this.nodes.button = document.createElement("button"), this.nodes.button.type = "button", this.nodes.button.classList.add(this.CSS.button, this.CSS.buttonModifier), this.nodes.button.innerHTML = Oo, this.nodes.button;
  }
  /**
   * Wrap range with <i> tag
   */
  surround() {
    document.execCommand(this.commandName);
  }
  /**
   * Check selection and set activated state to button if there are <i> tag
   */
  checkState() {
    const e = document.queryCommandState(this.commandName);
    return this.nodes.button.classList.toggle(this.CSS.buttonActive, e), e;
  }
  /**
   * Set a shortcut
   */
  get shortcut() {
    return "CMD+I";
  }
}
Ye.isInline = true;
Ye.title = "Italic";
class Ke {
  /**
   * @param api - Editor.js API
   */
  constructor({ api: e }) {
    this.commandLink = "createLink", this.commandUnlink = "unlink", this.ENTER_KEY = 13, this.CSS = {
      button: "ce-inline-tool",
      buttonActive: "ce-inline-tool--active",
      buttonModifier: "ce-inline-tool--link",
      buttonUnlink: "ce-inline-tool--unlink",
      input: "ce-inline-tool-input",
      inputShowed: "ce-inline-tool-input--showed"
    }, this.nodes = {
      button: null,
      input: null
    }, this.inputOpened = false, this.toolbar = e.toolbar, this.inlineToolbar = e.inlineToolbar, this.notifier = e.notifier, this.i18n = e.i18n, this.selection = new m();
  }
  /**
   * Sanitizer Rule
   * Leave <a> tags
   *
   * @returns {object}
   */
  static get sanitize() {
    return {
      a: {
        href: true,
        target: "_blank",
        rel: "nofollow"
      }
    };
  }
  /**
   * Create button for Inline Toolbar
   */
  render() {
    return this.nodes.button = document.createElement("button"), this.nodes.button.type = "button", this.nodes.button.classList.add(this.CSS.button, this.CSS.buttonModifier), this.nodes.button.innerHTML = Qe, this.nodes.button;
  }
  /**
   * Input for the link
   */
  renderActions() {
    return this.nodes.input = document.createElement("input"), this.nodes.input.placeholder = this.i18n.t("Add a link"), this.nodes.input.classList.add(this.CSS.input), this.nodes.input.addEventListener("keydown", (e) => {
      e.keyCode === this.ENTER_KEY && this.enterPressed(e);
    }), this.nodes.input;
  }
  /**
   * Handle clicks on the Inline Toolbar icon
   *
   * @param {Range} range - range to wrap with link
   */
  surround(e) {
    if (e) {
      this.inputOpened ? (this.selection.restore(), this.selection.removeFakeBackground()) : (this.selection.setFakeBackground(), this.selection.save());
      const t = this.selection.findParentTag("A");
      if (t) {
        this.selection.expandToTag(t), this.unlink(), this.closeActions(), this.checkState(), this.toolbar.close();
        return;
      }
    }
    this.toggleActions();
  }
  /**
   * Check selection and set activated state to button if there are <a> tag
   */
  checkState() {
    const e = this.selection.findParentTag("A");
    if (e) {
      this.nodes.button.innerHTML = Ro, this.nodes.button.classList.add(this.CSS.buttonUnlink), this.nodes.button.classList.add(this.CSS.buttonActive), this.openActions();
      const t = e.getAttribute("href");
      this.nodes.input.value = t !== "null" ? t : "", this.selection.save();
    } else
      this.nodes.button.innerHTML = Qe, this.nodes.button.classList.remove(this.CSS.buttonUnlink), this.nodes.button.classList.remove(this.CSS.buttonActive);
    return !!e;
  }
  /**
   * Function called with Inline Toolbar closing
   */
  clear() {
    this.closeActions();
  }
  /**
   * Set a shortcut
   */
  get shortcut() {
    return "CMD+K";
  }
  /**
   * Show/close link input
   */
  toggleActions() {
    this.inputOpened ? this.closeActions(false) : this.openActions(true);
  }
  /**
   * @param {boolean} needFocus - on link creation we need to focus input. On editing - nope.
   */
  openActions(e = false) {
    this.nodes.input.classList.add(this.CSS.inputShowed), e && this.nodes.input.focus(), this.inputOpened = true;
  }
  /**
   * Close input
   *
   * @param {boolean} clearSavedSelection  we don't need to clear saved selection
   *                                        on toggle-clicks on the icon of opened Toolbar
   */
  closeActions(e = true) {
    if (this.selection.isFakeBackgroundEnabled) {
      const t = new m();
      t.save(), this.selection.restore(), this.selection.removeFakeBackground(), t.restore();
    }
    this.nodes.input.classList.remove(this.CSS.inputShowed), this.nodes.input.value = "", e && this.selection.clearSaved(), this.inputOpened = false;
  }
  /**
   * Enter pressed on input
   *
   * @param {KeyboardEvent} event - enter keydown event
   */
  enterPressed(e) {
    let t = this.nodes.input.value || "";
    if (!t.trim()) {
      this.selection.restore(), this.unlink(), e.preventDefault(), this.closeActions();
      return;
    }
    if (!this.validateURL(t)) {
      this.notifier.show({
        message: "Pasted link is not valid.",
        style: "error"
      }), L("Incorrect Link pasted", "warn", t);
      return;
    }
    t = this.prepareLink(t), this.selection.restore(), this.selection.removeFakeBackground(), this.insertLink(t), e.preventDefault(), e.stopPropagation(), e.stopImmediatePropagation(), this.selection.collapseToEnd(), this.inlineToolbar.close();
  }
  /**
   * Detects if passed string is URL
   *
   * @param {string} str - string to validate
   * @returns {boolean}
   */
  validateURL(e) {
    return !/\s/.test(e);
  }
  /**
   * Process link before injection
   * - sanitize
   * - add protocol for links like 'google.com'
   *
   * @param {string} link - raw user input
   */
  prepareLink(e) {
    return e = e.trim(), e = this.addProtocol(e), e;
  }
  /**
   * Add 'http' protocol to the links like 'vc.ru', 'google.com'
   *
   * @param {string} link - string to process
   */
  addProtocol(e) {
    if (/^(\w+):(\/\/)?/.test(e))
      return e;
    const t = /^\/[^/\s]/.test(e), o = e.substring(0, 1) === "#", i = /^\/\/[^/\s]/.test(e);
    return !t && !o && !i && (e = "http://" + e), e;
  }
  /**
   * Inserts <a> tag with "href"
   *
   * @param {string} link - "href" value
   */
  insertLink(e) {
    const t = this.selection.findParentTag("A");
    t && this.selection.expandToTag(t), document.execCommand(this.commandLink, false, e);
  }
  /**
   * Removes <a> tag
   */
  unlink() {
    document.execCommand(this.commandUnlink);
  }
}
Ke.isInline = true;
Ke.title = "Link";
class Et {
  /**
   * @param options - constructor options
   * @param options.data - stub tool data
   * @param options.api - Editor.js API
   */
  constructor({ data: e, api: t }) {
    this.CSS = {
      wrapper: "ce-stub",
      info: "ce-stub__info",
      title: "ce-stub__title",
      subtitle: "ce-stub__subtitle"
    }, this.api = t, this.title = e.title || this.api.i18n.t("Error"), this.subtitle = this.api.i18n.t("The block can not be displayed correctly."), this.savedData = e.savedData, this.wrapper = this.make();
  }
  /**
   * Returns stub holder
   *
   * @returns {HTMLElement}
   */
  render() {
    return this.wrapper;
  }
  /**
   * Return original Tool data
   *
   * @returns {BlockToolData}
   */
  save() {
    return this.savedData;
  }
  /**
   * Create Tool html markup
   *
   * @returns {HTMLElement}
   */
  make() {
    const e = d.make("div", this.CSS.wrapper), t = Do, o = d.make("div", this.CSS.info), i = d.make("div", this.CSS.title, {
      textContent: this.title
    }), n = d.make("div", this.CSS.subtitle, {
      textContent: this.subtitle
    });
    return e.innerHTML = t, o.appendChild(i), o.appendChild(n), e.appendChild(o), e;
  }
}
Et.isReadOnlySupported = true;
class ai extends $e {
  constructor() {
    super(...arguments), this.type = ye.Inline;
  }
  /**
   * Returns title for Inline Tool if specified by user
   */
  get title() {
    return this.constructable[Ue.Title];
  }
  /**
   * Constructs new InlineTool instance from constructable
   */
  create() {
    return new this.constructable({
      api: this.api.getMethodsForTool(this),
      config: this.settings
    });
  }
}
class li extends $e {
  constructor() {
    super(...arguments), this.type = ye.Tune;
  }
  /**
   * Constructs new BlockTune instance from constructable
   *
   * @param data - Tune data
   * @param block - Block API object
   */
  create(e, t) {
    return new this.constructable({
      api: this.api.getMethodsForTool(this),
      config: this.settings,
      block: t,
      data: e
    });
  }
}
class U extends Map {
  /**
   * Returns Block Tools collection
   */
  get blockTools() {
    const e = Array.from(this.entries()).filter(([, t]) => t.isBlock());
    return new U(e);
  }
  /**
   * Returns Inline Tools collection
   */
  get inlineTools() {
    const e = Array.from(this.entries()).filter(([, t]) => t.isInline());
    return new U(e);
  }
  /**
   * Returns Block Tunes collection
   */
  get blockTunes() {
    const e = Array.from(this.entries()).filter(([, t]) => t.isTune());
    return new U(e);
  }
  /**
   * Returns internal Tools collection
   */
  get internalTools() {
    const e = Array.from(this.entries()).filter(([, t]) => t.isInternal);
    return new U(e);
  }
  /**
   * Returns Tools collection provided by user
   */
  get externalTools() {
    const e = Array.from(this.entries()).filter(([, t]) => !t.isInternal);
    return new U(e);
  }
}
var ci = Object.defineProperty, di = Object.getOwnPropertyDescriptor, Bt = (s, e, t, o) => {
  for (var i = o > 1 ? void 0 : o ? di(e, t) : e, n = s.length - 1, r; n >= 0; n--)
    (r = s[n]) && (i = (o ? r(e, t, i) : r(i)) || i);
  return o && i && ci(e, t, i), i;
};
class Xe extends $e {
  constructor() {
    super(...arguments), this.type = ye.Block, this.inlineTools = new U(), this.tunes = new U();
  }
  /**
   * Creates new Tool instance
   *
   * @param data - Tool data
   * @param block - BlockAPI for current Block
   * @param readOnly - True if Editor is in read-only mode
   */
  create(e, t, o) {
    return new this.constructable({
      data: e,
      block: t,
      readOnly: o,
      api: this.api.getMethodsForTool(this),
      config: this.settings
    });
  }
  /**
   * Returns true if read-only mode is supported by Tool
   */
  get isReadOnlySupported() {
    return this.constructable[se.IsReadOnlySupported] === true;
  }
  /**
   * Returns true if Tool supports linebreaks
   */
  get isLineBreaksEnabled() {
    return this.constructable[se.IsEnabledLineBreaks];
  }
  /**
   * Returns Tool toolbox configuration (internal or user-specified).
   *
   * Merges internal and user-defined toolbox configs based on the following rules:
   *
   * - If both internal and user-defined toolbox configs are arrays their items are merged.
   * Length of the second one is kept.
   *
   * - If both are objects their properties are merged.
   *
   * - If one is an object and another is an array than internal config is replaced with user-defined
   * config. This is made to allow user to override default tool's toolbox representation (single/multiple entries)
   */
  get toolbox() {
    const e = this.constructable[se.Toolbox], t = this.config[ke.Toolbox];
    if (!V(e) && t !== false)
      return t ? Array.isArray(e) ? Array.isArray(t) ? t.map((o, i) => {
        const n = e[i];
        return n ? __spreadValues(__spreadValues({}, n), o) : o;
      }) : [t] : Array.isArray(t) ? t : [
        __spreadValues(__spreadValues({}, e), t)
      ] : Array.isArray(e) ? e : [e];
  }
  /**
   * Returns Tool conversion configuration
   */
  get conversionConfig() {
    return this.constructable[se.ConversionConfig];
  }
  /**
   * Returns enabled inline tools for Tool
   */
  get enabledInlineTools() {
    return this.config[ke.EnabledInlineTools] || false;
  }
  /**
   * Returns enabled tunes for Tool
   */
  get enabledBlockTunes() {
    return this.config[ke.EnabledBlockTunes];
  }
  /**
   * Returns Tool paste configuration
   */
  get pasteConfig() {
    var _a;
    return (_a = this.constructable[se.PasteConfig]) != null ? _a : {};
  }
  get sanitizeConfig() {
    const e = super.sanitizeConfig, t = this.baseSanitizeConfig;
    if (V(e))
      return t;
    const o = {};
    for (const i in e)
      if (Object.prototype.hasOwnProperty.call(e, i)) {
        const n = e[i];
        z(n) ? o[i] = Object.assign({}, t, n) : o[i] = n;
      }
    return o;
  }
  get baseSanitizeConfig() {
    const e = {};
    return Array.from(this.inlineTools.values()).forEach((t) => Object.assign(e, t.sanitizeConfig)), Array.from(this.tunes.values()).forEach((t) => Object.assign(e, t.sanitizeConfig)), e;
  }
}
Bt([
  ce
], Xe.prototype, "sanitizeConfig", 1);
Bt([
  ce
], Xe.prototype, "baseSanitizeConfig", 1);
class hi {
  /**
   * @class
   * @param config - tools config
   * @param editorConfig - EditorJS config
   * @param api - EditorJS API module
   */
  constructor(e, t, o) {
    this.api = o, this.config = e, this.editorConfig = t;
  }
  /**
   * Returns Tool object based on it's type
   *
   * @param name - tool name
   */
  get(e) {
    const _a = this.config[e], { class: t, isInternal: o = false } = _a, i = __objRest(_a, ["class", "isInternal"]), n = this.getConstructor(t);
    return new n({
      name: e,
      constructable: t,
      config: i,
      api: this.api,
      isDefault: e === this.editorConfig.defaultBlock,
      defaultPlaceholder: this.editorConfig.placeholder,
      isInternal: o
    });
  }
  /**
   * Find appropriate Tool object constructor for Tool constructable
   *
   * @param constructable - Tools constructable
   */
  getConstructor(e) {
    switch (true) {
      case e[Ue.IsInline]:
        return ai;
      case e[xt.IsTune]:
        return li;
      default:
        return Xe;
    }
  }
}
class Tt {
  /**
   * MoveDownTune constructor
   *
   * @param {API} api  Editor's API
   */
  constructor({ api: e }) {
    this.CSS = {
      animation: "wobble"
    }, this.api = e;
  }
  /**
   * Tune's appearance in block settings menu
   */
  render() {
    return {
      icon: ft,
      title: this.api.i18n.t("Move down"),
      onActivate: () => this.handleClick(),
      name: "move-down"
    };
  }
  /**
   * Handle clicks on 'move down' button
   */
  handleClick() {
    const e = this.api.blocks.getCurrentBlockIndex(), t = this.api.blocks.getBlockByIndex(e + 1);
    if (!t)
      throw new Error("Unable to move Block down since it is already the last");
    const o = t.holder, i = o.getBoundingClientRect();
    let n = Math.abs(window.innerHeight - o.offsetHeight);
    i.top < window.innerHeight && (n = window.scrollY + o.offsetHeight), window.scrollTo(0, n), this.api.blocks.move(e + 1), this.api.toolbar.toggleBlockSettings(true);
  }
}
Tt.isTune = true;
class Ct {
  /**
   * DeleteTune constructor
   *
   * @param {API} api - Editor's API
   */
  constructor({ api: e }) {
    this.api = e;
  }
  /**
   * Tune's appearance in block settings menu
   */
  render() {
    return {
      icon: Mo,
      title: this.api.i18n.t("Delete"),
      name: "delete",
      confirmation: {
        title: this.api.i18n.t("Click to delete"),
        onActivate: () => this.handleClick()
      }
    };
  }
  /**
   * Delete block conditions passed
   */
  handleClick() {
    this.api.blocks.delete();
  }
}
Ct.isTune = true;
class St {
  /**
   * MoveUpTune constructor
   *
   * @param {API} api - Editor's API
   */
  constructor({ api: e }) {
    this.CSS = {
      animation: "wobble"
    }, this.api = e;
  }
  /**
   * Tune's appearance in block settings menu
   */
  render() {
    return {
      icon: Io,
      title: this.api.i18n.t("Move up"),
      onActivate: () => this.handleClick(),
      name: "move-up"
    };
  }
  /**
   * Move current block up
   */
  handleClick() {
    const e = this.api.blocks.getCurrentBlockIndex(), t = this.api.blocks.getBlockByIndex(e), o = this.api.blocks.getBlockByIndex(e - 1);
    if (e === 0 || !t || !o)
      throw new Error("Unable to move Block up since it is already the first");
    const i = t.holder, n = o.holder, r = i.getBoundingClientRect(), a = n.getBoundingClientRect();
    let l;
    a.top > 0 ? l = Math.abs(r.top) - Math.abs(a.top) : l = Math.abs(r.top) + a.height, window.scrollBy(0, -1 * l), this.api.blocks.move(e - 1), this.api.toolbar.toggleBlockSettings(true);
  }
}
St.isTune = true;
var ui = Object.defineProperty, pi = Object.getOwnPropertyDescriptor, fi = (s, e, t, o) => {
  for (var i = o > 1 ? void 0 : o ? pi(e, t) : e, n = s.length - 1, r; n >= 0; n--)
    (r = s[n]) && (i = (o ? r(e, t, i) : r(i)) || i);
  return o && i && ui(e, t, i), i;
};
class It extends C {
  constructor() {
    super(...arguments), this.stubTool = "stub", this.toolsAvailable = new U(), this.toolsUnavailable = new U();
  }
  /**
   * Returns available Tools
   */
  get available() {
    return this.toolsAvailable;
  }
  /**
   * Returns unavailable Tools
   */
  get unavailable() {
    return this.toolsUnavailable;
  }
  /**
   * Return Tools for the Inline Toolbar
   */
  get inlineTools() {
    return this.available.inlineTools;
  }
  /**
   * Return editor block tools
   */
  get blockTools() {
    return this.available.blockTools;
  }
  /**
   * Return available Block Tunes
   *
   * @returns {object} - object of Inline Tool's classes
   */
  get blockTunes() {
    return this.available.blockTunes;
  }
  /**
   * Returns default Tool object
   */
  get defaultTool() {
    return this.blockTools.get(this.config.defaultBlock);
  }
  /**
   * Returns internal tools
   */
  get internal() {
    return this.available.internalTools;
  }
  /**
   * Creates instances via passed or default configuration
   *
   * @returns {Promise<void>}
   */
  prepare() {
    return __async(this, null, function* () {
      if (this.validateTools(), this.config.tools = Se({}, this.internalTools, this.config.tools), !Object.prototype.hasOwnProperty.call(this.config, "tools") || Object.keys(this.config.tools).length === 0)
        throw Error("Can't start without tools");
      const e = this.prepareConfig();
      this.factory = new hi(e, this.config, this.Editor.API);
      const t = this.getListOfPrepareFunctions(e);
      if (t.length === 0)
        return Promise.resolve();
      yield Dt(t, (o) => {
        this.toolPrepareMethodSuccess(o);
      }, (o) => {
        this.toolPrepareMethodFallback(o);
      }), this.prepareBlockTools();
    });
  }
  getAllInlineToolsSanitizeConfig() {
    const e = {};
    return Array.from(this.inlineTools.values()).forEach((t) => {
      Object.assign(e, t.sanitizeConfig);
    }), e;
  }
  /**
   * Calls each Tool reset method to clean up anything set by Tool
   */
  destroy() {
    Object.values(this.available).forEach((e) => __async(this, null, function* () {
      D(e.reset) && (yield e.reset());
    }));
  }
  /**
   * Returns internal tools
   * Includes Bold, Italic, Link and Paragraph
   */
  get internalTools() {
    return {
      bold: {
        class: We,
        isInternal: true
      },
      italic: {
        class: Ye,
        isInternal: true
      },
      link: {
        class: Ke,
        isInternal: true
      },
      paragraph: {
        class: ri,
        inlineToolbar: true,
        isInternal: true
      },
      stub: {
        class: Et,
        isInternal: true
      },
      moveUp: {
        class: St,
        isInternal: true
      },
      delete: {
        class: Ct,
        isInternal: true
      },
      moveDown: {
        class: Tt,
        isInternal: true
      }
    };
  }
  /**
   * Tool prepare method success callback
   *
   * @param {object} data - append tool to available list
   */
  toolPrepareMethodSuccess(e) {
    const t = this.factory.get(e.toolName);
    if (t.isInline()) {
      const i = ["render", "surround", "checkState"].filter((n) => !t.create()[n]);
      if (i.length) {
        L(
          `Incorrect Inline Tool: ${t.name}. Some of required methods is not implemented %o`,
          "warn",
          i
        ), this.toolsUnavailable.set(t.name, t);
        return;
      }
    }
    this.toolsAvailable.set(t.name, t);
  }
  /**
   * Tool prepare method fail callback
   *
   * @param {object} data - append tool to unavailable list
   */
  toolPrepareMethodFallback(e) {
    this.toolsUnavailable.set(e.toolName, this.factory.get(e.toolName));
  }
  /**
   * Binds prepare function of plugins with user or default config
   *
   * @returns {Array} list of functions that needs to be fired sequentially
   * @param config - tools config
   */
  getListOfPrepareFunctions(e) {
    const t = [];
    return Object.entries(e).forEach(([o, i]) => {
      t.push({
        // eslint-disable-next-line @typescript-eslint/no-empty-function
        function: D(i.class.prepare) ? i.class.prepare : () => {
        },
        data: {
          toolName: o,
          config: i.config
        }
      });
    }), t;
  }
  /**
   * Assign enabled Inline Tools and Block Tunes for Block Tool
   */
  prepareBlockTools() {
    Array.from(this.blockTools.values()).forEach((e) => {
      this.assignInlineToolsToBlockTool(e), this.assignBlockTunesToBlockTool(e);
    });
  }
  /**
   * Assign enabled Inline Tools for Block Tool
   *
   * @param tool - Block Tool
   */
  assignInlineToolsToBlockTool(e) {
    if (this.config.inlineToolbar !== false) {
      if (e.enabledInlineTools === true) {
        e.inlineTools = new U(
          Array.isArray(this.config.inlineToolbar) ? this.config.inlineToolbar.map((t) => [t, this.inlineTools.get(t)]) : Array.from(this.inlineTools.entries())
        );
        return;
      }
      Array.isArray(e.enabledInlineTools) && (e.inlineTools = new U(
        e.enabledInlineTools.map((t) => [t, this.inlineTools.get(t)])
      ));
    }
  }
  /**
   * Assign enabled Block Tunes for Block Tool
   *
   * @param tool  Block Tool
   */
  assignBlockTunesToBlockTool(e) {
    if (e.enabledBlockTunes !== false) {
      if (Array.isArray(e.enabledBlockTunes)) {
        const t = new U(
          e.enabledBlockTunes.map((o) => [o, this.blockTunes.get(o)])
        );
        e.tunes = new U([...t, ...this.blockTunes.internalTools]);
        return;
      }
      if (Array.isArray(this.config.tunes)) {
        const t = new U(
          this.config.tunes.map((o) => [o, this.blockTunes.get(o)])
        );
        e.tunes = new U([...t, ...this.blockTunes.internalTools]);
        return;
      }
      e.tunes = this.blockTunes.internalTools;
    }
  }
  /**
   * Validate Tools configuration objects and throw Error for user if it is invalid
   */
  validateTools() {
    for (const e in this.config.tools)
      if (Object.prototype.hasOwnProperty.call(this.config.tools, e)) {
        if (e in this.internalTools)
          return;
        const t = this.config.tools[e];
        if (!D(t) && !D(t.class))
          throw Error(
            `Tool \xAB${e}\xBB must be a constructor function or an object with function in the \xABclass\xBB property`
          );
      }
  }
  /**
   * Unify tools config
   */
  prepareConfig() {
    const e = {};
    for (const t in this.config.tools)
      z(this.config.tools[t]) ? e[t] = this.config.tools[t] : e[t] = { class: this.config.tools[t] };
    return e;
  }
}
fi([
  ce
], It.prototype, "getAllInlineToolsSanitizeConfig", 1);
const gi = `:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0px;left:0px;right:0px;bottom:0px;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}.codex-editor ::-moz-selection{background-color:#d4ecff}.codex-editor ::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;-webkit-transform:translateX(-50%) translateY(8px) scale(.94);transform:translate(-50%) translateY(8px) scale(.94);opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease,-webkit-transform .15s ease;transition:opacity .25s ease,-webkit-transform .15s ease;transition:transform .15s ease,opacity .25s ease;transition:transform .15s ease,opacity .25s ease,-webkit-transform .15s ease;will-change:transform,opacity;top:0;left:0;z-index:3}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:translateX(-50%);transform:translate(-50%)}.ce-inline-toolbar--left-oriented{-webkit-transform:translateX(-23px) translateY(8px) scale(.94);transform:translate(-23px) translateY(8px) scale(.94)}.ce-inline-toolbar--left-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-23px);transform:translate(-23px)}.ce-inline-toolbar--right-oriented{-webkit-transform:translateX(-100%) translateY(8px) scale(.94);transform:translate(-100%) translateY(8px) scale(.94);margin-left:23px}.ce-inline-toolbar--right-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-100%);transform:translate(-100%)}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;border-radius:0;line-height:normal}.ce-inline-tool svg{width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#eff2f5}}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48);-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:190px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px rgba(201,201,204,.48);box-shadow:0 0 0 1px #c9c9cc7a;border-radius:5px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#fff;-webkit-box-sizing:content-box;box-sizing:content-box;-ms-flex-negative:0;flex-shrink:0;margin-right:10px}.ce-conversion-tool__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-conversion-tool__icon{width:36px;height:36px;border-radius:8px}.ce-conversion-tool__icon svg{width:28px;height:28px}}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important}.ce-conversion-tool--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-conversion-tool__secondary-label{color:#707684;font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-conversion-tool__secondary-label{display:none}}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;line-height:32px}.ce-settings__button svg{width:20px;height:20px}@media (max-width: 650px){.ce-settings__button svg{width:28px;height:28px}}@media (hover: hover){.ce-settings__button:hover{background-color:#eff2f5}}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{background:rgba(34,186,255,.08)!important}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button--disabled{cursor:not-allowed!important}.ce-settings__button--disabled{opacity:.3}.ce-settings__button--selected{color:#388ae5}@media (min-width: 651px){.codex-editor--narrow .ce-settings .ce-popover{right:0;left:auto;left:initial}}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@media (min-width: 651px){.codex-editor--narrow .ce-block--focused{margin-right:-50px;padding-right:50px}}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button svg{width:20px;height:20px}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 18px;margin:10px 0;border-radius:10px;background:#eff2f5;border:1px solid #EFF0F1;color:#707684;font-size:14px}.ce-stub svg{width:20px;height:20px}.ce-stub__info{margin-left:14px}.ce-stub__title{font-weight:500;text-transform:capitalize}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0px;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:rgba(232,232,235,.49);border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #e8e8eb;--color-shadow: rgba(13,20,33,.13);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #eff2f5;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:0;top:calc(100% + var(--offset-from-target));background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}.ce-popover--open-top{top:calc(-1 * (var(--offset-from-target) + var(--popover-height)))}@media (max-width: 650px){.ce-popover{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}.ce-popover .ce-popover__search{display:none}}.ce-popover__search,.ce-popover__custom-content:not(:empty){margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover__custom-content:not(:empty){padding:4px}@media (min-width: 651px){.ce-popover__custom-content:not(:empty){padding:0}}.ce-popover__custom-content--hidden{display:none}.ce-popover-item{--border-radius: 6px;--icon-size: 20px;--icon-size-mobile: 28px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:3px;color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{border-radius:5px;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px var(--color-border-icon);box-shadow:0 0 0 1px var(--color-border-icon);background:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:var(--icon-size-mobile);height:var(--icon-size-mobile)}}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--active .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--disabled .ce-popover-item__icon{-webkit-box-shadow:0 0 0 1px var(--color-border-icon-disabled);box-shadow:0 0 0 1px var(--color-border-icon-disabled)}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--focused:not(.ce-popover-item--no-focus){-webkit-box-shadow:inset 0 0 0px 1px var(--color-shadow-item-focus);box-shadow:inset 0 0 0 1px var(--color-shadow-item-focus)}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}.ce-popover-item:hover .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__icon{color:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}.ce-popover-item--confirmation .ce-popover-item__icon,.ce-popover-item--active .ce-popover-item__icon,.ce-popover-item--focused .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}
`;
class bi extends C {
  constructor() {
    super(...arguments), this.isMobile = false, this.contentRectCache = void 0, this.resizeDebouncer = Ht(() => {
      this.windowResize();
    }, 200);
  }
  /**
   * Editor.js UI CSS class names
   *
   * @returns {{editorWrapper: string, editorZone: string}}
   */
  get CSS() {
    return {
      editorWrapper: "codex-editor",
      editorWrapperNarrow: "codex-editor--narrow",
      editorZone: "codex-editor__redactor",
      editorZoneHidden: "codex-editor__redactor--hidden",
      editorEmpty: "codex-editor--empty",
      editorRtlFix: "codex-editor--rtl"
    };
  }
  /**
   * Return Width of center column of Editor
   *
   * @returns {DOMRect}
   */
  get contentRect() {
    if (this.contentRectCache)
      return this.contentRectCache;
    const e = this.nodes.wrapper.querySelector(`.${F.CSS.content}`);
    return e ? (this.contentRectCache = e.getBoundingClientRect(), this.contentRectCache) : {
      width: 650,
      left: 0,
      right: 0
    };
  }
  /**
   * Making main interface
   */
  prepare() {
    return __async(this, null, function* () {
      this.checkIsMobile(), this.make(), this.loadStyles();
    });
  }
  /**
   * Toggle read-only state
   *
   * If readOnly is true:
   *  - removes all listeners from main UI module elements
   *
   * if readOnly is false:
   *  - enables all listeners to UI module elements
   *
   * @param {boolean} readOnlyEnabled - "read only" state
   */
  toggleReadOnly(e) {
    e ? this.disableModuleBindings() : this.enableModuleBindings();
  }
  /**
   * Check if Editor is empty and set CSS class to wrapper
   */
  checkEmptiness() {
    const { BlockManager: e } = this.Editor;
    this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty, e.isEditorEmpty);
  }
  /**
   * Check if one of Toolbar is opened
   * Used to prevent global keydowns (for example, Enter) conflicts with Enter-on-toolbar
   *
   * @returns {boolean}
   */
  get someToolbarOpened() {
    const { Toolbar: e, BlockSettings: t, InlineToolbar: o, ConversionToolbar: i } = this.Editor;
    return t.opened || o.opened || i.opened || e.toolbox.opened;
  }
  /**
   * Check for some Flipper-buttons is under focus
   */
  get someFlipperButtonFocused() {
    return this.Editor.Toolbar.toolbox.hasFocus() ? true : Object.entries(this.Editor).filter(([e, t]) => t.flipper instanceof G).some(([e, t]) => t.flipper.hasFocus());
  }
  /**
   * Clean editor`s UI
   */
  destroy() {
    this.nodes.holder.innerHTML = "";
  }
  /**
   * Close all Editor's toolbars
   */
  closeAllToolbars() {
    const { Toolbar: e, BlockSettings: t, InlineToolbar: o, ConversionToolbar: i } = this.Editor;
    t.close(), o.close(), i.close(), e.toolbox.close();
  }
  /**
   * Check for mobile mode and cache a result
   */
  checkIsMobile() {
    this.isMobile = window.innerWidth < rt;
  }
  /**
   * Makes Editor.js interface
   */
  make() {
    this.nodes.holder = d.getHolder(this.config.holder), this.nodes.wrapper = d.make("div", [
      this.CSS.editorWrapper,
      ...this.isRtl ? [this.CSS.editorRtlFix] : []
    ]), this.nodes.redactor = d.make("div", this.CSS.editorZone), this.nodes.holder.offsetWidth < this.contentRect.width && this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow), this.nodes.redactor.style.paddingBottom = this.config.minHeight + "px", this.nodes.wrapper.appendChild(this.nodes.redactor), this.nodes.holder.appendChild(this.nodes.wrapper);
  }
  /**
   * Appends CSS
   */
  loadStyles() {
    const e = "editor-js-styles";
    if (d.get(e))
      return;
    const t = d.make("style", null, {
      id: e,
      textContent: gi.toString()
    });
    d.prepend(document.head, t);
  }
  /**
   * Bind events on the Editor.js interface
   */
  enableModuleBindings() {
    this.readOnlyMutableListeners.on(this.nodes.redactor, "click", (e) => {
      this.redactorClicked(e);
    }, false), this.readOnlyMutableListeners.on(this.nodes.redactor, "mousedown", (e) => {
      this.documentTouched(e);
    }, true), this.readOnlyMutableListeners.on(this.nodes.redactor, "touchstart", (e) => {
      this.documentTouched(e);
    }, true), this.readOnlyMutableListeners.on(document, "keydown", (e) => {
      this.documentKeydown(e);
    }, true), this.readOnlyMutableListeners.on(document, "mousedown", (e) => {
      this.documentClicked(e);
    }, true), this.readOnlyMutableListeners.on(document, "selectionchange", () => {
      this.selectionChanged();
    }, true), this.readOnlyMutableListeners.on(window, "resize", () => {
      this.resizeDebouncer();
    }, {
      passive: true
    }), this.watchBlockHoveredEvents();
  }
  /**
   * Listen redactor mousemove to emit 'block-hovered' event
   */
  watchBlockHoveredEvents() {
    let e;
    this.readOnlyMutableListeners.on(this.nodes.redactor, "mousemove", Ce((t) => {
      const o = t.target.closest(".ce-block");
      this.Editor.BlockSelection.anyBlockSelected || o && e !== o && (e = o, this.eventsDispatcher.emit(kt, {
        block: this.Editor.BlockManager.getBlockByChildNode(o)
      }));
    }, 20), {
      passive: true
    });
  }
  /**
   * Unbind events on the Editor.js interface
   */
  disableModuleBindings() {
    this.readOnlyMutableListeners.clearAll();
  }
  /**
   * Resize window handler
   */
  windowResize() {
    this.contentRectCache = null, this.checkIsMobile();
  }
  /**
   * All keydowns on document
   *
   * @param {KeyboardEvent} event - keyboard event
   */
  documentKeydown(e) {
    switch (e.keyCode) {
      case B.ENTER:
        this.enterPressed(e);
        break;
      case B.BACKSPACE:
      case B.DELETE:
        this.backspacePressed(e);
        break;
      case B.ESC:
        this.escapePressed(e);
        break;
      default:
        this.defaultBehaviour(e);
        break;
    }
  }
  /**
   * Ignore all other document's keydown events
   *
   * @param {KeyboardEvent} event - keyboard event
   */
  defaultBehaviour(e) {
    const { currentBlock: t } = this.Editor.BlockManager, o = e.target.closest(`.${this.CSS.editorWrapper}`), i = e.altKey || e.ctrlKey || e.metaKey || e.shiftKey;
    if (t !== void 0 && o === null) {
      this.Editor.BlockEvents.keydown(e);
      return;
    }
    o || t && i || (this.Editor.BlockManager.dropPointer(), this.Editor.Toolbar.close());
  }
  /**
   * @param {KeyboardEvent} event - keyboard event
   */
  backspacePressed(e) {
    const { BlockManager: t, BlockSelection: o, Caret: i } = this.Editor;
    if (o.anyBlockSelected && !m.isSelectionExists) {
      const n = t.removeSelectedBlocks();
      i.setToBlock(t.insertDefaultBlockAtIndex(n, true), i.positions.START), o.clearSelection(e), e.preventDefault(), e.stopPropagation(), e.stopImmediatePropagation();
    }
  }
  /**
   * Escape pressed
   * If some of Toolbar components are opened, then close it otherwise close Toolbar
   *
   * @param {Event} event - escape keydown event
   */
  escapePressed(e) {
    this.Editor.BlockSelection.clearSelection(e), this.Editor.Toolbar.toolbox.opened ? (this.Editor.Toolbar.toolbox.close(), this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock)) : this.Editor.BlockSettings.opened ? this.Editor.BlockSettings.close() : this.Editor.ConversionToolbar.opened ? this.Editor.ConversionToolbar.close() : this.Editor.InlineToolbar.opened ? this.Editor.InlineToolbar.close() : this.Editor.Toolbar.close();
  }
  /**
   * Enter pressed on document
   *
   * @param {KeyboardEvent} event - keyboard event
   */
  enterPressed(e) {
    const { BlockManager: t, BlockSelection: o } = this.Editor, i = t.currentBlockIndex >= 0;
    if (o.anyBlockSelected && !m.isSelectionExists) {
      o.clearSelection(e), e.preventDefault(), e.stopImmediatePropagation(), e.stopPropagation();
      return;
    }
    if (!this.someToolbarOpened && i && e.target.tagName === "BODY") {
      const n = this.Editor.BlockManager.insert();
      this.Editor.Caret.setToBlock(n), this.Editor.BlockManager.highlightCurrentNode(), this.Editor.Toolbar.moveAndOpen(n);
    }
    this.Editor.BlockSelection.clearSelection(e);
  }
  /**
   * All clicks on document
   *
   * @param {MouseEvent} event - Click event
   */
  documentClicked(e) {
    if (!e.isTrusted)
      return;
    const t = e.target;
    this.nodes.holder.contains(t) || m.isAtEditor || (this.Editor.BlockManager.dropPointer(), this.Editor.Toolbar.close());
    const i = this.Editor.BlockSettings.nodes.wrapper.contains(t), n = this.Editor.Toolbar.nodes.settingsToggler.contains(t), r = i || n;
    if (this.Editor.BlockSettings.opened && !r) {
      this.Editor.BlockSettings.close();
      const a = this.Editor.BlockManager.getBlockByChildNode(t);
      this.Editor.Toolbar.moveAndOpen(a);
    }
    this.Editor.BlockSelection.clearSelection(e);
  }
  /**
   * First touch on editor
   * Fired before click
   *
   * Used to change current block  we need to do it before 'selectionChange' event.
   * Also:
   * - Move and show the Toolbar
   * - Set a Caret
   *
   * @param {MouseEvent | TouchEvent} event - touch or mouse event
   */
  documentTouched(e) {
    let t = e.target;
    if (t === this.nodes.redactor) {
      const o = e instanceof MouseEvent ? e.clientX : e.touches[0].clientX, i = e instanceof MouseEvent ? e.clientY : e.touches[0].clientY;
      t = document.elementFromPoint(o, i);
    }
    try {
      this.Editor.BlockManager.setCurrentBlockByChildNode(t), this.Editor.BlockManager.highlightCurrentNode();
    } catch (e2) {
      this.Editor.RectangleSelection.isRectActivated() || this.Editor.Caret.setToTheLastBlock();
    }
    this.Editor.Toolbar.moveAndOpen();
  }
  /**
   * All clicks on the redactor zone
   *
   * @param {MouseEvent} event - click event
   * @description
   * - By clicks on the Editor's bottom zone:
   *      - if last Block is empty, set a Caret to this
   *      - otherwise, add a new empty Block and set a Caret to that
   */
  redactorClicked(e) {
    const { BlockSelection: t } = this.Editor;
    if (!m.isCollapsed)
      return;
    const o = () => {
      e.stopImmediatePropagation(), e.stopPropagation();
    }, i = e.target, n = e.metaKey || e.ctrlKey;
    if (d.isAnchor(i) && n) {
      o();
      const u = i.getAttribute("href"), h = zt(u);
      $t(h);
      return;
    }
    const r = this.Editor.BlockManager.getBlockByIndex(-1), a = d.offset(r.holder).bottom, l = e.pageY;
    if (e.target instanceof Element && e.target.isEqualNode(this.nodes.redactor) && /**
    * If there is cross block selection started, target will be equal to redactor so we need additional check
    */
    !t.anyBlockSelected && /**
    * Prevent caret jumping (to last block) when clicking between blocks
    */
    a < l) {
      o();
      const { BlockManager: u, Caret: h, Toolbar: f } = this.Editor;
      (!u.lastBlock.tool.isDefault || !u.lastBlock.isEmpty) && u.insertAtEnd(), h.setToTheLastBlock(), f.moveAndOpen(u.lastBlock);
    }
  }
  /**
   * Handle selection changes on mobile devices
   * Uses for showing the Inline Toolbar
   */
  selectionChanged() {
    const { CrossBlockSelection: e, BlockSelection: t } = this.Editor, o = m.anchorElement;
    if (e.isCrossBlockSelectionStarted && t.anyBlockSelected && m.get().removeAllRanges(), !o) {
      m.range || this.Editor.InlineToolbar.close();
      return;
    }
    const i = o.closest(`.${F.CSS.content}`) === null;
    if (i && (this.Editor.InlineToolbar.containsNode(o) || this.Editor.InlineToolbar.close(), !(o.dataset.inlineToolbar === "true")))
      return;
    this.Editor.BlockManager.currentBlock || this.Editor.BlockManager.setCurrentBlockByChildNode(o);
    const n = i !== true;
    this.Editor.InlineToolbar.tryToShow(true, n);
  }
}
const mi = {
  // API Modules
  BlocksAPI: Qt,
  CaretAPI: eo,
  EventsAPI: to,
  I18nAPI: Pe,
  API: oo,
  InlineToolbarAPI: io,
  ListenersAPI: no,
  NotifierAPI: lo,
  ReadOnlyAPI: co,
  SanitizerAPI: mo,
  SaverAPI: ko,
  SelectionAPI: vo,
  StylesAPI: xo,
  ToolbarAPI: wo,
  TooltipAPI: Bo,
  UiAPI: To,
  // Toolbar Modules
  BlockSettings: jo,
  ConversionToolbar: Y,
  Toolbar: Ko,
  InlineToolbar: Xo,
  // Modules
  BlockEvents: Vo,
  BlockManager: Go,
  BlockSelection: Jo,
  Caret: ve,
  CrossBlockSelection: Qo,
  DragNDrop: ei,
  ModificationsObserver: ti,
  Paste: yt,
  ReadOnly: oi,
  RectangleSelection: fe,
  Renderer: ii,
  Saver: ni,
  Tools: It,
  UI: bi
};
class ki {
  /**
   * @param {EditorConfig} config - user configuration
   */
  constructor(e) {
    this.moduleInstances = {}, this.eventsDispatcher = new we();
    let t, o;
    this.isReady = new Promise((i, n) => {
      t = i, o = n;
    }), Promise.resolve().then(() => __async(this, null, function* () {
      this.configuration = e, this.validate(), this.init(), yield this.start(), yield this.render();
      const { BlockManager: i, Caret: n, UI: r, ModificationsObserver: a } = this.moduleInstances;
      r.checkEmptiness(), a.enable(), this.configuration.autofocus && (n.setToBlock(i.blocks[0], n.positions.START), i.highlightCurrentNode()), t();
    })).catch((i) => {
      L(`Editor.js is not ready because of ${i}`, "error"), o(i);
    });
  }
  /**
   * Setting for configuration
   *
   * @param {EditorConfig|string} config - Editor's config to set
   */
  set configuration(e) {
    var o, i;
    z(e) ? this.config = __spreadValues({}, e) : this.config = {
      holder: e
    }, Ie(!!this.config.holderId, "config.holderId", "config.holder"), this.config.holderId && !this.config.holder && (this.config.holder = this.config.holderId, this.config.holderId = null), this.config.holder == null && (this.config.holder = "editorjs"), this.config.logLevel || (this.config.logLevel = it.VERBOSE), Nt(this.config.logLevel), Ie(!!this.config.initialBlock, "config.initialBlock", "config.defaultBlock"), this.config.defaultBlock = this.config.defaultBlock || this.config.initialBlock || "paragraph", this.config.minHeight = this.config.minHeight !== void 0 ? this.config.minHeight : 300;
    const t = {
      type: this.config.defaultBlock,
      data: {}
    };
    this.config.placeholder = this.config.placeholder || false, this.config.sanitizer = this.config.sanitizer || {
      p: true,
      b: true,
      a: true
    }, this.config.hideToolbar = this.config.hideToolbar ? this.config.hideToolbar : false, this.config.tools = this.config.tools || {}, this.config.i18n = this.config.i18n || {}, this.config.data = this.config.data || { blocks: [] }, this.config.onReady = this.config.onReady || (() => {
    }), this.config.onChange = this.config.onChange || (() => {
    }), this.config.inlineToolbar = this.config.inlineToolbar !== void 0 ? this.config.inlineToolbar : true, (V(this.config.data) || !this.config.data.blocks || this.config.data.blocks.length === 0) && (this.config.data = { blocks: [t] }), this.config.readOnly = this.config.readOnly || false, (o = this.config.i18n) != null && o.messages && $.setDictionary(this.config.i18n.messages), this.config.i18n.direction = ((i = this.config.i18n) == null ? void 0 : i.direction) || "ltr";
  }
  /**
   * Returns private property
   *
   * @returns {EditorConfig}
   */
  get configuration() {
    return this.config;
  }
  /**
   * Checks for required fields in Editor's config
   */
  validate() {
    const { holderId: e, holder: t } = this.config;
    if (e && t)
      throw Error("\xABholderId\xBB and \xABholder\xBB param can't assign at the same time.");
    if (J(t) && !d.get(t))
      throw Error(`element with ID \xAB${t}\xBB is missing. Pass correct holder's ID.`);
    if (t && z(t) && !d.isElement(t))
      throw Error("\xABholder\xBB value must be an Element node");
  }
  /**
   * Initializes modules:
   *  - make and save instances
   *  - configure
   */
  init() {
    this.constructModules(), this.configureModules();
  }
  /**
   * Start Editor!
   *
   * Get list of modules that needs to be prepared and return a sequence (Promise)
   *
   * @returns {Promise<void>}
   */
  start() {
    return __async(this, null, function* () {
      yield [
        "Tools",
        "UI",
        "BlockManager",
        "Paste",
        "BlockSelection",
        "RectangleSelection",
        "CrossBlockSelection",
        "ReadOnly"
      ].reduce(
        (t, o) => t.then(() => __async(this, null, function* () {
          try {
            yield this.moduleInstances[o].prepare();
          } catch (i) {
            if (i instanceof lt)
              throw new Error(i.message);
            L(`Module ${o} was skipped because of %o`, "warn", i);
          }
        })),
        Promise.resolve()
      );
    });
  }
  /**
   * Render initial data
   */
  render() {
    return this.moduleInstances.Renderer.render(this.config.data.blocks);
  }
  /**
   * Make modules instances and save it to the @property this.moduleInstances
   */
  constructModules() {
    Object.entries(mi).forEach(([e, t]) => {
      try {
        this.moduleInstances[e] = new t({
          config: this.configuration,
          eventsDispatcher: this.eventsDispatcher
        });
      } catch (o) {
        L("[constructModules]", `Module ${e} skipped because`, "error", o);
      }
    });
  }
  /**
   * Modules instances configuration:
   *  - pass other modules to the 'state' property
   *  - ...
   */
  configureModules() {
    for (const e in this.moduleInstances)
      Object.prototype.hasOwnProperty.call(this.moduleInstances, e) && (this.moduleInstances[e].state = this.getModulesDiff(e));
  }
  /**
   * Return modules without passed name
   *
   * @param {string} name - module for witch modules difference should be calculated
   */
  getModulesDiff(e) {
    const t = {};
    for (const o in this.moduleInstances)
      o !== e && (t[o] = this.moduleInstances[o]);
    return t;
  }
}
/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */
class vi {
  /** Editor version */
  static get version() {
    return "2.28.2";
  }
  /**
   * @param {EditorConfig|string|undefined} [configuration] - user configuration
   */
  constructor(e) {
    let t = () => {
    };
    z(e) && D(e.onReady) && (t = e.onReady);
    const o = new ki(e);
    this.isReady = o.isReady.then(() => {
      this.exportAPI(o), t();
    });
  }
  /**
   * Export external API methods
   *
   * @param {Core} editor  Editor's instance
   */
  exportAPI(e) {
    const t = ["configuration"], o = () => {
      Object.values(e.moduleInstances).forEach((n) => {
        D(n.destroy) && n.destroy(), n.listeners.removeAll();
      }), e = null;
      for (const n in this)
        Object.prototype.hasOwnProperty.call(this, n) && delete this[n];
      Object.setPrototypeOf(this, null);
    };
    t.forEach((n) => {
      this[n] = e[n];
    }), this.destroy = o, Object.setPrototypeOf(this, e.moduleInstances.API.methods), delete this.exportAPI, Object.entries({
      blocks: {
        clear: "clear",
        render: "render"
      },
      caret: {
        focus: "focus"
      },
      events: {
        on: "on",
        off: "off",
        emit: "emit"
      },
      saver: {
        save: "save"
      }
    }).forEach(([n, r]) => {
      Object.entries(r).forEach(([a, l]) => {
        this[l] = e.moduleInstances.API.methods[n][a];
      });
    });
  }
}



/***/ }),

/***/ "./node_modules/@editorjs/header/dist/header.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@editorjs/header/dist/header.mjs ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(__webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return c; });
(function() {
  "use strict";
  try {
    if (typeof document < "u") {
      var e = document.createElement("style");
      e.appendChild(document.createTextNode(".ce-header{padding:.6em 0 3px;margin:0;line-height:1.25em;outline:none}.ce-header p,.ce-header div{padding:0!important;margin:0!important}.ce-header[contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;display:none;cursor:text}.ce-header[contentEditable=true][data-placeholder]:empty:before{display:block}.ce-header[contentEditable=true][data-placeholder]:empty:focus:before{display:none}")), document.head.appendChild(e);
    }
  } catch (t) {
    console.error("vite-plugin-css-injected-by-js", t);
  }
})();
const i = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>', a = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>', l = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>', o = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>', h = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>', d = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>', u = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>';
/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */
class c {
  /**
   * Render plugin`s main Element and fill it with saved data
   *
   * @param {{data: HeaderData, config: HeaderConfig, api: object}}
   *   data  previously saved data
   *   config - user config for Tool
   *   api - Editor.js API
   *   readOnly - read only mode flag
   */
  constructor({ data: e, config: t, api: s, readOnly: r }) {
    this.api = s, this.readOnly = r, this._CSS = {
      block: this.api.styles.block,
      wrapper: "ce-header"
    }, this._settings = t, this._data = this.normalizeData(e), this._element = this.getTag();
  }
  /**
   * Normalize input data
   *
   * @param {HeaderData} data - saved data to process
   *
   * @returns {HeaderData}
   * @private
   */
  normalizeData(e) {
    const t = {};
    return typeof e != "object" && (e = {}), t.text = e.text || "", t.level = parseInt(e.level) || this.defaultLevel.number, t;
  }
  /**
   * Return Tool's view
   *
   * @returns {HTMLHeadingElement}
   * @public
   */
  render() {
    return this._element;
  }
  /**
   * Returns header block tunes config
   *
   * @returns {Array}
   */
  renderSettings() {
    return this.levels.map((e) => ({
      icon: e.svg,
      label: this.api.i18n.t(`Heading ${e.number}`),
      onActivate: () => this.setLevel(e.number),
      closeOnActivate: true,
      isActive: this.currentLevel.number === e.number
    }));
  }
  /**
   * Callback for Block's settings buttons
   *
   * @param {number} level - level to set
   */
  setLevel(e) {
    this.data = {
      level: e,
      text: this.data.text
    };
  }
  /**
   * Method that specified how to merge two Text blocks.
   * Called by Editor.js by backspace at the beginning of the Block
   *
   * @param {HeaderData} data - saved data to merger with current block
   * @public
   */
  merge(e) {
    const t = {
      text: this.data.text + e.text,
      level: this.data.level
    };
    this.data = t;
  }
  /**
   * Validate Text block data:
   * - check for emptiness
   *
   * @param {HeaderData} blockData  data received after saving
   * @returns {boolean} false if saved data is not correct, otherwise true
   * @public
   */
  validate(e) {
    return e.text.trim() !== "";
  }
  /**
   * Extract Tool's data from the view
   *
   * @param {HTMLHeadingElement} toolsContent - Text tools rendered view
   * @returns {HeaderData} - saved data
   * @public
   */
  save(e) {
    return {
      text: e.innerHTML,
      level: this.currentLevel.number
    };
  }
  /**
   * Allow Header to be converted to/from other blocks
   */
  static get conversionConfig() {
    return {
      export: "text",
      // use 'text' property for other blocks
      import: "text"
      // fill 'text' property from other block's export string
    };
  }
  /**
   * Sanitizer Rules
   */
  static get sanitize() {
    return {
      level: false,
      text: {}
    };
  }
  /**
   * Returns true to notify core that read-only is supported
   *
   * @returns {boolean}
   */
  static get isReadOnlySupported() {
    return true;
  }
  /**
   * Get current Tools`s data
   *
   * @returns {HeaderData} Current data
   * @private
   */
  get data() {
    return this._data.text = this._element.innerHTML, this._data.level = this.currentLevel.number, this._data;
  }
  /**
   * Store data in plugin:
   * - at the this._data property
   * - at the HTML
   *
   * @param {HeaderData} data  data to set
   * @private
   */
  set data(e) {
    if (this._data = this.normalizeData(e), e.level !== void 0 && this._element.parentNode) {
      const t = this.getTag();
      t.innerHTML = this._element.innerHTML, this._element.parentNode.replaceChild(t, this._element), this._element = t;
    }
    e.text !== void 0 && (this._element.innerHTML = this._data.text || "");
  }
  /**
   * Get tag for target level
   * By default returns second-leveled header
   *
   * @returns {HTMLElement}
   */
  getTag() {
    const e = document.createElement(this.currentLevel.tag);
    return e.innerHTML = this._data.text || "", e.classList.add(this._CSS.wrapper), e.contentEditable = this.readOnly ? "false" : "true", e.dataset.placeholder = this.api.i18n.t(this._settings.placeholder || ""), e;
  }
  /**
   * Get current level
   *
   * @returns {level}
   */
  get currentLevel() {
    let e = this.levels.find((t) => t.number === this._data.level);
    return e || (e = this.defaultLevel), e;
  }
  /**
   * Return default level
   *
   * @returns {level}
   */
  get defaultLevel() {
    if (this._settings.defaultLevel) {
      const e = this.levels.find((t) => t.number === this._settings.defaultLevel);
      if (e)
        return e;
      console.warn("(\u0E07'\u0300-'\u0301)\u0E07 Heading Tool: the default level specified was not found in available levels");
    }
    return this.levels[1];
  }
  /**
   * @typedef {object} level
   * @property {number} number - level number
   * @property {string} tag - tag corresponds with level number
   * @property {string} svg - icon
   */
  /**
   * Available header levels
   *
   * @returns {level[]}
   */
  get levels() {
    const e = [
      {
        number: 1,
        tag: "H1",
        svg: i
      },
      {
        number: 2,
        tag: "H2",
        svg: a
      },
      {
        number: 3,
        tag: "H3",
        svg: l
      },
      {
        number: 4,
        tag: "H4",
        svg: o
      },
      {
        number: 5,
        tag: "H5",
        svg: h
      },
      {
        number: 6,
        tag: "H6",
        svg: d
      }
    ];
    return this._settings.levels ? e.filter(
      (t) => this._settings.levels.includes(t.number)
    ) : e;
  }
  /**
   * Handle H1-H6 tags on paste to substitute it with header Tool
   *
   * @param {PasteEvent} event - event with pasted content
   */
  onPaste(e) {
    const t = e.detail.data;
    let s = this.defaultLevel.number;
    switch (t.tagName) {
      case "H1":
        s = 1;
        break;
      case "H2":
        s = 2;
        break;
      case "H3":
        s = 3;
        break;
      case "H4":
        s = 4;
        break;
      case "H5":
        s = 5;
        break;
      case "H6":
        s = 6;
        break;
    }
    this._settings.levels && (s = this._settings.levels.reduce((r, n) => Math.abs(n - s) < Math.abs(r - s) ? n : r)), this.data = {
      level: s,
      text: t.innerHTML
    };
  }
  /**
   * Used by Editor.js paste handling API.
   * Provides configuration to handle H1-H6 tags.
   *
   * @returns {{handler: (function(HTMLElement): {text: string}), tags: string[]}}
   */
  static get pasteConfig() {
    return {
      tags: ["H1", "H2", "H3", "H4", "H5", "H6"]
    };
  }
  /**
   * Get Tool toolbox settings
   * icon - Tool icon's SVG
   * title - title to show in toolbox
   *
   * @returns {{icon: string, title: string}}
   */
  static get toolbox() {
    return {
      icon: u,
      title: "Heading"
    };
  }
}



/***/ }),

/***/ "./node_modules/@editorjs/list/dist/list.mjs":
/*!***************************************************!*\
  !*** ./node_modules/@editorjs/list/dist/list.mjs ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(__webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return d; });
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a2, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a2, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a2, prop, b[prop]);
    }
  return a2;
};
var __spreadProps = (a2, b) => __defProps(a2, __getOwnPropDescs(b));
(function() {
  "use strict";
  try {
    if (typeof document < "u") {
      var e = document.createElement("style");
      e.appendChild(document.createTextNode(".cdx-list{margin:0;padding-left:40px;outline:none}.cdx-list__item{padding:5.5px 0 5.5px 3px;line-height:1.6em}.cdx-list--unordered{list-style:disc}.cdx-list--ordered{list-style:decimal}.cdx-list-settings{display:flex}.cdx-list-settings .cdx-settings-button{width:50%}")), document.head.appendChild(e);
    }
  } catch (t) {
    console.error("vite-plugin-css-injected-by-js", t);
  }
})();
const a = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>', o = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>';
class d {
  /**
   * Notify core that read-only mode is supported
   *
   * @returns {boolean}
   */
  static get isReadOnlySupported() {
    return true;
  }
  /**
   * Allow to use native Enter behaviour
   *
   * @returns {boolean}
   * @public
   */
  static get enableLineBreaks() {
    return true;
  }
  /**
   * Get Tool toolbox settings
   * icon - Tool icon's SVG
   * title - title to show in toolbox
   *
   * @returns {{icon: string, title: string}}
   */
  static get toolbox() {
    return {
      icon: a,
      title: "List"
    };
  }
  /**
   * Render plugin`s main Element and fill it with saved data
   *
   * @param {object} params - tool constructor options
   * @param {ListData} params.data - previously saved data
   * @param {object} params.config - user config for Tool
   * @param {object} params.api - Editor.js API
   * @param {boolean} params.readOnly - read-only mode flag
   */
  constructor({ data: e, config: t, api: r, readOnly: s }) {
    this._elements = {
      wrapper: null
    }, this.api = r, this.readOnly = s, this.settings = [
      {
        name: "unordered",
        label: this.api.i18n.t("Unordered"),
        icon: a,
        default: t.defaultStyle === "unordered" || false
      },
      {
        name: "ordered",
        label: this.api.i18n.t("Ordered"),
        icon: o,
        default: t.defaultStyle === "ordered" || true
      }
    ], this._data = {
      style: this.settings.find((i) => i.default === true).name,
      items: []
    }, this.data = e;
  }
  /**
   * Returns list tag with items
   *
   * @returns {Element}
   * @public
   */
  render() {
    return this._elements.wrapper = this.makeMainTag(this._data.style), this._data.items.length ? this._data.items.forEach((e) => {
      this._elements.wrapper.appendChild(this._make("li", this.CSS.item, {
        innerHTML: e
      }));
    }) : this._elements.wrapper.appendChild(this._make("li", this.CSS.item)), this.readOnly || this._elements.wrapper.addEventListener("keydown", (e) => {
      const [t, r] = [13, 8];
      switch (e.keyCode) {
        case t:
          this.getOutofList(e);
          break;
        case r:
          this.backspace(e);
          break;
      }
    }, false), this._elements.wrapper;
  }
  /**
   * @returns {ListData}
   * @public
   */
  save() {
    return this.data;
  }
  /**
   * Allow List Tool to be converted to/from other block
   *
   * @returns {{export: Function, import: Function}}
   */
  static get conversionConfig() {
    return {
      /**
       * To create exported string from list, concatenate items by dot-symbol.
       *
       * @param {ListData} data - list data to create a string from thats
       * @returns {string}
       */
      export: (e) => e.items.join(". "),
      /**
       * To create a list from other block's string, just put it at the first item
       *
       * @param {string} string - string to create list tool data from that
       * @returns {ListData}
       */
      import: (e) => ({
        items: [e],
        style: "unordered"
      })
    };
  }
  /**
   * Sanitizer rules
   *
   * @returns {object}
   */
  static get sanitize() {
    return {
      style: {},
      items: {
        br: true
      }
    };
  }
  /**
   * Settings
   *
   * @public
   * @returns {Array}
   */
  renderSettings() {
    return this.settings.map((e) => __spreadProps(__spreadValues({}, e), {
      isActive: this._data.style === e.name,
      closeOnActivate: true,
      onActivate: () => this.toggleTune(e.name)
    }));
  }
  /**
   * On paste callback that is fired from Editor
   *
   * @param {PasteEvent} event - event with pasted data
   */
  onPaste(e) {
    const t = e.detail.data;
    this.data = this.pasteHandler(t);
  }
  /**
   * List Tool on paste configuration
   *
   * @public
   */
  static get pasteConfig() {
    return {
      tags: ["OL", "UL", "LI"]
    };
  }
  /**
   * Creates main <ul> or <ol> tag depended on style
   *
   * @param {string} style - 'ordered' or 'unordered'
   * @returns {HTMLOListElement|HTMLUListElement}
   */
  makeMainTag(e) {
    const t = e === "ordered" ? this.CSS.wrapperOrdered : this.CSS.wrapperUnordered, r = e === "ordered" ? "ol" : "ul";
    return this._make(r, [this.CSS.baseBlock, this.CSS.wrapper, t], {
      contentEditable: !this.readOnly
    });
  }
  /**
   * Toggles List style
   *
   * @param {string} style - 'ordered'|'unordered'
   */
  toggleTune(e) {
    const t = this.makeMainTag(e);
    for (; this._elements.wrapper.hasChildNodes(); )
      t.appendChild(this._elements.wrapper.firstChild);
    this._elements.wrapper.replaceWith(t), this._elements.wrapper = t, this._data.style = e;
  }
  /**
   * Styles
   *
   * @private
   */
  get CSS() {
    return {
      baseBlock: this.api.styles.block,
      wrapper: "cdx-list",
      wrapperOrdered: "cdx-list--ordered",
      wrapperUnordered: "cdx-list--unordered",
      item: "cdx-list__item"
    };
  }
  /**
   * List data setter
   *
   * @param {ListData} listData
   */
  set data(e) {
    e || (e = {}), this._data.style = e.style || this.settings.find((r) => r.default === true).name, this._data.items = e.items || [];
    const t = this._elements.wrapper;
    t && t.parentNode.replaceChild(this.render(), t);
  }
  /**
   * Return List data
   *
   * @returns {ListData}
   */
  get data() {
    this._data.items = [];
    const e = this._elements.wrapper.querySelectorAll(`.${this.CSS.item}`);
    for (let t = 0; t < e.length; t++)
      e[t].innerHTML.replace("<br>", " ").trim() && this._data.items.push(e[t].innerHTML);
    return this._data;
  }
  /**
   * Helper for making Elements with attributes
   *
   * @param  {string} tagName           - new Element tag name
   * @param  {Array|string} classNames  - list or name of CSS classname(s)
   * @param  {object} attributes        - any attributes
   * @returns {Element}
   */
  _make(e, t = null, r = {}) {
    const s = document.createElement(e);
    Array.isArray(t) ? s.classList.add(...t) : t && s.classList.add(t);
    for (const i in r)
      s[i] = r[i];
    return s;
  }
  /**
   * Returns current List item by the caret position
   *
   * @returns {Element}
   */
  get currentItem() {
    let e = window.getSelection().anchorNode;
    return e.nodeType !== Node.ELEMENT_NODE && (e = e.parentNode), e.closest(`.${this.CSS.item}`);
  }
  /**
   * Get out from List Tool
   * by Enter on the empty last item
   *
   * @param {KeyboardEvent} event
   */
  getOutofList(e) {
    const t = this._elements.wrapper.querySelectorAll("." + this.CSS.item);
    if (t.length < 2)
      return;
    const r = t[t.length - 1], s = this.currentItem;
    s === r && !r.textContent.trim().length && (s.parentElement.removeChild(s), this.api.blocks.insert(), this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()), e.preventDefault(), e.stopPropagation());
  }
  /**
   * Handle backspace
   *
   * @param {KeyboardEvent} event
   */
  backspace(e) {
    const t = this._elements.wrapper.querySelectorAll("." + this.CSS.item), r = t[0];
    r && t.length < 2 && !r.innerHTML.replace("<br>", " ").trim() && e.preventDefault();
  }
  /**
   * Select LI content by CMD+A
   *
   * @param {KeyboardEvent} event
   */
  selectItem(e) {
    e.preventDefault();
    const t = window.getSelection(), r = t.anchorNode.parentNode, s = r.closest("." + this.CSS.item), i = new Range();
    i.selectNodeContents(s), t.removeAllRanges(), t.addRange(i);
  }
  /**
   * Handle UL, OL and LI tags paste and returns List data
   *
   * @param {HTMLUListElement|HTMLOListElement|HTMLLIElement} element
   * @returns {ListData}
   */
  pasteHandler(e) {
    const { tagName: t } = e;
    let r;
    switch (t) {
      case "OL":
        r = "ordered";
        break;
      case "UL":
      case "LI":
        r = "unordered";
    }
    const s = {
      style: r,
      items: []
    };
    if (t === "LI")
      s.items = [e.innerHTML];
    else {
      const i = Array.from(e.querySelectorAll("LI"));
      s.items = i.map((n) => n.innerHTML).filter((n) => !!n.trim());
    }
    return s;
  }
}



/***/ }),

/***/ "./node_modules/a11y-dialog-component/dist/a11y-dialog-component.esm.js":
/*!******************************************************************************!*\
  !*** ./node_modules/a11y-dialog-component/dist/a11y-dialog-component.esm.js ***!
  \******************************************************************************/
/*! exports provided: default, setDefaults */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setDefaults", function() { return setDefaults; });
/* defaults.js
 ========================================================================== */

// Global configuration
var config = {
  documentSelector: '.js-document',
  documentDisabledClass: 'is-disabled',
  openingTriggerActiveClass: 'is-active',
  delay: 200,
};

/* focusableElements.js
 ========================================================================== */

// Keyboard focusable elements
var focusableElements = [
  '[href]:not([tabindex^="-"])',
  'input:not([disabled]):not([type="hidden"]):not([tabindex^="-"]):not([type="radio"])',
  'input[type="radio"]:checked',
  'select:not([disabled]):not([tabindex^="-"])',
  'textarea:not([disabled]):not([tabindex^="-"])',
  'button:not([disabled]):not([tabindex^="-"])',
  '[tabindex]:not([tabindex^="-"])',
  '[contenteditable="true"]:not([tabindex^="-"])',
];

/* keyCodes.js
 ========================================================================== */

// Keyboard codes
var keyCodes = {
  escape: 'Escape',
  tab: 'Tab',
  f6: 'F6',
};

/* utils.js
 ========================================================================== */

// Only get visible elements
function getVisibleElements(elements) {
  const visibleElements = [];

  elements.forEach((element) => {
    const bounding = element.getBoundingClientRect();
    const isVisible = bounding.width > 0 || bounding.height > 0;

    if (isVisible) visibleElements.push(element);
  });

  return visibleElements;
}

// Only get no nested elements
function getNoNestedElements(context, selector, elements) {
  const nestedComponents = context.querySelectorAll(selector);
  const noNestedElements = [];
  let isNested = false;

  if (nestedComponents.length === 0) return elements;

  elements.forEach((element) => {
    nestedComponents.forEach((nestedComponent) => {
      if (nestedComponent.contains(element)) isNested = true;
    });

    if (!isNested) noNestedElements.push(element);

    isNested = false;
  });

  return noNestedElements;
}

// Check if the parent elements match the target
function closest(element, target) {
  let currentElement = element;

  while (currentElement !== target && currentElement) {
    currentElement = currentElement.parentNode;
  }

  return !!currentElement;
}

/* a11y-dialog-component
 ========================================================================== */

// Use Symbols to create private methods
const onClick = Symbol('onClick');
const onKeydown = Symbol('onKeydown');
const addEventDelegation = Symbol('addEventDelegation');
const addEventListeners = Symbol('addEventListeners');
const removeEventListeners = Symbol('removeEventListeners');
const addAttributes = Symbol('addAttributes');
const removeAttributes = Symbol('removeAttributes');
const setAttributes = Symbol('setAttributes');
const setFocusableElements = Symbol('setFocusableElements');
const setFocus = Symbol('setFocus');
const restoreFocus = Symbol('restoreFocus');
const switchFocus = Symbol('switchFocus');
const maintainFocus = Symbol('maintainFocus');
const addObserver = Symbol('addObserver');
const removeObserver = Symbol('removeObserver');

let customConfig = config;

// Update the global configuration if needed
function setDefaults({
  documentSelector = customConfig.documentSelector,
  documentDisabledClass = customConfig.documentDisabledClass,
  openingTriggerActiveClass = customConfig.openingTriggerActiveClass,
  delay = customConfig.delay,
} = {}) {
  customConfig = {
    ...config,
    ...{
      documentSelector,
      documentDisabledClass,
      openingTriggerActiveClass,
      delay,
    },
  };
}

// Export the default Dialog() class
class Dialog {
  constructor(
    dialogSelector,
    {
      onOpen = () => {},
      onClose = () => {},
      openingSelector,
      closingSelector,
      backdropSelector,
      helperSelector,
      labelledby,
      describedby,
      isModal = true,
      isTooltip = false,
      isOpen = false,
      isCreated = true,
      disableScroll = true,
      enableAutoFocus = true,
      openingTriggerActiveClass = customConfig.openingTriggerActiveClass,
      delay = customConfig.delay,
    } = {},
  ) {
    // Check if the dialog exists, if not, set `isInitialized` to false
    if (!document.querySelector(dialogSelector)) {
      this.isInitialized = false;
      return;
    }

    // Save the initial configuration
    this.config = {
      dialogSelector,
      onOpen,
      onClose,
      openingSelector,
      closingSelector,
      backdropSelector,
      helperSelector,
      labelledby,
      describedby,
      isModal,
      isTooltip,
      isCreated,
      isOpen,
      disableScroll,
      enableAutoFocus,
      documentSelector: customConfig.documentSelector,
      documentDisabledClass: customConfig.documentDisabledClass,
      openingTriggerActiveClass,
      delay,
    };

    this.dialog = document.querySelector(dialogSelector);
    this.dialogArea = `${dialogSelector}, ${openingSelector}`;
    this.openingTriggers = document.querySelectorAll(openingSelector);
    this.backdropTrigger = document.querySelector(backdropSelector);
    this.helpers = document.querySelectorAll(helperSelector);

    this.document = document.querySelector(this.config.documentSelector) || document.querySelector('html');
    this.documentIsAlreadyDisabled = false;

    this.focusableElements = [];
    this.firstFocusableElement = null;
    this.lastFocusableElement = null;
    this.openingTrigger = null;
    this.closingTrigger = null;

    this.isCreated = false;
    this.isOpen = false;

    this.close = this.close.bind(this);
    this.toggle = this.toggle.bind(this);
    this[onClick] = this[onClick].bind(this);
    this[onKeydown] = this[onKeydown].bind(this);
    this[addEventDelegation] = this[addEventDelegation].bind(this);
    this[switchFocus] = this[switchFocus].bind(this);

    // Add mutation observer to update focusable elements
    this.observer = new MutationObserver((mutations) => mutations.forEach(() => this[setFocusableElements]()));

    // initialize the dialog
    this.isInitialized = true;

    // Create the dialog
    if (isCreated) this.create();
  }

  [onClick](event) {
    if (this.config.isTooltip && !event.target.closest(this.dialogArea)) {
      this.close(event);
    }
    if (event.target === this.backdropTrigger) this.close(event);
  }

  [onKeydown](event) {
    switch (event.key) {
      case keyCodes.escape:
        event.stopPropagation();
        this.close(event);
        break;
      case keyCodes.f6:
        if (!this.config.isModal) !this.config.isTooltip ? this[restoreFocus]() : this.close(event);
        break;
      case keyCodes.tab:
        this[maintainFocus](event);
        break;
    }
  }

  [addEventDelegation](event) {
    document.querySelectorAll(this.config.openingSelector).forEach((openingTrigger) => {
      if (closest(event.target, openingTrigger)) {
        this.openingTrigger = openingTrigger;
        this.toggle(event);
      }
    });

    document.querySelectorAll(this.config.closingSelector).forEach((closingTrigger) => {
      if (closest(event.target, closingTrigger)) {
        this.closingTrigger = closingTrigger;
        this.close();
      }
    });
  }

  [addEventListeners]() {
    document.addEventListener('click', this[onClick], { capture: true });
    this.dialog.addEventListener('keydown', this[onKeydown]);
  }

  [removeEventListeners]() {
    document.removeEventListener('click', this[onClick], { capture: true });
    this.dialog.removeEventListener('keydown', this[onKeydown]);

    if (this.openingTrigger) this.openingTrigger.removeEventListener('keydown', this[switchFocus]);
  }

  [addAttributes]() {
    this.dialog.setAttribute('role', 'dialog');
    this.dialog.setAttribute('tabindex', -1);
    this.dialog.setAttribute('aria-hidden', true);

    if (this.config.labelledby) this.dialog.setAttribute('aria-labelledby', this.config.labelledby);
    if (this.config.describedby) this.dialog.setAttribute('aria-describedby', this.config.describedby);

    if (this.config.isModal) this.dialog.setAttribute('aria-modal', true);

    this.openingTriggers.forEach((openingTrigger) => openingTrigger.setAttribute('aria-haspopup', 'dialog'));
  }

  [removeAttributes]() {
    this.dialog.removeAttribute('role');
    this.dialog.removeAttribute('tabindex');
    this.dialog.removeAttribute('aria-hidden');
    this.dialog.removeAttribute('aria-labelledby');
    this.dialog.removeAttribute('aria-describedby');
    this.dialog.removeAttribute('aria-modal');

    if (this.config.disableScroll && this.isOpen && !this.documentIsAlreadyDisabled) {
      this.document.classList.remove(this.config.documentDisabledClass);
    }

    this.openingTriggers.forEach((openingTrigger) => openingTrigger.removeAttribute('aria-haspopup'));

    if (this.openingTrigger) this.openingTrigger.classList.remove(this.config.openingTriggerActiveClass);

    this.helpers.forEach((helper) => helper.classList.remove(this.config.openingTriggerActiveClass));
  }

  [setAttributes]() {
    this.dialog.setAttribute('aria-hidden', !this.isOpen);

    if (this.config.disableScroll && !this.documentIsAlreadyDisabled) {
      if (this.isOpen) {
        this.document.classList.add(this.config.documentDisabledClass);
      } else {
        this.document.classList.remove(this.config.documentDisabledClass);
      }
    }

    if (this.openingTrigger) {
      if (this.isOpen) {
        this.openingTrigger.classList.add(this.config.openingTriggerActiveClass);
      } else {
        this.openingTrigger.classList.remove(this.config.openingTriggerActiveClass);
      }
    }

    this.helpers.forEach((helper) => {
      if (this.isOpen) {
        helper.classList.add(this.config.openingTriggerActiveClass);
      } else {
        helper.classList.remove(this.config.openingTriggerActiveClass);
      }
    });
  }

  [setFocusableElements]() {
    const visibleFocusableElements = getVisibleElements(this.dialog.querySelectorAll(focusableElements));
    const filteredFocusableElements = getNoNestedElements(this.dialog, '[role="dialog"]', visibleFocusableElements);

    this.focusableElements = filteredFocusableElements.length > 0 ? filteredFocusableElements : [this.dialog];
    [this.firstFocusableElement] = this.focusableElements;
    this.lastFocusableElement = this.focusableElements[this.focusableElements.length - 1];
  }

  [setFocus]() {
    if (this.config.enableAutoFocus) window.setTimeout(() => this.firstFocusableElement.focus(), this.config.delay);
  }

  [restoreFocus]() {
    if (this.config.enableAutoFocus) window.setTimeout(() => this.openingTrigger.focus(), this.config.delay);

    // Switch focus between the current opening trigger and the non-modal dialog
    if (this.isOpen) this.openingTrigger.addEventListener('keydown', this[switchFocus]);
  }

  [switchFocus](event) {
    if (event.key === keyCodes.f6) {
      this.openingTrigger.removeEventListener('keydown', this[switchFocus]);
      this[setFocus]();
    }
  }

  [maintainFocus](event) {
    if (event.shiftKey && event.target === this.firstFocusableElement) {
      event.preventDefault();
      this.lastFocusableElement.focus();
    }

    if (!event.shiftKey && event.target === this.lastFocusableElement) {
      event.preventDefault();
      this.firstFocusableElement.focus();
    }
  }

  [addObserver]() {
    this.observer.observe(this.dialog, { childList: true, attributes: true, subtree: true });
  }

  [removeObserver]() {
    this.observer.disconnect();
  }

  open() {
    if (!this.isInitialized || !this.isCreated || this.isOpen) return;

    this.isOpen = true;
    this.documentIsAlreadyDisabled = this.document.classList.contains(this.config.documentDisabledClass);

    this[setAttributes]();
    this[addEventListeners]();
    this[setFocus]();

    this.config.onOpen(this.dialog, this.openingTrigger);
  }

  close(event) {
    if (!this.isInitialized || !this.isCreated || !this.isOpen) return;

    this.isOpen = false;

    if (event) event.preventDefault();

    this[setAttributes]();
    this[removeEventListeners]();

    // Restore focus except for tooltip click events
    if (this.openingTrigger && (!this.config.isTooltip || (this.config.isTooltip && event && event.type !== 'click'))) {
      this[restoreFocus]();
    }

    this.config.onClose(this.dialog, this.closingTrigger);
  }

  toggle(event) {
    if (!this.isInitialized || !this.isCreated) return;

    if (event) event.preventDefault();

    this.isOpen ? this.close() : this.open();
  }

  create() {
    if (!this.isInitialized || this.isCreated) return;

    this.isCreated = true;

    this[addAttributes]();
    this[setFocusableElements]();
    this[addObserver]();

    if (this.config.isOpen) this.open();

    document.addEventListener('click', this[addEventDelegation], { capture: true });
  }

  destroy() {
    if (!this.isInitialized || !this.isCreated) return;

    this.close();

    this.isCreated = false;

    this[removeAttributes]();
    this[removeEventListeners]();
    this[removeObserver]();

    document.removeEventListener('click', this[addEventDelegation], { capture: true });
  }
}

/* harmony default export */ __webpack_exports__["default"] = (Dialog);



/***/ }),

/***/ "./node_modules/editorjs-hyperlink/dist/bundle.js":
/*!********************************************************!*\
  !*** ./node_modules/editorjs-hyperlink/dist/bundle.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

(function webpackUniversalModuleDefinition(root, factory) {
	if(true)
		module.exports = factory();
	else {}
})(window, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/Hyperlink.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/css-loader/dist/cjs.js!./src/Hyperlink.css":
/*!*****************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/Hyperlink.css ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, \".ce-inline-tool-hyperlink-wrapper {\\r\\n    outline: none;\\r\\n    border: 0;\\r\\n    border-radius: 0 0 4px 4px;\\r\\n    margin: 0;\\r\\n    font-size: 13px;\\r\\n    padding: 10px;\\r\\n    width: 100%;\\r\\n    -webkit-box-sizing: border-box;\\r\\n    box-sizing: border-box;\\r\\n    display: none;\\r\\n    font-weight: 500;\\r\\n    border-top: 1px solid rgba(201,201,204,.48);\\r\\n}\\r\\n\\r\\n.ce-inline-tool-hyperlink-wrapper.ce-inline-tool-hyperlink-wrapper--showed {\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n.ce-inline-tool-hyperlink--input,\\r\\n.ce-inline-tool-hyperlink--select-target,\\r\\n.ce-inline-tool-hyperlink--select-rel {\\r\\n    border: 1px solid rgba(201,201,204,.48);\\r\\n    -webkit-box-shadow: inset 0 1px 2px 0 rgba(35,44,72,.06);\\r\\n    box-shadow: inset 0 1px 2px 0 rgba(35,44,72,.06);\\r\\n    border-radius: 5px;\\r\\n    padding: 5px 8px;\\r\\n    margin-bottom: 10px;\\r\\n    outline: none;\\r\\n    width: 100%;\\r\\n    -webkit-box-sizing: border-box;\\r\\n    box-sizing: border-box;\\r\\n}\\r\\n\\r\\n.ce-inline-tool-hyperlink--select-target,\\r\\n.ce-inline-tool-hyperlink--select-rel {\\r\\n    width: 48%;\\r\\n    display: inline-block;\\r\\n}\\r\\n.ce-inline-tool-hyperlink--select-target {\\r\\n    margin-right: 2%;\\r\\n}\\r\\n.ce-inline-tool-hyperlink--select-rel {\\r\\n    margin-left: 2%;\\r\\n}\\r\\n\\r\\n.ce-inline-tool-hyperlink--button {\\r\\n    display: block;\\r\\n    width: 100%;\\r\\n    background-color: #34c38f;\\r\\n    color: #fff;\\r\\n    padding: 7px 0;\\r\\n    border: none;\\r\\n    text-align: center;\\r\\n    text-decoration: none;\\r\\n    font-size: 16px;\\r\\n    border-radius: 5px;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n\n\n//# sourceURL=webpack://Hyperlink/./src/Hyperlink.css?./node_modules/css-loader/dist/cjs.js");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}\n\n//# sourceURL=webpack://Hyperlink/./node_modules/css-loader/dist/runtime/api.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce =  true ? __webpack_require__.nc : undefined;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};\n\n//# sourceURL=webpack://Hyperlink/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js?");

/***/ }),

/***/ "./src/Hyperlink.css":
/*!***************************!*\
  !*** ./src/Hyperlink.css ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var api = __webpack_require__(/*! ../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js!./Hyperlink.css */ \"./node_modules/css-loader/dist/cjs.js!./src/Hyperlink.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};\n\n//# sourceURL=webpack://Hyperlink/./src/Hyperlink.css?");

/***/ }),

/***/ "./src/Hyperlink.js":
/*!**************************!*\
  !*** ./src/Hyperlink.js ***!
  \**************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Hyperlink; });\n/* harmony import */ var _SelectionUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SelectionUtils */ \"./src/SelectionUtils.js\");\n/* harmony import */ var _Hyperlink_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Hyperlink.css */ \"./src/Hyperlink.css\");\n/* harmony import */ var _Hyperlink_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_Hyperlink_css__WEBPACK_IMPORTED_MODULE_1__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar Hyperlink = /*#__PURE__*/function () {\n  function Hyperlink(_ref) {\n    var data = _ref.data,\n        config = _ref.config,\n        api = _ref.api,\n        readOnly = _ref.readOnly;\n\n    _classCallCheck(this, Hyperlink);\n\n    this.toolbar = api.toolbar;\n    this.inlineToolbar = api.inlineToolbar;\n    this.tooltip = api.tooltip;\n    this.i18n = api.i18n;\n    this.config = config;\n    this.selection = new _SelectionUtils__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n    this.commandLink = 'createLink';\n    this.commandUnlink = 'unlink';\n    this.CSS = {\n      wrapper: 'ce-inline-tool-hyperlink-wrapper',\n      wrapperShowed: 'ce-inline-tool-hyperlink-wrapper--showed',\n      button: 'ce-inline-tool',\n      buttonActive: 'ce-inline-tool--active',\n      buttonModifier: 'ce-inline-tool--link',\n      buttonUnlink: 'ce-inline-tool--unlink',\n      input: 'ce-inline-tool-hyperlink--input',\n      selectTarget: 'ce-inline-tool-hyperlink--select-target',\n      selectRel: 'ce-inline-tool-hyperlink--select-rel',\n      buttonSave: 'ce-inline-tool-hyperlink--button'\n    };\n    this.targetAttributes = this.config.availableTargets || ['_blank', // Opens the linked document in a new window or tab\n    '_self', // Opens the linked document in the same frame as it was clicked (this is default)\n    '_parent', // Opens the linked document in the parent frame\n    '_top' // Opens the linked document in the full body of the window\n    ];\n    this.relAttributes = this.config.availableRels || ['alternate', //Provides a link to an alternate representation of the document (i.e. print page, translated or mirror)\n    'author', //Provides a link to the author of the document\n    'bookmark', //Permanent URL used for bookmarking\n    'external', //Indicates that the referenced document is not part of the same site as the current document\n    'help', //Provides a link to a help document\n    'license', //Provides a link to licensing information for the document\n    'next', //Provides a link to the next document in the series\n    'nofollow', //Links to an unendorsed document, like a paid link. (\"nofollow\" is used by Google, to specify that the Google search spider should not follow that link)\n    'noreferrer', //Requires that the browser should not send an HTTP referer header if the user follows the hyperlink\n    'noopener', //Requires that any browsing context created by following the hyperlink must not have an opener browsing context\n    'prev', //The previous document in a selection\n    'search', //Links to a search tool for the document\n    'tag' //A tag (keyword) for the current document\n    ];\n    this.nodes = {\n      button: null,\n      wrapper: null,\n      input: null,\n      selectTarget: null,\n      selectRel: null,\n      buttonSave: null\n    };\n    this.inputOpened = false;\n  }\n\n  _createClass(Hyperlink, [{\n    key: \"render\",\n    value: function render() {\n      this.nodes.button = document.createElement('button');\n      this.nodes.button.type = 'button';\n      this.nodes.button.classList.add(this.CSS.button, this.CSS.buttonModifier);\n      this.nodes.button.appendChild(this.iconSvg('link', 14, 10));\n      this.nodes.button.appendChild(this.iconSvg('unlink', 15, 11));\n      return this.nodes.button;\n    }\n  }, {\n    key: \"renderActions\",\n    value: function renderActions() {\n      var _this = this;\n\n      this.nodes.wrapper = document.createElement('div');\n      this.nodes.wrapper.classList.add(this.CSS.wrapper); // Input\n\n      this.nodes.input = document.createElement('input');\n      this.nodes.input.placeholder = 'https://...';\n      this.nodes.input.classList.add(this.CSS.input);\n      var i; // Target\n\n      this.nodes.selectTarget = document.createElement('select');\n      this.nodes.selectTarget.classList.add(this.CSS.selectTarget);\n      this.addOption(this.nodes.selectTarget, this.i18n.t('Select target'), '');\n\n      for (i = 0; i < this.targetAttributes.length; i++) {\n        this.addOption(this.nodes.selectTarget, this.targetAttributes[i], this.targetAttributes[i]);\n      }\n\n      if (!!this.config.target) {\n        this.nodes.selectTarget.value = this.config.target;\n      } // Rel\n\n\n      this.nodes.selectRel = document.createElement('select');\n      this.nodes.selectRel.classList.add(this.CSS.selectRel);\n      this.addOption(this.nodes.selectRel, this.i18n.t('Select rel'), '');\n\n      for (i = 0; i < this.relAttributes.length; i++) {\n        this.addOption(this.nodes.selectRel, this.relAttributes[i], this.relAttributes[i]);\n      }\n\n      if (!!this.config.rel) {\n        this.nodes.selectRel.value = this.config.rel;\n      } // Button\n\n\n      this.nodes.buttonSave = document.createElement('button');\n      this.nodes.buttonSave.type = 'button';\n      this.nodes.buttonSave.classList.add(this.CSS.buttonSave);\n      this.nodes.buttonSave.innerHTML = this.i18n.t('Save');\n      this.nodes.buttonSave.addEventListener('click', function (event) {\n        _this.savePressed(event);\n      }); // append\n\n      this.nodes.wrapper.appendChild(this.nodes.input);\n      this.nodes.wrapper.appendChild(this.nodes.selectTarget);\n      this.nodes.wrapper.appendChild(this.nodes.selectRel);\n      this.nodes.wrapper.appendChild(this.nodes.buttonSave);\n      return this.nodes.wrapper;\n    }\n  }, {\n    key: \"surround\",\n    value: function surround(range) {\n      if (range) {\n        if (!this.inputOpened) {\n          this.selection.setFakeBackground();\n          this.selection.save();\n        } else {\n          this.selection.restore();\n          this.selection.removeFakeBackground();\n        }\n\n        var parentAnchor = this.selection.findParentTag('A');\n\n        if (parentAnchor) {\n          this.selection.expandToTag(parentAnchor);\n          this.unlink();\n          this.closeActions();\n          this.checkState();\n          this.toolbar.close();\n          return;\n        }\n      }\n\n      this.toggleActions();\n    }\n  }, {\n    key: \"checkState\",\n    value: function checkState() {\n      var selection = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var anchorTag = this.selection.findParentTag('A');\n\n      if (anchorTag) {\n        this.nodes.button.classList.add(this.CSS.buttonUnlink);\n        this.nodes.button.classList.add(this.CSS.buttonActive);\n        this.openActions();\n        var hrefAttr = anchorTag.getAttribute('href');\n        var targetAttr = anchorTag.getAttribute('target');\n        var relAttr = anchorTag.getAttribute('rel');\n        this.nodes.input.value = !!hrefAttr ? hrefAttr : '';\n        this.nodes.selectTarget.value = !!targetAttr ? targetAttr : '';\n        this.nodes.selectRel.value = !!relAttr ? relAttr : '';\n        this.selection.save();\n      } else {\n        this.nodes.button.classList.remove(this.CSS.buttonUnlink);\n        this.nodes.button.classList.remove(this.CSS.buttonActive);\n      }\n\n      return !!anchorTag;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.closeActions();\n    }\n  }, {\n    key: \"toggleActions\",\n    value: function toggleActions() {\n      if (!this.inputOpened) {\n        this.openActions(true);\n      } else {\n        this.closeActions(false);\n      }\n    }\n  }, {\n    key: \"openActions\",\n    value: function openActions() {\n      var needFocus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      this.nodes.wrapper.classList.add(this.CSS.wrapperShowed);\n\n      if (needFocus) {\n        this.nodes.input.focus();\n      }\n\n      this.inputOpened = true;\n    }\n  }, {\n    key: \"closeActions\",\n    value: function closeActions() {\n      var clearSavedSelection = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      if (this.selection.isFakeBackgroundEnabled) {\n        var currentSelection = new _SelectionUtils__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n        currentSelection.save();\n        this.selection.restore();\n        this.selection.removeFakeBackground();\n        currentSelection.restore();\n      }\n\n      this.nodes.wrapper.classList.remove(this.CSS.wrapperShowed);\n      this.nodes.input.value = '';\n      this.nodes.selectTarget.value = '';\n      this.nodes.selectRel.value = '';\n\n      if (clearSavedSelection) {\n        this.selection.clearSaved();\n      }\n\n      this.inputOpened = false;\n    }\n  }, {\n    key: \"savePressed\",\n    value: function savePressed(event) {\n      event.preventDefault();\n      event.stopPropagation();\n      event.stopImmediatePropagation();\n      var value = this.nodes.input.value || '';\n      var target = this.nodes.selectTarget.value || '';\n      var rel = this.nodes.selectRel.value || '';\n\n      if (!value.trim()) {\n        this.selection.restore();\n        this.unlink();\n        event.preventDefault();\n        this.closeActions();\n      } // if (!this.validateURL(value)) {\n      //     this.tooltip.show(this.nodes.input, 'Pasted link is not valid.', {\n      //         placement: 'top',\n      //     });\n      //     setTimeout(() => {\n      //         this.tooltip.hide();\n      //     }, 1000);\n      //     return;\n      // }\n\n\n      value = this.prepareLink(value);\n      this.selection.restore();\n      this.selection.removeFakeBackground();\n      this.insertLink(value, target, rel);\n      this.selection.collapseToEnd();\n      this.inlineToolbar.close();\n    }\n  }, {\n    key: \"validateURL\",\n    value: function validateURL(str) {\n      var pattern = new RegExp('^(https?:\\\\/\\\\/)?' + // protocol\n      '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|' + // domain name\n      '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))' + // OR ip (v4) address\n      '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*' + // port and path\n      '(\\\\?[;&a-z\\\\d%_.~+=-]*)?' + // query string\n      '(\\\\#[-a-z\\\\d_]*)?$', 'i'); // fragment locator\n\n      return !!pattern.test(str);\n    }\n  }, {\n    key: \"prepareLink\",\n    value: function prepareLink(link) {\n      link = link.trim();\n      link = this.addProtocol(link);\n      return link;\n    }\n  }, {\n    key: \"addProtocol\",\n    value: function addProtocol(link) {\n      if (/^(\\w+):(\\/\\/)?/.test(link)) {\n        return link;\n      }\n\n      var isInternal = /^\\/[^/\\s]/.test(link),\n          isAnchor = link.substring(0, 1) === '#',\n          isProtocolRelative = /^\\/\\/[^/\\s]/.test(link);\n\n      if (!isInternal && !isAnchor && !isProtocolRelative) {\n        link = 'http://' + link;\n      }\n\n      return link;\n    }\n  }, {\n    key: \"insertLink\",\n    value: function insertLink(link) {\n      var target = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      var rel = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n      var anchorTag = this.selection.findParentTag('A');\n\n      if (anchorTag) {\n        this.selection.expandToTag(anchorTag);\n      } else {\n        document.execCommand(this.commandLink, false, link);\n        anchorTag = this.selection.findParentTag('A');\n      }\n\n      if (anchorTag) {\n        if (!!target) {\n          anchorTag['target'] = target;\n        } else {\n          anchorTag.removeAttribute('target');\n        }\n\n        if (!!rel) {\n          anchorTag['rel'] = rel;\n        } else {\n          anchorTag.removeAttribute('rel');\n        }\n      }\n    }\n  }, {\n    key: \"unlink\",\n    value: function unlink() {\n      document.execCommand(this.commandUnlink);\n    }\n  }, {\n    key: \"iconSvg\",\n    value: function iconSvg(name) {\n      var width = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 14;\n      var height = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 14;\n      var icon = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n      icon.classList.add('icon', 'icon--' + name);\n      icon.setAttribute('width', width + 'px');\n      icon.setAttribute('height', height + 'px');\n      icon.innerHTML = \"<use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"#\".concat(name, \"\\\"></use>\");\n      return icon;\n    }\n  }, {\n    key: \"addOption\",\n    value: function addOption(element, text) {\n      var value = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var option = document.createElement('option');\n      option.text = text;\n      option.value = value;\n      element.add(option);\n    }\n  }, {\n    key: \"shortcut\",\n    get: function get() {\n      return this.config.shortcut || 'CMD+L';\n    }\n  }, {\n    key: \"title\",\n    get: function get() {\n      return 'Hyperlink';\n    }\n  }], [{\n    key: \"isInline\",\n    get: function get() {\n      return true;\n    }\n  }, {\n    key: \"sanitize\",\n    get: function get() {\n      return {\n        a: {\n          href: true,\n          target: true,\n          rel: true\n        }\n      };\n    }\n  }]);\n\n  return Hyperlink;\n}();\n\n\n\n//# sourceURL=webpack://Hyperlink/./src/Hyperlink.js?");

/***/ }),

/***/ "./src/SelectionUtils.js":
/*!*******************************!*\
  !*** ./src/SelectionUtils.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return SelectionUtils; });\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar SelectionUtils = /*#__PURE__*/function () {\n  function SelectionUtils() {\n    _classCallCheck(this, SelectionUtils);\n\n    this.selection = null;\n    this.savedSelectionRange = null;\n    this.isFakeBackgroundEnabled = false;\n    this.commandBackground = 'backColor';\n    this.commandRemoveFormat = 'removeFormat';\n  }\n\n  _createClass(SelectionUtils, [{\n    key: \"isElement\",\n    value: function isElement(node) {\n      return node && _typeof(node) === 'object' && node.nodeType && node.nodeType === Node.ELEMENT_NODE;\n    }\n  }, {\n    key: \"isContentEditable\",\n    value: function isContentEditable(element) {\n      return element.contentEditable === 'true';\n    }\n  }, {\n    key: \"isNativeInput\",\n    value: function isNativeInput(target) {\n      var nativeInputs = ['INPUT', 'TEXTAREA'];\n      return target && target.tagName ? nativeInputs.includes(target.tagName) : false;\n    }\n  }, {\n    key: \"canSetCaret\",\n    value: function canSetCaret(target) {\n      var result = true;\n\n      if (this.isNativeInput(target)) {\n        switch (target.type) {\n          case 'file':\n          case 'checkbox':\n          case 'radio':\n          case 'hidden':\n          case 'submit':\n          case 'button':\n          case 'image':\n          case 'reset':\n            result = false;\n            break;\n\n          default:\n        }\n      } else {\n        result = this.isContentEditable(target);\n      }\n\n      return result;\n    }\n  }, {\n    key: \"CSS\",\n    value: function CSS() {\n      return {\n        editorWrapper: 'codex-editor',\n        editorZone: 'codex-editor__redactor'\n      };\n    }\n  }, {\n    key: \"anchorNode\",\n    value: function anchorNode() {\n      var selection = window.getSelection();\n      return selection ? selection.anchorNode : null;\n    }\n  }, {\n    key: \"anchorElement\",\n    value: function anchorElement() {\n      var selection = window.getSelection();\n\n      if (!selection) {\n        return null;\n      }\n\n      var anchorNode = selection.anchorNode;\n\n      if (!anchorNode) {\n        return null;\n      }\n\n      if (!this.isElement(anchorNode)) {\n        return anchorNode.parentElement;\n      } else {\n        return anchorNode;\n      }\n    }\n  }, {\n    key: \"anchorOffset\",\n    value: function anchorOffset() {\n      var selection = window.getSelection();\n      return selection ? selection.anchorOffset : null;\n    }\n  }, {\n    key: \"isCollapsed\",\n    value: function isCollapsed() {\n      var selection = window.getSelection();\n      return selection ? selection.isCollapsed : null;\n    }\n  }, {\n    key: \"isAtEditor\",\n    value: function isAtEditor() {\n      var selection = SelectionUtils.get();\n      var selectedNode = selection.anchorNode || selection.focusNode;\n\n      if (selectedNode && selectedNode.nodeType === Node.TEXT_NODE) {\n        selectedNode = selectedNode.parentNode;\n      }\n\n      var editorZone = null;\n\n      if (selectedNode) {\n        editorZone = selectedNode.closest(\".\".concat(SelectionUtils.CSS.editorZone));\n      }\n\n      return editorZone && editorZone.nodeType === Node.ELEMENT_NODE;\n    }\n  }, {\n    key: \"isSelectionExists\",\n    value: function isSelectionExists() {\n      var selection = SelectionUtils.get();\n      return !!selection.anchorNode;\n    }\n  }, {\n    key: \"get\",\n    value: function get() {\n      return window.getSelection();\n    }\n  }, {\n    key: \"setCursor\",\n    value: function setCursor(element) {\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var range = document.createRange();\n      var selection = window.getSelection();\n\n      if (this.isNativeInput(element)) {\n        if (!this.canSetCaret(element)) {\n          return;\n        }\n\n        element.focus();\n        element.selectionStart = element.selectionEnd = offset;\n        return element.getBoundingClientRect();\n      }\n\n      range.setStart(element, offset);\n      range.setEnd(element, offset);\n      selection.removeAllRanges();\n      selection.addRange(range);\n      return range.getBoundingClientRect();\n    }\n  }, {\n    key: \"removeFakeBackground\",\n    value: function removeFakeBackground() {\n      if (!this.isFakeBackgroundEnabled) {\n        return;\n      }\n\n      this.isFakeBackgroundEnabled = false;\n      document.execCommand(this.commandRemoveFormat);\n    }\n  }, {\n    key: \"setFakeBackground\",\n    value: function setFakeBackground() {\n      document.execCommand(this.commandBackground, false, '#a8d6ff');\n      this.isFakeBackgroundEnabled = true;\n    }\n  }, {\n    key: \"save\",\n    value: function save() {\n      this.savedSelectionRange = SelectionUtils.range;\n    }\n  }, {\n    key: \"restore\",\n    value: function restore() {\n      if (!this.savedSelectionRange) {\n        return;\n      }\n\n      var sel = window.getSelection();\n      sel.removeAllRanges();\n      sel.addRange(this.savedSelectionRange);\n    }\n  }, {\n    key: \"clearSaved\",\n    value: function clearSaved() {\n      this.savedSelectionRange = null;\n    }\n  }, {\n    key: \"collapseToEnd\",\n    value: function collapseToEnd() {\n      var sel = window.getSelection();\n      var range = document.createRange();\n      range.selectNodeContents(sel.focusNode);\n      range.collapse(false);\n      sel.removeAllRanges();\n      sel.addRange(range);\n    }\n  }, {\n    key: \"findParentTag\",\n    value: function findParentTag(tagName) {\n      var className = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var searchDepth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;\n      var selection = window.getSelection();\n      var parentTag = null;\n\n      if (!selection || !selection.anchorNode || !selection.focusNode) {\n        return null;\n      }\n\n      var boundNodes = [selection.anchorNode, selection.focusNode];\n      boundNodes.forEach(function (parent) {\n        var searchDepthIterable = searchDepth;\n\n        while (searchDepthIterable > 0 && parent.parentNode) {\n          if (parent.tagName === tagName) {\n            parentTag = parent;\n\n            if (className && parent.classList && !parent.classList.contains(className)) {\n              parentTag = null;\n            }\n\n            if (parentTag) {\n              break;\n            }\n          }\n\n          parent = parent.parentNode;\n          searchDepthIterable--;\n        }\n      });\n      return parentTag;\n    }\n  }, {\n    key: \"expandToTag\",\n    value: function expandToTag(element) {\n      var selection = window.getSelection();\n      selection.removeAllRanges();\n      var range = document.createRange();\n      range.selectNodeContents(element);\n      selection.addRange(range);\n    }\n  }], [{\n    key: \"range\",\n    get: function get() {\n      var selection = window.getSelection();\n      return selection && selection.rangeCount ? selection.getRangeAt(0) : null;\n    }\n  }, {\n    key: \"rect\",\n    get: function get() {\n      var sel = document.selection,\n          range;\n      var rect = {\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0\n      };\n\n      if (sel && sel.type !== 'Control') {\n        range = sel.createRange();\n        rect.x = range.boundingLeft;\n        rect.y = range.boundingTop;\n        rect.width = range.boundingWidth;\n        rect.height = range.boundingHeight;\n        return rect;\n      }\n\n      if (!window.getSelection) {\n        return rect;\n      }\n\n      sel = window.getSelection();\n\n      if (sel.rangeCount === null || isNaN(sel.rangeCount)) {\n        return rect;\n      }\n\n      if (sel.rangeCount === 0) {\n        return rect;\n      }\n\n      range = sel.getRangeAt(0).cloneRange();\n\n      if (range.getBoundingClientRect) {\n        rect = range.getBoundingClientRect();\n      }\n\n      if (rect.x === 0 && rect.y === 0) {\n        var span = document.createElement('span');\n\n        if (span.getBoundingClientRect) {\n          span.appendChild(document.createTextNode(\"\\u200B\"));\n          range.insertNode(span);\n          rect = span.getBoundingClientRect();\n          var spanParent = span.parentNode;\n          spanParent.removeChild(span);\n          spanParent.normalize();\n        }\n      }\n\n      return rect;\n    }\n  }, {\n    key: \"text\",\n    get: function get() {\n      return window.getSelection ? window.getSelection().toString() : '';\n    }\n  }]);\n\n  return SelectionUtils;\n}();\n\n\n\n//# sourceURL=webpack://Hyperlink/./src/SelectionUtils.js?");

/***/ })

/******/ })["default"];
});

/***/ }),

/***/ "./node_modules/editorjs-inline-tool/esm/index.js":
/*!********************************************************!*\
  !*** ./node_modules/editorjs-inline-tool/esm/index.js ***!
  \********************************************************/
/*! exports provided: default, ItalicInlineTool, StrongInlineTool, UnderlineInlineTool */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _tool__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tool */ "./node_modules/editorjs-inline-tool/esm/tool.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _tool__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _inline_tools__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./inline-tools */ "./node_modules/editorjs-inline-tool/esm/inline-tools.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ItalicInlineTool", function() { return _inline_tools__WEBPACK_IMPORTED_MODULE_1__["ItalicInlineTool"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "StrongInlineTool", function() { return _inline_tools__WEBPACK_IMPORTED_MODULE_1__["StrongInlineTool"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UnderlineInlineTool", function() { return _inline_tools__WEBPACK_IMPORTED_MODULE_1__["UnderlineInlineTool"]; });



//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/editorjs-inline-tool/esm/inline-tools.js":
/*!***************************************************************!*\
  !*** ./node_modules/editorjs-inline-tool/esm/inline-tools.js ***!
  \***************************************************************/
/*! exports provided: ItalicInlineTool, StrongInlineTool, UnderlineInlineTool */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ItalicInlineTool", function() { return ItalicInlineTool; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StrongInlineTool", function() { return StrongInlineTool; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UnderlineInlineTool", function() { return UnderlineInlineTool; });
/* harmony import */ var _tool__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tool */ "./node_modules/editorjs-inline-tool/esm/tool.js");

var ItalicInlineTool = Object(_tool__WEBPACK_IMPORTED_MODULE_0__["default"])({
    sanitize: {
        em: {},
    },
    shortcut: 'CMD+I',
    tagName: 'EM',
    toolboxIcon: 
    // icon editor-js uses
    '<svg class="icon icon--italic" width="34px" height="34px"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#italic"></use></svg>',
});
var StrongInlineTool = Object(_tool__WEBPACK_IMPORTED_MODULE_0__["default"])({
    sanitize: {
        strong: {},
    },
    shortcut: 'CMD+B',
    tagName: 'STRONG',
    toolboxIcon: '<svg class="icon icon--bold" width="12px" height="14px"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#bold"></use></svg>',
});
var UnderlineInlineTool = Object(_tool__WEBPACK_IMPORTED_MODULE_0__["default"])({
    sanitize: {
        u: {},
    },
    tagName: 'U',
    // icon taken from https://github.com/mui-org/material-ui/blob/4fba0dafd30f608937efa32883d151ba01fc9681/packages/material-ui-icons/src/FormatUnderlined.js
    toolboxIcon: '<svg width="24" height="24" viewBox="-8 0 38 24"><path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"></path></svg>',
});
//# sourceMappingURL=inline-tools.js.map

/***/ }),

/***/ "./node_modules/editorjs-inline-tool/esm/tool.js":
/*!*******************************************************!*\
  !*** ./node_modules/editorjs-inline-tool/esm/tool.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * GenericInlineTool returns an EditorJS.InlineTool capable of wrapping a
 * selected text with any given `tagName`.
 *
 * inspired by
 * @see https://github.com/editor-js/marker/blob/c306bcb33c88eaa3c172eaf387fbcd06ae6b297f/src/index.js
 */
var createGenericInlineTool = function (_a) {
    var _b;
    var sanitize = _a.sanitize, shortcut = _a.shortcut, tagName = _a.tagName, toolboxIcon = _a.toolboxIcon;
    return _b = /** @class */ (function () {
            /**
             * @param {{api: object}}  - Editor.js API
             */
            function GenericInlineTool(_a) {
                var api = _a.api;
                this.api = null;
                this.button = null;
                this.tag = null;
                this.iconClasses = null;
                this.api = api;
                /**
                 * Toolbar Button
                 *
                 * @type {HTMLElement|null}
                 */
                this.button = null;
                /**
                 * Tag that should is rendered in the editor
                 *
                 * @type {string}
                 */
                this.tag = tagName;
                /**
                 * CSS classes
                 */
                this.iconClasses = {
                    base: this.api.styles.inlineToolButton,
                    active: this.api.styles.inlineToolButtonActive,
                };
            }
            /**
             * Create button element for Toolbar
             *
             * @return {HTMLButtonElement}
             */
            GenericInlineTool.prototype.render = function () {
                this.button = document.createElement('button');
                this.button.type = 'button';
                this.button.classList.add(this.iconClasses.base);
                this.button.innerHTML = this.toolboxIcon;
                return this.button;
            };
            /**
             * Wrap/Unwrap selected fragment
             *
             * @param {Range} range - selected fragment
             */
            GenericInlineTool.prototype.surround = function (range) {
                if (!range) {
                    return;
                }
                var termWrapper = this.api.selection.findParentTag(this.tag);
                /**
                 * If start or end of selection is in the highlighted block
                 */
                if (termWrapper) {
                    this.unwrap(termWrapper);
                }
                else {
                    this.wrap(range);
                }
            };
            /**
             * Wrap selection with term-tag
             *
             * @param {Range} range - selected fragment
             */
            GenericInlineTool.prototype.wrap = function (range) {
                /**
                 * Create a wrapper for given tagName
                 */
                var strongElement = document.createElement(this.tag);
                /**
                 * SurroundContent throws an error if the Range splits a non-Text node with only one of its boundary points
                 * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/Range/surroundContents}
                 *
                 * // range.surroundContents(span);
                 */
                strongElement.appendChild(range.extractContents());
                range.insertNode(strongElement);
                /**
                 * Expand (add) selection to highlighted block
                 */
                this.api.selection.expandToTag(strongElement);
            };
            /**
             * Unwrap term-tag
             *
             * @param {HTMLElement} termWrapper - term wrapper tag
             */
            GenericInlineTool.prototype.unwrap = function (termWrapper) {
                /**
                 * Expand selection to all term-tag
                 */
                this.api.selection.expandToTag(termWrapper);
                var sel = window.getSelection();
                var range = sel.getRangeAt(0);
                var unwrappedContent = range.extractContents();
                /**
                 * Remove empty term-tag
                 */
                termWrapper.parentNode.removeChild(termWrapper);
                /**
                 * Insert extracted content
                 */
                range.insertNode(unwrappedContent);
                /**
                 * Restore selection
                 */
                sel.removeAllRanges();
                sel.addRange(range);
            };
            /**
             * Check and change Term's state for current selection
             */
            GenericInlineTool.prototype.checkState = function () {
                var termTag = this.api.selection.findParentTag(this.tag);
                this.button.classList.toggle(this.iconClasses.active, !!termTag);
                return !!termTag;
            };
            Object.defineProperty(GenericInlineTool.prototype, "toolboxIcon", {
                /**
                 * Get Tool icon's SVG
                 * @return {string}
                 */
                get: function () {
                    return toolboxIcon;
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(GenericInlineTool, "sanitize", {
                /**
                 * Sanitizer rule
                 * @return {Object.<string>} {Object.<string>}
                 */
                get: function () {
                    return sanitize;
                },
                enumerable: false,
                configurable: true
            });
            Object.defineProperty(GenericInlineTool.prototype, "shortcut", {
                /**
                 * Set a shortcut
                 */
                get: function () {
                    return shortcut;
                },
                enumerable: false,
                configurable: true
            });
            return GenericInlineTool;
        }()),
        /**
         * Specifies Tool as Inline Toolbar Tool
         *
         * @return {boolean}
         */
        _b.isInline = true,
        _b;
};
/* harmony default export */ __webpack_exports__["default"] = (createGenericInlineTool);
//# sourceMappingURL=tool.js.map

/***/ }),

/***/ "./node_modules/mustache/mustache.js":
/*!*******************************************!*\
  !*** ./node_modules/mustache/mustache.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

(function (global, factory) {
   true ? module.exports = factory() :
  undefined;
}(this, (function () { 'use strict';

  /*!
   * mustache.js - Logic-less {{mustache}} templates with JavaScript
   * http://github.com/janl/mustache.js
   */

  var objectToString = Object.prototype.toString;
  var isArray = Array.isArray || function isArrayPolyfill (object) {
    return objectToString.call(object) === '[object Array]';
  };

  function isFunction (object) {
    return typeof object === 'function';
  }

  /**
   * More correct typeof string handling array
   * which normally returns typeof 'object'
   */
  function typeStr (obj) {
    return isArray(obj) ? 'array' : typeof obj;
  }

  function escapeRegExp (string) {
    return string.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, '\\$&');
  }

  /**
   * Null safe way of checking whether or not an object,
   * including its prototype, has a given property
   */
  function hasProperty (obj, propName) {
    return obj != null && typeof obj === 'object' && (propName in obj);
  }

  /**
   * Safe way of detecting whether or not the given thing is a primitive and
   * whether it has the given property
   */
  function primitiveHasOwnProperty (primitive, propName) {
    return (
      primitive != null
      && typeof primitive !== 'object'
      && primitive.hasOwnProperty
      && primitive.hasOwnProperty(propName)
    );
  }

  // Workaround for https://issues.apache.org/jira/browse/COUCHDB-577
  // See https://github.com/janl/mustache.js/issues/189
  var regExpTest = RegExp.prototype.test;
  function testRegExp (re, string) {
    return regExpTest.call(re, string);
  }

  var nonSpaceRe = /\S/;
  function isWhitespace (string) {
    return !testRegExp(nonSpaceRe, string);
  }

  var entityMap = {
    '&': '&amp;',
    '<': '&lt;',
    '>': '&gt;',
    '"': '&quot;',
    "'": '&#39;',
    '/': '&#x2F;',
    '`': '&#x60;',
    '=': '&#x3D;'
  };

  function escapeHtml (string) {
    return String(string).replace(/[&<>"'`=\/]/g, function fromEntityMap (s) {
      return entityMap[s];
    });
  }

  var whiteRe = /\s*/;
  var spaceRe = /\s+/;
  var equalsRe = /\s*=/;
  var curlyRe = /\s*\}/;
  var tagRe = /#|\^|\/|>|\{|&|=|!/;

  /**
   * Breaks up the given `template` string into a tree of tokens. If the `tags`
   * argument is given here it must be an array with two string values: the
   * opening and closing tags used in the template (e.g. [ "<%", "%>" ]). Of
   * course, the default is to use mustaches (i.e. mustache.tags).
   *
   * A token is an array with at least 4 elements. The first element is the
   * mustache symbol that was used inside the tag, e.g. "#" or "&". If the tag
   * did not contain a symbol (i.e. {{myValue}}) this element is "name". For
   * all text that appears outside a symbol this element is "text".
   *
   * The second element of a token is its "value". For mustache tags this is
   * whatever else was inside the tag besides the opening symbol. For text tokens
   * this is the text itself.
   *
   * The third and fourth elements of the token are the start and end indices,
   * respectively, of the token in the original template.
   *
   * Tokens that are the root node of a subtree contain two more elements: 1) an
   * array of tokens in the subtree and 2) the index in the original template at
   * which the closing tag for that section begins.
   *
   * Tokens for partials also contain two more elements: 1) a string value of
   * indendation prior to that tag and 2) the index of that tag on that line -
   * eg a value of 2 indicates the partial is the third tag on this line.
   */
  function parseTemplate (template, tags) {
    if (!template)
      return [];
    var lineHasNonSpace = false;
    var sections = [];     // Stack to hold section tokens
    var tokens = [];       // Buffer to hold the tokens
    var spaces = [];       // Indices of whitespace tokens on the current line
    var hasTag = false;    // Is there a {{tag}} on the current line?
    var nonSpace = false;  // Is there a non-space char on the current line?
    var indentation = '';  // Tracks indentation for tags that use it
    var tagIndex = 0;      // Stores a count of number of tags encountered on a line

    // Strips all whitespace tokens array for the current line
    // if there was a {{#tag}} on it and otherwise only space.
    function stripSpace () {
      if (hasTag && !nonSpace) {
        while (spaces.length)
          delete tokens[spaces.pop()];
      } else {
        spaces = [];
      }

      hasTag = false;
      nonSpace = false;
    }

    var openingTagRe, closingTagRe, closingCurlyRe;
    function compileTags (tagsToCompile) {
      if (typeof tagsToCompile === 'string')
        tagsToCompile = tagsToCompile.split(spaceRe, 2);

      if (!isArray(tagsToCompile) || tagsToCompile.length !== 2)
        throw new Error('Invalid tags: ' + tagsToCompile);

      openingTagRe = new RegExp(escapeRegExp(tagsToCompile[0]) + '\\s*');
      closingTagRe = new RegExp('\\s*' + escapeRegExp(tagsToCompile[1]));
      closingCurlyRe = new RegExp('\\s*' + escapeRegExp('}' + tagsToCompile[1]));
    }

    compileTags(tags || mustache.tags);

    var scanner = new Scanner(template);

    var start, type, value, chr, token, openSection;
    while (!scanner.eos()) {
      start = scanner.pos;

      // Match any text between tags.
      value = scanner.scanUntil(openingTagRe);

      if (value) {
        for (var i = 0, valueLength = value.length; i < valueLength; ++i) {
          chr = value.charAt(i);

          if (isWhitespace(chr)) {
            spaces.push(tokens.length);
            indentation += chr;
          } else {
            nonSpace = true;
            lineHasNonSpace = true;
            indentation += ' ';
          }

          tokens.push([ 'text', chr, start, start + 1 ]);
          start += 1;

          // Check for whitespace on the current line.
          if (chr === '\n') {
            stripSpace();
            indentation = '';
            tagIndex = 0;
            lineHasNonSpace = false;
          }
        }
      }

      // Match the opening tag.
      if (!scanner.scan(openingTagRe))
        break;

      hasTag = true;

      // Get the tag type.
      type = scanner.scan(tagRe) || 'name';
      scanner.scan(whiteRe);

      // Get the tag value.
      if (type === '=') {
        value = scanner.scanUntil(equalsRe);
        scanner.scan(equalsRe);
        scanner.scanUntil(closingTagRe);
      } else if (type === '{') {
        value = scanner.scanUntil(closingCurlyRe);
        scanner.scan(curlyRe);
        scanner.scanUntil(closingTagRe);
        type = '&';
      } else {
        value = scanner.scanUntil(closingTagRe);
      }

      // Match the closing tag.
      if (!scanner.scan(closingTagRe))
        throw new Error('Unclosed tag at ' + scanner.pos);

      if (type == '>') {
        token = [ type, value, start, scanner.pos, indentation, tagIndex, lineHasNonSpace ];
      } else {
        token = [ type, value, start, scanner.pos ];
      }
      tagIndex++;
      tokens.push(token);

      if (type === '#' || type === '^') {
        sections.push(token);
      } else if (type === '/') {
        // Check section nesting.
        openSection = sections.pop();

        if (!openSection)
          throw new Error('Unopened section "' + value + '" at ' + start);

        if (openSection[1] !== value)
          throw new Error('Unclosed section "' + openSection[1] + '" at ' + start);
      } else if (type === 'name' || type === '{' || type === '&') {
        nonSpace = true;
      } else if (type === '=') {
        // Set the tags for the next time around.
        compileTags(value);
      }
    }

    stripSpace();

    // Make sure there are no open sections when we're done.
    openSection = sections.pop();

    if (openSection)
      throw new Error('Unclosed section "' + openSection[1] + '" at ' + scanner.pos);

    return nestTokens(squashTokens(tokens));
  }

  /**
   * Combines the values of consecutive text tokens in the given `tokens` array
   * to a single token.
   */
  function squashTokens (tokens) {
    var squashedTokens = [];

    var token, lastToken;
    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {
      token = tokens[i];

      if (token) {
        if (token[0] === 'text' && lastToken && lastToken[0] === 'text') {
          lastToken[1] += token[1];
          lastToken[3] = token[3];
        } else {
          squashedTokens.push(token);
          lastToken = token;
        }
      }
    }

    return squashedTokens;
  }

  /**
   * Forms the given array of `tokens` into a nested tree structure where
   * tokens that represent a section have two additional items: 1) an array of
   * all tokens that appear in that section and 2) the index in the original
   * template that represents the end of that section.
   */
  function nestTokens (tokens) {
    var nestedTokens = [];
    var collector = nestedTokens;
    var sections = [];

    var token, section;
    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {
      token = tokens[i];

      switch (token[0]) {
        case '#':
        case '^':
          collector.push(token);
          sections.push(token);
          collector = token[4] = [];
          break;
        case '/':
          section = sections.pop();
          section[5] = token[2];
          collector = sections.length > 0 ? sections[sections.length - 1][4] : nestedTokens;
          break;
        default:
          collector.push(token);
      }
    }

    return nestedTokens;
  }

  /**
   * A simple string scanner that is used by the template parser to find
   * tokens in template strings.
   */
  function Scanner (string) {
    this.string = string;
    this.tail = string;
    this.pos = 0;
  }

  /**
   * Returns `true` if the tail is empty (end of string).
   */
  Scanner.prototype.eos = function eos () {
    return this.tail === '';
  };

  /**
   * Tries to match the given regular expression at the current position.
   * Returns the matched text if it can match, the empty string otherwise.
   */
  Scanner.prototype.scan = function scan (re) {
    var match = this.tail.match(re);

    if (!match || match.index !== 0)
      return '';

    var string = match[0];

    this.tail = this.tail.substring(string.length);
    this.pos += string.length;

    return string;
  };

  /**
   * Skips all text until the given regular expression can be matched. Returns
   * the skipped string, which is the entire tail if no match can be made.
   */
  Scanner.prototype.scanUntil = function scanUntil (re) {
    var index = this.tail.search(re), match;

    switch (index) {
      case -1:
        match = this.tail;
        this.tail = '';
        break;
      case 0:
        match = '';
        break;
      default:
        match = this.tail.substring(0, index);
        this.tail = this.tail.substring(index);
    }

    this.pos += match.length;

    return match;
  };

  /**
   * Represents a rendering context by wrapping a view object and
   * maintaining a reference to the parent context.
   */
  function Context (view, parentContext) {
    this.view = view;
    this.cache = { '.': this.view };
    this.parent = parentContext;
  }

  /**
   * Creates a new context using the given view with this context
   * as the parent.
   */
  Context.prototype.push = function push (view) {
    return new Context(view, this);
  };

  /**
   * Returns the value of the given name in this context, traversing
   * up the context hierarchy if the value is absent in this context's view.
   */
  Context.prototype.lookup = function lookup (name) {
    var cache = this.cache;

    var value;
    if (cache.hasOwnProperty(name)) {
      value = cache[name];
    } else {
      var context = this, intermediateValue, names, index, lookupHit = false;

      while (context) {
        if (name.indexOf('.') > 0) {
          intermediateValue = context.view;
          names = name.split('.');
          index = 0;

          /**
           * Using the dot notion path in `name`, we descend through the
           * nested objects.
           *
           * To be certain that the lookup has been successful, we have to
           * check if the last object in the path actually has the property
           * we are looking for. We store the result in `lookupHit`.
           *
           * This is specially necessary for when the value has been set to
           * `undefined` and we want to avoid looking up parent contexts.
           *
           * In the case where dot notation is used, we consider the lookup
           * to be successful even if the last "object" in the path is
           * not actually an object but a primitive (e.g., a string, or an
           * integer), because it is sometimes useful to access a property
           * of an autoboxed primitive, such as the length of a string.
           **/
          while (intermediateValue != null && index < names.length) {
            if (index === names.length - 1)
              lookupHit = (
                hasProperty(intermediateValue, names[index])
                || primitiveHasOwnProperty(intermediateValue, names[index])
              );

            intermediateValue = intermediateValue[names[index++]];
          }
        } else {
          intermediateValue = context.view[name];

          /**
           * Only checking against `hasProperty`, which always returns `false` if
           * `context.view` is not an object. Deliberately omitting the check
           * against `primitiveHasOwnProperty` if dot notation is not used.
           *
           * Consider this example:
           * ```
           * Mustache.render("The length of a football field is {{#length}}{{length}}{{/length}}.", {length: "100 yards"})
           * ```
           *
           * If we were to check also against `primitiveHasOwnProperty`, as we do
           * in the dot notation case, then render call would return:
           *
           * "The length of a football field is 9."
           *
           * rather than the expected:
           *
           * "The length of a football field is 100 yards."
           **/
          lookupHit = hasProperty(context.view, name);
        }

        if (lookupHit) {
          value = intermediateValue;
          break;
        }

        context = context.parent;
      }

      cache[name] = value;
    }

    if (isFunction(value))
      value = value.call(this.view);

    return value;
  };

  /**
   * A Writer knows how to take a stream of tokens and render them to a
   * string, given a context. It also maintains a cache of templates to
   * avoid the need to parse the same template twice.
   */
  function Writer () {
    this.templateCache = {
      _cache: {},
      set: function set (key, value) {
        this._cache[key] = value;
      },
      get: function get (key) {
        return this._cache[key];
      },
      clear: function clear () {
        this._cache = {};
      }
    };
  }

  /**
   * Clears all cached templates in this writer.
   */
  Writer.prototype.clearCache = function clearCache () {
    if (typeof this.templateCache !== 'undefined') {
      this.templateCache.clear();
    }
  };

  /**
   * Parses and caches the given `template` according to the given `tags` or
   * `mustache.tags` if `tags` is omitted,  and returns the array of tokens
   * that is generated from the parse.
   */
  Writer.prototype.parse = function parse (template, tags) {
    var cache = this.templateCache;
    var cacheKey = template + ':' + (tags || mustache.tags).join(':');
    var isCacheEnabled = typeof cache !== 'undefined';
    var tokens = isCacheEnabled ? cache.get(cacheKey) : undefined;

    if (tokens == undefined) {
      tokens = parseTemplate(template, tags);
      isCacheEnabled && cache.set(cacheKey, tokens);
    }
    return tokens;
  };

  /**
   * High-level method that is used to render the given `template` with
   * the given `view`.
   *
   * The optional `partials` argument may be an object that contains the
   * names and templates of partials that are used in the template. It may
   * also be a function that is used to load partial templates on the fly
   * that takes a single argument: the name of the partial.
   *
   * If the optional `config` argument is given here, then it should be an
   * object with a `tags` attribute or an `escape` attribute or both.
   * If an array is passed, then it will be interpreted the same way as
   * a `tags` attribute on a `config` object.
   *
   * The `tags` attribute of a `config` object must be an array with two
   * string values: the opening and closing tags used in the template (e.g.
   * [ "<%", "%>" ]). The default is to mustache.tags.
   *
   * The `escape` attribute of a `config` object must be a function which
   * accepts a string as input and outputs a safely escaped string.
   * If an `escape` function is not provided, then an HTML-safe string
   * escaping function is used as the default.
   */
  Writer.prototype.render = function render (template, view, partials, config) {
    var tags = this.getConfigTags(config);
    var tokens = this.parse(template, tags);
    var context = (view instanceof Context) ? view : new Context(view, undefined);
    return this.renderTokens(tokens, context, partials, template, config);
  };

  /**
   * Low-level method that renders the given array of `tokens` using
   * the given `context` and `partials`.
   *
   * Note: The `originalTemplate` is only ever used to extract the portion
   * of the original template that was contained in a higher-order section.
   * If the template doesn't use higher-order sections, this argument may
   * be omitted.
   */
  Writer.prototype.renderTokens = function renderTokens (tokens, context, partials, originalTemplate, config) {
    var buffer = '';

    var token, symbol, value;
    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {
      value = undefined;
      token = tokens[i];
      symbol = token[0];

      if (symbol === '#') value = this.renderSection(token, context, partials, originalTemplate, config);
      else if (symbol === '^') value = this.renderInverted(token, context, partials, originalTemplate, config);
      else if (symbol === '>') value = this.renderPartial(token, context, partials, config);
      else if (symbol === '&') value = this.unescapedValue(token, context);
      else if (symbol === 'name') value = this.escapedValue(token, context, config);
      else if (symbol === 'text') value = this.rawValue(token);

      if (value !== undefined)
        buffer += value;
    }

    return buffer;
  };

  Writer.prototype.renderSection = function renderSection (token, context, partials, originalTemplate, config) {
    var self = this;
    var buffer = '';
    var value = context.lookup(token[1]);

    // This function is used to render an arbitrary template
    // in the current context by higher-order sections.
    function subRender (template) {
      return self.render(template, context, partials, config);
    }

    if (!value) return;

    if (isArray(value)) {
      for (var j = 0, valueLength = value.length; j < valueLength; ++j) {
        buffer += this.renderTokens(token[4], context.push(value[j]), partials, originalTemplate, config);
      }
    } else if (typeof value === 'object' || typeof value === 'string' || typeof value === 'number') {
      buffer += this.renderTokens(token[4], context.push(value), partials, originalTemplate, config);
    } else if (isFunction(value)) {
      if (typeof originalTemplate !== 'string')
        throw new Error('Cannot use higher-order sections without the original template');

      // Extract the portion of the original template that the section contains.
      value = value.call(context.view, originalTemplate.slice(token[3], token[5]), subRender);

      if (value != null)
        buffer += value;
    } else {
      buffer += this.renderTokens(token[4], context, partials, originalTemplate, config);
    }
    return buffer;
  };

  Writer.prototype.renderInverted = function renderInverted (token, context, partials, originalTemplate, config) {
    var value = context.lookup(token[1]);

    // Use JavaScript's definition of falsy. Include empty arrays.
    // See https://github.com/janl/mustache.js/issues/186
    if (!value || (isArray(value) && value.length === 0))
      return this.renderTokens(token[4], context, partials, originalTemplate, config);
  };

  Writer.prototype.indentPartial = function indentPartial (partial, indentation, lineHasNonSpace) {
    var filteredIndentation = indentation.replace(/[^ \t]/g, '');
    var partialByNl = partial.split('\n');
    for (var i = 0; i < partialByNl.length; i++) {
      if (partialByNl[i].length && (i > 0 || !lineHasNonSpace)) {
        partialByNl[i] = filteredIndentation + partialByNl[i];
      }
    }
    return partialByNl.join('\n');
  };

  Writer.prototype.renderPartial = function renderPartial (token, context, partials, config) {
    if (!partials) return;
    var tags = this.getConfigTags(config);

    var value = isFunction(partials) ? partials(token[1]) : partials[token[1]];
    if (value != null) {
      var lineHasNonSpace = token[6];
      var tagIndex = token[5];
      var indentation = token[4];
      var indentedValue = value;
      if (tagIndex == 0 && indentation) {
        indentedValue = this.indentPartial(value, indentation, lineHasNonSpace);
      }
      var tokens = this.parse(indentedValue, tags);
      return this.renderTokens(tokens, context, partials, indentedValue, config);
    }
  };

  Writer.prototype.unescapedValue = function unescapedValue (token, context) {
    var value = context.lookup(token[1]);
    if (value != null)
      return value;
  };

  Writer.prototype.escapedValue = function escapedValue (token, context, config) {
    var escape = this.getConfigEscape(config) || mustache.escape;
    var value = context.lookup(token[1]);
    if (value != null)
      return (typeof value === 'number' && escape === mustache.escape) ? String(value) : escape(value);
  };

  Writer.prototype.rawValue = function rawValue (token) {
    return token[1];
  };

  Writer.prototype.getConfigTags = function getConfigTags (config) {
    if (isArray(config)) {
      return config;
    }
    else if (config && typeof config === 'object') {
      return config.tags;
    }
    else {
      return undefined;
    }
  };

  Writer.prototype.getConfigEscape = function getConfigEscape (config) {
    if (config && typeof config === 'object' && !isArray(config)) {
      return config.escape;
    }
    else {
      return undefined;
    }
  };

  var mustache = {
    name: 'mustache.js',
    version: '4.2.0',
    tags: [ '{{', '}}' ],
    clearCache: undefined,
    escape: undefined,
    parse: undefined,
    render: undefined,
    Scanner: undefined,
    Context: undefined,
    Writer: undefined,
    /**
     * Allows a user to override the default caching strategy, by providing an
     * object with set, get and clear methods. This can also be used to disable
     * the cache by setting it to the literal `undefined`.
     */
    set templateCache (cache) {
      defaultWriter.templateCache = cache;
    },
    /**
     * Gets the default or overridden caching object from the default writer.
     */
    get templateCache () {
      return defaultWriter.templateCache;
    }
  };

  // All high-level mustache.* functions use this writer.
  var defaultWriter = new Writer();

  /**
   * Clears all cached templates in the default writer.
   */
  mustache.clearCache = function clearCache () {
    return defaultWriter.clearCache();
  };

  /**
   * Parses and caches the given template in the default writer and returns the
   * array of tokens it contains. Doing this ahead of time avoids the need to
   * parse templates on the fly as they are rendered.
   */
  mustache.parse = function parse (template, tags) {
    return defaultWriter.parse(template, tags);
  };

  /**
   * Renders the `template` with the given `view`, `partials`, and `config`
   * using the default writer.
   */
  mustache.render = function render (template, view, partials, config) {
    if (typeof template !== 'string') {
      throw new TypeError('Invalid template! Template should be a "string" ' +
                          'but "' + typeStr(template) + '" was given as the first ' +
                          'argument for mustache#render(template, view, partials)');
    }

    return defaultWriter.render(template, view, partials, config);
  };

  // Export the escaping function so that the user may override it.
  // See https://github.com/janl/mustache.js/issues/244
  mustache.escape = escapeHtml;

  // Export these mainly for testing, but also for advanced usage.
  mustache.Scanner = Scanner;
  mustache.Context = Context;
  mustache.Writer = Writer;

  return mustache;

})));


/***/ }),

/***/ "./node_modules/pell/dist/pell.min.js":
/*!********************************************!*\
  !*** ./node_modules/pell/dist/pell.min.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(t,e){ true?e(exports):undefined}(this,function(t){"use strict";var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c="defaultParagraphSeparator",l="formatBlock",a=function(t,e,n){return t.addEventListener(e,n)},s=function(t,e){return t.appendChild(e)},d=function(t){return document.createElement(t)},n=function(t){return document.queryCommandState(t)},f=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return document.execCommand(t,!1,e)},p={bold:{icon:"<b>B</b>",title:"Bold",state:function(){return n("bold")},result:function(){return f("bold")}},italic:{icon:"<i>I</i>",title:"Italic",state:function(){return n("italic")},result:function(){return f("italic")}},underline:{icon:"<u>U</u>",title:"Underline",state:function(){return n("underline")},result:function(){return f("underline")}},strikethrough:{icon:"<strike>S</strike>",title:"Strike-through",state:function(){return n("strikeThrough")},result:function(){return f("strikeThrough")}},heading1:{icon:"<b>H<sub>1</sub></b>",title:"Heading 1",result:function(){return f(l,"<h1>")}},heading2:{icon:"<b>H<sub>2</sub></b>",title:"Heading 2",result:function(){return f(l,"<h2>")}},paragraph:{icon:"&#182;",title:"Paragraph",result:function(){return f(l,"<p>")}},quote:{icon:"&#8220; &#8221;",title:"Quote",result:function(){return f(l,"<blockquote>")}},olist:{icon:"&#35;",title:"Ordered List",result:function(){return f("insertOrderedList")}},ulist:{icon:"&#8226;",title:"Unordered List",result:function(){return f("insertUnorderedList")}},code:{icon:"&lt;/&gt;",title:"Code",result:function(){return f(l,"<pre>")}},line:{icon:"&#8213;",title:"Horizontal Line",result:function(){return f("insertHorizontalRule")}},link:{icon:"&#128279;",title:"Link",result:function(){var t=window.prompt("Enter the link URL");t&&f("createLink",t)}},image:{icon:"&#128247;",title:"Image",result:function(){var t=window.prompt("Enter the image URL");t&&f("insertImage",t)}}},m={actionbar:"pell-actionbar",button:"pell-button",content:"pell-content",selected:"pell-button-selected"},r=function(n){var t=n.actions?n.actions.map(function(t){return"string"==typeof t?p[t]:p[t.name]?e({},p[t.name],t):t}):Object.keys(p).map(function(t){return p[t]}),r=e({},m,n.classes),i=n[c]||"div",o=d("div");o.className=r.actionbar,s(n.element,o);var u=n.element.content=d("div");return u.contentEditable=!0,u.className=r.content,u.oninput=function(t){var e=t.target.firstChild;e&&3===e.nodeType?f(l,"<"+i+">"):"<br>"===u.innerHTML&&(u.innerHTML=""),n.onChange(u.innerHTML)},u.onkeydown=function(t){var e;"Enter"===t.key&&"blockquote"===(e=l,document.queryCommandValue(e))&&setTimeout(function(){return f(l,"<"+i+">")},0)},s(n.element,u),t.forEach(function(t){var e=d("button");if(e.className=r.button,e.innerHTML=t.icon,e.title=t.title,e.setAttribute("type","button"),e.onclick=function(){return t.result()&&u.focus()},t.state){var n=function(){return e.classList[t.state()?"add":"remove"](r.selected)};a(u,"keyup",n),a(u,"mouseup",n),a(e,"click",n)}s(o,e)}),n.styleWithCSS&&f("styleWithCSS"),f(c,i),n.element},i={exec:f,init:r};t.exec=f,t.init=r,t.default=i,Object.defineProperty(t,"__esModule",{value:!0})});


/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vYXNzZXRzL2pzL2FwcC5qcyIsIndlYnBhY2s6Ly8vLi9hc3NldHMvanMvZWRpdG9yLXByb3ZpZGVyL2VkaXRvcmpzLmpzIiwid2VicGFjazovLy8uL2Fzc2V0cy9qcy9lZGl0b3ItcHJvdmlkZXIvcGVsbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGNvZGV4dGVhbS9pY29ucy9kaXN0L2luZGV4Lm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGVkaXRvcmpzL2RlbGltaXRlci9kaXN0L2RlbGltaXRlci5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BlZGl0b3Jqcy9lZGl0b3Jqcy9kaXN0L2VkaXRvcmpzLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGVkaXRvcmpzL2hlYWRlci9kaXN0L2hlYWRlci5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BlZGl0b3Jqcy9saXN0L2Rpc3QvbGlzdC5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ExMXktZGlhbG9nLWNvbXBvbmVudC9kaXN0L2ExMXktZGlhbG9nLWNvbXBvbmVudC5lc20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2VkaXRvcmpzLWh5cGVybGluay9kaXN0L2J1bmRsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZWRpdG9yanMtaW5saW5lLXRvb2wvZXNtL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9lZGl0b3Jqcy1pbmxpbmUtdG9vbC9lc20vaW5saW5lLXRvb2xzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9lZGl0b3Jqcy1pbmxpbmUtdG9vbC9lc20vdG9vbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbXVzdGFjaGUvbXVzdGFjaGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BlbGwvZGlzdC9wZWxsLm1pbi5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIl0sIm5hbWVzIjpbImdsb2JhbCIsIk1vbnNpZXVyQml6UmljaEVkaXRvcld5c2l3eWciLCJjb25maWciLCJwcm92aWRlciIsImV4ZWMiLCJhcmd1bWVudHMiLCJjb250YWluZXIiLCJ0YXJnZXRzIiwicXVlcnlTZWxlY3RvckFsbCIsInRhcmdldCIsInNldHVwRWRpdG9yIiwic2V0QXR0cmlidXRlIiwiaXNFZGl0b3JKUyIsImRhdGFzZXQiLCJlZGl0b3JqcyIsInVuZGVmaW5lZCIsIkVkaXRvckpTUHJvdmlkZXIiLCJQZWxsUHJvdmlkZXIiLCJpbml0IiwiTW9uc2lldXJCaXpSaWNoRWRpdG9yQ29uZmlnIiwiaW5wdXQiLCJ1aWVsZW1lbnRzIiwid3lzaXd5ZyIsImNvbnRhaW5lckh0bWwiLCJhY3Rpb25zSHRtbCIsImVsZW1lbnRIdG1sIiwiZWxlbWVudENhcmRIdG1sIiwicGFuZWxzSHRtbCIsInBhbmVsc0VkaXRIdG1sIiwiZGVsZXRpb25Db25maXJtYXRpb24iLCJjcmVhdGVFbGVtZW50Rm9ybVVybCIsImVkaXRFbGVtZW50Rm9ybVVybCIsInJlbmRlckVsZW1lbnRzVXJsIiwiZGVmYXVsdFVpRWxlbWVudCIsImRlZmF1bHRVSUVsZW1lbnREYXRhRmllbGQiLCJlcnJvck1lc3NhZ2UiLCJ1bmFsbG93ZWRVaUVsZW1lbnRNZXNzYWdlIiwidWlkIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwiY29kZSIsIk1vbnNpZXVyQml6UmljaEVkaXRvclVpRWxlbWVudCIsImRhdGEiLCJwcmV2aWV3SHRtbCIsImZpbmRVaUVsZW1lbnRCeUNvZGUiLCJ1aWVsZW1lbnQiLCJlbmFibGVkIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImljb24iLCJtYW5hZ2VyIiwiZWRpdFVpRWxlbWVudCIsImNhbGxiYWNrIiwic2F2ZVVpRWxlbWVudFRvQ2xpcGJvYXJkIiwibW92ZVVwIiwibW92ZURvd24iLCJNb25zaWV1ckJpelJpY2hFZGl0b3JNYW5hZ2VyIiwidGFncyIsImlucHV0VmFsdWUiLCJ2YWx1ZSIsInRyaW0iLCJ0YWdzQXJlRXhjbHVzaXZlIiwidGFnIiwic3RhcnRzV2l0aCIsImluaXRJbnRlcmZhY2VDYWxsYmFjayIsImluaXRJbnRlcmZhY2UiLCJiaW5kIiwiaW5pdFVpRWxlbWVudHMiLCJKU09OIiwicGFyc2UiLCJlIiwidWlFbGVtZW50cyIsInN0YWNrIiwicmVxdWVzdFVpRWxlbWVudHNIdG1sIiwic3RhdHVzIiwicmVuZGVyZWRFbGVtZW50cyIsInJlc3BvbnNlVGV4dCIsImZvckVhY2giLCJwb3NpdGlvbiIsImVsZW1lbnQiLCJ0eXBlIiwiZmllbGRzIiwidWlFbGVtZW50IiwicHVzaCIsImluaXRVaUVsZW1lbnRzSW50ZXJmYWNlIiwiaW5pdFVpUGFuZWxzSW50ZXJmYWNlIiwiZG9jdW1lbnQiLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiYWN0aW9uIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwicGFuZWxzV3JhcHBlciIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJNdXN0YWNoZSIsInJlbmRlciIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImZpcnN0RWxlbWVudENoaWxkIiwicGFuZWxzRWRpdFdyYXBwZXIiLCJzZWxlY3Rpb25QYW5lbCIsIkRpYWxvZyIsImxhYmVsbGVkYnkiLCJlbmFibGVBdXRvRm9jdXMiLCJjbG9zaW5nU2VsZWN0b3IiLCJuZXdQYW5lbCIsImhlbHBlclNlbGVjdG9yIiwiZWRpdFBhbmVsIiwiY29udGFpbmVyV3JhcHBlciIsImFmdGVyIiwid3JpdGUiLCJlbGVtZW50c0NvbnRhaW5lciIsInF1ZXJ5U2VsZWN0b3IiLCJhcHBlbmQiLCJnZXRBY3Rpb25zIiwiZ2V0VWlFbGVtZW50IiwibGVuZ3RoIiwiYWN0aW9uc1dyYXBwZXIiLCJhY3Rpb25zIiwib3BlblNlbGVjdGlvblBhbmVsIiwicGFzdGVVaUVsZW1lbnRGcm9tQ2xpcGJvYXJkIiwiaXNDbGlwYm9hcmRFbXB0eSIsImVsZW1lbnRXcmFwcGVyIiwiY29uZmlybSIsImNsb3Nlc3QiLCJ1cCIsImRvd24iLCJlZGl0IiwiY29weSIsImJ1dHRvbiIsImN1cnJlbnRUYXJnZXQiLCJvcmlnaW5hbFRleHQiLCJ0b29sdGlwIiwiYWx0ZXJuYXRlVGV4dCIsIndpbmRvdyIsInNldFRpbWVvdXQiLCJjYXJkV3JhcHBlciIsImxvYWRVaUVsZW1lbnRDcmVhdGVGb3JtIiwicHJvZ3Jlc3MiLCJvcGVuTmV3UGFuZWwiLCJkaWFsb2ciLCJjYXJkc0NvbnRhaW5lciIsImVsZW1lbnRDb2RlIiwiaWdub3JlZCIsInRhZ0luZGV4IiwicmVhbFRhZyIsInJlcGxhY2UiLCJpbmRleE9mIiwiZ2V0TmV3VWlFbGVtZW50Q2FyZCIsImNsb3NlIiwib3BlbiIsImZvcm1IdG1sIiwiZm9ybSIsImxvYWQiLCJkaXNwYXRjaEluaXRGb3JtRXZlbnQiLCJmb3JtRWxlbWVudCIsInByZXZlbnREZWZhdWx0IiwibXlGb3JtIiwic3VibWl0VWlFbGVtZW50Rm9ybSIsImVycm9yIiwiZHJhd05ld0Zvcm0iLCJmb3JtX2h0bWwiLCJjcmVhdGUiLCJhbGVydCIsImNhbmNlbEJ1dHRvbiIsInBhbmVsIiwic2F2ZUJ1dHRvbiIsIkV2ZW50IiwiY2FuY2VsYWJsZSIsImxvYWRVaUVsZW1lbnRFZGl0Rm9ybSIsIm9wZW5FZGl0UGFuZWwiLCJkcmF3RWRpdEZvcm0iLCJzdHJpbmdpZnkiLCJkcmF3VWlFbGVtZW50cyIsInNwbGljZSIsInJlcSIsIlhNTEh0dHBSZXF1ZXN0Iiwib25sb2FkIiwidXJsIiwic2V0UmVxdWVzdEhlYWRlciIsInNlbmQiLCJVUkxTZWFyY2hQYXJhbXMiLCJGb3JtRGF0YSIsImxvY2FsZSIsImNsaXBib2FyZCIsInNlc3Npb25TdG9yYWdlIiwiZ2V0SXRlbSIsInNldEl0ZW0iLCJmdXR1cmVQb3NpdGlvbiIsInBhc3RlZFVpRWxlbWVudCIsInNoaWZ0IiwiQ3VzdG9tSHlwZXJsaW5rIiwibmFtZSIsIndpZHRoIiwiaGVpZ2h0Iiwic3ZnIiwiY3JlYXRlRWxlbWVudE5TIiwiYWRkIiwibGluayIsInJlbCIsImV4ZWNDb21tYW5kIiwiY29tbWFuZExpbmsiLCJIeXBlcmxpbmsiLCJ3eXNpd3lnQ29udGFpbmVyIiwicGFyZW50Tm9kZSIsInRvb2xzIiwiZ2V0RWRpdG9ySlNUb29scyIsInRvb2xiYXIiLCJnZXRFZGl0b3JKU1Rvb2xiYXIiLCJlZGl0b3IiLCJFZGl0b3JKUyIsImhvbGRlciIsImlubGluZVRvb2xiYXIiLCJvbkNoYW5nZSIsImFwaSIsInNhdmVyIiwic2F2ZSIsInRoZW4iLCJvdXRwdXREYXRhIiwidGV4dENvbnRlbnQiLCJjb25zb2xlIiwibG9nIiwiaXNSZWFkeSIsImJsb2NrcyIsInJlbmRlckZyb21IVE1MIiwicmVhc29uIiwiaGVhZGVyIiwibGV2ZWxzIiwiT2JqZWN0IiwiTGlzdCIsImRlZmF1bHRTdHlsZSIsImF2YWlsYWJsZVRhcmdldHMiLCJ2YWxpZGF0ZSIsImNyZWF0ZUdlbmVyaWNJbmxpbmVUb29sIiwic2FuaXRpemUiLCJzdHJvbmciLCJiIiwidGFnTmFtZSIsInRvb2xib3hJY29uIiwiSWNvbkJvbGQiLCJzcGFuIiwiSWNvblVuZGVybGluZSIsIkRlbGltaXRlciIsIkhlYWRlciIsImRlZmF1bHRMZXZlbCIsIlBlbGxFZGl0b3JQcm92aWRlciIsInBlbGwiLCJodG1sIiwiZGVmYXVsdFBhcmFncmFwaFNlcGFyYXRvciIsInN0b3BQcm9wYWdhdGlvbiIsInRlbXBDb250YWluZXIiLCJjbGlwYm9hcmREYXRhIiwiZ2V0RGF0YSIsInRleHQiLCJpbm5lclRleHQiLCJjb250ZW50Il0sIm1hcHBpbmdzIjoiO1FBQUE7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7OztR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O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEtBQUs7QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkIsd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLEtBQUs7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx5QkFBeUIsZUFBZSxJQUFJLGdCQUFnQjtBQUM1RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0EsdURBQXVELGdCQUFnQjtBQUN2RTtBQUNBOztBQUVBO0FBQ0EsMERBQTBELGdCQUFnQjtBQUMxRTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3Q0FBd0MsbURBQW1EO0FBQzNGOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFD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QUFpQjtBQUNwRTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxxQkFBcUI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTyx3Q0FBd0M7QUFDL0M7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsOENBQThDLGVBQWU7QUFDN0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsOENBQThDLGVBQWU7QUFDN0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSxXQUFXLFVBQVUsU0FBUyxLQUFLLG9CQUFvQjtBQUN6SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhDQUE4QyxlQUFlO0FBQzdEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLGlEQUFpRCxpQkFBaUI7QUFDbEU7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHdCQUF3QjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxNQUFNO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxDQUFDOzs7Ozs7Ozs7Ozs7QUNud0JELGVBQWUsS0FBb0QsWUFBWSxTQUF3RSxDQUFDLGtCQUFrQixhQUFhLGlDQUFpQyxZQUFZLG1CQUFtQixLQUFLLG1CQUFtQixzRUFBc0UsU0FBUyxpRUFBaUUsK0JBQStCLGlCQUFpQix3QkFBd0IsZUFBZSxpQ0FBaUMsZUFBZSxxQ0FBcUMsZUFBZSxrRUFBa0Usb0NBQW9DLElBQUksTUFBTSw4Q0FBOEMsaUJBQWlCLG1CQUFtQixrQkFBa0IsU0FBUyxnREFBZ0QsbUJBQW1CLG1CQUFtQixvQkFBb0IsWUFBWSxtREFBbUQsc0JBQXNCLG1CQUFtQix1QkFBdUIsZ0JBQWdCLGtFQUFrRSwwQkFBMEIsbUJBQW1CLDJCQUEyQixXQUFXLGdFQUFnRSxvQkFBb0IsV0FBVyxnRUFBZ0Usb0JBQW9CLFlBQVksWUFBWSxzQ0FBc0MsbUJBQW1CLFFBQVEsYUFBYSxRQUFRLGtDQUFrQyw0QkFBNEIsUUFBUSxXQUFXLHlDQUF5QywrQkFBK0IsUUFBUSxhQUFhLDJDQUEyQyxpQ0FBaUMsT0FBTyxVQUFVLEtBQUssaUNBQWlDLHFCQUFxQixPQUFPLGFBQWEsNENBQTRDLGtDQUFrQyxPQUFPLGVBQWUsaUNBQWlDLDBDQUEwQyxzQkFBc0IsUUFBUSxlQUFlLGtDQUFrQywyQ0FBMkMsd0JBQXdCLElBQUksdUdBQXVHLGVBQWUsMENBQTBDLDRDQUE0QyxnQkFBZ0IsaUNBQWlDLFlBQVksUUFBUSx1Q0FBdUMsdUNBQXVDLGlDQUFpQyx3RUFBd0UsMEJBQTBCLGdHQUFnRyx5QkFBeUIsTUFBTSwyRkFBMkYsc0JBQXNCLElBQUksc0NBQXNDLGtCQUFrQixnSEFBZ0gsNkJBQTZCLFVBQVUsaUJBQWlCLDBEQUEwRCwrQ0FBK0MsT0FBTyxxREFBcUQsSUFBSSxlQUFlLG9FQUFvRSxTQUFTLEVBQUU7Ozs7Ozs7Ozs7OztBQ0FsMEc7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0Q0FBNEM7O0FBRTVDIiwiZmlsZSI6ImpzL3JpY2gtZWRpdG9yLWpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvcHVibGljL1wiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gXCIuL2Fzc2V0cy9qcy9hcHAuanNcIik7XG4iLCJpbXBvcnQgRGlhbG9nIGZyb20gJ2ExMXktZGlhbG9nLWNvbXBvbmVudCc7XG5pbXBvcnQgTXVzdGFjaGUgZnJvbSAnbXVzdGFjaGUnO1xuaW1wb3J0IFBlbGxQcm92aWRlciBmcm9tICcuL2VkaXRvci1wcm92aWRlci9wZWxsJztcbmltcG9ydCBFZGl0b3JKU1Byb3ZpZGVyIGZyb20gJy4vZWRpdG9yLXByb3ZpZGVyL2VkaXRvcmpzJztcblxuZ2xvYmFsLk1vbnNpZXVyQml6UmljaEVkaXRvcld5c2l3eWcgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnOyAvLyB7YWN0aW9uczogW119XG4gICAgdGhpcy5wcm92aWRlciA9IG51bGw7XG4gIH1cblxuICBleGVjKCkge1xuICAgIGlmICh0aGlzLnByb3ZpZGVyID09PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucHJvdmlkZXIuZXhlYyguLi5hcmd1bWVudHMpO1xuICB9XG5cbiAgbG9hZChjb250YWluZXIpIHtcbiAgICBjb25zdCB0YXJnZXRzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ3RleHRhcmVhLnd5c2l3eWctZW5hYmxlZCcpO1xuICAgIGZvciAobGV0IHRhcmdldCBvZiB0YXJnZXRzKSB7XG4gICAgICB0aGlzLnNldHVwRWRpdG9yKHRhcmdldCk7XG4gICAgfVxuICB9XG5cbiAgc2V0dXBFZGl0b3IodGFyZ2V0KSB7XG4gICAgdGFyZ2V0LnNldEF0dHJpYnV0ZSgnaGlkZGVuJywgJ3RydWUnKTtcbiAgICBjb25zdCBpc0VkaXRvckpTID0gdGFyZ2V0LmRhdGFzZXQuZWRpdG9yanMgIT09IHVuZGVmaW5lZCAmJiB0YXJnZXQuZGF0YXNldC5lZGl0b3JqcyAhPT0gJ2ZhbHNlJztcbiAgICB0aGlzLnByb3ZpZGVyID0gaXNFZGl0b3JKUyA/IG5ldyBFZGl0b3JKU1Byb3ZpZGVyKHRoaXMuY29uZmlnKSA6IG5ldyBQZWxsUHJvdmlkZXIodGhpcy5jb25maWcpO1xuICAgIHRoaXMucHJvdmlkZXIuaW5pdCh0YXJnZXQpO1xuICB9XG59O1xuXG5nbG9iYWwuTW9uc2lldXJCaXpSaWNoRWRpdG9yQ29uZmlnID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihcbiAgICBpbnB1dCxcbiAgICB1aWVsZW1lbnRzLFxuICAgIHd5c2l3eWcsXG4gICAgY29udGFpbmVySHRtbCxcbiAgICBhY3Rpb25zSHRtbCxcbiAgICBlbGVtZW50SHRtbCxcbiAgICBlbGVtZW50Q2FyZEh0bWwsXG4gICAgcGFuZWxzSHRtbCxcbiAgICBwYW5lbHNFZGl0SHRtbCxcbiAgICBkZWxldGlvbkNvbmZpcm1hdGlvbixcbiAgICBjcmVhdGVFbGVtZW50Rm9ybVVybCxcbiAgICBlZGl0RWxlbWVudEZvcm1VcmwsXG4gICAgcmVuZGVyRWxlbWVudHNVcmwsXG4gICAgZGVmYXVsdFVpRWxlbWVudCxcbiAgICBkZWZhdWx0VUlFbGVtZW50RGF0YUZpZWxkLFxuICAgIGVycm9yTWVzc2FnZSxcbiAgICB1bmFsbG93ZWRVaUVsZW1lbnRNZXNzYWdlXG4gICkge1xuICAgIHRoaXMuaW5wdXQgPSBpbnB1dDtcbiAgICB0aGlzLnVpZWxlbWVudHMgPSB1aWVsZW1lbnRzO1xuICAgIHRoaXMud3lzaXd5ZyA9IHd5c2l3eWc7XG4gICAgdGhpcy5jb250YWluZXJIdG1sID0gY29udGFpbmVySHRtbDtcbiAgICB0aGlzLmFjdGlvbnNIdG1sID0gYWN0aW9uc0h0bWw7XG4gICAgdGhpcy5lbGVtZW50SHRtbCA9IGVsZW1lbnRIdG1sO1xuICAgIHRoaXMuZWxlbWVudENhcmRIdG1sID0gZWxlbWVudENhcmRIdG1sO1xuICAgIHRoaXMucGFuZWxzSHRtbCA9IHBhbmVsc0h0bWw7XG4gICAgdGhpcy5wYW5lbHNFZGl0SHRtbCA9IHBhbmVsc0VkaXRIdG1sO1xuICAgIHRoaXMuZGVsZXRpb25Db25maXJtYXRpb24gPSBkZWxldGlvbkNvbmZpcm1hdGlvbjtcbiAgICB0aGlzLmNyZWF0ZUVsZW1lbnRGb3JtVXJsID0gY3JlYXRlRWxlbWVudEZvcm1Vcmw7XG4gICAgdGhpcy5lZGl0RWxlbWVudEZvcm1VcmwgPSBlZGl0RWxlbWVudEZvcm1Vcmw7XG4gICAgdGhpcy5yZW5kZXJFbGVtZW50c1VybCA9IHJlbmRlckVsZW1lbnRzVXJsO1xuICAgIHRoaXMuZGVmYXVsdFVpRWxlbWVudCA9IGRlZmF1bHRVaUVsZW1lbnQ7XG4gICAgdGhpcy5kZWZhdWx0VUlFbGVtZW50RGF0YUZpZWxkID0gZGVmYXVsdFVJRWxlbWVudERhdGFGaWVsZDtcbiAgICB0aGlzLmVycm9yTWVzc2FnZSA9IGVycm9yTWVzc2FnZTtcbiAgICB0aGlzLnVuYWxsb3dlZFVpRWxlbWVudE1lc3NhZ2UgPSB1bmFsbG93ZWRVaUVsZW1lbnRNZXNzYWdlO1xuICAgIHRoaXMudWlkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDExKTtcbiAgfVxuXG4gIGZpbmRVaUVsZW1lbnRCeUNvZGUoY29kZSkge1xuICAgIGlmICh0aGlzLnVpZWxlbWVudHNbY29kZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnVpZWxlbWVudHNbY29kZV07XG4gIH1cbn07XG5cbmdsb2JhbC5Nb25zaWV1ckJpelJpY2hFZGl0b3JVaUVsZW1lbnQgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgY29kZSwgZGF0YSwgcHJldmlld0h0bWwpIHtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5wcmV2aWV3SHRtbCA9IHByZXZpZXdIdG1sO1xuICB9XG5cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjb2RlOiB0aGlzLmNvZGUsXG4gICAgICBkYXRhOiB0aGlzLmRhdGFcbiAgICB9O1xuICB9XG5cbiAgZ2V0IHVpZWxlbWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWcuZmluZFVpRWxlbWVudEJ5Q29kZSh0aGlzLmNvZGUpO1xuICB9XG5cbiAgZ2V0IGVuYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMudWllbGVtZW50LmVuYWJsZWQ7XG4gIH1cblxuICBnZXQgdGl0bGUoKSB7XG4gICAgcmV0dXJuIHRoaXMudWllbGVtZW50LnRpdGxlO1xuICB9XG5cbiAgZ2V0IGRlc2NyaXB0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnVpZWxlbWVudC5kZXNjcmlwdGlvbjtcbiAgfVxuXG4gIGdldCBpY29uKCkge1xuICAgIHJldHVybiB0aGlzLnVpZWxlbWVudC5pY29uO1xuICB9XG5cbiAgZ2V0IG1hbmFnZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLmlucHV0Lm1hbmFnZXI7XG4gIH1cblxuICBlZGl0KCkge1xuICAgIHRoaXMubWFuYWdlci5lZGl0VWlFbGVtZW50KHRoaXMpO1xuICB9XG5cbiAgY29weShjYWxsYmFjaykge1xuICAgIHRoaXMubWFuYWdlci5zYXZlVWlFbGVtZW50VG9DbGlwYm9hcmQodGhpcywgY2FsbGJhY2spO1xuICB9XG5cbiAgdXAoKSB7XG4gICAgdGhpcy5tYW5hZ2VyLm1vdmVVcCh0aGlzKTtcbiAgfVxuXG4gIGRvd24oKSB7XG4gICAgdGhpcy5tYW5hZ2VyLm1vdmVEb3duKHRoaXMpO1xuICB9XG5cbiAgZGVsZXRlKCkge1xuICAgIHRoaXMubWFuYWdlci5kZWxldGUodGhpcyk7XG4gIH1cbn07XG5cbi8qKlxuICogUmljaCBFZGl0b3IgTWFuYWdlclxuICovXG5nbG9iYWwuTW9uc2lldXJCaXpSaWNoRWRpdG9yTWFuYWdlciA9IGNsYXNzIHtcblxuICAvKipcbiAgICpcbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgdGFncykge1xuICAgIGNvbmZpZy5pbnB1dC5zZXRBdHRyaWJ1dGUoJ2RhdGEtcmljaC1lZGl0b3ItdWlkJywgY29uZmlnLnVpZCk7XG5cbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcblxuICAgIGxldCBpbnB1dFZhbHVlID0gdGhpcy5pbnB1dC52YWx1ZS50cmltKCk7XG5cbiAgICB0aGlzLnRhZ3MgPSB0YWdzO1xuICAgIHRoaXMudGFnc0FyZUV4Y2x1c2l2ZSA9IGZhbHNlO1xuICAgIGZvciAobGV0IHRhZyBvZiB0aGlzLnRhZ3MpIHtcbiAgICAgIGlmICghdGFnLnN0YXJ0c1dpdGgoJy0nKSkge1xuICAgICAgICB0aGlzLnRhZ3NBcmVFeGNsdXNpdmUgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgaW5pdEludGVyZmFjZUNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5pbml0SW50ZXJmYWNlKCk7XG4gICAgfS5iaW5kKHRoaXMpO1xuXG4gICAgaWYgKGlucHV0VmFsdWUgIT09ICcnKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLmluaXRVaUVsZW1lbnRzKEpTT04ucGFyc2UoaW5wdXRWYWx1ZSksIGluaXRJbnRlcmZhY2VDYWxsYmFjayk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHRoaXMuaW5pdFVpRWxlbWVudHMoXG4gICAgICAgICAgW3tcbiAgICAgICAgICAgIFwiY29kZVwiOiB0aGlzLmNvbmZpZy5kZWZhdWx0VWlFbGVtZW50LFxuICAgICAgICAgICAgXCJkYXRhXCI6IHtcbiAgICAgICAgICAgICAgW3RoaXMuY29uZmlnLmRlZmF1bHRVSUVsZW1lbnREYXRhRmllbGRdOiBpbnB1dFZhbHVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfV0sXG4gICAgICAgICAgaW5pdEludGVyZmFjZUNhbGxiYWNrXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudWlFbGVtZW50cyA9IFtdO1xuICAgICAgdGhpcy5pbml0SW50ZXJmYWNlKCk7XG4gICAgfVxuICB9XG5cbiAgaW5pdFVpRWxlbWVudHMoc3RhY2ssIGluaXRJbnRlcmZhY2VDYWxsYmFjaykge1xuICAgIHRoaXMudWlFbGVtZW50cyA9IFtdO1xuICAgIHRoaXMucmVxdWVzdFVpRWxlbWVudHNIdG1sKHN0YWNrLCBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyB0aGlzID0gcmVxXG4gICAgICBpZiAodGhpcy5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICBsZXQgcmVuZGVyZWRFbGVtZW50cyA9IEpTT04ucGFyc2UodGhpcy5yZXNwb25zZVRleHQpO1xuICAgICAgICByZW5kZXJlZEVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnRIdG1sLCBwb3NpdGlvbikge1xuICAgICAgICAgIGxldCBlbGVtZW50ID0gc3RhY2tbcG9zaXRpb25dO1xuICAgICAgICAgIGlmIChlbGVtZW50LmNvZGUgPT09IHVuZGVmaW5lZCAmJiBlbGVtZW50LnR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZWxlbWVudC5jb2RlID0gZWxlbWVudC50eXBlO1xuICAgICAgICAgICAgZWxlbWVudC5kYXRhID0gZWxlbWVudC5maWVsZHM7XG4gICAgICAgICAgICBkZWxldGUgZWxlbWVudC50eXBlO1xuICAgICAgICAgICAgZGVsZXRlIGVsZW1lbnQuZmllbGRzO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgdWlFbGVtZW50ID0gdGhpcy5jb25maWcuZmluZFVpRWxlbWVudEJ5Q29kZShlbGVtZW50LmNvZGUpO1xuICAgICAgICAgIGlmIChudWxsICE9PSB1aUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMudWlFbGVtZW50cy5wdXNoKG5ldyBNb25zaWV1ckJpelJpY2hFZGl0b3JVaUVsZW1lbnQoXG4gICAgICAgICAgICAgIHRoaXMuY29uZmlnLFxuICAgICAgICAgICAgICB1aUVsZW1lbnQuY29kZSxcbiAgICAgICAgICAgICAgZWxlbWVudC5kYXRhLFxuICAgICAgICAgICAgICBlbGVtZW50SHRtbFxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LmJpbmQodGhpcy5tYW5hZ2VyKSk7XG4gICAgICAgIGluaXRJbnRlcmZhY2VDYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgaW5pdEludGVyZmFjZSgpIHtcbiAgICB0aGlzLmluaXRVaUVsZW1lbnRzSW50ZXJmYWNlKCk7XG4gICAgdGhpcy5pbml0VWlQYW5lbHNJbnRlcmZhY2UoKTtcbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnbWJpejpyaWNoLWVkaXRvcjppbml0LWludGVyZmFjZS1jb21wbGV0ZScsIHtcbiAgICAgICdkZXRhaWwnOiB7J2VkaXRvck1hbmFnZXInOiB0aGlzfVxuICAgIH0pKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtYml6OnJpY2gtZWRpdG9yOnVpZWxlbWVudDpjb3BpZWQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmpzLXVpZS1wYXN0ZScpLmZvckVhY2goZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICBhY3Rpb24uY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQnKTtcbiAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIGluaXRVaVBhbmVsc0ludGVyZmFjZSgpIHtcbiAgICBsZXQgcGFuZWxzV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHBhbmVsc1dyYXBwZXIuaW5uZXJIVE1MID0gTXVzdGFjaGUucmVuZGVyKHRoaXMuY29uZmlnLnBhbmVsc0h0bWwsIHsgdWlkOiB0aGlzLmNvbmZpZy51aWQgfSk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwYW5lbHNXcmFwcGVyLmZpcnN0RWxlbWVudENoaWxkKTtcblxuICAgIGxldCBwYW5lbHNFZGl0V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHBhbmVsc0VkaXRXcmFwcGVyLmlubmVySFRNTCA9IE11c3RhY2hlLnJlbmRlcih0aGlzLmNvbmZpZy5wYW5lbHNFZGl0SHRtbCwge1xuICAgICAgdWlkOiB0aGlzLmNvbmZpZy51aWQsXG4gICAgfSk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwYW5lbHNFZGl0V3JhcHBlci5maXJzdEVsZW1lbnRDaGlsZCk7XG5cbiAgICB0aGlzLnNlbGVjdGlvblBhbmVsID0gbmV3IERpYWxvZygnLmpzLXVpZS1wYW5lbHMtJyArIHRoaXMuY29uZmlnLnVpZCwge1xuICAgICAgbGFiZWxsZWRieTogJ3VpZS1oZWFkaW5nLScgKyB0aGlzLmNvbmZpZy51aWQsXG4gICAgICBlbmFibGVBdXRvRm9jdXM6IGZhbHNlLFxuICAgICAgY2xvc2luZ1NlbGVjdG9yOiAnLmpzLXVpZS1wYW5lbHMtY2xvc2UtJyArIHRoaXMuY29uZmlnLnVpZCxcbiAgICB9KTtcbiAgICB0aGlzLm5ld1BhbmVsID0gbmV3IERpYWxvZygnLmpzLXVpZS1wYW5lbHMtbmV3LScgKyB0aGlzLmNvbmZpZy51aWQsIHtcbiAgICAgIGhlbHBlclNlbGVjdG9yOiAnLmpzLXVpZS1wYW5lbHMtc2VsZWN0b3ItJyArIHRoaXMuY29uZmlnLnVpZCxcbiAgICAgIGVuYWJsZUF1dG9Gb2N1czogZmFsc2UsXG4gICAgfSk7XG4gICAgdGhpcy5lZGl0UGFuZWwgPSBuZXcgRGlhbG9nKCcuanMtdWllLXBhbmVscy1lZGl0LScgKyB0aGlzLmNvbmZpZy51aWQsIHtcbiAgICAgIGVuYWJsZUF1dG9Gb2N1czogZmFsc2UsXG4gICAgfSk7XG4gIH1cblxuICBpbml0VWlFbGVtZW50c0ludGVyZmFjZSgpIHtcbiAgICB0aGlzLmlucHV0LnR5cGUgPSAnaGlkZGVuJztcbiAgICAvLyBjb250YWluZXIgZmlyc3RcbiAgICBsZXQgY29udGFpbmVyV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnRhaW5lcldyYXBwZXIuaW5uZXJIVE1MID0gTXVzdGFjaGUucmVuZGVyKHRoaXMuY29uZmlnLmNvbnRhaW5lckh0bWwsIHt9KTtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcldyYXBwZXIuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgdGhpcy5pbnB1dC5hZnRlcih0aGlzLmNvbnRhaW5lcik7XG5cbiAgICAvLyBSZWRyYXcgYWxsIGVsZW1lbnRzIHRoZW4gKHVzaW5nIGEgd3JpdGUgdG8ga2VlcCBjb21wYXRpYmlsaXR5KVxuICAgIHRoaXMud3JpdGUoKTtcbiAgfVxuXG4gIGRyYXdVaUVsZW1lbnRzKCkge1xuICAgIC8vIEVsZW1lbnRzXG4gICAgbGV0IGVsZW1lbnRzQ29udGFpbmVyID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmpzLXVpZS1jb250YWluZXInKTtcbiAgICBlbGVtZW50c0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICB0aGlzLnVpRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCwgcG9zaXRpb24pIHtcbiAgICAgIGVsZW1lbnRzQ29udGFpbmVyLmFwcGVuZCh0aGlzLmdldEFjdGlvbnMocG9zaXRpb24pKTtcbiAgICAgIGVsZW1lbnRzQ29udGFpbmVyLmFwcGVuZCh0aGlzLmdldFVpRWxlbWVudChlbGVtZW50LCBwb3NpdGlvbikpO1xuICAgIH0uYmluZCh0aGlzKSk7XG4gICAgZWxlbWVudHNDb250YWluZXIuYXBwZW5kKHRoaXMuZ2V0QWN0aW9ucyh0aGlzLnVpRWxlbWVudHMubGVuZ3RoKSk7XG4gIH1cblxuICBnZXRBY3Rpb25zKHBvc2l0aW9uKSB7XG4gICAgbGV0IGFjdGlvbnNXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgYWN0aW9uc1dyYXBwZXIuaW5uZXJIVE1MID0gTXVzdGFjaGUucmVuZGVyKHRoaXMuY29uZmlnLmFjdGlvbnNIdG1sLCB7J3Bvc2l0aW9uJzogcG9zaXRpb259KTtcblxuICAgIGxldCBhY3Rpb25zID0gYWN0aW9uc1dyYXBwZXIuZmlyc3RFbGVtZW50Q2hpbGQ7XG5cbiAgICAvLyBBZGQgYnV0dG9uXG4gICAgYWN0aW9ucy5xdWVyeVNlbGVjdG9yKCcuanMtdWllLWFkZCcpLnBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgYWN0aW9ucy5xdWVyeVNlbGVjdG9yKCcuanMtdWllLWFkZCcpLm1hbmFnZXIgPSB0aGlzO1xuICAgIGFjdGlvbnMucXVlcnlTZWxlY3RvcignLmpzLXVpZS1hZGQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBhY3Rpb25zLnF1ZXJ5U2VsZWN0b3IoJy5qcy11aWUtYWRkJykubWFuYWdlci5vcGVuU2VsZWN0aW9uUGFuZWwoXG4gICAgICAgIGFjdGlvbnMucXVlcnlTZWxlY3RvcignLmpzLXVpZS1hZGQnKS5wb3NpdGlvblxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIC8vIFBhc3RlIGNsaXBib2FyZCBidXR0b25cbiAgICBhY3Rpb25zLnF1ZXJ5U2VsZWN0b3IoJy5qcy11aWUtcGFzdGUnKS5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgIGFjdGlvbnMucXVlcnlTZWxlY3RvcignLmpzLXVpZS1wYXN0ZScpLm1hbmFnZXIgPSB0aGlzO1xuICAgIGFjdGlvbnMucXVlcnlTZWxlY3RvcignLmpzLXVpZS1wYXN0ZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGFjdGlvbnMucXVlcnlTZWxlY3RvcignLmpzLXVpZS1wYXN0ZScpLm1hbmFnZXIucGFzdGVVaUVsZW1lbnRGcm9tQ2xpcGJvYXJkKFxuICAgICAgICBhY3Rpb25zLnF1ZXJ5U2VsZWN0b3IoJy5qcy11aWUtcGFzdGUnKS5wb3NpdGlvblxuICAgICAgKTtcbiAgICB9KTtcbiAgICAvLyBEaXNhYmxlZD9cbiAgICBpZiAoIXRoaXMuaXNDbGlwYm9hcmRFbXB0eSgpKSB7XG4gICAgICBhY3Rpb25zLnF1ZXJ5U2VsZWN0b3IoJy5qcy11aWUtcGFzdGUnKS5jbGFzc0xpc3QucmVtb3ZlKCdkaXNhYmxlZCcpO1xuICAgIH1cblxuICAgIHJldHVybiBhY3Rpb25zO1xuICB9XG5cbiAgZ2V0VWlFbGVtZW50KGVsZW1lbnQsIHBvc2l0aW9uKSB7XG4gICAgbGV0IGVsZW1lbnRXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZWxlbWVudFdyYXBwZXIuaW5uZXJIVE1MID0gTXVzdGFjaGUucmVuZGVyKHRoaXMuY29uZmlnLmVsZW1lbnRIdG1sLCB7XG4gICAgICAndGl0bGUnOiBlbGVtZW50LnRpdGxlLFxuICAgICAgJ2ljb24nOiBlbGVtZW50Lmljb24sXG4gICAgICAncHJldmlldyc6IGVsZW1lbnQucHJldmlld0h0bWwsXG4gICAgICAnZGlzYWJsZWQnOiAhZWxlbWVudC5lbmFibGVkXG4gICAgfSk7XG4gICAgbGV0IHVpRWxlbWVudCA9IGVsZW1lbnRXcmFwcGVyLmZpcnN0RWxlbWVudENoaWxkO1xuICAgIHVpRWxlbWVudC5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB1aUVsZW1lbnQucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICB1aUVsZW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXVpZS1kZWxldGUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChjb25maXJtKHRoaXMuY2xvc2VzdCgnLmpzLXVpZS1lbGVtZW50JykuZWxlbWVudC5jb25maWcuZGVsZXRpb25Db25maXJtYXRpb24pKSB7XG4gICAgICAgIHRoaXMuY2xvc2VzdCgnLmpzLXVpZS1lbGVtZW50JykuZWxlbWVudC5kZWxldGUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAocG9zaXRpb24gPT09IDApIHtcbiAgICAgIHVpRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuanMtdWllLXVwJykucmVtb3ZlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVpRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuanMtdWllLXVwJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2xvc2VzdCgnLmpzLXVpZS1lbGVtZW50JykuZWxlbWVudC51cCgpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChwb3NpdGlvbiA9PT0gKHRoaXMudWlFbGVtZW50cy5sZW5ndGggLSAxKSkge1xuICAgICAgdWlFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy11aWUtZG93bicpLnJlbW92ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB1aUVsZW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXVpZS1kb3duJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2xvc2VzdCgnLmpzLXVpZS1lbGVtZW50JykuZWxlbWVudC5kb3duKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgdWlFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy11aWUtZWRpdCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jbG9zZXN0KCcuanMtdWllLWVsZW1lbnQnKS5lbGVtZW50LmVkaXQoKTtcbiAgICB9KTtcbiAgICB1aUVsZW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXVpZS1jb3B5JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgdGhpcy5jbG9zZXN0KCcuanMtdWllLWVsZW1lbnQnKS5lbGVtZW50LmNvcHkoZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBidXR0b24gPSBlLmN1cnJlbnRUYXJnZXQ7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsVGV4dCA9IGJ1dHRvbi5kYXRhc2V0LnRvb2x0aXA7XG4gICAgICAgIGJ1dHRvbi5kYXRhc2V0LnRvb2x0aXAgPSBidXR0b24uZGF0YXNldC5hbHRlcm5hdGVUZXh0O1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgYnV0dG9uLmRhdGFzZXQudG9vbHRpcCA9IG9yaWdpbmFsVGV4dDtcbiAgICAgICAgfSwgMTAwMCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gdWlFbGVtZW50O1xuICB9XG5cbiAgZ2V0TmV3VWlFbGVtZW50Q2FyZChlbGVtZW50LCBwb3NpdGlvbikge1xuICAgIGxldCBjYXJkV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNhcmRXcmFwcGVyLmlubmVySFRNTCA9IE11c3RhY2hlLnJlbmRlcih0aGlzLmNvbmZpZy5lbGVtZW50Q2FyZEh0bWwsIGVsZW1lbnQpO1xuICAgIGxldCBidXR0b24gPSBjYXJkV3JhcHBlci5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICBidXR0b24uZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgYnV0dG9uLnBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgYnV0dG9uLm1hbmFnZXIgPSB0aGlzO1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBsZXQgYnV0dG9uID0gZS5jdXJyZW50VGFyZ2V0O1xuICAgICAgYnV0dG9uLm1hbmFnZXIubG9hZFVpRWxlbWVudENyZWF0ZUZvcm0oYnV0dG9uLmVsZW1lbnQsIGZ1bmN0aW9uIChwcm9ncmVzcykge1xuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZSh0aGlzLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgYnV0dG9uLm1hbmFnZXIub3Blbk5ld1BhbmVsKGRhdGFbJ2Zvcm1faHRtbCddLCBidXR0b24uZWxlbWVudCwgYnV0dG9uLnBvc2l0aW9uKVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gYnV0dG9uO1xuICB9XG5cbiAgZ2V0IGlucHV0KCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZy5pbnB1dDtcbiAgfVxuXG4gIGdldCB3eXNpd3lnKCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZy53eXNpd3lnO1xuICB9XG5cbiAgb3BlblNlbGVjdGlvblBhbmVsKHBvc2l0aW9uKSB7XG4gICAgdGhpcy5zZWxlY3Rpb25QYW5lbC5kaWFsb2cubWFuYWdlciA9IHRoaXM7XG4gICAgdGhpcy5zZWxlY3Rpb25QYW5lbC5kaWFsb2cucG9zaXRpb24gPSBwb3NpdGlvbjtcblxuICAgIC8vIERyYXcgZWxlbWVudCBjYXJkc1xuICAgIGxldCBjYXJkc0NvbnRhaW5lciA9IHRoaXMuc2VsZWN0aW9uUGFuZWwuZGlhbG9nLnF1ZXJ5U2VsZWN0b3IoJy5qcy11aWUtY2FyZHMtY29udGFpbmVyJyk7XG4gICAgY2FyZHNDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgZm9yIChsZXQgZWxlbWVudENvZGUgaW4gdGhpcy5jb25maWcudWllbGVtZW50cykge1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLmNvbmZpZy51aWVsZW1lbnRzW2VsZW1lbnRDb2RlXS5pZ25vcmVkIC8vIGR1cGxpY2F0ZXMgdXNpbmcgYWxpYXNlc1xuICAgICAgICB8fCAhdGhpcy5jb25maWcudWllbGVtZW50c1tlbGVtZW50Q29kZV0uZW5hYmxlZCAvLyBhdm9pZCBkaXNhYmxlZCBlbGVtZW50cyB0byBzaG93IHVwIVxuICAgICAgKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgbGV0IGFwcGVuZCA9IHRydWU7XG4gICAgICBpZiAodGhpcy50YWdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgYXBwZW5kID0gIXRoaXMudGFnc0FyZUV4Y2x1c2l2ZTtcbiAgICAgICAgZm9yIChsZXQgdGFnSW5kZXggaW4gdGhpcy50YWdzKSB7IC8vIFdlIHByb2NlZWQgdGFnIGJ5IHRhZywgZXhjbHVkaW5nIGFuZCBpbmNsdWRpbmcgZm9yIGV2ZXJ5IHRhZywgc28gdGhlIG9yZGVyIG1hdHRlcnMhXG4gICAgICAgICAgbGV0IHJlYWxUYWcgPSB0aGlzLnRhZ3NbdGFnSW5kZXhdLnJlcGxhY2UoL14oLXxcXCspLywgJycpO1xuICAgICAgICAgIGlmICgwIDw9IHRoaXMuY29uZmlnLnVpZWxlbWVudHNbZWxlbWVudENvZGVdLnRhZ3MuaW5kZXhPZihyZWFsVGFnKSkgeyAvLyBUaGUgZWxlbWVudCBpcyB0YWdnZWRcbiAgICAgICAgICAgIGFwcGVuZCA9ICF0aGlzLnRhZ3NbdGFnSW5kZXhdLnN0YXJ0c1dpdGgoJy0nKTsgLy8gQXBwZW5kIG9ubHkgaWYgdGhlIHRhZyBpcyBub3QgZXhjbHVkZWRcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChhcHBlbmQpIHtcbiAgICAgICAgY2FyZHNDb250YWluZXIuYXBwZW5kKHRoaXMuZ2V0TmV3VWlFbGVtZW50Q2FyZCh0aGlzLmNvbmZpZy51aWVsZW1lbnRzW2VsZW1lbnRDb2RlXSwgcG9zaXRpb24pKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5uZXdQYW5lbC5jbG9zZSgpO1xuICAgIHRoaXMuc2VsZWN0aW9uUGFuZWwub3BlbigpO1xuICB9XG5cbiAgZHJhd05ld0Zvcm0oZm9ybUh0bWwsIHBvc2l0aW9uKSB7XG4gICAgdGhpcy5uZXdQYW5lbC5kaWFsb2cuaW5uZXJIVE1MID0gZm9ybUh0bWw7XG4gICAgbGV0IGZvcm0gPSB0aGlzLm5ld1BhbmVsLmRpYWxvZztcbiAgICB0aGlzLnd5c2l3eWcubG9hZChmb3JtKTtcbiAgICB0aGlzLmRpc3BhdGNoSW5pdEZvcm1FdmVudChmb3JtLCB0aGlzKTtcblxuICAgIC8vIEZvcm0gc3VibWl0XG4gICAgbGV0IGZvcm1FbGVtZW50ID0gZm9ybS5xdWVyeVNlbGVjdG9yKCdmb3JtJyk7XG4gICAgZm9ybUVsZW1lbnQubWFuYWdlciA9IHRoaXM7XG4gICAgZm9ybUVsZW1lbnQucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICBmb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBjb25zdCBteUZvcm0gPSBlLmN1cnJlbnRUYXJnZXQ7XG4gICAgICBteUZvcm0ubWFuYWdlci5zdWJtaXRVaUVsZW1lbnRGb3JtKG15Rm9ybSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZSh0aGlzLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgaWYgKGRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuZm9ybS5tYW5hZ2VyLmRyYXdOZXdGb3JtKGRhdGEuZm9ybV9odG1sLCB0aGlzLmZvcm0ucG9zaXRpb24pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmZvcm0ubWFuYWdlci5jcmVhdGUoZGF0YS5jb2RlLCBkYXRhLmRhdGEsIGRhdGEucHJldmlld0h0bWwsIHRoaXMuZm9ybS5wb3NpdGlvbik7XG4gICAgICAgICAgICB0aGlzLmZvcm0ubWFuYWdlci5uZXdQYW5lbC5jbG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5mb3JtLm1hbmFnZXIuc2VsZWN0aW9uUGFuZWwuY2xvc2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzICE9PSAyMDApIHtcbiAgICAgICAgICBhbGVydCh0aGlzLmZvcm0ubWFuYWdlci5jb25maWcuZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG5cbiAgICAvLyBCdXR0b25zXG4gICAgbGV0IGNhbmNlbEJ1dHRvbiA9IGZvcm0ucXVlcnlTZWxlY3RvcignLmpzLXVpZS1jYW5jZWwnKTtcbiAgICBjYW5jZWxCdXR0b24ucGFuZWwgPSB0aGlzLm5ld1BhbmVsO1xuICAgIGNhbmNlbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLmN1cnJlbnRUYXJnZXQucGFuZWwuY2xvc2UoKTtcbiAgICB9KTtcbiAgICBsZXQgc2F2ZUJ1dHRvbiA9IGZvcm0ucXVlcnlTZWxlY3RvcignLmpzLXVpZS1zYXZlJyk7XG4gICAgc2F2ZUJ1dHRvbi5wYW5lbCA9IHRoaXMubmV3UGFuZWw7XG4gICAgc2F2ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLmN1cnJlbnRUYXJnZXQucGFuZWwuZGlhbG9nLnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0nKS5kaXNwYXRjaEV2ZW50KFxuICAgICAgICBuZXcgRXZlbnQoJ3N1Ym1pdCcsIHtjYW5jZWxhYmxlOiB0cnVlfSlcbiAgICAgICk7XG4gICAgfSk7XG4gIH1cblxuICBvcGVuTmV3UGFuZWwoZm9ybUh0bWwsIGVsZW1lbnQsIHBvc2l0aW9uKSB7XG4gICAgdGhpcy5uZXdQYW5lbC5kaWFsb2cubWFuYWdlciA9IHRoaXM7XG4gICAgdGhpcy5uZXdQYW5lbC5kaWFsb2cucG9zaXRpb24gPSBwb3NpdGlvbjtcblxuICAgIC8vIEZpbGwgdGhlIHBhbmVsIHdpdGggdGhlIGZvcm1cbiAgICB0aGlzLmRyYXdOZXdGb3JtKGZvcm1IdG1sLCBwb3NpdGlvbik7XG5cbiAgICB0aGlzLm5ld1BhbmVsLm9wZW4oKTtcbiAgfVxuXG4gIGVkaXRVaUVsZW1lbnQodWlFbGVtZW50KSB7XG4gICAgdGhpcy5sb2FkVWlFbGVtZW50RWRpdEZvcm0odWlFbGVtZW50LCBmdW5jdGlvbiAocHJvZ3Jlc3MpIHtcbiAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZSh0aGlzLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgIHVpRWxlbWVudC5tYW5hZ2VyLm9wZW5FZGl0UGFuZWwoZGF0YVsnZm9ybV9odG1sJ10sIHVpRWxlbWVudClcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGRyYXdFZGl0Rm9ybShmb3JtSHRtbCwgdWlFbGVtZW50KSB7XG4gICAgdGhpcy5lZGl0UGFuZWwuZGlhbG9nLnF1ZXJ5U2VsZWN0b3IoJy5qcy11aWUtY29udGVudCcpLmlubmVySFRNTCA9IGZvcm1IdG1sO1xuICAgIGxldCBmb3JtID0gdGhpcy5lZGl0UGFuZWwuZGlhbG9nO1xuXG4gICAgdGhpcy53eXNpd3lnLmxvYWQoZm9ybSk7XG4gICAgdGhpcy5kaXNwYXRjaEluaXRGb3JtRXZlbnQoZm9ybSwgdGhpcyk7XG5cbiAgICAvLyBGb3JtIHN1Ym1pdFxuICAgIGxldCBmb3JtRWxlbWVudCA9IGZvcm0ucXVlcnlTZWxlY3RvcignZm9ybScpO1xuICAgIGZvcm1FbGVtZW50Lm1hbmFnZXIgPSB0aGlzO1xuICAgIGZvcm1FbGVtZW50LnVpRWxlbWVudCA9IHVpRWxlbWVudDtcbiAgICBmb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBjb25zdCBteUZvcm0gPSBlLmN1cnJlbnRUYXJnZXQ7XG4gICAgICBteUZvcm0ubWFuYWdlci5zdWJtaXRVaUVsZW1lbnRGb3JtKG15Rm9ybSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZSh0aGlzLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgaWYgKGRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuZm9ybS5tYW5hZ2VyLmRyYXdFZGl0Rm9ybShkYXRhLmZvcm1faHRtbCwgdGhpcy5mb3JtLnVpRWxlbWVudCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZm9ybS51aUVsZW1lbnQuZGF0YSA9IGRhdGEuZGF0YTtcbiAgICAgICAgICAgIHRoaXMuZm9ybS51aUVsZW1lbnQucHJldmlld0h0bWwgPSBkYXRhLnByZXZpZXdIdG1sO1xuICAgICAgICAgICAgdGhpcy5mb3JtLm1hbmFnZXIud3JpdGUoKTtcbiAgICAgICAgICAgIHRoaXMuZm9ybS5tYW5hZ2VyLmVkaXRQYW5lbC5jbG9zZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgICAgIGFsZXJ0KHRoaXMuY29uZmlnLmVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuXG4gICAgLy8gQnV0dG9uc1xuICAgIGxldCBjYW5jZWxCdXR0b24gPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJy5qcy11aWUtY2FuY2VsJyk7XG4gICAgY2FuY2VsQnV0dG9uLnBhbmVsID0gdGhpcy5lZGl0UGFuZWw7XG4gICAgY2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUuY3VycmVudFRhcmdldC5wYW5lbC5jbG9zZSgpO1xuICAgIH0pO1xuICAgIGxldCBzYXZlQnV0dG9uID0gZm9ybS5xdWVyeVNlbGVjdG9yKCcuanMtdWllLXNhdmUnKTtcbiAgICBzYXZlQnV0dG9uLnBhbmVsID0gdGhpcy5lZGl0UGFuZWw7XG4gICAgc2F2ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLmN1cnJlbnRUYXJnZXQucGFuZWwuZGlhbG9nLnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0nKS5kaXNwYXRjaEV2ZW50KFxuICAgICAgICBuZXcgRXZlbnQoJ3N1Ym1pdCcsIHtjYW5jZWxhYmxlOiB0cnVlfSlcbiAgICAgICk7XG4gICAgfSk7XG4gIH1cblxuICBvcGVuRWRpdFBhbmVsKGZvcm1IdG1sLCB1aUVsZW1lbnQpIHtcbiAgICB0aGlzLmVkaXRQYW5lbC5kaWFsb2cubWFuYWdlciA9IHRoaXM7XG4gICAgdGhpcy5lZGl0UGFuZWwuZGlhbG9nLnVpRWxlbWVudCA9IHVpRWxlbWVudDtcblxuICAgIC8vIEZpbGwgdGhlIHBhbmVsIHdpdGggdGhlIGZvcm1cbiAgICB0aGlzLmRyYXdFZGl0Rm9ybShmb3JtSHRtbCwgdWlFbGVtZW50KTtcblxuICAgIHRoaXMuZWRpdFBhbmVsLm9wZW4oKTtcbiAgfVxuXG4gIHdyaXRlKCkge1xuICAgIHRoaXMuaW5wdXQudmFsdWUgPSAodGhpcy51aUVsZW1lbnRzLmxlbmd0aCA+IDApID8gSlNPTi5zdHJpbmdpZnkodGhpcy51aUVsZW1lbnRzKSA6ICcnO1xuICAgIHRoaXMuZHJhd1VpRWxlbWVudHMoKTtcbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnbWJpejpyaWNoLWVkaXRvcjp3cml0ZS1jb21wbGV0ZScsIHtcbiAgICAgICdkZXRhaWwnOiB7J2VkaXRvck1hbmFnZXInOiB0aGlzfVxuICAgIH0pKTtcbiAgfVxuXG4gIGNyZWF0ZShjb2RlLCBkYXRhLCBwcmV2aWV3SHRtbCwgcG9zaXRpb24pIHtcbiAgICBsZXQgdWlFbGVtZW50ID0gbmV3IE1vbnNpZXVyQml6UmljaEVkaXRvclVpRWxlbWVudCh0aGlzLmNvbmZpZywgY29kZSwgZGF0YSwgcHJldmlld0h0bWwpO1xuICAgIHRoaXMudWlFbGVtZW50cy5zcGxpY2UocG9zaXRpb24sIDAsIHVpRWxlbWVudCk7XG4gICAgdGhpcy53cml0ZSgpO1xuICAgIHJldHVybiB1aUVsZW1lbnQ7XG4gIH1cblxuICBtb3ZlVXAodWlFbGVtZW50KSB7XG4gICAgbGV0IHBvc2l0aW9uID0gdGhpcy51aUVsZW1lbnRzLmluZGV4T2YodWlFbGVtZW50KTtcbiAgICBpZiAocG9zaXRpb24gPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy51aUVsZW1lbnRzLnNwbGljZShwb3NpdGlvbiwgMSk7XG4gICAgdGhpcy51aUVsZW1lbnRzLnNwbGljZShwb3NpdGlvbiAtIDEsIDAsIHVpRWxlbWVudCk7XG4gICAgdGhpcy53cml0ZSgpO1xuICB9XG5cbiAgbW92ZURvd24odWlFbGVtZW50KSB7XG4gICAgbGV0IHBvc2l0aW9uID0gdGhpcy51aUVsZW1lbnRzLmluZGV4T2YodWlFbGVtZW50KTtcbiAgICBpZiAocG9zaXRpb24gPT09ICh0aGlzLnVpRWxlbWVudHMubGVuZ3RoIC0gMSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy51aUVsZW1lbnRzLnNwbGljZShwb3NpdGlvbiwgMSk7XG4gICAgdGhpcy51aUVsZW1lbnRzLnNwbGljZShwb3NpdGlvbiArIDEsIDAsIHVpRWxlbWVudCk7XG4gICAgdGhpcy53cml0ZSgpO1xuICB9XG5cbiAgZGVsZXRlKHVpRWxlbWVudCkge1xuICAgIGxldCBwb3NpdGlvbiA9IHRoaXMudWlFbGVtZW50cy5pbmRleE9mKHVpRWxlbWVudCk7XG4gICAgdGhpcy51aUVsZW1lbnRzLnNwbGljZShwb3NpdGlvbiwgMSk7XG4gICAgdGhpcy53cml0ZSgpO1xuICB9XG5cbiAgbG9hZFVpRWxlbWVudENyZWF0ZUZvcm0oZWxlbWVudCwgY2FsbGJhY2spIHtcbiAgICBsZXQgcmVxID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgcmVxLm9ubG9hZCA9IGNhbGxiYWNrO1xuICAgIGxldCB1cmwgPSB0aGlzLmNvbmZpZy5jcmVhdGVFbGVtZW50Rm9ybVVybDtcbiAgICByZXEub3BlbihcImdldFwiLCB1cmwucmVwbGFjZSgnX19DT0RFX18nLCBlbGVtZW50LmNvZGUpLCB0cnVlKTtcbiAgICByZXEuc2V0UmVxdWVzdEhlYWRlcihcIlgtUmVxdWVzdGVkLVdpdGhcIiwgXCJYTUxIdHRwUmVxdWVzdFwiKTtcbiAgICByZXEuc2VuZCgpO1xuICB9XG5cbiAgbG9hZFVpRWxlbWVudEVkaXRGb3JtKGVsZW1lbnQsIGNhbGxiYWNrKSB7XG4gICAgbGV0IHJlcSA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIHJlcS5vbmxvYWQgPSBjYWxsYmFjaztcbiAgICBsZXQgdXJsID0gdGhpcy5jb25maWcuZWRpdEVsZW1lbnRGb3JtVXJsO1xuICAgIHJlcS5vcGVuKFwicG9zdFwiLCB1cmwucmVwbGFjZSgnX19DT0RFX18nLCBlbGVtZW50LmNvZGUpLCB0cnVlKTtcbiAgICByZXEuc2V0UmVxdWVzdEhlYWRlcihcIlgtUmVxdWVzdGVkLVdpdGhcIiwgXCJYTUxIdHRwUmVxdWVzdFwiKTtcbiAgICByZXEuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKTtcbiAgICByZXEuc2VuZChuZXcgVVJMU2VhcmNoUGFyYW1zKHtkYXRhOiBKU09OLnN0cmluZ2lmeShlbGVtZW50LmRhdGEpfSkudG9TdHJpbmcoKSk7XG4gIH1cblxuICBzdWJtaXRVaUVsZW1lbnRGb3JtKGZvcm0sIGNhbGxiYWNrKSB7XG4gICAgbGV0IHJlcSA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIHJlcS5vbmxvYWQgPSBjYWxsYmFjaztcbiAgICByZXEuZm9ybSA9IGZvcm07XG4gICAgcmVxLm9wZW4oXCJwb3N0XCIsIGZvcm0uYWN0aW9uLCB0cnVlKTtcbiAgICByZXEuc2V0UmVxdWVzdEhlYWRlcihcIlgtUmVxdWVzdGVkLVdpdGhcIiwgXCJYTUxIdHRwUmVxdWVzdFwiKTtcbiAgICByZXEuc2VuZChuZXcgRm9ybURhdGEoZm9ybSkpO1xuICB9XG5cbiAgcmVxdWVzdFVpRWxlbWVudHNIdG1sKHVpRWxlbWVudHMsIGNhbGxiYWNrKSB7XG4gICAgbGV0IHJlcSA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIHJlcS5vbmxvYWQgPSBjYWxsYmFjaztcbiAgICByZXEub3BlbihcInBvc3RcIiwgdGhpcy5jb25maWcucmVuZGVyRWxlbWVudHNVcmwsIHRydWUpO1xuICAgIHJlcS5zZXRSZXF1ZXN0SGVhZGVyKFwiWC1SZXF1ZXN0ZWQtV2l0aFwiLCBcIlhNTEh0dHBSZXF1ZXN0XCIpO1xuICAgIGxldCBkYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgZGF0YS5hcHBlbmQoJ3VpX2VsZW1lbnRzJywgSlNPTi5zdHJpbmdpZnkodWlFbGVtZW50cykpO1xuICAgIGlmICh0aGlzLmlucHV0LmRhdGFzZXQubG9jYWxlKSB7XG4gICAgICBkYXRhLmFwcGVuZCgnbG9jYWxlJywgdGhpcy5pbnB1dC5kYXRhc2V0LmxvY2FsZSk7XG4gICAgfVxuICAgIHJlcS51aUVsZW1lbnRzID0gdWlFbGVtZW50cztcbiAgICByZXEubWFuYWdlciA9IHRoaXM7XG4gICAgcmVxLnNlbmQoZGF0YSk7XG4gIH1cblxuICBpc0NsaXBib2FyZEVtcHR5KCkge1xuICAgIGNvbnN0IGNsaXBib2FyZCA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdtb25zaWV1ckJpelJpY2hFZGl0b3JDbGlwYm9hcmQnKTtcbiAgICByZXR1cm4gbnVsbCA9PT0gY2xpcGJvYXJkIHx8ICcnID09PSBjbGlwYm9hcmQ7XG4gIH1cblxuICBzYXZlVWlFbGVtZW50VG9DbGlwYm9hcmQodWlFbGVtZW50LCBjYWxsYmFjaykge1xuICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdtb25zaWV1ckJpelJpY2hFZGl0b3JDbGlwYm9hcmQnLCBKU09OLnN0cmluZ2lmeSh1aUVsZW1lbnQpKTtcbiAgICBjYWxsYmFjaygpO1xuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdtYml6OnJpY2gtZWRpdG9yOnVpZWxlbWVudDpjb3BpZWQnLCB7fSkpO1xuICB9XG5cbiAgcGFzdGVVaUVsZW1lbnRGcm9tQ2xpcGJvYXJkKGZ1dHVyZVBvc2l0aW9uKSB7XG4gICAgY29uc3QgY2xpcGJvYXJkID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ21vbnNpZXVyQml6UmljaEVkaXRvckNsaXBib2FyZCcpO1xuICAgIGlmIChudWxsICE9PSBjbGlwYm9hcmQpIHtcbiAgICAgIGNvbnN0IHBhc3RlZFVpRWxlbWVudCA9IEpTT04ucGFyc2UoY2xpcGJvYXJkKTtcbiAgICAgIGNvbnN0IG1hbmFnZXIgPSB0aGlzO1xuICAgICAgbWFuYWdlci5yZXF1ZXN0VWlFbGVtZW50c0h0bWwoW3Bhc3RlZFVpRWxlbWVudF0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICBsZXQgcmVuZGVyZWRFbGVtZW50cyA9IEpTT04ucGFyc2UodGhpcy5yZXNwb25zZVRleHQpO1xuICAgICAgICAgIGNvbnN0IGVsZW1lbnRIdG1sID0gcmVuZGVyZWRFbGVtZW50cy5zaGlmdCgpO1xuICAgICAgICAgIGlmIChwYXN0ZWRVaUVsZW1lbnQuY29kZSA9PT0gdW5kZWZpbmVkICYmIHBhc3RlZFVpRWxlbWVudC50eXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhc3RlZFVpRWxlbWVudC5jb2RlID0gcGFzdGVkVWlFbGVtZW50LnR5cGU7XG4gICAgICAgICAgICBwYXN0ZWRVaUVsZW1lbnQuZGF0YSA9IHBhc3RlZFVpRWxlbWVudC5maWVsZHM7XG4gICAgICAgICAgICBkZWxldGUgcGFzdGVkVWlFbGVtZW50LnR5cGU7XG4gICAgICAgICAgICBkZWxldGUgcGFzdGVkVWlFbGVtZW50LmZpZWxkcztcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IHVpRWxlbWVudCA9IG1hbmFnZXIuY29uZmlnLmZpbmRVaUVsZW1lbnRCeUNvZGUocGFzdGVkVWlFbGVtZW50LmNvZGUpO1xuICAgICAgICAgIGlmIChudWxsICE9PSB1aUVsZW1lbnQpIHtcbiAgICAgICAgICAgIGlmIChtYW5hZ2VyLnRhZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBsZXQgY29weSA9IGZhbHNlO1xuICAgICAgICAgICAgICBmb3IgKGxldCB0YWdJbmRleCBpbiBtYW5hZ2VyLnRhZ3MpIHtcbiAgICAgICAgICAgICAgICBpZiAoMCA8PSBtYW5hZ2VyLmNvbmZpZy51aWVsZW1lbnRzW3VpRWxlbWVudC5jb2RlXS50YWdzLmluZGV4T2YobWFuYWdlci50YWdzW3RhZ0luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICAgIGNvcHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoY29weSkge1xuICAgICAgICAgICAgICAgIG1hbmFnZXIuY3JlYXRlKHVpRWxlbWVudC5jb2RlLCBwYXN0ZWRVaUVsZW1lbnQuZGF0YSwgZWxlbWVudEh0bWwsIGZ1dHVyZVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhbGVydChtYW5hZ2VyLmNvbmZpZy51bmFsbG93ZWRVaUVsZW1lbnRNZXNzYWdlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbWFuYWdlci5jcmVhdGUodWlFbGVtZW50LmNvZGUsIHBhc3RlZFVpRWxlbWVudC5kYXRhLCBlbGVtZW50SHRtbCwgZnV0dXJlUG9zaXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZGlzcGF0Y2hJbml0Rm9ybUV2ZW50KGZvcm0sIG1hbmFnZXIpIHtcbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnbW9uc2lldXJCaXpSaWNoRWRpdG9ySW5pdEZvcm0nLCB7XG4gICAgICAnZGV0YWlsJzogeydmb3JtJzogZm9ybSwgJ21hbmFnZXInOiBtYW5hZ2VyfVxuICAgIH0pKTtcbiAgfVxufTtcbiIsImltcG9ydCBFZGl0b3JKUyBmcm9tICdAZWRpdG9yanMvZWRpdG9yanMnO1xuaW1wb3J0IEhlYWRlciBmcm9tICdAZWRpdG9yanMvaGVhZGVyJztcbmltcG9ydCBMaXN0IGZyb20gXCJAZWRpdG9yanMvbGlzdFwiO1xuaW1wb3J0IEh5cGVybGluayBmcm9tICdlZGl0b3Jqcy1oeXBlcmxpbmsnO1xuaW1wb3J0IERlbGltaXRlciBmcm9tICdAZWRpdG9yanMvZGVsaW1pdGVyJztcbmltcG9ydCBjcmVhdGVHZW5lcmljSW5saW5lVG9vbCBmcm9tICdlZGl0b3Jqcy1pbmxpbmUtdG9vbCdcbmltcG9ydCB7IEljb25Cb2xkLCBJY29uVW5kZXJsaW5lIH0gZnJvbSAnQGNvZGV4dGVhbS9pY29ucyc7XG5cbmNsYXNzIEN1c3RvbUh5cGVybGluayBleHRlbmRzIEh5cGVybGluayB7XG4gICAgLy8gRml4IGljb24gLSBjZiBodHRwczovL2dpdGh1Yi5jb20vdHJpbmh0YW0vZWRpdG9yanMtaHlwZXJsaW5rL2lzc3Vlcy8xOSNpc3N1ZWNvbW1lbnQtMTgxNDUxOTg4NFxuICAgIGljb25TdmcobmFtZSwgd2lkdGggPSAxNCwgaGVpZ2h0ID0gMTQpIHtcbiAgICAgICAgY29uc3Qgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKTtcbiAgICAgICAgc3ZnLmNsYXNzTGlzdC5hZGQoJ2ljb24nLCAnaWNvbi0tJyArIG5hbWUpO1xuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKCd3aWR0aCcsICcyNCcpO1xuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCAnMjQnKTtcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZSgndmlld0JveCcsICcwIDAgMjQgMjQnKVxuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKCdmaWxsJywgJ25vbmUnKTtcbiAgICAgICAgaWYgKG5hbWUgPT0gJ2xpbmsnKSB7XG4gICAgICAgICAgICBzdmcuaW5uZXJIVE1MID0gYFxuICAgICAgICA8cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNy42OTk5OCAxMi42TDcuNjc4OTYgMTIuNjJDNi41Mzk5MyAxMy43MDQ4IDYuNTIwMTIgMTUuNTE1NSA3LjYzNTE2IDE2LjYyNVYxNi42MjVDOC43MjI5MyAxNy43MDczIDEwLjQ3OTkgMTcuNzEwMiAxMS41NzEyIDE2LjYzMTRMMTMuMDI2MyAxNS4xOTNDMTQuMDcwMyAxNC4xNjA5IDE0LjIxNDEgMTIuNTI1IDEzLjM2NjIgMTEuMzI2NkwxMy4yMiAxMS4xMlwiPjwvcGF0aD48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTYuMjIgMTEuMTJMMTYuMzU2NCAxMC45ODA1QzE3LjI4OTUgMTAuMDI2NSAxNy4zNDc4IDguNTIwNyAxNi40OTE0IDcuNDk3MzNWNy40OTczM0MxNS41NjkxIDYuMzk1MDkgMTMuOTI2OSA2LjI1MTQzIDEyLjgyNzEgNy4xNzY3NUwxMS4zOTAxIDguMzg1ODhDMTAuMDkzNSA5LjQ3Njc0IDkuOTU3MDYgMTEuNDI0MSAxMS4wODg4IDEyLjY4NTJMMTEuMTIgMTIuNzJcIj48L3BhdGg+XG4gICAgICBgO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3ZnLmlubmVySFRNTCA9IGBcbiAgICAgICAgPHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE1Ljc3OTUgMTEuNUMxNS43Nzk1IDExLjUgMTYuMDUzIDExLjE5NjIgMTYuNTQ5NyAxMC42NzIyQzE3LjQ0NDIgOS43Mjg1NiAxNy40NzAxIDguMjQ3NSAxNi41NzgxIDcuMzAxNDVWNy4zMDE0NUMxNS42NDgyIDYuMzE1MjIgMTQuMDg3MyA2LjI5MjI3IDEzLjEyODggNy4yNTA3M0wxMS44Nzk2IDguNDk5OTlcIj48L3BhdGg+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTguMjQ1MTcgMTIuMzg4M0M4LjI0NTE3IDEyLjM4ODMgNy45NzE3MSAxMi42OTIyIDcuNDc1MDQgMTMuMjE2MUM2LjU4MDUxIDE0LjE1OTggNi41NTQ2NyAxNS42NDA4IDcuNDQ2NjYgMTYuNTg2OVYxNi41ODY5QzguMzc2NTMgMTcuNTczMSA5LjkzNzQ0IDE3LjU5NjEgMTAuODk1OSAxNi42Mzc2TDEyLjE0NTIgMTUuMzg4M1wiPjwvcGF0aD48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTcuNzgwMiAxNS4xMDMyTDE2LjU5NyAxNC45NDIyQzE2LjAxMDkgMTQuODYyNCAxNS40ODQxIDE1LjMwNTkgMTUuNDYyNyAxNS44OTY5TDE1LjQxOTkgMTcuMDgxOFwiPjwvcGF0aD48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNi4zOTA2NCA5LjAzMjM4TDcuNTg0MzIgOS4wNjY2OEM4LjE3NTUxIDkuMDgzNjYgOC42NTIyIDguNTg2NjUgOC42MTA1NiA3Ljk5NjY5TDguNTI3MSA2LjgxMzk3XCI+PC9wYXRoPjxsaW5lIHgxPVwiMTIuMTE0MlwiIHgyPVwiMTEuN1wiIHkxPVwiMTIuMlwiIHkyPVwiMTEuNzg1OFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCI+PC9saW5lPlxuICAgICAgYDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdmc7XG4gICAgfVxuXG4gICAgLy8gRml4IGNhbid0IGNoYW5nZSBoeXBlcmxpbmsgLSBodHRwczovL2dpdGh1Yi5jb20vdHJpbmh0YW0vZWRpdG9yanMtaHlwZXJsaW5rL3B1bGwvMjIvZmlsZXNcbiAgICBpbnNlcnRMaW5rKGxpbmssIHRhcmdldD0nJywgcmVsPScnKSB7XG4gICAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKHRoaXMuY29tbWFuZExpbmssIGZhbHNlLCBsaW5rKTtcbiAgICAgICAgc3VwZXIuaW5zZXJ0TGluayhsaW5rLCB0YXJnZXQsIHJlbCk7XG4gICAgfVxufVxuXG5jbGFzcyBFZGl0b3JKU1Byb3ZpZGVyIHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgfVxuXG4gICAgaW5pdCh0YXJnZXQpIHtcbiAgICAgICAgY29uc3Qgd3lzaXd5Z0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB3eXNpd3lnQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2VkaXRvcmpzJyk7XG4gICAgICAgIHRhcmdldC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHd5c2l3eWdDb250YWluZXIpO1xuXG4gICAgICAgIGNvbnN0IHRvb2xzID0gdGhpcy5nZXRFZGl0b3JKU1Rvb2xzKCk7XG4gICAgICAgIGNvbnN0IHRvb2xiYXIgPSB0aGlzLmdldEVkaXRvckpTVG9vbGJhcigpO1xuXG4gICAgICAgIGNvbnN0IGVkaXRvciA9IG5ldyBFZGl0b3JKUyh7XG4gICAgICAgICAgICBob2xkZXI6IHd5c2l3eWdDb250YWluZXIsXG4gICAgICAgICAgICBpbmxpbmVUb29sYmFyOiB0b29sYmFyLFxuICAgICAgICAgICAgdG9vbHM6IHRvb2xzLFxuICAgICAgICAgICAgb25DaGFuZ2U6IChhcGkpID0+IHtcbiAgICAgICAgICAgICAgICBhcGkuc2F2ZXIuc2F2ZSgpLnRoZW4oKG91dHB1dERhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnRleHRDb250ZW50ID0gSlNPTi5zdHJpbmdpZnkob3V0cHV0RGF0YSk7XG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTYXZpbmcgZmFpbGVkOiAnLCBlcnJvcilcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZWRpdG9yLmlzUmVhZHlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LnZhbHVlID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gSlNPTi5wYXJzZSh0YXJnZXQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBlZGl0b3IuYmxvY2tzLnJlbmRlcih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBlZGl0b3IuYmxvY2tzLnJlbmRlckZyb21IVE1MKHRhcmdldC52YWx1ZSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChyZWFzb24pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgRWRpdG9yLmpzIGluaXRpYWxpemF0aW9uIGZhaWxlZCBiZWNhdXNlIG9mICR7cmVhc29ufWApXG4gICAgICAgICAgICB9KVxuICAgICAgICA7XG4gICAgfVxuXG4gICAgZXhlYygpIHtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBjb252ZXJ0cyB0aGUgY29uZmlnLmFjdGlvbnMgaW50byBhIGxpc3Qgb2YgRWRpdG9ySlMgaW5saW5lIHRvb2xzIGZvciB0aGUgdG9vbGJhci5cbiAgICAgKi9cbiAgICBnZXRFZGl0b3JKU1Rvb2xiYXIoKSB7XG4gICAgICAgIGxldCB0b29sYmFyID0gW107XG4gICAgICAgIHRoaXMuY29uZmlnLmFjdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgICAgICBpZiAoYWN0aW9uID09PSAnYm9sZCcpIHtcbiAgICAgICAgICAgICAgICB0b29sYmFyLnB1c2goJ2JvbGQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhY3Rpb24gPT09ICdpdGFsaWMnKSB7XG4gICAgICAgICAgICAgICAgdG9vbGJhci5wdXNoKCdpdGFsaWMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhY3Rpb24gPT09ICd1bmRlcmxpbmUnKSB7XG4gICAgICAgICAgICAgICAgdG9vbGJhci5wdXNoKCd1bmRlcmxpbmUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhY3Rpb24gPT09ICdsaW5rJykge1xuICAgICAgICAgICAgICAgIHRvb2xiYXIucHVzaCgnbGluaycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdG9vbGJhcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBjb252ZXJ0cyB0aGUgY29uZmlnLmFjdGlvbnMgaW50byBhIGxpc3Qgb2YgRWRpdG9ySlMgdG9vbHMuXG4gICAgICovXG4gICAgZ2V0RWRpdG9ySlNUb29scygpIHtcbiAgICAgICAgbGV0IHRvb2xzID0ge307XG4gICAgICAgIGxldCBoZWFkZXIgPSB0cnVlO1xuICAgICAgICBsZXQgbGV2ZWxzID0gW107XG4gICAgICAgIHRoaXMuY29uZmlnLmFjdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgICAgICBpZiAoYWN0aW9uID09PSAnaGVhZGluZzEnKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBsZXZlbHMucHVzaCgxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhY3Rpb24gPT09ICdoZWFkaW5nMicpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGxldmVscy5wdXNoKDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFjdGlvbiBpbnN0YW5jZW9mIE9iamVjdCAmJiBhY3Rpb24ubmFtZSA9PT0gJ2hlYWRpbmczJykge1xuICAgICAgICAgICAgICAgIGhlYWRlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgbGV2ZWxzLnB1c2goMyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKGFjdGlvbiA9PT0gJ3VsaXN0JyB8fCBhY3Rpb24gPT09ICdvbGlzdCcpICYmICF0b29sc1snbGlzdCddKSB7XG4gICAgICAgICAgICAgICAgdG9vbHNbJ2xpc3QnXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M6IExpc3QsXG4gICAgICAgICAgICAgICAgICAgIGlubGluZVRvb2xiYXI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFN0eWxlOiAndW5vcmRlcmVkJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhY3Rpb24gPT09ICdsaW5rJykge1xuICAgICAgICAgICAgICAgIHRvb2xzWydsaW5rJ10gPSB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzOiBDdXN0b21IeXBlcmxpbmssXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiAnX2JsYW5rJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF2YWlsYWJsZVRhcmdldHM6IFsnX2JsYW5rJywgJ19zZWxmJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFjdGlvbiA9PT0gJ2JvbGQnKSB7XG4gICAgICAgICAgICAgICAgdG9vbHNbJ2JvbGQnXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M6IGNyZWF0ZUdlbmVyaWNJbmxpbmVUb29sKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhbml0aXplOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb25nOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWdOYW1lOiAnU1RST05HJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xib3hJY29uOiBJY29uQm9sZFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFjdGlvbiA9PT0gJ3VuZGVybGluZScpIHtcbiAgICAgICAgICAgICAgICB0b29sc1sndW5kZXJsaW5lJ10gPSB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzOiBjcmVhdGVHZW5lcmljSW5saW5lVG9vbCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzYW5pdGl6ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwYW46IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IFwidW5kZXJsaW5lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWdOYW1lOiAnU1BBTicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sYm94SWNvbjogSWNvblVuZGVybGluZVxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFjdGlvbiBpbnN0YW5jZW9mIE9iamVjdCAmJiBhY3Rpb24ubmFtZSA9PT0gJ2hyJykge1xuICAgICAgICAgICAgICAgIHRvb2xzWydkZWxpbWl0ZXInXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M6IERlbGltaXRlcixcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIGlmIChoZWFkZXIpIHtcbiAgICAgICAgICAgIHRvb2xzWydoZWFkZXInXSA9IHtcbiAgICAgICAgICAgICAgICBjbGFzczogSGVhZGVyLFxuICAgICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICBsZXZlbHM6IGxldmVscyB8fCBbMSwgMiwgMywgNCwgNSwgNl0sXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRMZXZlbDogbGV2ZWxzLmxlbmd0aCA+IDAgPyBsZXZlbHNbMF0gOiAxLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkaXNwYXRjaCBjdXN0b20gZXZlbnQgdG8gYWxsb3cgcHJvamVjdCB0byBhZGQgdG9vbHNcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ21iaXo6cmljaC1lZGl0b3I6ZWRpdG9yanM6dG9vbHMnLCB7XG4gICAgICAgICAgICAnZGV0YWlsJzogeyd0b29scyc6IHRvb2xzfVxuICAgICAgICB9KSk7XG5cbiAgICAgICAgcmV0dXJuIHRvb2xzO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRWRpdG9ySlNQcm92aWRlcjtcbiIsImltcG9ydCBwZWxsIGZyb20gJ3BlbGwnO1xuXG5jbGFzcyBQZWxsRWRpdG9yUHJvdmlkZXIge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB9XG5cbiAgICBpbml0KHRhcmdldCkge1xuICAgICAgICBjb25zdCB3eXNpd3lnQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHd5c2l3eWdDb250YWluZXIuY2xhc3NMaXN0LmFkZCgncGVsbCcpO1xuICAgICAgICB0YXJnZXQucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh3eXNpd3lnQ29udGFpbmVyKTtcblxuICAgICAgICAvLyBJbml0IHBlbGwgd3lzaXd5Z1xuICAgICAgICBjb25zdCBlZGl0b3IgPSBwZWxsLmluaXQoe1xuICAgICAgICAgICAgZWxlbWVudDogd3lzaXd5Z0NvbnRhaW5lcixcbiAgICAgICAgICAgIG9uQ2hhbmdlOiBodG1sID0+IHtcbiAgICAgICAgICAgICAgICB0YXJnZXQudGV4dENvbnRlbnQgPSBodG1sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVmYXVsdFBhcmFncmFwaFNlcGFyYXRvcjogJ3AnLFxuICAgICAgICAgICAgYWN0aW9uczogdGhpcy5jb25maWcuYWN0aW9ucyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZWRpdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ3Bhc3RlJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBsZXQgdGVtcENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgbGV0IGNsaXBib2FyZERhdGEgPSBlLmNsaXBib2FyZERhdGEgfHwgd2luZG93LmNsaXBib2FyZERhdGE7XG4gICAgICAgICAgICB0ZW1wQ29udGFpbmVyLmlubmVySFRNTCA9IGNsaXBib2FyZERhdGEuZ2V0RGF0YSgnVGV4dCcpO1xuICAgICAgICAgICAgbGV0IHRleHQgPSB0ZW1wQ29udGFpbmVyLnRleHRDb250ZW50IHx8IHRlbXBDb250YWluZXIuaW5uZXJUZXh0IHx8IFwiXCI7XG4gICAgICAgICAgICBwZWxsLmV4ZWMoJ2luc2VydFRleHQnLCB0ZXh0KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBQb3B1bGF0ZSB3eXNpd3lnIHdpdGggaW5pdGlhbCBjb250ZW50XG4gICAgICAgIGVkaXRvci5jb250ZW50LmlubmVySFRNTCA9IHRhcmdldC52YWx1ZTtcbiAgICB9XG5cbiAgICBleGVjKCkge1xuICAgICAgICByZXR1cm4gcGVsbC5leGVjKC4uLmFyZ3VtZW50cyk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQZWxsRWRpdG9yUHJvdmlkZXI7XG4iLCJjb25zdCBvID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk02IDdMNiAxMk02IDE3TDYgMTJNNiAxMkwxMiAxMk0xMiA3VjEyTTEyIDE3TDEyIDEyXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xOSAxN1YxMC4yMTM1QzE5IDEwLjEyODcgMTguOTAxMSAxMC4wODI0IDE4LjgzNiAxMC4xMzY3TDE2IDEyLjVcIi8+PC9zdmc+JywgdCA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNiA3TDYgMTJNNiAxN0w2IDEyTTYgMTJMMTIgMTJNMTIgN1YxMk0xMiAxN0wxMiAxMlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTYgMTFDMTYgMTAgMTkgOS41IDE5IDEyQzE5IDEzLjk3NzEgMTYuMDY4NCAxMy45OTk3IDE2LjAwMTIgMTYuODk4MUMxNS45OTk5IDE2Ljk1MzMgMTYuMDQ0OCAxNyAxNi4xIDE3TDE5LjMgMTdcIi8+PC9zdmc+JywgciA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNiA3TDYgMTJNNiAxN0w2IDEyTTYgMTJMMTIgMTJNMTIgN1YxMk0xMiAxN0wxMiAxMlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTYgMTFDMTYgMTAuNSAxNi44MzIzIDEwIDE3LjYgMTBDMTguMzY3NyAxMCAxOS41IDEwLjMxMSAxOS41IDExLjVDMTkuNSAxMi41MzE1IDE4Ljc0NzQgMTIuOTAyMiAxOC41NDggMTIuOTgyM0MxOC41Mzc4IDEyLjk4NjQgMTguNTM5NSAxMy4wMDQ3IDE4LjU1MDMgMTMuMDA2M0MxOC44MTE1IDEzLjA0NTYgMjAgMTMuMzA2NSAyMCAxNC44QzIwIDE2IDE5LjUgMTcgMTcuOCAxN0MxNy44IDE3IDE2IDE3IDE2IDE2LjNcIi8+PC9zdmc+JywgZSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNiA3TDYgMTJNNiAxN0w2IDEyTTYgMTJMMTIgMTJNMTIgN1YxMk0xMiAxN0wxMiAxMlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTggMTBMMTUuMjgzNCAxNC44NTExQzE1LjI0NiAxNC45MTc4IDE1LjI5NCAxNSAxNS4zNzA0IDE1QzE2Ljg0ODkgMTUgMTguNzU2MSAxNSAyMC4yIDE1TTE5IDE3QzE5IDE1LjcxODcgMTkgMTQuODgxMyAxOSAxMy42XCIvPjwvc3ZnPicsIG4gPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTYgN0w2IDEyTTYgMTdMNiAxMk02IDEyTDEyIDEyTTEyIDdWMTJNMTIgMTdMMTIgMTJcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE2IDE1LjlDMTYgMTUuOSAxNi4zNzY4IDE3IDE3LjggMTdDMTkuNSAxNyAyMCAxNS42MTk5IDIwIDE0LjdDMjAgMTIuNzMyMyAxNy42NzQ1IDEyLjA0ODYgMTYuMTYzNSAxMi45ODk0QzE2LjA5NCAxMy4wMzI3IDE2IDEyLjk4NDYgMTYgMTIuOTAyN1YxMC4xQzE2IDEwLjA0NDggMTYuMDQ0OCAxMCAxNi4xIDEwSDE5LjhcIi8+PC9zdmc+JywgcyA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNiA3TDYgMTJNNiAxN0w2IDEyTTYgMTJMMTIgMTJNMTIgN1YxMk0xMiAxN0wxMiAxMlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTkuNSAxMEMxNi41IDEwLjUgMTYgMTMuMzI4NSAxNiAxNU0xNiAxNVYxNUMxNiAxNi4xMDQ2IDE2Ljg5NTQgMTcgMTggMTdIMTguMzI0NkMxOS4zMjUxIDE3IDIwLjMxOTEgMTYuMzQ5MiAyMC4yNTIyIDE1LjM1MDlDMjAuMDYxMiAxMi40OTU4IDE2IDEyLjY2MTEgMTYgMTVaXCIvPjwvc3ZnPicsIGkgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTEgMTlWMTlDOS4xMzYyMyAxOSA4LjIwNDM1IDE5IDcuNDY5MjcgMTguNjk1NUM2LjQ4OTE1IDE4LjI4OTUgNS43MTA0NiAxNy41MTA4IDUuMzA0NDggMTYuNTMwN0M1IDE1Ljc5NTYgNSAxNC44NjM4IDUgMTNWMTJDNSA5LjE5MTA4IDUgNy43ODY2MSA1LjY3NDEyIDYuNzc3NzJDNS45NjU5NiA2LjM0MDk2IDYuMzQwOTYgNS45NjU5NiA2Ljc3NzcyIDUuNjc0MTJDNy43ODY2MSA1IDkuMTkxMDggNSAxMiA1SDEzLjVDMTQuODk1NiA1IDE1LjU5MzMgNSAxNi4xNjExIDUuMTcyMjRDMTcuNDM5NSA1LjU2MDA0IDE4LjQ0IDYuNTYwNDYgMTguODI3OCA3LjgzODg2QzE5IDguNDA2NjYgMTkgOS4xMDQ0NCAxOSAxMC41VjEwLjVcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE2IDEzVjE2TTE2IDE5VjE2TTE5IDE2SDE2TTE2IDE2SDEzXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTYuNSAxNy41TDE3LjUgNi41XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE4Ljk5MTkgMTAuNUgxOS4wMDE1XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTEwLjk5MTkgMTlIMTEuMDAxNVwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDEzTDEzIDVcIi8+PC9zdmc+JywgaCA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xOC45OTE5IDkuNUgxOS4wMDE1XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE0LjUgNUgxNC41MDk2XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNC42MjUgNUgxNUMxNy4yMDkxIDUgMTkgNi43OTA4NiAxOSA5VjkuMzc1XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTkuMzc1IDVMOSA1QzYuNzkwODYgNSA1IDYuNzkwODYgNSA5VjkuMzc1XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTkuMzcyNSA1SDkuMzgyMDdcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSA5LjVINS4wMDk1N1wiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk05LjM3NSAxOUg5QzYuNzkwODYgMTkgNSAxNy4yMDkxIDUgMTVWMTQuNjI1XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTkuMzcyNSAxOUg5LjM4MjA3XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTQuNTVINS4wMDk1N1wiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTYgMTNWMTZNMTYgMTlWMTZNMTkgMTZIMTZNMTYgMTZIMTNcIi8+PC9zdmc+JywgbCA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTggN0w2IDdcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE4IDE3SDZcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE2IDEyTDggMTJcIi8+PC9zdmc+JywgdyA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTggN0w2IDdcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE4IDE3SDZcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE4IDEyTDYgMTJcIi8+PC9zdmc+JywgZCA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTcgN0w1IDdcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE3IDE3SDVcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTEzIDEyTDUgMTJcIi8+PC9zdmc+JywgayA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTkgN0w3IDdcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE5IDE3SDdcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE5IDEyTDExIDEyXCIvPjwvc3ZnPicsIGMgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTkgMTJMOSA3LjFDOSA3LjA0NDc3IDkuMDQ0NzcgNyA5LjEgN0gxMC40QzExLjUgNyAxNCA3LjEgMTQgOS41QzE0IDkuNSAxNCAxMiAxMSAxMk05IDEyVjE2LjhDOSAxNi45MTA1IDkuMDg5NTQgMTcgOS4yIDE3SDEyLjVDMTQgMTcgMTUgMTYgMTUgMTQuNUMxNSAxMS43MDQ2IDExIDEyIDExIDEyTTkgMTJIMTFcIi8+PC9zdmc+JywgQyA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk05IDhMNSAxMkw5IDE2XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE1IDhMMTkgMTJMMTUgMTZcIi8+PC9zdmc+JywgZyA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNyAxMkwxMC40ODg0IDE1LjgzNzJDMTAuNTY3NyAxNS45MjQ1IDEwLjcwNSAxNS45MjQ1IDEwLjc4NDQgMTUuODM3MkwxNyA5XCIvPjwvc3ZnPicsIHUgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTkuMiAxMkwxMS4wNTg2IDEzLjg1ODZDMTEuMTM2NyAxMy45MzY3IDExLjI2MzMgMTMuOTM2NyAxMS4zNDE0IDEzLjg1ODZMMTQuNyAxMC41XCIvPjxyZWN0IHdpZHRoPVwiMTRcIiBoZWlnaHQ9XCIxNFwiIHg9XCI1XCIgeT1cIjVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgcng9XCI0XCIvPjwvc3ZnPicsIHAgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTcgMTBMMTEuODU4NiAxNC44NTg2QzExLjkzNjcgMTQuOTM2NyAxMi4wNjMzIDE0LjkzNjcgMTIuMTQxNCAxNC44NTg2TDE3IDEwXCIvPjwvc3ZnPicsIGEgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE0LjUgMTcuNUw5LjY0MTQyIDEyLjY0MTRDOS41NjMzMSAxMi41NjMzIDkuNTYzMzEgMTIuNDM2NyA5LjY0MTQyIDEyLjM1ODZMMTQuNSA3LjVcIi8+PC9zdmc+JywgdiA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOS41ODI4NCAxNy41TDE0LjQ0MTQgMTIuNjQxNEMxNC41MTk1IDEyLjU2MzMgMTQuNTE5NSAxMi40MzY3IDE0LjQ0MTQgMTIuMzU4Nkw5LjU4Mjg0IDcuNVwiLz48L3N2Zz4nLCBNID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk03IDE1TDExLjg1ODYgMTAuMTQxNEMxMS45MzY3IDEwLjA2MzMgMTIuMDYzMyAxMC4wNjMzIDEyLjE0MTQgMTAuMTQxNEwxNyAxNVwiLz48L3N2Zz4nLCB4ID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTkuNDI4NTcgN0g3LjcxNDI5QzcuMjU5NjMgNyA2LjgyMzU5IDcuMTU4MDQgNi41MDIxIDcuNDM5MzRDNi4xODA2MSA3LjcyMDY0IDYgOC4xMDIxOCA2IDguNVYxNy41QzYgMTcuODk3OCA2LjE4MDYxIDE4LjI3OTQgNi41MDIxIDE4LjU2MDdDNi44MjM1OSAxOC44NDIgNy4yNTk2MyAxOSA3LjcxNDI5IDE5SDE2LjI4NTdDMTYuNzQwNCAxOSAxNy4xNzY0IDE4Ljg0MiAxNy40OTc5IDE4LjU2MDdDMTcuODE5NCAxOC4yNzk0IDE4IDE3Ljg5NzggMTggMTcuNVY4LjVDMTggOC4xMDIxOCAxNy44MTk0IDcuNzIwNjQgMTcuNDk3OSA3LjQzOTM0QzE3LjE3NjQgNy4xNTgwNCAxNi43NDA0IDcgMTYuMjg1NyA3SDE0LjU3MTRcIi8+PHJlY3Qgd2lkdGg9XCI1LjE1Nzg5XCIgaGVpZ2h0PVwiMy4zNjg0MlwiIHg9XCI5LjQyMTA1XCIgeT1cIjVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgcng9XCIxLjVcIi8+PC9zdmc+JywgTCA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk03IDlMMTAgMTJNMTAgMTJMNyAxNU0xMCAxMkg0XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE3IDlMMTQgMTJNMTQgMTJMMTcgMTVNMTQgMTJIMjBcIi8+PC9zdmc+JywgSCA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01LjI0Mjk2IDExLjQwNzVDNS4yMzE2NyAxMC42MjUzIDUuNTI0NDYgOS44Mzk1IDYuMTIxMzIgOS4yNDI2NEw5LjY1Njg2IDUuNzA3MTFDMTAuMDQ3NCA1LjMxNjU4IDEwLjY4MDkgNS4zMTY5MyAxMS4wNzE0IDUuNzA3NDVMMTYuMDIwNSAxMC42NTY1QzE2LjIyNjggMTAuODYyOSAxNi4zMjQzIDExLjEzNzEgMTYuMzEyNiAxMS40MDc1TTUuMjQyOTYgMTEuNDA3NUM1LjI1MzgyIDEyLjE2MDcgNS41NDY2MSAxMi45MTA2IDYuMTIxMzIgMTMuNDg1M0w4IDE1LjM2NE01LjI0Mjk2IDExLjQwNzVIMTEuOTU2NU0xNi4zMTI2IDExLjQwNzVDMTYuMzAyMiAxMS42NDg3IDE2LjIwNSAxMS44ODY5IDE2LjAyMDggMTIuMDcxMUwxMi40ODUzIDE1LjYwNjZDMTEuMzEzNyAxNi43NzgyIDkuNDE0MjEgMTYuNzc4MiA4LjI0MjY0IDE1LjYwNjZMOCAxNS4zNjRNMTYuMzEyNiAxMS40MDc1SDExLjk1NjVNOCAxNS4zNjRMMTEuOTU2NSAxMS40MDc1XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTIwIDE3LjQ2MTVDMjAgMTguMzExMiAxOS4zMjg0IDE5IDE4LjUgMTlDMTcuNjcxNiAxOSAxNyAxOC4zMTEyIDE3IDE3LjQ2MTVDMTcgMTYuNjExOSAxNy45IDE1LjYxNTQgMTguNSAxNUMxOS4xIDE1LjYxNTQgMjAgMTYuNjExOSAyMCAxNy40NjE1WlwiLz48L3N2Zz4nLCBtID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE3LjI1IDguNUgxMC4yNUM5LjI4MzUgOC41IDguNSA5LjI4MzUgOC41IDEwLjI1VjE3LjI1QzguNSAxOC4yMTY1IDkuMjgzNSAxOSAxMC4yNSAxOUgxNy4yNUMxOC4yMTY1IDE5IDE5IDE4LjIxNjUgMTkgMTcuMjVWMTAuMjVDMTkgOS4yODM1IDE4LjIxNjUgOC41IDE3LjI1IDguNVpcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTUuNSA4LjVWNi43NUMxNS41IDYuMjg1ODcgMTUuMzE1NiA1Ljg0MDc1IDE0Ljk4NzQgNS41MTI1NkMxNC42NTkyIDUuMTg0MzcgMTQuMjE0MSA1IDEzLjc1IDVINi43NUM2LjI4NTg3IDUgNS44NDA3NSA1LjE4NDM3IDUuNTEyNTYgNS41MTI1NkM1LjE4NDM3IDUuODQwNzUgNSA2LjI4NTg3IDUgNi43NVYxMy43NUM1IDE0LjIxNDEgNS4xODQzNyAxNC42NTkyIDUuNTEyNTYgMTQuOTg3NEM1Ljg0MDc1IDE1LjMxNTYgNi4yODU4NyAxNS41IDYuNzUgMTUuNUg4LjVcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTIgMTJMMTUuNSAxMlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMiAxNS41TDE1LjUgMTUuNVwiLz48L3N2Zz4nLCBmID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk04IDhMMTIgMTJNMTIgMTJMMTYgMTZNMTIgMTJMMTYgOE0xMiAxMkw4IDE2XCIvPjwvc3ZnPicsIEIgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOSAxN0M3IDE3IDcgMTUuMjUzNiA3IDEzLjVMNS41IDEyTDcgMTAuNUM3IDguNzQ2NDQgNyA3IDkgN1wiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNSAxN0MxNyAxNyAxNyAxNS4yNTM2IDE3IDEzLjVMMTguNSAxMkwxNyAxMC41QzE3IDguNzQ2NDQgMTcgNyAxNSA3XCIvPjwvc3ZnPicsIEkgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PGxpbmUgeDE9XCI2XCIgeDI9XCIxMFwiIHkxPVwiMTJcIiB5Mj1cIjEyXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIi8+PGxpbmUgeDE9XCIxNFwiIHgyPVwiMThcIiB5MT1cIjEyXCIgeTI9XCIxMlwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIvPjwvc3ZnPicsIFYgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTQuODgzMyA5LjE2NjY2TDE4LjIxNjcgMTIuNU0xOC4yMTY3IDEyLjVMMTQuODgzMyAxNS44MzMzTTE4LjIxNjcgMTIuNUgxMC4wNUM5LjE2NTk0IDEyLjUgOC4zMTgwOSAxMi4xNDg4IDcuNjkyOTcgMTEuNTIzN0M3LjA2Nzg1IDEwLjg5ODYgNi43MTY2NiAxMC4wNTA3IDYuNzE2NjYgOS4xNjY2NlwiLz48L3N2Zz4nLCBqID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE0LjkxNjcgMTQuOTE2N0wxMS41ODMzIDE4LjI1TTExLjU4MzMgMTguMjVMOC4yNSAxNC45MTY3TTExLjU4MzMgMTguMjVMMTEuNTgzMyAxMC4wODMzQzExLjU4MzMgOS4xOTkyOCAxMS45MzQ1IDguMzUxNDMgMTIuNTU5NiA3LjcyNjMxQzEzLjE4NDggNy4xMDExOSAxNC4wMzI2IDYuNzUgMTQuOTE2NyA2Ljc1XCIvPjwvc3ZnPicsIHkgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOS4xMzMzMyAxNC45MTY3TDEyLjQ2NjcgMTguMjVNMTIuNDY2NyAxOC4yNUwxNS44IDE0LjkxNjdNMTIuNDY2NyAxOC4yNUwxMi40NjY3IDEwLjA4MzNDMTIuNDY2NyA5LjE5OTI4IDEyLjExNTUgOC4zNTE0MyAxMS40OTA0IDcuNzI2MzFDMTAuODY1MiA3LjEwMTE5IDEwLjAxNzQgNi43NSA5LjEzMzMzIDYuNzVcIi8+PC9zdmc+JywgWiA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNC44ODMzIDE1LjgzMzNMMTguMjE2NyAxMi41TTE4LjIxNjcgMTIuNUwxNC44ODMzIDkuMTY2NjdNMTguMjE2NyAxMi41TDEwLjA1IDEyLjVDOS4xNjU5NSAxMi41IDguMzE4MTEgMTIuODUxMiA3LjY5Mjk5IDEzLjQ3NjNDNy4wNjc4NyAxNC4xMDE0IDYuNzE2NjcgMTQuOTQ5MyA2LjcxNjY3IDE1LjgzMzNcIi8+PC9zdmc+JywgRCA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48Y2lyY2xlIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjRcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIvPjwvc3ZnPicsIFQgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjIuNlwiIGQ9XCJNNy4zMDQ5OSAxMS45OTVMNy4zMDQ5OSAxMi4wMDVNMTIuMDA1IDExLjk5NVYxMi4wMDVNMTYuNzA1IDExLjk5NUwxNi43MDUgMTIuMDA1XCIvPjwvc3ZnPicsIGIgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjIuNlwiIGQ9XCJNMTIuMDEgNy4yOTk5OUgxMlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMi42XCIgZD1cIk0xMi4wMSAxMkgxMlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMi42XCIgZD1cIk0xMi4wMSAxNi43SDEyXCIvPjwvc3ZnPicsIFIgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTMuMzIzNiA4LjQzNTU0TDkuNDk1MzMgMTIuMTkwOEM5LjEzMTE5IDEyLjU1MDUgOC45MzExOCAxMy4wNDMgOC45MzkzIDEzLjU1OThDOC45NDc0MSAxNC4wNzY3IDkuMTYzIDE0LjU3NTcgOS41Mzg2MiAxNC45NDdDOS45MTQyNCAxNS4zMTgyIDEwLjQxOTEgMTUuNTMxNCAxMC45NDIyIDE1LjUzOTdDMTEuNDY1MyAxNS41NDc5IDExLjk2MzcgMTUuMzUwNCAxMi4zMjc5IDE0Ljk5MDhMMTYuMTU2MiAxMS4yMzU1QzE2Ljg4NDUgMTAuNTE2MSAxNy4yODQ1IDkuNTMxMjMgMTcuMjY4MiA4LjQ5NzVDMTcuMjUyIDcuNDYzNzYgMTYuODIwOCA2LjQ2NTgzIDE2LjA2OTYgNS43MjMyNEMxNS4zMTg0IDQuOTgwNjYgMTQuMzA4NiA0LjU1NDI1IDEzLjI2MjQgNC41Mzc4MkMxMi4yMTYyIDQuNTIxMzggMTEuMjE5MyA0LjkxNjI3IDEwLjQ5MTEgNS42MzU2Mkw2LjY2Mjc3IDkuMzkwOTNDNS41NzAzNSAxMC40Njk5IDQuOTcwMzIgMTEuOTQ3MyA0Ljk5NDY3IDEzLjQ5NzlDNS4wMTkwMyAxNS4wNDg1IDUuNjY1NzggMTYuNTQ1NCA2Ljc5MjY0IDE3LjY1OTJDNy45MTk1IDE4Ljc3MzEgOS40MzQxNyAxOS40MTI3IDExLjAwMzQgMTkuNDM3NEMxMi41NzI3IDE5LjQ2MiAxNC4wNjggMTguODY5NyAxNS4xNjA0IDE3Ljc5MDdMMTguOTg4NyAxNC4wMzU0XCIvPjwvc3ZnPicsIFUgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHJlY3Qgd2lkdGg9XCIxMlwiIGhlaWdodD1cIjZcIiB4PVwiNlwiIHk9XCIxM1wiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiByeD1cIjJcIi8+PGxpbmUgeDE9XCIxMlwiIHgyPVwiMTJcIiB5MT1cIjlcIiB5Mj1cIjE5XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDExQzUgOS44OTU0MyA1Ljg5NTQzIDkgNyA5SDE3QzE4LjEwNDYgOSAxOSA5Ljg5NTQzIDE5IDExVjExQzE5IDEyLjEwNDYgMTguMTA0NiAxMyAxNyAxM0g3QzUuODk1NDMgMTMgNSAxMi4xMDQ2IDUgMTFWMTFaXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE2IDlDMTYgNy44OTU0MyAxNiA2IDE0IDZDMTIgNiAxMiA3Ljg5NTQzIDEyIDlDMTIgNy44OTU0MyAxMiA2IDEwIDZDOCA2IDggNy44OTU0MyA4IDlcIi8+PC9zdmc+JywgQSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xOCAxMkMxOCAxNS4zMTM3IDE1LjMxMzcgMTggMTIgMThDOC42ODYyOSAxOCA2IDE1LjMxMzcgNiAxMk0xOCAxMkMxOCA4LjY4NjI5IDE1LjMxMzcgNiAxMiA2QzguNjg2MjkgNiA2IDguNjg2MjkgNiAxMk0xOCAxMkg2TTExLjcgNkMxMS43IDYgOS43IDcuNjM4MTEgOS43IDEyQzkuNyAxNi45IDExLjcgMTggMTEuNyAxOE0xMi4zIDZDMTIuMyA2IDE0LjMgNy42MzgxMSAxNC4zIDEyQzE0LjMgMTYuOSAxMi4zIDE4IDEyLjMgMThcIi8+PC9zdmc+JywgUyA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOSA3TDkgMTJNOSAxN1YxMk05IDEyTDE1IDEyTTE1IDdWMTJNMTUgMTdMMTUgMTJcIi8+PC9zdmc+JywgRyA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk02LjYgNy41MDAwMUM1LjI3NDUxIDguODI1NDkgNS4xOTk5OSAxMC42IDYuNTk5OTkgMTIuM0M4IDE0IDEyLjIgMTcuOSAxMi4yIDE3LjlDMTIuMiAxNy45IDE2LjUgMTQgMTcuOCAxMi4zQzE5LjEgMTAuNiAxOS4xMjU1IDguODI1NDkgMTcuOCA3LjVDMTYuNDc0NSA2LjE3NDUyIDE0LjMyNTUgNi4xNzQ1MiAxMyA3LjVMMTIuMiA4LjMwMDAxTDExLjQgNy41MDAwMUMxMC4wNzQ1IDYuMTc0NTMgNy45MjU0OCA2LjE3NDUzIDYuNiA3LjUwMDAxWlwiLz48L3N2Zz4nLCBQID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTYuNzc3NzggNkwxOC41IDE3LjcyMjJcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTAuNjg3IDEwQzEwLjI0NzMgMTAuNDM5MiAxMC4wMDAyIDExLjAzNSAxMCAxMS42NTY0QzkuOTk5NzggMTIuMjc3NyAxMC4yNDY1IDEyLjg3MzcgMTAuNjg1OCAxMy4zMTMyQzExLjEyNTEgMTMuNzUyNyAxMS43MjExIDEzLjk5OTggMTIuMzQyNyAxNEMxMi45NjQyIDE0LjAwMDIgMTMuNTYwNCAxMy43NTM2IDE0IDEzLjMxNDRcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTMgN0MxNyAxMS4xNjY2IDIwIDExLjE3IDIwIDExLjY3QzIwIDEyLjE3IDE5IDEzLjE3IDE5IDEzLjE3TTguMjQyNCA4LjgwOTM2QzcuNTkzMTcgOS4yMjg3NiA2Ljk3OTYxIDkuNzY3MzIgNi40MDE3IDEwLjQyNTFDNS43MDM5OCAxMS4yMTkzIDUuMzU1MTIgMTEuNjE2NCA1LjM1NTEzIDEyLjM3MDJDNS4zNTUxNCAxMy4xMjQgNS43MDQwNiAxMy41MjExIDYuNDAxOTEgMTQuMzE1NEM3Ljk5NTg3IDE2LjEyOTcgOS44NjE4IDE3LjAzNjcgMTIgMTcuMDM2N0MxMy4xMTAyIDE3LjAzNjcgMTQuMTQ2NiAxNi43OTE3IDE1LjExMTEgMTYuMzAyNFwiLz48L3N2Zz4nLCBXID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE2LjY5NTQgNUMxNy45MTIgNSAxOC44NDY4IDYuMDc3MTYgMTguNjc1NSA3LjI4MTY1TDE3LjQyNiAxNi4wNjU5QzE3LjMxODMgMTYuODIyOSAxNi43ODg1IDE3LjQ1MjIgMTYuMDYxIDE3LjY4NzNMMTIuNjE1MSAxOC44MDEyQzEyLjIxNTIgMTguOTMwNCAxMS43ODQ4IDE4LjkzMDQgMTEuMzg0OSAxOC44MDEyTDcuOTM4OTggMTcuNjg3M0M3LjIxMTQ4IDE3LjQ1MjIgNi42ODE3IDE2LjgyMjkgNi41NzQwMyAxNi4wNjU5TDUuMzI0NTQgNy4yODE2NUM1LjE1MzIyIDYuMDc3MTYgNi4wODggNSA3LjMwNDYxIDVIMTYuNjk1NFpcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTUgOC40SDlMOS40Mjg1NyAxMS43OTM5SDE0LjU3MTRMMTQuMzU3MSAxMy4yNzg4TDE0LjE0MjkgMTQuNzYzNkwxMiAxNS40TDkuODU3MTQgMTQuNzYzNkw5Ljc3MTQzIDE0LjMzOTRcIi8+PC9zdmc+JywgRSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cmVjdCB3aWR0aD1cIjE0XCIgaGVpZ2h0PVwiMTRcIiB4PVwiNVwiIHk9XCI1XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHJ4PVwiNFwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTUuOSA4LjFWOC4xMVwiLz48Y2lyY2xlIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjNcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIvPjwvc3ZnPicsIE4gPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTEzLjM0IDEwQzEyLjQyMjMgMTIuNzMzNyAxMSAxNyAxMSAxN1wiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTQuMjEgN0gxNC4yXCIvPjwvc3ZnPicsIFEgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTcuNjk5OTggMTIuNkw3LjY3ODk2IDEyLjYyQzYuNTM5OTMgMTMuNzA0OCA2LjUyMDEyIDE1LjUxNTUgNy42MzUxNiAxNi42MjVWMTYuNjI1QzguNzIyOTMgMTcuNzA3MyAxMC40Nzk5IDE3LjcxMDIgMTEuNTcxMiAxNi42MzE0TDEzLjAyNjMgMTUuMTkzQzE0LjA3MDMgMTQuMTYwOSAxNC4yMTQxIDEyLjUyNSAxMy4zNjYyIDExLjMyNjZMMTMuMjIgMTEuMTJcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE2LjIyIDExLjEyTDE2LjM1NjQgMTAuOTgwNUMxNy4yODk1IDEwLjAyNjUgMTcuMzQ3OCA4LjUyMDcgMTYuNDkxNCA3LjQ5NzMzVjcuNDk3MzNDMTUuNTY5MSA2LjM5NTA5IDEzLjkyNjkgNi4yNTE0MyAxMi44MjcxIDcuMTc2NzVMMTEuMzkwMSA4LjM4NTg4QzEwLjA5MzUgOS40NzY3NCA5Ljk1NzA2IDExLjQyNDEgMTEuMDg4OCAxMi42ODUyTDExLjEyIDEyLjcyXCIvPjwvc3ZnPicsIEYgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHJlY3Qgd2lkdGg9XCIxNFwiIGhlaWdodD1cIjE0XCIgeD1cIjVcIiB5PVwiNVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiByeD1cIjRcIi8+PGxpbmUgeDE9XCI5XCIgeDI9XCI5XCIgeTE9XCIxMS40XCIgeTI9XCIxNS40XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTkgOC43VjguNzFcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTEyIDExLjRWMTJNMTIgMTUuNFYxMk0xMiAxMkMxNCAxMS41IDE1IDExLjM2MTEgMTUgMTIuNUMxNSAxMy41IDE1IDE1LjQgMTUgMTUuNFwiLz48L3N2Zz4nLCBKID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxsaW5lIHgxPVwiOVwiIHgyPVwiMTlcIiB5MT1cIjdcIiB5Mj1cIjdcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz48bGluZSB4MT1cIjlcIiB4Mj1cIjE5XCIgeTE9XCIxMlwiIHkyPVwiMTJcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz48bGluZSB4MT1cIjlcIiB4Mj1cIjE5XCIgeTE9XCIxN1wiIHkyPVwiMTdcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNS4wMDAwMSAxN0g0Ljk5MDAyXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01LjAwMDAxIDEySDQuOTkwMDJcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUuMDAwMDEgN0g0Ljk5MDAyXCIvPjwvc3ZnPicsIFggPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PGxpbmUgeDE9XCIxMlwiIHgyPVwiMTlcIiB5MT1cIjdcIiB5Mj1cIjdcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz48bGluZSB4MT1cIjEyXCIgeDI9XCIxOVwiIHkxPVwiMTJcIiB5Mj1cIjEyXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIi8+PGxpbmUgeDE9XCIxMlwiIHgyPVwiMTlcIiB5MT1cIjE3XCIgeTI9XCIxN1wiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk03Ljc5OTk5IDE0TDcuNzk5OTkgNy4yMTM1QzcuNzk5OTkgNy4xMjg3MiA3LjcwMTEgNy4wODI0IDcuNjM1OTcgNy4xMzY2OEw0Ljc5OTk5IDkuNVwiLz48L3N2Zz4nLCBxID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMiA2Ljk5OTk4QzkuMTc0NyA2Ljk5OTg3IDYuOTk5OTcgOS4yNDk5OCA3IDEyQzcuMDAwMDMgMTQuNTUgOS4wMjExOSAxNyAxMiAxN0MxNC43NzEyIDE3IDE3IDE0Ljc1IDE3IDEyXCI+PGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT1cInRyYW5zZm9ybVwiIGF0dHJpYnV0ZVR5cGU9XCJYTUxcIiBkdXI9XCI1NjBtc1wiIGZyb209XCIwLDEyLDEyXCIgcmVwZWF0Q291bnQ9XCJpbmRlZmluaXRlXCIgdG89XCIzNjAsMTIsMTJcIiB0eXBlPVwicm90YXRlXCIvPjwvcGF0aD48L3N2Zz4nLCB6ID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTExLjM1MzUgOS4zMTgwMkwxMi43Njc4IDcuOTAzODFDMTMuNTQ4OCA3LjEyMjc2IDE0LjgxNTEgNy4xMjI3NiAxNS41OTYyIDcuOTAzODFDMTYuMzc3MiA4LjY4NDg2IDE2LjM3NzIgOS45NTExOSAxNS41OTYyIDEwLjczMjJMMTQuMTgyIDEyLjE0NjRNMTEuMzUzNSA5LjMxODAyTDcuOTY3MjkgMTIuNzA0M0M3LjQwODg5IDEzLjI2MjcgNy4wMjgyNiAxMy45NzM5IDYuODczMzkgMTQuNzQ4Mkw2LjY5Nzk4IDE1LjYyNTNDNi41NTgwMyAxNi4zMjUgNy4xNzQ5NSAxNi45NDIgNy44NzQ2NyAxNi44MDJMOC43NTE3NSAxNi42MjY2QzkuNTI2MTIgMTYuNDcxNyAxMC4yMzczIDE2LjA5MTEgMTAuNzk1NyAxNS41MzI3TDE0LjE4MiAxMi4xNDY0TTExLjM1MzUgOS4zMTgwMkwxNC4xODIgMTIuMTQ2NFwiLz48bGluZSB4MT1cIjE1XCIgeDI9XCIxOVwiIHkxPVwiMTdcIiB5Mj1cIjE3XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIi8+PC9zdmc+JywgSyA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMi42XCIgZD1cIk05LjQxIDkuNjZIOS40XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyLjZcIiBkPVwiTTE0LjYgOS42NkgxNC41OVwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMi42XCIgZD1cIk05LjMxIDE0LjM2SDkuM1wiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMi42XCIgZD1cIk0xNC42IDE0LjM2SDE0LjU5XCIvPjwvc3ZnPicsIE8gPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjIuNlwiIGQ9XCJNOS40MDk5OSA3LjI5OTk5SDkuNFwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMi42XCIgZD1cIk0xNC42IDcuMjk5OTlIMTQuNTlcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjIuNlwiIGQ9XCJNOS4zMDk5OSAxMkg5LjNcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjIuNlwiIGQ9XCJNMTQuNiAxMkgxNC41OVwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMi42XCIgZD1cIk05LjQwOTk5IDE2LjdIOS40XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyLjZcIiBkPVwiTTE0LjYgMTYuN0gxNC41OVwiLz48L3N2Zz4nLCBZID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxyZWN0IHdpZHRoPVwiMTRcIiBoZWlnaHQ9XCIxNFwiIHg9XCI1XCIgeT1cIjVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgcng9XCI0XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUuMTM5NjggMTUuMzJMOC42OTA1OCAxMS41NjYxQzkuMDI5MzQgMTEuMjAzNiA5LjQ4ODczIDExIDkuOTY3NzQgMTFDMTAuNDQ2NyAxMSAxMC45MDYxIDExLjIwMzYgMTEuMjQ0OSAxMS41NjYxTDE1LjM4NzEgMTZNMTMuNTgwNiAxNC4wNjY0TDE1LjAxMzIgMTIuNTMzQzE1LjM1MTkgMTIuMTcwNSAxNS44MTEzIDExLjk2NjggMTYuMjkwMyAxMS45NjY4QzE2Ljc2OTMgMTEuOTY2OCAxNy4yMjg3IDEyLjE3MDUgMTcuNTY3NSAxMi41MzNMMTguODQxIDEzLjk2MzRcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTMuNzc3OCA5LjMzMzMxSDEzLjc4NjdcIi8+PC9zdmc+JywgXyA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMCAxMC41NjA2VjEzLjQzOTRDMTAgMTQuNDc3NyAxMS4xNTcyIDE1LjA5NzEgMTIuMDIxMSAxNC41MjExTDE0LjE4MDMgMTMuMDgxN0MxNC45NTM2IDEyLjU2NjEgMTQuOTUwMyAxMS40MzE3IDE0LjE4IDEwLjkxODFMMTIuMDIxNCA5LjQ3OTA3QzExLjE1OTEgOC45MDQyIDEwIDkuNTIwMyAxMCAxMC41NjA2WlwiLz48cmVjdCB3aWR0aD1cIjE0XCIgaGVpZ2h0PVwiMTRcIiB4PVwiNVwiIHk9XCI1XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHJ4PVwiNFwiLz48L3N2Zz4nLCAkID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMiA3VjEyTTEyIDE3VjEyTTE3IDEySDEyTTEyIDEySDdcIi8+PC9zdmc+JywgbzEgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHJlY3Qgd2lkdGg9XCIxNFwiIGhlaWdodD1cIjE0XCIgeD1cIjVcIiB5PVwiNVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiByeD1cIjRcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTEyIDE1LjUyVjE1LjUxXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMC4wMDI0IDkuOTc2NTVDMTAuMTU2NyA5LjAxODU4IDExIDguNSAxMiA4LjVDMTMgOC41IDEzLjY4NTcgOS4xNzE4OCAxMy44NjkzIDkuNzA3MDNDMTQuMDUyOSAxMC4yNDIyIDE0LjAxMzUgMTEuMDUxNCAxMy41MDY3IDExLjUxNTlDMTMgMTEuOTgwNSAxMi43MzQ0IDExLjgzMiAxMi4yNzg0IDEyLjMxNjhDMTIuMTEzNCAxMi40OTIzIDEyIDEyLjc0NzYgMTIgMTIuNzQ3NlwiLz48L3N2Zz4nLCB0MSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMCAxMC44MTgyTDkgMTAuODE4MkM4LjgwMjIyIDEwLjgxODIgOC42MDg4OCAxMC43NjQ5IDguNDQ0NDMgMTAuNjY1QzguMjc5OTggMTAuNTY1MSA4LjE1MTgxIDEwLjQyMzEgOC4wNzYxMiAxMC4yNTdDOC4wMDA0MyAxMC4wOTA5IDcuOTgwNjMgOS45MDgwOCA4LjAxOTIyIDkuNzMxNzRDOC4wNTc4IDkuNTU1MzkgOC4xNTMwNCA5LjM5MzQxIDguMjkyODkgOS4yNjYyN0M4LjQzMjc1IDkuMTM5MTMgOC42MTA5MyA5LjA1MjU1IDguODA0OTEgOS4wMTc0N0M4Ljk5ODg5IDguOTgyMzkgOS4xOTk5NiA5LjAwMDM5IDkuMzgyNjggOS4wNjkyQzkuNTY1NDEgOS4xMzgwMSA5LjcyMTU5IDkuMjU0NTMgOS44MzE0NyA5LjQwNDAzQzkuOTQxMzUgOS41NTM1MyAxMCA5LjcyOTI5IDEwIDkuOTA5MDlMMTAgMTIuMTgxOEMxMCAxMi42NjQgOS43ODkyOSAxMy4xMjY1IDkuNDE0MjEgMTMuNDY3NUM5LjAzOTE0IDEzLjgwODQgOC41MzA0MyAxNCA4IDE0XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE2IDEwLjgxODJMMTUgMTAuODE4MkMxNC44MDIyIDEwLjgxODIgMTQuNjA4OSAxMC43NjQ5IDE0LjQ0NDQgMTAuNjY1QzE0LjI4IDEwLjU2NTEgMTQuMTUxOCAxMC40MjMxIDE0LjA3NjEgMTAuMjU3QzE0LjAwMDQgMTAuMDkwOSAxMy45ODA2IDkuOTA4MDggMTQuMDE5MiA5LjczMTc0QzE0LjA1NzggOS41NTUzOSAxNC4xNTMgOS4zOTM0MSAxNC4yOTI5IDkuMjY2MjdDMTQuNDMyNyA5LjEzOTEzIDE0LjYxMDkgOS4wNTI1NSAxNC44MDQ5IDkuMDE3NDdDMTQuOTk4OSA4Ljk4MjM5IDE1LjIgOS4wMDAzOSAxNS4zODI3IDkuMDY5MkMxNS41NjU0IDkuMTM4MDEgMTUuNzIxNiA5LjI1NDUzIDE1LjgzMTUgOS40MDQwM0MxNS45NDE0IDkuNTUzNTMgMTYgOS43MjkyOSAxNiA5LjkwOTA5TDE2IDEyLjE4MThDMTYgMTIuNjY0IDE1Ljc4OTMgMTMuMTI2NSAxNS40MTQyIDEzLjQ2NzVDMTUuMDM5MSAxMy44MDg0IDE0LjUzMDQgMTQgMTQgMTRcIi8+PC9zdmc+JywgcjEgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTQuNjY2NyAxMy42NjY3TDE4IDEwLjMzMzNMMTQuNjY2NyA3TTE4IDEwLjMzMzNIOC44MzMzM0M3Ljk0OTI4IDEwLjMzMzMgNy4xMDE0MyAxMC42ODQ1IDYuNDc2MzEgMTEuMzA5NkM1Ljg1MTE5IDExLjkzNDggNS41IDEyLjc4MjYgNS41IDEzLjY2NjdDNS41IDE0LjU1MDcgNS44NTExOSAxNS4zOTg2IDYuNDc2MzEgMTYuMDIzN0M3LjEwMTQzIDE2LjY0ODggNy45NDkyOCAxNyA4LjgzMzMzIDE3SDkuNjY2NjdcIi8+PC9zdmc+JywgZTEgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTEgMTlWMTlDOS4xMzYyMyAxOSA4LjIwNDM1IDE5IDcuNDY5MjcgMTguNjk1NUM2LjQ4OTE1IDE4LjI4OTUgNS43MTA0NiAxNy41MTA4IDUuMzA0NDggMTYuNTMwN0M1IDE1Ljc5NTYgNSAxNC44NjM4IDUgMTNWMTJDNSA5LjE5MTA4IDUgNy43ODY2MSA1LjY3NDEyIDYuNzc3NzJDNS45NjU5NiA2LjM0MDk2IDYuMzQwOTYgNS45NjU5NiA2Ljc3NzcyIDUuNjc0MTJDNy43ODY2MSA1IDkuMTkxMDggNSAxMiA1SDEzLjVDMTQuODk1NiA1IDE1LjU5MzMgNSAxNi4xNjExIDUuMTcyMjRDMTcuNDM5NSA1LjU2MDA0IDE4LjQ0IDYuNTYwNDYgMTguODI3OCA3LjgzODg2QzE5IDguNDA2NjYgMTkgOS4xMDQ0NCAxOSAxMC41VjEwLjVcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE5LjExODcgMTQuODc4N0wxNi45OTc0IDE3TTE0Ljg3NiAxOS4xMjEzTDE2Ljk5NzQgMTdNMTkuMTE4NyAxOS4xMjEzTDE2Ljk5NzQgMTdNMTYuOTk3NCAxN0wxNC44NzYgMTQuODc4N1wiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk02LjUgMTcuNUwxNy41IDYuNVwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xOC45OTE5IDEwLjVIMTkuMDAxNVwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMC45OTE5IDE5SDExLjAwMTVcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxM0wxMyA1XCIvPjwvc3ZnPicsIG4xID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMS41IDE3LjVMNSAxMU01IDExVjE1LjVNNSAxMUg5LjVcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTEyLjUgNi41TDE5IDEzTTE5IDEzVjguNU0xOSAxM0gxNC41XCIvPjwvc3ZnPicsIHMxID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE1LjA3OCA1LjYyNjM3TDE1LjYxNTMgNC43ODI5NkwxNS4wNzggNS42MjYzN0MxNS40MjYxIDUuODQ4MDggMTUuNzM5MyA2LjE1MzU0IDE2LjU3MTEgNi45ODUyOEwxNy4yNzgyIDYuMjc4MTdMMTYuNTcxMSA2Ljk4NTI4TDE3LjUyNTEgNy45MzkzNEMxNy44MzQ3IDguMjQ4OSAxNy45NDk2IDguMzY0OTQgMTguMDQ4OSA4LjQ4MTc3QzE4LjU5MDcgOS4xMTk4MiAxOC45MTg4IDkuOTExNzggMTguOTg2OCAxMC43NDYxQzE4Ljk5OTIgMTAuODk4OSAxOSAxMS4wNjIyIDE5IDExLjVWMTJDMTkgMTMuNDE2NiAxOC45OTkyIDE0LjQxOSAxOC45MzUyIDE1LjIwMjZDMTguODcyMSAxNS45NzQ1IDE4Ljc1MjcgMTYuNDQ1NyAxOC41NjQgMTYuODE2QzE4LjE4MDUgMTcuNTY4NiAxNy41Njg2IDE4LjE4MDUgMTYuODE2IDE4LjU2NEMxNi40NDU3IDE4Ljc1MjcgMTUuOTc0NSAxOC44NzIxIDE1LjIwMjYgMTguOTM1MkMxNC40MTkgMTguOTk5MiAxMy40MTY2IDE5IDEyIDE5QzEwLjU4MzQgMTkgOS41ODEwNCAxOC45OTkyIDguNzk3NDQgMTguOTM1MkM4LjAyNTUyIDE4Ljg3MjEgNy41NTQzNSAxOC43NTI3IDcuMTg0MDQgMTguNTY0QzYuNDMxMzkgMTguMTgwNSA1LjgxOTQ3IDE3LjU2ODYgNS40MzU5NyAxNi44MTZDNS4yNDcyOSAxNi40NDU3IDUuMTI3ODcgMTUuOTc0NSA1LjA2NDggMTUuMjAyNkM1LjAwMDc4IDE0LjQxOSA1IDEzLjQxNjYgNSAxMlYxMS43NzgyQzUgMTAuNDY3MyA1LjAwMDY3IDkuNTM5ODcgNS4wNTU3MiA4LjgxMjk5QzUuMTA5OTggOC4wOTY1NSA1LjIxMjg0IDcuNjU2NzMgNS4zNzQ4NyA3LjMwOTNDNS43NzIyOSA2LjQ1NzE4IDYuNDU3MTggNS43NzIyOSA3LjMwOTMgNS4zNzQ4N0M3LjY1NjczIDUuMjEyODQgOC4wOTY1NSA1LjEwOTk4IDguODEyOTkgNS4wNTU3MkM5LjUzOTg2IDUuMDAwNjcgMTAuNDY3MyA1IDExLjc3ODIgNUMxMi45NTQ0IDUgMTMuMzkxOSA1LjAwNTUyIDEzLjc5NDggNS4wOTQ4NEMxNC4yNTAzIDUuMTk1ODMgMTQuNjg0NiA1LjM3NTcyIDE1LjA3OCA1LjYyNjM3WlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMiAxNUMxMy4xMDQ2IDE1IDE0IDE0LjEwNDYgMTQgMTNDMTQgMTEuODk1NCAxMy4xMDQ2IDExIDEyIDExQzEwLjg5NTQgMTEgMTAgMTEuODk1NCAxMCAxM0MxMCAxNC4xMDQ2IDEwLjg5NTQgMTUgMTIgMTVaXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE0IDUuNVY3QzE0IDcuNTUyMjggMTMuNTUyMyA4IDEzIDhIMTFDMTAuNDQ3NyA4IDEwIDcuNTUyMjggMTAgN1Y1LjJcIi8+PC9zdmc+JywgaTEgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PGNpcmNsZSBjeD1cIjEwLjVcIiBjeT1cIjEwLjVcIiByPVwiNS41XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz48bGluZSB4MT1cIjE1LjQxNDJcIiB4Mj1cIjE5XCIgeTE9XCIxNVwiIHkyPVwiMTguNTg1OFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIvPjwvc3ZnPicsIGgxID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTExLjgxOTcgNi4wNDM2OUMxMS44OTI0IDUuODkyNSAxMi4xMDc2IDUuODkyNSAxMi4xODAzIDYuMDQzNjlMMTMuOTc3NiA5Ljc4NDk2QzE0LjAwNjggOS44NDU2NCAxNC4wNjQ1IDkuODg3NTkgMTQuMTMxMiA5Ljg5NjU3TDE4LjI0NDggMTAuNDQ5OEMxOC40MTEgMTAuNDcyMiAxOC40Nzc2IDEwLjY3NjkgMTguMzU2MiAxMC43OTI3TDE1LjM1MzUgMTMuNjU4MkMxNS4zMDQ4IDEzLjcwNDcgMTUuMjgyNyAxMy43NzI2IDE1LjI5NDggMTMuODM4OEwxNi4wMzk4IDE3LjkyMkMxNi4wNjk5IDE4LjA4NyAxNS44OTU3IDE4LjIxMzYgMTUuNzQ4MSAxOC4xMzM5TDEyIDE2LjExMjRMOC4yNTE5MiAxOC4xMzM5QzguMTA0MjkgMTguMjEzNiA3LjkzMDEyIDE4LjA4NyA3Ljk2MDIyIDE3LjkyMkw4LjcwNTIgMTMuODM4OEM4LjcxNzI4IDEzLjc3MjYgOC42OTUyMyAxMy43MDQ3IDguNjQ2NTIgMTMuNjU4Mkw1LjY0Mzc4IDEwLjc5MjdDNS41MjI0NCAxMC42NzY5IDUuNTg4OTYgMTAuNDcyMiA1Ljc1NTIgMTAuNDQ5OEw5Ljg2ODc2IDkuODk2NTdDOS45MzU0OSA5Ljg4NzU5IDkuOTkzMjIgOS44NDU2NCAxMC4wMjI0IDkuNzg0OTZMMTEuODE5NyA2LjA0MzY5WlwiLz48L3N2Zz4nLCBsMSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNyA5TDIwIDEyTDE3IDE1XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE0IDEySDIwXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTcgOUw0IDEyTDcgMTVcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNCAxMkgxMFwiLz48L3N2Zz4nLCB3MSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNC41IDguNTAwMDFDMTMuNSA3IDEwLjkzNSA2LjY2NDc2IDkuNzUzMTUgNy43OTcwNkM5LjI3MDkyIDguMjU5MDkgOSA4Ljg4NTc0IDkgOS41MzkxNUM5IDEwLjE5MjYgOS4yNzA5MiAxMC44MTkyIDkuNzUzMTUgMTEuMjgxMkMxMC45ODM1IDEyLjQ2IDEzLjAxNjUgMTEuNTQ1NyAxNC4yNDY4IDEyLjcyNDRDMTQuNzI5MSAxMy4xODY1IDE1IDEzLjgxMzEgMTUgMTQuNDY2NUMxNSAxNS4xMTk5IDE0LjcyOTEgMTUuNzQ2NiAxNC4yNDY4IDE2LjIwODZDMTIuODY1OSAxNy41MzE3IDEwIDE3LjUgOSAxNlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk02IDEySDE4XCIvPjwvc3ZnPicsIGQxID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTBIMTlcIi8+PHJlY3Qgd2lkdGg9XCIxNFwiIGhlaWdodD1cIjE0XCIgeD1cIjVcIiB5PVwiNVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiByeD1cIjRcIi8+PC9zdmc+JywgazEgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTAgNVYxOC41XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE0IDVWMTguNVwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDEwSDE5XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTRIMTlcIi8+PHJlY3Qgd2lkdGg9XCIxNFwiIGhlaWdodD1cIjE0XCIgeD1cIjVcIiB5PVwiNVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiByeD1cIjRcIi8+PC9zdmc+JywgYzEgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTAgNVYxOC41XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTBIMTlcIi8+PHJlY3Qgd2lkdGg9XCIxNFwiIGhlaWdodD1cIjE0XCIgeD1cIjVcIiB5PVwiNVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiByeD1cIjRcIi8+PC9zdmc+JywgQzEgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTggOVY3LjJDOCA3LjA4OTU0IDguMDg5NTQgNyA4LjIgN0wxMiA3TTE2IDlWNy4yQzE2IDcuMDg5NTQgMTUuOTEwNSA3IDE1LjggN0wxMiA3TTEyIDdMMTIgMTdNMTIgMTdIMTBNMTIgMTdIMTRcIi8+PC9zdmc+JywgZzEgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTcgMTdDOCAxNC41IDEyIDEyIDEzIDlcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTguNSAxMUM4LjUgMTEgMTAgMTQgMTIuNSAxNVwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNiA3LjdIMTZNMTEgNy43VjUuN1wiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTQuNSAxOEwxNS4yMTQzIDE2TTE1LjIxNDMgMTZMMTYuOTE1OSAxMS4yMzU0QzE2Ljk2NjMgMTEuMDk0MiAxNy4xMDAxIDExIDE3LjI1IDExQzE3LjM5OTkgMTEgMTcuNTMzNyAxMS4wOTQyIDE3LjU4NDEgMTEuMjM1NEwxOS4yODU3IDE2TTE1LjIxNDMgMTZIMTkuMjg1N00yMCAxOEwxOS4yODU3IDE2XCIvPjwvc3ZnPicsIHUxID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE4LjEzMjggNy43MjM0QzE4LjQyMyA3Ljc2MzQgMTguNzExNSA3LjgwNTcxIDE5IDcuODUxMDlNMTguMTMyOCA3LjcyMzRMMTcuMjI2NyAxNy40MDIzQzE3LjE4OTcgMTcuODM3MSAxNi45NzMgMTguMjQzMiAxNi42MiAxOC41Mzk0QzE2LjI2NyAxOC44MzU2IDE1LjgwMzcgMTkuMDAwMSAxNS4zMjI3IDE5SDguNjc3MzNDOC4xOTYzMiAxOS4wMDAxIDcuNzMyOTkgMTguODM1NiA3LjM3OTk4IDE4LjUzOTRDNy4wMjY5OCAxOC4yNDMyIDYuODEwMzIgMTcuODM3MSA2Ljc3MzMzIDE3LjQwMjNMNS44NjcxNSA3LjcyMzRNMTguMTMyOCA3LjcyMzRDMTcuMTUzNiA3LjU4OTE5IDE2LjE2OTMgNy40ODczMyAxNS4xODE4IDcuNDE4MDNNNS44NjcxNSA3LjcyMzRDNS41NzY5NyA3Ljc2MjYzIDUuMjg4NDggNy44MDQ5NCA1IDcuODUwMzJNNS44NjcxNSA3LjcyMzRDNi44NDY0MiA3LjU4OTE5IDcuODMwNzQgNy40ODczMyA4LjgxODE4IDcuNDE4MDNNMTUuMTgxOCA3LjQxODAzQzEzLjA2MzggNy4yNjk2MyAxMC45MzYyIDcuMjY5NjMgOC44MTgxOCA3LjQxODAzTTE1LjE4MTggNy40MTgwM0MxNS4xODE4IDUuMzAzNjggMTMuNzI2NiA0LjM0ODM0IDEyIDQuMzQ4MzRDMTAuMjczNCA0LjM0ODM0IDguODE4MTggNS40Mzk0NSA4LjgxODE4IDcuNDE4MDNcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTAuNSAxNS41TDEwIDExXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE0IDExTDEzLjUgMTUuNVwiLz48L3N2Zz4nLCBwMSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE2Ljc4OTMgNy44NzY5N0MxNy41IDggMTguNSA4IDE4LjUgOEMxOC41IDggMTcuNSA5LjUgMTcuNSAxMEMxOC41IDE4LjUgMTEuNSAyMC41IDUuNSAxNi41QzYuOTk5OTYgMTYuNjcxMiA4LjA0NjE3IDE2LjUxNjMgOS4yNTIzNCAxNS42MDI0QzcuOTk1NDYgMTUuNTggNS4zNjU0OCAxMy42MDMzIDUgMTIuNUM2LjUgMTMgOCAxMiA4IDEyQzYuNTIxMzQgMTEuMDQ0NiA0LjkzMDA1IDkuMjQxMTQgNS45NzQ2MSA3LjUwODMyQzcuMzkxMjUgOS4xODgzOCA5LjUwNzY2IDEwLjI5MzkgMTEuODk0OCAxMC40MDk3QzExLjIxOTggNy42MDc1NSAxNC45MjE4IDUuOTUzNDEgMTYuNzg5MyA3Ljg3Njk3WlwiLz48L3N2Zz4nLCBhMSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk05IDcuNVYxMS41QzkgMTIuMjk1NiA5LjMxNjA3IDEzLjA1ODcgOS44Nzg2OCAxMy42MjEzQzEwLjQ0MTMgMTQuMTgzOSAxMS4yMDQ0IDE0LjUgMTIgMTQuNUMxMi43OTU2IDE0LjUgMTMuNTU4NyAxNC4xODM5IDE0LjEyMTMgMTMuNjIxM0MxNC42ODM5IDEzLjA1ODcgMTUgMTIuMjk1NiAxNSAxMS41VjcuNVwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk03LjcxNDI5IDE4SDE2LjI4NTdcIi8+PC9zdmc+JywgdjEgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOS4zMzMzMyAxMy42NjY3TDYgMTAuMzMzM0w5LjMzMzMzIDdNNiAxMC4zMzMzSDE1LjE2NjdDMTYuMDUwNyAxMC4zMzMzIDE2Ljg5ODYgMTAuNjg0NSAxNy41MjM3IDExLjMwOTZDMTguMTQ4OCAxMS45MzQ4IDE4LjUgMTIuNzgyNiAxOC41IDEzLjY2NjdDMTguNSAxNC41NTA3IDE4LjE0ODggMTUuMzk4NiAxNy41MjM3IDE2LjAyMzdDMTYuODk4NiAxNi42NDg4IDE2LjA1MDcgMTcgMTUuMTY2NyAxN0gxNC4zMzMzXCIvPjwvc3ZnPicsIE0xID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNS43Nzk1IDExLjVDMTUuNzc5NSAxMS41IDE2LjA1MyAxMS4xOTYyIDE2LjU0OTcgMTAuNjcyMkMxNy40NDQyIDkuNzI4NTYgMTcuNDcwMSA4LjI0NzUgMTYuNTc4MSA3LjMwMTQ1VjcuMzAxNDVDMTUuNjQ4MiA2LjMxNTIyIDE0LjA4NzMgNi4yOTIyNyAxMy4xMjg4IDcuMjUwNzNMMTEuODc5NiA4LjQ5OTk5XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk04LjI0NTE3IDEyLjM4ODNDOC4yNDUxNyAxMi4zODgzIDcuOTcxNzEgMTIuNjkyMiA3LjQ3NTA0IDEzLjIxNjFDNi41ODA1MSAxNC4xNTk4IDYuNTU0NjcgMTUuNjQwOCA3LjQ0NjY2IDE2LjU4NjlWMTYuNTg2OUM4LjM3NjUzIDE3LjU3MzEgOS45Mzc0NCAxNy41OTYxIDEwLjg5NTkgMTYuNjM3NkwxMi4xNDUyIDE1LjM4ODNcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE3Ljc4MDIgMTUuMTAzMkwxNi41OTcgMTQuOTQyMkMxNi4wMTA5IDE0Ljg2MjQgMTUuNDg0MSAxNS4zMDU5IDE1LjQ2MjcgMTUuODk2OUwxNS40MTk5IDE3LjA4MThcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTYuMzkwNjQgOS4wMzIzOEw3LjU4NDMyIDkuMDY2NjhDOC4xNzU1MSA5LjA4MzY2IDguNjUyMiA4LjU4NjY1IDguNjEwNTYgNy45OTY2OUw4LjUyNzEgNi44MTM5N1wiLz48bGluZSB4MT1cIjEyLjExNDJcIiB4Mj1cIjExLjdcIiB5MT1cIjEyLjJcIiB5Mj1cIjExLjc4NThcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz48L3N2Zz4nLCB4MSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMiAxMEMxMi43MTQ1IDEwIDEzLjIzOSA5LjU2NTU5IDEzLjUzOTIgOS4xMTUzNkMxMy44NDQgOC42NTgxNCAxNCA4LjA4NDEgMTQgNy41QzE0IDYuOTE1OSAxMy44NDQgNi4zNDE4NiAxMy41MzkyIDUuODg0NjRDMTMuMjM5IDUuNDM0NDEgMTIuNzE0NSA1IDEyIDVDMTEuMjg1NSA1IDEwLjc2MSA1LjQzNDQxIDEwLjQ2MDggNS44ODQ2NEMxMC4xNTYgNi4zNDE4NiAxMCA2LjkxNTkgMTAgNy41QzEwIDguMDg0MSAxMC4xNTYgOC42NTgxNCAxMC40NjA4IDkuMTE1MzZDMTAuNzYxIDkuNTY1NTkgMTEuMjg1NSAxMCAxMiAxMFpcIi8+PGVsbGlwc2UgY3g9XCIxMlwiIGN5PVwiMTZcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgcng9XCIzXCIgcnk9XCI1XCIgdHJhbnNmb3JtPVwicm90YXRlKC05MCAxMiAxNilcIi8+PC9zdmc+JywgTDEgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTAgMTBDMTAuNzE0NSAxMCAxMS4yMzkgOS41NjU1OSAxMS41MzkyIDkuMTE1MzZDMTEuODQ0IDguNjU4MTQgMTIgOC4wODQxIDEyIDcuNUMxMiA2LjkxNTkgMTEuODQ0IDYuMzQxODYgMTEuNTM5MiA1Ljg4NDY0QzExLjIzOSA1LjQzNDQxIDEwLjcxNDUgNSAxMCA1QzkuMjg1NDcgNSA4Ljc2MSA1LjQzNDQxIDguNDYwODQgNS44ODQ2NEM4LjE1NjAzIDYuMzQxODYgOCA2LjkxNTkgOCA3LjVDOCA4LjA4NDEgOC4xNTYwMyA4LjY1ODE0IDguNDYwODQgOS4xMTUzNkM4Ljc2MSA5LjU2NTU5IDkuMjg1NDcgMTAgMTAgMTBaXCIvPjxlbGxpcHNlIGN4PVwiMTBcIiBjeT1cIjE2XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHJ4PVwiM1wiIHJ5PVwiNVwiIHRyYW5zZm9ybT1cInJvdGF0ZSgtOTAgMTAgMTYpXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNS41NTU1IDEwLjIyMjJDMTYuNTM3NCAxMC4yMjIyIDE3LjMzMzMgOS40MjYyOSAxNy4zMzMzIDguNDQ0NDVDMTcuMzMzMyA3LjQ2MjYxIDE2LjUzNzQgNi42NjY2NyAxNS41NTU1IDYuNjY2NjdcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE3LjUgMTNDMjEgMTQuNSAyMC41IDE4IDE4IDE4LjVcIi8+PC9zdmc+JywgSDEgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHJlY3Qgd2lkdGg9XCIxNFwiIGhlaWdodD1cIjE0XCIgeD1cIjVcIiB5PVwiNVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiByeD1cIjRcIi8+PGxpbmUgeDE9XCIxMlwiIHgyPVwiMTJcIiB5MT1cIjlcIiB5Mj1cIjEyXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTEyIDE1LjAyVjE1LjAxXCIvPjwvc3ZnPic7XG5leHBvcnQge1xuICBpIGFzIEljb25BZGRCYWNrZ3JvdW5kLFxuICBoIGFzIEljb25BZGRCb3JkZXIsXG4gIGwgYXMgSWNvbkFsaWduQ2VudGVyLFxuICB3IGFzIEljb25BbGlnbkp1c3RpZnksXG4gIGQgYXMgSWNvbkFsaWduTGVmdCxcbiAgayBhcyBJY29uQWxpZ25SaWdodCxcbiAgYyBhcyBJY29uQm9sZCxcbiAgQyBhcyBJY29uQnJhY2tldHMsXG4gIGcgYXMgSWNvbkNoZWNrLFxuICB1IGFzIEljb25DaGVja2xpc3QsXG4gIHAgYXMgSWNvbkNoZXZyb25Eb3duLFxuICBhIGFzIEljb25DaGV2cm9uTGVmdCxcbiAgdiBhcyBJY29uQ2hldnJvblJpZ2h0LFxuICBNIGFzIEljb25DaGV2cm9uVXAsXG4gIHggYXMgSWNvbkNsaXBib2FyZCxcbiAgTCBhcyBJY29uQ29sbGFwc2UsXG4gIEggYXMgSWNvbkNvbG9yLFxuICBtIGFzIEljb25Db3B5LFxuICBmIGFzIEljb25Dcm9zcyxcbiAgQiBhcyBJY29uQ3VybHlCcmFja2V0cyxcbiAgSSBhcyBJY29uRGVsaW1pdGVyLFxuICBWIGFzIEljb25EaXJlY3Rpb25Eb3duUmlnaHQsXG4gIGogYXMgSWNvbkRpcmVjdGlvbkxlZnREb3duLFxuICB5IGFzIEljb25EaXJlY3Rpb25SaWdodERvd24sXG4gIFogYXMgSWNvbkRpcmVjdGlvblVwUmlnaHQsXG4gIEQgYXMgSWNvbkRvdENpcmNsZSxcbiAgVCBhcyBJY29uRXRjSG9yaXNvbnRhbCxcbiAgYiBhcyBJY29uRXRjVmVydGljYWwsXG4gIFIgYXMgSWNvbkZpbGUsXG4gIFUgYXMgSWNvbkdpZnQsXG4gIEEgYXMgSWNvbkdsb2JlLFxuICBvIGFzIEljb25IMSxcbiAgdCBhcyBJY29uSDIsXG4gIHIgYXMgSWNvbkgzLFxuICBlIGFzIEljb25INCxcbiAgbiBhcyBJY29uSDUsXG4gIHMgYXMgSWNvbkg2LFxuICBTIGFzIEljb25IZWFkaW5nLFxuICBHIGFzIEljb25IZWFydCxcbiAgUCBhcyBJY29uSGlkZGVuLFxuICBXIGFzIEljb25IdG1sLFxuICBFIGFzIEljb25JbnN0YWdyYW0sXG4gIE4gYXMgSWNvbkl0YWxpYyxcbiAgUSBhcyBJY29uTGluayxcbiAgRiBhcyBJY29uTGlua2VkaW4sXG4gIEogYXMgSWNvbkxpc3RCdWxsZXRlZCxcbiAgWCBhcyBJY29uTGlzdE51bWJlcmVkLFxuICBxIGFzIEljb25Mb2FkZXIsXG4gIHogYXMgSWNvbk1hcmtlcixcbiAgTyBhcyBJY29uTWVudSxcbiAgSyBhcyBJY29uTWVudVNtYWxsLFxuICBZIGFzIEljb25QaWN0dXJlLFxuICBfIGFzIEljb25QbGF5LFxuICAkIGFzIEljb25QbHVzLFxuICBvMSBhcyBJY29uUXVlc3Rpb24sXG4gIHQxIGFzIEljb25RdW90ZSxcbiAgcjEgYXMgSWNvblJlZG8sXG4gIGUxIGFzIEljb25SZW1vdmVCYWNrZ3JvdW5kLFxuICBuMSBhcyBJY29uUmVwbGFjZSxcbiAgczEgYXMgSWNvblNhdmUsXG4gIGkxIGFzIEljb25TZWFyY2gsXG4gIGgxIGFzIEljb25TdGFyLFxuICBsMSBhcyBJY29uU3RyZXRjaCxcbiAgdzEgYXMgSWNvblN0cmlrZXRocm91Z2gsXG4gIGMxIGFzIEljb25UYWJsZSxcbiAgZDEgYXMgSWNvblRhYmxlV2l0aEhlYWRpbmdzLFxuICBrMSBhcyBJY29uVGFibGVXaXRob3V0SGVhZGluZ3MsXG4gIEMxIGFzIEljb25UZXh0LFxuICBnMSBhcyBJY29uVHJhbnNsYXRlLFxuICB1MSBhcyBJY29uVHJhc2gsXG4gIHAxIGFzIEljb25Ud2l0dGVyLFxuICBhMSBhcyBJY29uVW5kZXJsaW5lLFxuICB2MSBhcyBJY29uVW5kbyxcbiAgTTEgYXMgSWNvblVubGluayxcbiAgeDEgYXMgSWNvblVzZXIsXG4gIEwxIGFzIEljb25Vc2Vyc0dyb3VwLFxuICBIMSBhcyBJY29uV2FybmluZ1xufTtcbiIsIihmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3RyeXtpZih0eXBlb2YgZG9jdW1lbnQ8XCJ1XCIpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcuY2UtZGVsaW1pdGVye2xpbmUtaGVpZ2h0OjEuNmVtO3dpZHRoOjEwMCU7dGV4dC1hbGlnbjpjZW50ZXJ9LmNlLWRlbGltaXRlcjpiZWZvcmV7ZGlzcGxheTppbmxpbmUtYmxvY2s7Y29udGVudDpcIioqKlwiO2ZvbnQtc2l6ZTozMHB4O2xpbmUtaGVpZ2h0OjY1cHg7aGVpZ2h0OjMwcHg7bGV0dGVyLXNwYWNpbmc6LjJlbX0nKSksZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChlKX19Y2F0Y2godCl7Y29uc29sZS5lcnJvcihcInZpdGUtcGx1Z2luLWNzcy1pbmplY3RlZC1ieS1qc1wiLHQpfX0pKCk7XG5jb25zdCByID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxsaW5lIHgxPVwiNlwiIHgyPVwiMTBcIiB5MT1cIjEyXCIgeTI9XCIxMlwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIvPjxsaW5lIHgxPVwiMTRcIiB4Mj1cIjE4XCIgeTE9XCIxMlwiIHkyPVwiMTJcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz48L3N2Zz4nO1xuLyoqXG4gKiBEZWxpbWl0ZXIgQmxvY2sgZm9yIHRoZSBFZGl0b3IuanMuXG4gKlxuICogQGF1dGhvciBDb2RlWCAodGVhbUBpZm1vLnN1KVxuICogQGNvcHlyaWdodCBDb2RlWCAyMDE4XG4gKiBAbGljZW5zZSBUaGUgTUlUIExpY2Vuc2UgKE1JVClcbiAqIEB2ZXJzaW9uIDIuMC4wXG4gKi9cbmNsYXNzIG8ge1xuICAvKipcbiAgICogTm90aWZ5IGNvcmUgdGhhdCByZWFkLW9ubHkgbW9kZSBpcyBzdXBwb3J0ZWRcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBnZXQgaXNSZWFkT25seVN1cHBvcnRlZCgpIHtcbiAgICByZXR1cm4gITA7XG4gIH1cbiAgLyoqXG4gICAqIEFsbG93IFRvb2wgdG8gaGF2ZSBubyBjb250ZW50XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgZ2V0IGNvbnRlbnRsZXNzKCkge1xuICAgIHJldHVybiAhMDtcbiAgfVxuICAvKipcbiAgICogUmVuZGVyIHBsdWdpbmBzIG1haW4gRWxlbWVudCBhbmQgZmlsbCBpdCB3aXRoIHNhdmVkIGRhdGFcbiAgICpcbiAgICogQHBhcmFtIHt7ZGF0YTogRGVsaW1pdGVyRGF0YSwgY29uZmlnOiBvYmplY3QsIGFwaTogb2JqZWN0fX1cbiAgICogICBkYXRhIOKAlCBwcmV2aW91c2x5IHNhdmVkIGRhdGFcbiAgICogICBjb25maWcgLSB1c2VyIGNvbmZpZyBmb3IgVG9vbFxuICAgKiAgIGFwaSAtIEVkaXRvci5qcyBBUElcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgZGF0YTogdCwgY29uZmlnOiBzLCBhcGk6IGUgfSkge1xuICAgIHRoaXMuYXBpID0gZSwgdGhpcy5fQ1NTID0ge1xuICAgICAgYmxvY2s6IHRoaXMuYXBpLnN0eWxlcy5ibG9jayxcbiAgICAgIHdyYXBwZXI6IFwiY2UtZGVsaW1pdGVyXCJcbiAgICB9LCB0aGlzLl9kYXRhID0ge30sIHRoaXMuX2VsZW1lbnQgPSB0aGlzLmRyYXdWaWV3KCksIHRoaXMuZGF0YSA9IHQ7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBUb29sJ3Mgdmlld1xuICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGRyYXdWaWV3KCkge1xuICAgIGxldCB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKTtcbiAgICByZXR1cm4gdC5jbGFzc0xpc3QuYWRkKHRoaXMuX0NTUy53cmFwcGVyLCB0aGlzLl9DU1MuYmxvY2spLCB0O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gVG9vbCdzIHZpZXdcbiAgICogQHJldHVybnMge0hUTUxEaXZFbGVtZW50fVxuICAgKiBAcHVibGljXG4gICAqL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH1cbiAgLyoqXG4gICAqIEV4dHJhY3QgVG9vbCdzIGRhdGEgZnJvbSB0aGUgdmlld1xuICAgKiBAcGFyYW0ge0hUTUxEaXZFbGVtZW50fSB0b29sc0NvbnRlbnQgLSBQYXJhZ3JhcGggdG9vbHMgcmVuZGVyZWQgdmlld1xuICAgKiBAcmV0dXJucyB7RGVsaW1pdGVyRGF0YX0gLSBzYXZlZCBkYXRhXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHNhdmUodCkge1xuICAgIHJldHVybiB7fTtcbiAgfVxuICAvKipcbiAgICogR2V0IFRvb2wgdG9vbGJveCBzZXR0aW5nc1xuICAgKiBpY29uIC0gVG9vbCBpY29uJ3MgU1ZHXG4gICAqIHRpdGxlIC0gdGl0bGUgdG8gc2hvdyBpbiB0b29sYm94XG4gICAqXG4gICAqIEByZXR1cm4ge3tpY29uOiBzdHJpbmcsIHRpdGxlOiBzdHJpbmd9fVxuICAgKi9cbiAgc3RhdGljIGdldCB0b29sYm94KCkge1xuICAgIHJldHVybiB7XG4gICAgICBpY29uOiByLFxuICAgICAgdGl0bGU6IFwiRGVsaW1pdGVyXCJcbiAgICB9O1xuICB9XG59XG5leHBvcnQge1xuICBvIGFzIGRlZmF1bHRcbn07XG4iLCJ2YXIgT3QgPSB0eXBlb2YgZ2xvYmFsVGhpcyA8IFwidVwiID8gZ2xvYmFsVGhpcyA6IHR5cGVvZiB3aW5kb3cgPCBcInVcIiA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgPCBcInVcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmIDwgXCJ1XCIgPyBzZWxmIDoge307XG5mdW5jdGlvbiB4ZShzKSB7XG4gIHJldHVybiBzICYmIHMuX19lc01vZHVsZSAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgXCJkZWZhdWx0XCIpID8gcy5kZWZhdWx0IDogcztcbn1cbmZ1bmN0aW9uIEJlKCkge1xufVxuT2JqZWN0LmFzc2lnbihCZSwge1xuICBkZWZhdWx0OiBCZSxcbiAgcmVnaXN0ZXI6IEJlLFxuICByZXZlcnQ6IGZ1bmN0aW9uKCkge1xuICB9LFxuICBfX2VzTW9kdWxlOiAhMFxufSk7XG5FbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzIHx8IChFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzID0gRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlc1NlbGVjdG9yIHx8IEVsZW1lbnQucHJvdG90eXBlLm1vek1hdGNoZXNTZWxlY3RvciB8fCBFbGVtZW50LnByb3RvdHlwZS5tc01hdGNoZXNTZWxlY3RvciB8fCBFbGVtZW50LnByb3RvdHlwZS5vTWF0Y2hlc1NlbGVjdG9yIHx8IEVsZW1lbnQucHJvdG90eXBlLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fCBmdW5jdGlvbihzKSB7XG4gIGNvbnN0IGUgPSAodGhpcy5kb2N1bWVudCB8fCB0aGlzLm93bmVyRG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3JBbGwocyk7XG4gIGxldCB0ID0gZS5sZW5ndGg7XG4gIGZvciAoOyAtLXQgPj0gMCAmJiBlLml0ZW0odCkgIT09IHRoaXM7IClcbiAgICA7XG4gIHJldHVybiB0ID4gLTE7XG59KTtcbkVsZW1lbnQucHJvdG90eXBlLmNsb3Nlc3QgfHwgKEVsZW1lbnQucHJvdG90eXBlLmNsb3Nlc3QgPSBmdW5jdGlvbihzKSB7XG4gIGxldCBlID0gdGhpcztcbiAgaWYgKCFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY29udGFpbnMoZSkpXG4gICAgcmV0dXJuIG51bGw7XG4gIGRvIHtcbiAgICBpZiAoZS5tYXRjaGVzKHMpKVxuICAgICAgcmV0dXJuIGU7XG4gICAgZSA9IGUucGFyZW50RWxlbWVudCB8fCBlLnBhcmVudE5vZGU7XG4gIH0gd2hpbGUgKGUgIT09IG51bGwpO1xuICByZXR1cm4gbnVsbDtcbn0pO1xuRWxlbWVudC5wcm90b3R5cGUucHJlcGVuZCB8fCAoRWxlbWVudC5wcm90b3R5cGUucHJlcGVuZCA9IGZ1bmN0aW9uKGUpIHtcbiAgY29uc3QgdCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgQXJyYXkuaXNBcnJheShlKSB8fCAoZSA9IFtlXSksIGUuZm9yRWFjaCgobykgPT4ge1xuICAgIGNvbnN0IGkgPSBvIGluc3RhbmNlb2YgTm9kZTtcbiAgICB0LmFwcGVuZENoaWxkKGkgPyBvIDogZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobykpO1xuICB9KSwgdGhpcy5pbnNlcnRCZWZvcmUodCwgdGhpcy5maXJzdENoaWxkKTtcbn0pO1xuRWxlbWVudC5wcm90b3R5cGUuc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZCB8fCAoRWxlbWVudC5wcm90b3R5cGUuc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZCA9IGZ1bmN0aW9uKHMpIHtcbiAgcyA9IGFyZ3VtZW50cy5sZW5ndGggPT09IDAgPyAhMCA6ICEhcztcbiAgY29uc3QgZSA9IHRoaXMucGFyZW50Tm9kZSwgdCA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGUsIG51bGwpLCBvID0gcGFyc2VJbnQodC5nZXRQcm9wZXJ0eVZhbHVlKFwiYm9yZGVyLXRvcC13aWR0aFwiKSksIGkgPSBwYXJzZUludCh0LmdldFByb3BlcnR5VmFsdWUoXCJib3JkZXItbGVmdC13aWR0aFwiKSksIG4gPSB0aGlzLm9mZnNldFRvcCAtIGUub2Zmc2V0VG9wIDwgZS5zY3JvbGxUb3AsIHIgPSB0aGlzLm9mZnNldFRvcCAtIGUub2Zmc2V0VG9wICsgdGhpcy5jbGllbnRIZWlnaHQgLSBvID4gZS5zY3JvbGxUb3AgKyBlLmNsaWVudEhlaWdodCwgYSA9IHRoaXMub2Zmc2V0TGVmdCAtIGUub2Zmc2V0TGVmdCA8IGUuc2Nyb2xsTGVmdCwgbCA9IHRoaXMub2Zmc2V0TGVmdCAtIGUub2Zmc2V0TGVmdCArIHRoaXMuY2xpZW50V2lkdGggLSBpID4gZS5zY3JvbGxMZWZ0ICsgZS5jbGllbnRXaWR0aCwgYyA9IG4gJiYgIXI7XG4gIChuIHx8IHIpICYmIHMgJiYgKGUuc2Nyb2xsVG9wID0gdGhpcy5vZmZzZXRUb3AgLSBlLm9mZnNldFRvcCAtIGUuY2xpZW50SGVpZ2h0IC8gMiAtIG8gKyB0aGlzLmNsaWVudEhlaWdodCAvIDIpLCAoYSB8fCBsKSAmJiBzICYmIChlLnNjcm9sbExlZnQgPSB0aGlzLm9mZnNldExlZnQgLSBlLm9mZnNldExlZnQgLSBlLmNsaWVudFdpZHRoIC8gMiAtIGkgKyB0aGlzLmNsaWVudFdpZHRoIC8gMiksIChuIHx8IHIgfHwgYSB8fCBsKSAmJiAhcyAmJiB0aGlzLnNjcm9sbEludG9WaWV3KGMpO1xufSk7XG53aW5kb3cucmVxdWVzdElkbGVDYWxsYmFjayA9IHdpbmRvdy5yZXF1ZXN0SWRsZUNhbGxiYWNrIHx8IGZ1bmN0aW9uKHMpIHtcbiAgY29uc3QgZSA9IERhdGUubm93KCk7XG4gIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgIHMoe1xuICAgICAgZGlkVGltZW91dDogITEsXG4gICAgICB0aW1lUmVtYWluaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIDUwIC0gKERhdGUubm93KCkgLSBlKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIDEpO1xufTtcbndpbmRvdy5jYW5jZWxJZGxlQ2FsbGJhY2sgPSB3aW5kb3cuY2FuY2VsSWRsZUNhbGxiYWNrIHx8IGZ1bmN0aW9uKHMpIHtcbiAgY2xlYXJUaW1lb3V0KHMpO1xufTtcbmxldCBBdCA9IChzID0gMjEpID0+IGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkocykpLnJlZHVjZSgoZSwgdCkgPT4gKHQgJj0gNjMsIHQgPCAzNiA/IGUgKz0gdC50b1N0cmluZygzNikgOiB0IDwgNjIgPyBlICs9ICh0IC0gMjYpLnRvU3RyaW5nKDM2KS50b1VwcGVyQ2FzZSgpIDogdCA+IDYyID8gZSArPSBcIi1cIiA6IGUgKz0gXCJfXCIsIGUpLCBcIlwiKTtcbnZhciBpdCA9IC8qIEBfX1BVUkVfXyAqLyAoKHMpID0+IChzLlZFUkJPU0UgPSBcIlZFUkJPU0VcIiwgcy5JTkZPID0gXCJJTkZPXCIsIHMuV0FSTiA9IFwiV0FSTlwiLCBzLkVSUk9SID0gXCJFUlJPUlwiLCBzKSkoaXQgfHwge30pO1xuY29uc3QgQiA9IHtcbiAgQkFDS1NQQUNFOiA4LFxuICBUQUI6IDksXG4gIEVOVEVSOiAxMyxcbiAgU0hJRlQ6IDE2LFxuICBDVFJMOiAxNyxcbiAgQUxUOiAxOCxcbiAgRVNDOiAyNyxcbiAgU1BBQ0U6IDMyLFxuICBMRUZUOiAzNyxcbiAgVVA6IDM4LFxuICBET1dOOiA0MCxcbiAgUklHSFQ6IDM5LFxuICBERUxFVEU6IDQ2LFxuICBNRVRBOiA5MVxufSwgX3QgPSB7XG4gIExFRlQ6IDAsXG4gIFdIRUVMOiAxLFxuICBSSUdIVDogMixcbiAgQkFDS1dBUkQ6IDMsXG4gIEZPUldBUkQ6IDRcbn07XG5mdW5jdGlvbiBiZShzLCBlLCB0ID0gXCJsb2dcIiwgbywgaSA9IFwiY29sb3I6IGluaGVyaXRcIikge1xuICBpZiAoIShcImNvbnNvbGVcIiBpbiB3aW5kb3cpIHx8ICF3aW5kb3cuY29uc29sZVt0XSlcbiAgICByZXR1cm47XG4gIGNvbnN0IG4gPSBbXCJpbmZvXCIsIFwibG9nXCIsIFwid2FyblwiLCBcImVycm9yXCJdLmluY2x1ZGVzKHQpLCByID0gW107XG4gIHN3aXRjaCAoYmUubG9nTGV2ZWwpIHtcbiAgICBjYXNlIFwiRVJST1JcIjpcbiAgICAgIGlmICh0ICE9PSBcImVycm9yXCIpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJXQVJOXCI6XG4gICAgICBpZiAoIVtcImVycm9yXCIsIFwid2FyblwiXS5pbmNsdWRlcyh0KSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIklORk9cIjpcbiAgICAgIGlmICghbiB8fCBzKVxuICAgICAgICByZXR1cm47XG4gICAgICBicmVhaztcbiAgfVxuICBvICYmIHIucHVzaChvKTtcbiAgY29uc3QgYSA9IFwiRWRpdG9yLmpzIDIuMjguMlwiLCBsID0gYGxpbmUtaGVpZ2h0OiAxZW07XG4gICAgICAgICAgICBjb2xvcjogIzAwNkZFQTtcbiAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTFweDtcbiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxZW07XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgICAgICAgICAgcGFkZGluZzogNHB4IDlweDtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDMwcHg7XG4gICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDU2LCAxMzgsIDIyOSwgMC4xNik7XG4gICAgICAgICAgICBtYXJnaW46IDRweCA1cHggNHB4IDA7YDtcbiAgcyAmJiAobiA/IChyLnVuc2hpZnQobCwgaSksIGUgPSBgJWMke2F9JWMgJHtlfWApIDogZSA9IGAoICR7YX0gKSR7ZX1gKTtcbiAgdHJ5IHtcbiAgICBuID8gbyA/IGNvbnNvbGVbdF0oYCR7ZX0gJW9gLCAuLi5yKSA6IGNvbnNvbGVbdF0oZSwgLi4ucikgOiBjb25zb2xlW3RdKGUpO1xuICB9IGNhdGNoIHtcbiAgfVxufVxuYmUubG9nTGV2ZWwgPSBcIlZFUkJPU0VcIjtcbmZ1bmN0aW9uIE50KHMpIHtcbiAgYmUubG9nTGV2ZWwgPSBzO1xufVxuY29uc3QgTCA9IGJlLmJpbmQod2luZG93LCAhMSksIEsgPSBiZS5iaW5kKHdpbmRvdywgITApO1xuZnVuY3Rpb24gb2Uocykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHMpLm1hdGNoKC9cXHMoW2EtekEtWl0rKS8pWzFdLnRvTG93ZXJDYXNlKCk7XG59XG5mdW5jdGlvbiBEKHMpIHtcbiAgcmV0dXJuIG9lKHMpID09PSBcImZ1bmN0aW9uXCIgfHwgb2UocykgPT09IFwiYXN5bmNmdW5jdGlvblwiO1xufVxuZnVuY3Rpb24geihzKSB7XG4gIHJldHVybiBvZShzKSA9PT0gXCJvYmplY3RcIjtcbn1cbmZ1bmN0aW9uIEoocykge1xuICByZXR1cm4gb2UocykgPT09IFwic3RyaW5nXCI7XG59XG5mdW5jdGlvbiBSdChzKSB7XG4gIHJldHVybiBvZShzKSA9PT0gXCJib29sZWFuXCI7XG59XG5mdW5jdGlvbiBxZShzKSB7XG4gIHJldHVybiBvZShzKSA9PT0gXCJudW1iZXJcIjtcbn1cbmZ1bmN0aW9uIFplKHMpIHtcbiAgcmV0dXJuIG9lKHMpID09PSBcInVuZGVmaW5lZFwiO1xufVxuZnVuY3Rpb24gVihzKSB7XG4gIHJldHVybiBzID8gT2JqZWN0LmtleXMocykubGVuZ3RoID09PSAwICYmIHMuY29uc3RydWN0b3IgPT09IE9iamVjdCA6ICEwO1xufVxuZnVuY3Rpb24gbnQocykge1xuICByZXR1cm4gcyA+IDQ3ICYmIHMgPCA1OCB8fCAvLyBudW1iZXIga2V5c1xuICBzID09PSAzMiB8fCBzID09PSAxMyB8fCAvLyBTcGFjZSBiYXIgJiByZXR1cm4ga2V5KHMpXG4gIHMgPT09IDIyOSB8fCAvLyBwcm9jZXNzaW5nIGtleSBpbnB1dCBmb3IgY2VydGFpbiBsYW5ndWFnZXMg4oCUIENoaW5lc2UsIEphcGFuZXNlLCBldGMuXG4gIHMgPiA2NCAmJiBzIDwgOTEgfHwgLy8gbGV0dGVyIGtleXNcbiAgcyA+IDk1ICYmIHMgPCAxMTIgfHwgLy8gTnVtcGFkIGtleXNcbiAgcyA+IDE4NSAmJiBzIDwgMTkzIHx8IC8vIDs9LC0uL2AgKGluIG9yZGVyKVxuICBzID4gMjE4ICYmIHMgPCAyMjM7XG59XG5hc3luYyBmdW5jdGlvbiBEdChzLCBlID0gKCkgPT4ge1xufSwgdCA9ICgpID0+IHtcbn0pIHtcbiAgYXN5bmMgZnVuY3Rpb24gbyhpLCBuLCByKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGkuZnVuY3Rpb24oaS5kYXRhKSwgYXdhaXQgbihaZShpLmRhdGEpID8ge30gOiBpLmRhdGEpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcihaZShpLmRhdGEpID8ge30gOiBpLmRhdGEpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcy5yZWR1Y2UoYXN5bmMgKGksIG4pID0+IChhd2FpdCBpLCBvKG4sIGUsIHQpKSwgUHJvbWlzZS5yZXNvbHZlKCkpO1xufVxuZnVuY3Rpb24gc3Qocykge1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwocyk7XG59XG5mdW5jdGlvbiByZShzLCBlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBjb25zdCB0ID0gdGhpcywgbyA9IGFyZ3VtZW50cztcbiAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiBzLmFwcGx5KHQsIG8pLCBlKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIFB0KHMpIHtcbiAgcmV0dXJuIHMubmFtZS5zcGxpdChcIi5cIikucG9wKCk7XG59XG5mdW5jdGlvbiBGdChzKSB7XG4gIHJldHVybiAvXlstXFx3XStcXC8oWy0rXFx3XSt8XFwqKSQvLnRlc3Qocyk7XG59XG5mdW5jdGlvbiBIdChzLCBlLCB0KSB7XG4gIGxldCBvO1xuICByZXR1cm4gKC4uLmkpID0+IHtcbiAgICBjb25zdCBuID0gdGhpcywgciA9ICgpID0+IHtcbiAgICAgIG8gPSBudWxsLCB0IHx8IHMuYXBwbHkobiwgaSk7XG4gICAgfSwgYSA9IHQgJiYgIW87XG4gICAgd2luZG93LmNsZWFyVGltZW91dChvKSwgbyA9IHdpbmRvdy5zZXRUaW1lb3V0KHIsIGUpLCBhICYmIHMuYXBwbHkobiwgaSk7XG4gIH07XG59XG5mdW5jdGlvbiBDZShzLCBlLCB0ID0gdm9pZCAwKSB7XG4gIGxldCBvLCBpLCBuLCByID0gbnVsbCwgYSA9IDA7XG4gIHQgfHwgKHQgPSB7fSk7XG4gIGNvbnN0IGwgPSBmdW5jdGlvbigpIHtcbiAgICBhID0gdC5sZWFkaW5nID09PSAhMSA/IDAgOiBEYXRlLm5vdygpLCByID0gbnVsbCwgbiA9IHMuYXBwbHkobywgaSksIHIgfHwgKG8gPSBpID0gbnVsbCk7XG4gIH07XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBjb25zdCBjID0gRGF0ZS5ub3coKTtcbiAgICAhYSAmJiB0LmxlYWRpbmcgPT09ICExICYmIChhID0gYyk7XG4gICAgY29uc3QgdSA9IGUgLSAoYyAtIGEpO1xuICAgIHJldHVybiBvID0gdGhpcywgaSA9IGFyZ3VtZW50cywgdSA8PSAwIHx8IHUgPiBlID8gKHIgJiYgKGNsZWFyVGltZW91dChyKSwgciA9IG51bGwpLCBhID0gYywgbiA9IHMuYXBwbHkobywgaSksIHIgfHwgKG8gPSBpID0gbnVsbCkpIDogIXIgJiYgdC50cmFpbGluZyAhPT0gITEgJiYgKHIgPSBzZXRUaW1lb3V0KGwsIHUpKSwgbjtcbiAgfTtcbn1cbmZ1bmN0aW9uIGp0KCkge1xuICBjb25zdCBzID0ge1xuICAgIHdpbjogITEsXG4gICAgbWFjOiAhMSxcbiAgICB4MTE6ICExLFxuICAgIGxpbnV4OiAhMVxuICB9LCBlID0gT2JqZWN0LmtleXMocykuZmluZCgodCkgPT4gd2luZG93Lm5hdmlnYXRvci5hcHBWZXJzaW9uLnRvTG93ZXJDYXNlKCkuaW5kZXhPZih0KSAhPT0gLTEpO1xuICByZXR1cm4gZSAmJiAoc1tlXSA9ICEwKSwgcztcbn1cbmZ1bmN0aW9uIGFlKHMpIHtcbiAgcmV0dXJuIHNbMF0udG9VcHBlckNhc2UoKSArIHMuc2xpY2UoMSk7XG59XG5mdW5jdGlvbiBTZShzLCAuLi5lKSB7XG4gIGlmICghZS5sZW5ndGgpXG4gICAgcmV0dXJuIHM7XG4gIGNvbnN0IHQgPSBlLnNoaWZ0KCk7XG4gIGlmICh6KHMpICYmIHoodCkpXG4gICAgZm9yIChjb25zdCBvIGluIHQpXG4gICAgICB6KHRbb10pID8gKHNbb10gfHwgT2JqZWN0LmFzc2lnbihzLCB7IFtvXToge30gfSksIFNlKHNbb10sIHRbb10pKSA6IE9iamVjdC5hc3NpZ24ocywgeyBbb106IHRbb10gfSk7XG4gIHJldHVybiBTZShzLCAuLi5lKTtcbn1cbmZ1bmN0aW9uIFJlKHMpIHtcbiAgY29uc3QgZSA9IGp0KCk7XG4gIHJldHVybiBzID0gcy5yZXBsYWNlKC9zaGlmdC9naSwgXCLih6dcIikucmVwbGFjZSgvYmFja3NwYWNlL2dpLCBcIuKMq1wiKS5yZXBsYWNlKC9lbnRlci9naSwgXCLij45cIikucmVwbGFjZSgvdXAvZ2ksIFwi4oaRXCIpLnJlcGxhY2UoL2xlZnQvZ2ksIFwi4oaSXCIpLnJlcGxhY2UoL2Rvd24vZ2ksIFwi4oaTXCIpLnJlcGxhY2UoL3JpZ2h0L2dpLCBcIuKGkFwiKS5yZXBsYWNlKC9lc2NhcGUvZ2ksIFwi4o6LXCIpLnJlcGxhY2UoL2luc2VydC9naSwgXCJJbnNcIikucmVwbGFjZSgvZGVsZXRlL2dpLCBcIuKQoVwiKS5yZXBsYWNlKC9cXCsvZ2ksIFwiICsgXCIpLCBlLm1hYyA/IHMgPSBzLnJlcGxhY2UoL2N0cmx8Y21kL2dpLCBcIuKMmFwiKS5yZXBsYWNlKC9hbHQvZ2ksIFwi4oylXCIpIDogcyA9IHMucmVwbGFjZSgvY21kL2dpLCBcIkN0cmxcIikucmVwbGFjZSgvd2luZG93cy9naSwgXCJXSU5cIiksIHM7XG59XG5mdW5jdGlvbiB6dChzKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIG5ldyBVUkwocykuaHJlZjtcbiAgfSBjYXRjaCB7XG4gIH1cbiAgcmV0dXJuIHMuc3Vic3RyaW5nKDAsIDIpID09PSBcIi8vXCIgPyB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgKyBzIDogd2luZG93LmxvY2F0aW9uLm9yaWdpbiArIHM7XG59XG5mdW5jdGlvbiBVdCgpIHtcbiAgcmV0dXJuIEF0KDEwKTtcbn1cbmZ1bmN0aW9uICR0KHMpIHtcbiAgd2luZG93Lm9wZW4ocywgXCJfYmxhbmtcIik7XG59XG5mdW5jdGlvbiBXdChzID0gXCJcIikge1xuICByZXR1cm4gYCR7c30ke01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDFlOCkudG9TdHJpbmcoMTYpfWA7XG59XG5mdW5jdGlvbiBJZShzLCBlLCB0KSB7XG4gIGNvbnN0IG8gPSBgwqske2V9wrsgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuIFBsZWFzZSB1c2UgdGhlIMKrJHt0fcK7IGluc3RlYWQuYDtcbiAgcyAmJiBLKG8sIFwid2FyblwiKTtcbn1cbmZ1bmN0aW9uIGNlKHMsIGUsIHQpIHtcbiAgY29uc3QgbyA9IHQudmFsdWUgPyBcInZhbHVlXCIgOiBcImdldFwiLCBpID0gdFtvXSwgbiA9IGAjJHtlfUNhY2hlYDtcbiAgaWYgKHRbb10gPSBmdW5jdGlvbiguLi5yKSB7XG4gICAgcmV0dXJuIHRoaXNbbl0gPT09IHZvaWQgMCAmJiAodGhpc1tuXSA9IGkuYXBwbHkodGhpcywgLi4ucikpLCB0aGlzW25dO1xuICB9LCBvID09PSBcImdldFwiICYmIHQuc2V0KSB7XG4gICAgY29uc3QgciA9IHQuc2V0O1xuICAgIHQuc2V0ID0gZnVuY3Rpb24oYSkge1xuICAgICAgZGVsZXRlIHNbbl0sIHIuYXBwbHkodGhpcywgYSk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gdDtcbn1cbmNvbnN0IHJ0ID0gNjUwO1xuZnVuY3Rpb24gdGUoKSB7XG4gIHJldHVybiB3aW5kb3cubWF0Y2hNZWRpYShgKG1heC13aWR0aDogJHtydH1weClgKS5tYXRjaGVzO1xufVxuY29uc3QgR2UgPSB0eXBlb2Ygd2luZG93IDwgXCJ1XCIgJiYgd2luZG93Lm5hdmlnYXRvciAmJiB3aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtICYmICgvaVAoYWR8aG9uZXxvZCkvLnRlc3Qod2luZG93Lm5hdmlnYXRvci5wbGF0Zm9ybSkgfHwgd2luZG93Lm5hdmlnYXRvci5wbGF0Zm9ybSA9PT0gXCJNYWNJbnRlbFwiICYmIHdpbmRvdy5uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAxKTtcbmZ1bmN0aW9uIFl0KHMsIGUpIHtcbiAgY29uc3QgdCA9IEFycmF5LmlzQXJyYXkocykgfHwgeihzKSwgbyA9IEFycmF5LmlzQXJyYXkoZSkgfHwgeihlKTtcbiAgcmV0dXJuIHQgfHwgbyA/IEpTT04uc3RyaW5naWZ5KHMpID09PSBKU09OLnN0cmluZ2lmeShlKSA6IHMgPT09IGU7XG59XG5jbGFzcyBkIHtcbiAgLyoqXG4gICAqIENoZWNrIGlmIHBhc3NlZCB0YWcgaGFzIG5vIGNsb3NlZCB0YWdcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFnIC0gZWxlbWVudCB0byBjaGVja1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBpc1NpbmdsZVRhZyhlKSB7XG4gICAgcmV0dXJuIGUudGFnTmFtZSAmJiBbXG4gICAgICBcIkFSRUFcIixcbiAgICAgIFwiQkFTRVwiLFxuICAgICAgXCJCUlwiLFxuICAgICAgXCJDT0xcIixcbiAgICAgIFwiQ09NTUFORFwiLFxuICAgICAgXCJFTUJFRFwiLFxuICAgICAgXCJIUlwiLFxuICAgICAgXCJJTUdcIixcbiAgICAgIFwiSU5QVVRcIixcbiAgICAgIFwiS0VZR0VOXCIsXG4gICAgICBcIkxJTktcIixcbiAgICAgIFwiTUVUQVwiLFxuICAgICAgXCJQQVJBTVwiLFxuICAgICAgXCJTT1VSQ0VcIixcbiAgICAgIFwiVFJBQ0tcIixcbiAgICAgIFwiV0JSXCJcbiAgICBdLmluY2x1ZGVzKGUudGFnTmFtZSk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIGVsZW1lbnQgaXMgQlIgb3IgV0JSXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBlbGVtZW50IHRvIGNoZWNrXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGlzTGluZUJyZWFrVGFnKGUpIHtcbiAgICByZXR1cm4gZSAmJiBlLnRhZ05hbWUgJiYgW1xuICAgICAgXCJCUlwiLFxuICAgICAgXCJXQlJcIlxuICAgIF0uaW5jbHVkZXMoZS50YWdOYW1lKTtcbiAgfVxuICAvKipcbiAgICogSGVscGVyIGZvciBtYWtpbmcgRWxlbWVudHMgd2l0aCBjbGFzcyBuYW1lIGFuZCBhdHRyaWJ1dGVzXG4gICAqXG4gICAqIEBwYXJhbSAge3N0cmluZ30gdGFnTmFtZSAtIG5ldyBFbGVtZW50IHRhZyBuYW1lXG4gICAqIEBwYXJhbSAge3N0cmluZ1tdfHN0cmluZ30gW2NsYXNzTmFtZXNdIC0gbGlzdCBvciBuYW1lIG9mIENTUyBjbGFzcyBuYW1lKHMpXG4gICAqIEBwYXJhbSAge29iamVjdH0gW2F0dHJpYnV0ZXNdIC0gYW55IGF0dHJpYnV0ZXNcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgKi9cbiAgc3RhdGljIG1ha2UoZSwgdCA9IG51bGwsIG8gPSB7fSkge1xuICAgIGNvbnN0IGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGUpO1xuICAgIEFycmF5LmlzQXJyYXkodCkgPyBpLmNsYXNzTGlzdC5hZGQoLi4udCkgOiB0ICYmIGkuY2xhc3NMaXN0LmFkZCh0KTtcbiAgICBmb3IgKGNvbnN0IG4gaW4gbylcbiAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBuKSAmJiAoaVtuXSA9IG9bbl0pO1xuICAgIHJldHVybiBpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIFRleHQgTm9kZSB3aXRoIHRoZSBwYXNzZWQgY29udGVudFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY29udGVudCAtIHRleHQgY29udGVudFxuICAgKiBAcmV0dXJucyB7VGV4dH1cbiAgICovXG4gIHN0YXRpYyB0ZXh0KGUpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZSk7XG4gIH1cbiAgLyoqXG4gICAqIEFwcGVuZCBvbmUgb3Igc2V2ZXJhbCBlbGVtZW50cyB0byB0aGUgcGFyZW50XG4gICAqXG4gICAqIEBwYXJhbSAge0VsZW1lbnR8RG9jdW1lbnRGcmFnbWVudH0gcGFyZW50IC0gd2hlcmUgdG8gYXBwZW5kXG4gICAqIEBwYXJhbSAge0VsZW1lbnR8RWxlbWVudFtdfERvY3VtZW50RnJhZ21lbnR8VGV4dHxUZXh0W119IGVsZW1lbnRzIC0gZWxlbWVudCBvciBlbGVtZW50cyBsaXN0XG4gICAqL1xuICBzdGF0aWMgYXBwZW5kKGUsIHQpIHtcbiAgICBBcnJheS5pc0FycmF5KHQpID8gdC5mb3JFYWNoKChvKSA9PiBlLmFwcGVuZENoaWxkKG8pKSA6IGUuYXBwZW5kQ2hpbGQodCk7XG4gIH1cbiAgLyoqXG4gICAqIEFwcGVuZCBlbGVtZW50IG9yIGEgY291cGxlIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIHBhcmVudCBlbGVtZW50c1xuICAgKlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IHBhcmVudCAtIHdoZXJlIHRvIGFwcGVuZFxuICAgKiBAcGFyYW0ge0VsZW1lbnR8RWxlbWVudFtdfSBlbGVtZW50cyAtIGVsZW1lbnQgb3IgZWxlbWVudHMgbGlzdFxuICAgKi9cbiAgc3RhdGljIHByZXBlbmQoZSwgdCkge1xuICAgIEFycmF5LmlzQXJyYXkodCkgPyAodCA9IHQucmV2ZXJzZSgpLCB0LmZvckVhY2goKG8pID0+IGUucHJlcGVuZChvKSkpIDogZS5wcmVwZW5kKHQpO1xuICB9XG4gIC8qKlxuICAgKiBTd2FwIHR3byBlbGVtZW50cyBpbiBwYXJlbnRcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWwxIC0gZnJvbVxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbDIgLSB0b1xuICAgKiBAZGVwcmVjYXRlZFxuICAgKi9cbiAgc3RhdGljIHN3YXAoZSwgdCkge1xuICAgIGNvbnN0IG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLCBpID0gZS5wYXJlbnROb2RlO1xuICAgIGkuaW5zZXJ0QmVmb3JlKG8sIGUpLCBpLmluc2VydEJlZm9yZShlLCB0KSwgaS5pbnNlcnRCZWZvcmUodCwgbyksIGkucmVtb3ZlQ2hpbGQobyk7XG4gIH1cbiAgLyoqXG4gICAqIFNlbGVjdG9yIERlY29yYXRvclxuICAgKlxuICAgKiBSZXR1cm5zIGZpcnN0IG1hdGNoXG4gICAqXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWwgLSBlbGVtZW50IHdlIHNlYXJjaGluZyBpbnNpZGUuIERlZmF1bHQgLSBET00gRG9jdW1lbnRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yIC0gc2VhcmNoaW5nIHN0cmluZ1xuICAgKiBAcmV0dXJucyB7RWxlbWVudH1cbiAgICovXG4gIHN0YXRpYyBmaW5kKGUgPSBkb2N1bWVudCwgdCkge1xuICAgIHJldHVybiBlLnF1ZXJ5U2VsZWN0b3IodCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBFbGVtZW50IGJ5IElkXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIGlkIHRvIGZpbmRcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50IHwgbnVsbH1cbiAgICovXG4gIHN0YXRpYyBnZXQoZSkge1xuICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKTtcbiAgfVxuICAvKipcbiAgICogU2VsZWN0b3IgRGVjb3JhdG9yLlxuICAgKlxuICAgKiBSZXR1cm5zIGFsbCBtYXRjaGVzXG4gICAqXG4gICAqIEBwYXJhbSB7RWxlbWVudHxEb2N1bWVudH0gZWwgLSBlbGVtZW50IHdlIHNlYXJjaGluZyBpbnNpZGUuIERlZmF1bHQgLSBET00gRG9jdW1lbnRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yIC0gc2VhcmNoaW5nIHN0cmluZ1xuICAgKiBAcmV0dXJucyB7Tm9kZUxpc3R9XG4gICAqL1xuICBzdGF0aWMgZmluZEFsbChlID0gZG9jdW1lbnQsIHQpIHtcbiAgICByZXR1cm4gZS5xdWVyeVNlbGVjdG9yQWxsKHQpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIENTUyBzZWxlY3RvciBmb3IgYWxsIHRleHQgaW5wdXRzXG4gICAqL1xuICBzdGF0aWMgZ2V0IGFsbElucHV0c1NlbGVjdG9yKCkge1xuICAgIHJldHVybiBcIltjb250ZW50ZWRpdGFibGU9dHJ1ZV0sIHRleHRhcmVhLCBpbnB1dDpub3QoW3R5cGVdKSwgXCIgKyBbXCJ0ZXh0XCIsIFwicGFzc3dvcmRcIiwgXCJlbWFpbFwiLCBcIm51bWJlclwiLCBcInNlYXJjaFwiLCBcInRlbFwiLCBcInVybFwiXS5tYXAoKHQpID0+IGBpbnB1dFt0eXBlPVwiJHt0fVwiXWApLmpvaW4oXCIsIFwiKTtcbiAgfVxuICAvKipcbiAgICogRmluZCBhbGwgY29udGVudGVkaXRhYmxlLCB0ZXh0YXJlYSBhbmQgZWRpdGFibGUgaW5wdXQgZWxlbWVudHMgcGFzc2VkIGhvbGRlciBjb250YWluc1xuICAgKlxuICAgKiBAcGFyYW0gaG9sZGVyIC0gZWxlbWVudCB3aGVyZSB0byBmaW5kIGlucHV0c1xuICAgKi9cbiAgc3RhdGljIGZpbmRBbGxJbnB1dHMoZSkge1xuICAgIHJldHVybiBzdChlLnF1ZXJ5U2VsZWN0b3JBbGwoZC5hbGxJbnB1dHNTZWxlY3RvcikpLnJlZHVjZSgodCwgbykgPT4gZC5pc05hdGl2ZUlucHV0KG8pIHx8IGQuY29udGFpbnNPbmx5SW5saW5lRWxlbWVudHMobykgPyBbLi4udCwgb10gOiBbLi4udCwgLi4uZC5nZXREZWVwZXN0QmxvY2tFbGVtZW50cyhvKV0sIFtdKTtcbiAgfVxuICAvKipcbiAgICogU2VhcmNoIGZvciBkZWVwZXN0IG5vZGUgd2hpY2ggaXMgTGVhZi5cbiAgICogTGVhZiBpcyB0aGUgdmVydGV4IHRoYXQgZG9lc24ndCBoYXZlIGFueSBjaGlsZCBub2Rlc1xuICAgKlxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIHJlY3Vyc2l2ZWx5IGdvZXMgdGhyb3cgdGhlIGFsbCBOb2RlIHVudGlsIGl0IGZpbmRzIHRoZSBMZWFmXG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZSAtIHJvb3QgTm9kZS4gRnJvbSB0aGlzIHZlcnRleCB3ZSBzdGFydCBEZWVwLWZpcnN0IHNlYXJjaFxuICAgKiAgICAgICAgICAgICAgICAgICAgICB7QGxpbmsgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRGVwdGgtZmlyc3Rfc2VhcmNofVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthdExhc3RdIC0gZmluZCBsYXN0IHRleHQgbm9kZVxuICAgKiBAcmV0dXJucyB7Tm9kZX0gLSBpdCBjYW4gYmUgdGV4dCBOb2RlIG9yIEVsZW1lbnQgTm9kZSwgc28gdGhhdCBjYXJldCB3aWxsIGFibGUgdG8gd29yayB3aXRoIGl0XG4gICAqL1xuICBzdGF0aWMgZ2V0RGVlcGVzdE5vZGUoZSwgdCA9ICExKSB7XG4gICAgY29uc3QgbyA9IHQgPyBcImxhc3RDaGlsZFwiIDogXCJmaXJzdENoaWxkXCIsIGkgPSB0ID8gXCJwcmV2aW91c1NpYmxpbmdcIiA6IFwibmV4dFNpYmxpbmdcIjtcbiAgICBpZiAoZSAmJiBlLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSAmJiBlW29dKSB7XG4gICAgICBsZXQgbiA9IGVbb107XG4gICAgICBpZiAoZC5pc1NpbmdsZVRhZyhuKSAmJiAhZC5pc05hdGl2ZUlucHV0KG4pICYmICFkLmlzTGluZUJyZWFrVGFnKG4pKVxuICAgICAgICBpZiAobltpXSlcbiAgICAgICAgICBuID0gbltpXTtcbiAgICAgICAgZWxzZSBpZiAobi5wYXJlbnROb2RlW2ldKVxuICAgICAgICAgIG4gPSBuLnBhcmVudE5vZGVbaV07XG4gICAgICAgIGVsc2VcbiAgICAgICAgICByZXR1cm4gbi5wYXJlbnROb2RlO1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0RGVlcGVzdE5vZGUobiwgdCk7XG4gICAgfVxuICAgIHJldHVybiBlO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBvYmplY3QgaXMgRE9NIG5vZGVcbiAgICpcbiAgICogQHBhcmFtIHsqfSBub2RlIC0gb2JqZWN0IHRvIGNoZWNrXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgc3RhdGljIGlzRWxlbWVudChlKSB7XG4gICAgcmV0dXJuIHFlKGUpID8gITEgOiBlICYmIGUubm9kZVR5cGUgJiYgZS5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREU7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIG9iamVjdCBpcyBEb2N1bWVudEZyYWdtZW50IG5vZGVcbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IG5vZGUgLSBvYmplY3QgdG8gY2hlY2tcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBzdGF0aWMgaXNGcmFnbWVudChlKSB7XG4gICAgcmV0dXJuIHFlKGUpID8gITEgOiBlICYmIGUubm9kZVR5cGUgJiYgZS5ub2RlVHlwZSA9PT0gTm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBwYXNzZWQgZWxlbWVudCBpcyBjb250ZW50ZWRpdGFibGVcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIGh0bWwgZWxlbWVudCB0byBjaGVja1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBpc0NvbnRlbnRFZGl0YWJsZShlKSB7XG4gICAgcmV0dXJuIGUuY29udGVudEVkaXRhYmxlID09PSBcInRydWVcIjtcbiAgfVxuICAvKipcbiAgICogQ2hlY2tzIHRhcmdldCBpZiBpdCBpcyBuYXRpdmUgaW5wdXRcbiAgICpcbiAgICogQHBhcmFtIHsqfSB0YXJnZXQgLSBIVE1MIGVsZW1lbnQgb3Igc3RyaW5nXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgc3RhdGljIGlzTmF0aXZlSW5wdXQoZSkge1xuICAgIGNvbnN0IHQgPSBbXG4gICAgICBcIklOUFVUXCIsXG4gICAgICBcIlRFWFRBUkVBXCJcbiAgICBdO1xuICAgIHJldHVybiBlICYmIGUudGFnTmFtZSA/IHQuaW5jbHVkZXMoZS50YWdOYW1lKSA6ICExO1xuICB9XG4gIC8qKlxuICAgKiBDaGVja3MgaWYgd2UgY2FuIHNldCBjYXJldFxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXQgLSB0YXJnZXQgdG8gY2hlY2tcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgY2FuU2V0Q2FyZXQoZSkge1xuICAgIGxldCB0ID0gITA7XG4gICAgaWYgKGQuaXNOYXRpdmVJbnB1dChlKSlcbiAgICAgIHN3aXRjaCAoZS50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJmaWxlXCI6XG4gICAgICAgIGNhc2UgXCJjaGVja2JveFwiOlxuICAgICAgICBjYXNlIFwicmFkaW9cIjpcbiAgICAgICAgY2FzZSBcImhpZGRlblwiOlxuICAgICAgICBjYXNlIFwic3VibWl0XCI6XG4gICAgICAgIGNhc2UgXCJidXR0b25cIjpcbiAgICAgICAgY2FzZSBcImltYWdlXCI6XG4gICAgICAgIGNhc2UgXCJyZXNldFwiOlxuICAgICAgICAgIHQgPSAhMTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICBlbHNlXG4gICAgICB0ID0gZC5pc0NvbnRlbnRFZGl0YWJsZShlKTtcbiAgICByZXR1cm4gdDtcbiAgfVxuICAvKipcbiAgICogQ2hlY2tzIG5vZGUgaWYgaXQgaXMgZW1wdHlcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBjaGVja3Mgc2ltcGxlIE5vZGUgd2l0aG91dCBhbnkgY2hpbGRzIGZvciBlbXB0aW5lc3NcbiAgICogSWYgeW91IGhhdmUgTm9kZSB3aXRoIDIgb3IgbW9yZSBjaGlsZHJlbiBpZCBkZXB0aCwgeW91IGJldHRlciB1c2Uge0BsaW5rIERvbSNpc0VtcHR5fSBtZXRob2RcbiAgICogQHBhcmFtIHtOb2RlfSBub2RlIC0gbm9kZSB0byBjaGVja1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiBpdCBpcyBlbXB0eVxuICAgKi9cbiAgc3RhdGljIGlzTm9kZUVtcHR5KGUpIHtcbiAgICBsZXQgdDtcbiAgICByZXR1cm4gdGhpcy5pc1NpbmdsZVRhZyhlKSAmJiAhdGhpcy5pc0xpbmVCcmVha1RhZyhlKSA/ICExIDogKHRoaXMuaXNFbGVtZW50KGUpICYmIHRoaXMuaXNOYXRpdmVJbnB1dChlKSA/IHQgPSBlLnZhbHVlIDogdCA9IGUudGV4dENvbnRlbnQucmVwbGFjZShcIuKAi1wiLCBcIlwiKSwgdC50cmltKCkubGVuZ3RoID09PSAwKTtcbiAgfVxuICAvKipcbiAgICogY2hlY2tzIG5vZGUgaWYgaXQgaXMgZG9lc24ndCBoYXZlIGFueSBjaGlsZCBub2Rlc1xuICAgKlxuICAgKiBAcGFyYW0ge05vZGV9IG5vZGUgLSBub2RlIHRvIGNoZWNrXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGlzTGVhZihlKSB7XG4gICAgcmV0dXJuIGUgPyBlLmNoaWxkTm9kZXMubGVuZ3RoID09PSAwIDogITE7XG4gIH1cbiAgLyoqXG4gICAqIGJyZWFkdGgtZmlyc3Qgc2VhcmNoIChCRlMpXG4gICAqIHtAbGluayBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CcmVhZHRoLWZpcnN0X3NlYXJjaH1cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uIFB1c2hlcyB0byBzdGFjayBhbGwgRE9NIGxlYWZzIGFuZCBjaGVja3MgZm9yIGVtcHRpbmVzc1xuICAgKiBAcGFyYW0ge05vZGV9IG5vZGUgLSBub2RlIHRvIGNoZWNrXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGlzRW1wdHkoZSkge1xuICAgIGUubm9ybWFsaXplKCk7XG4gICAgY29uc3QgdCA9IFtlXTtcbiAgICBmb3IgKDsgdC5sZW5ndGggPiAwOyApXG4gICAgICBpZiAoZSA9IHQuc2hpZnQoKSwgISFlKSB7XG4gICAgICAgIGlmICh0aGlzLmlzTGVhZihlKSAmJiAhdGhpcy5pc05vZGVFbXB0eShlKSlcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIGUuY2hpbGROb2RlcyAmJiB0LnB1c2goLi4uQXJyYXkuZnJvbShlLmNoaWxkTm9kZXMpKTtcbiAgICAgIH1cbiAgICByZXR1cm4gITA7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIHN0cmluZyBjb250YWlucyBodG1sIGVsZW1lbnRzXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgLSBzdHJpbmcgdG8gY2hlY2tcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgaXNIVE1MU3RyaW5nKGUpIHtcbiAgICBjb25zdCB0ID0gZC5tYWtlKFwiZGl2XCIpO1xuICAgIHJldHVybiB0LmlubmVySFRNTCA9IGUsIHQuY2hpbGRFbGVtZW50Q291bnQgPiAwO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gbGVuZ3RoIG9mIG5vZGVgcyB0ZXh0IGNvbnRlbnRcbiAgICpcbiAgICogQHBhcmFtIHtOb2RlfSBub2RlIC0gbm9kZSB3aXRoIGNvbnRlbnRcbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG4gIHN0YXRpYyBnZXRDb250ZW50TGVuZ3RoKGUpIHtcbiAgICByZXR1cm4gZC5pc05hdGl2ZUlucHV0KGUpID8gZS52YWx1ZS5sZW5ndGggOiBlLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSA/IGUubGVuZ3RoIDogZS50ZXh0Q29udGVudC5sZW5ndGg7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhcnJheSBvZiBuYW1lcyBvZiBibG9jayBodG1sIGVsZW1lbnRzXG4gICAqXG4gICAqIEByZXR1cm5zIHtzdHJpbmdbXX1cbiAgICovXG4gIHN0YXRpYyBnZXQgYmxvY2tFbGVtZW50cygpIHtcbiAgICByZXR1cm4gW1xuICAgICAgXCJhZGRyZXNzXCIsXG4gICAgICBcImFydGljbGVcIixcbiAgICAgIFwiYXNpZGVcIixcbiAgICAgIFwiYmxvY2txdW90ZVwiLFxuICAgICAgXCJjYW52YXNcIixcbiAgICAgIFwiZGl2XCIsXG4gICAgICBcImRsXCIsXG4gICAgICBcImR0XCIsXG4gICAgICBcImZpZWxkc2V0XCIsXG4gICAgICBcImZpZ2NhcHRpb25cIixcbiAgICAgIFwiZmlndXJlXCIsXG4gICAgICBcImZvb3RlclwiLFxuICAgICAgXCJmb3JtXCIsXG4gICAgICBcImgxXCIsXG4gICAgICBcImgyXCIsXG4gICAgICBcImgzXCIsXG4gICAgICBcImg0XCIsXG4gICAgICBcImg1XCIsXG4gICAgICBcImg2XCIsXG4gICAgICBcImhlYWRlclwiLFxuICAgICAgXCJoZ3JvdXBcIixcbiAgICAgIFwiaHJcIixcbiAgICAgIFwibGlcIixcbiAgICAgIFwibWFpblwiLFxuICAgICAgXCJuYXZcIixcbiAgICAgIFwibm9zY3JpcHRcIixcbiAgICAgIFwib2xcIixcbiAgICAgIFwib3V0cHV0XCIsXG4gICAgICBcInBcIixcbiAgICAgIFwicHJlXCIsXG4gICAgICBcInJ1YnlcIixcbiAgICAgIFwic2VjdGlvblwiLFxuICAgICAgXCJ0YWJsZVwiLFxuICAgICAgXCJ0Ym9keVwiLFxuICAgICAgXCJ0aGVhZFwiLFxuICAgICAgXCJ0clwiLFxuICAgICAgXCJ0Zm9vdFwiLFxuICAgICAgXCJ1bFwiLFxuICAgICAgXCJ2aWRlb1wiXG4gICAgXTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgcGFzc2VkIGNvbnRlbnQgaW5jbHVkZXMgb25seSBpbmxpbmUgZWxlbWVudHNcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8SFRNTEVsZW1lbnR9IGRhdGEgLSBlbGVtZW50IG9yIGh0bWwgc3RyaW5nXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGNvbnRhaW5zT25seUlubGluZUVsZW1lbnRzKGUpIHtcbiAgICBsZXQgdDtcbiAgICBKKGUpID8gKHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLCB0LmlubmVySFRNTCA9IGUpIDogdCA9IGU7XG4gICAgY29uc3QgbyA9IChpKSA9PiAhZC5ibG9ja0VsZW1lbnRzLmluY2x1ZGVzKGkudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSAmJiBBcnJheS5mcm9tKGkuY2hpbGRyZW4pLmV2ZXJ5KG8pO1xuICAgIHJldHVybiBBcnJheS5mcm9tKHQuY2hpbGRyZW4pLmV2ZXJ5KG8pO1xuICB9XG4gIC8qKlxuICAgKiBGaW5kIGFuZCByZXR1cm4gYWxsIGJsb2NrIGVsZW1lbnRzIGluIHRoZSBwYXNzZWQgcGFyZW50IChpbmNsdWRpbmcgc3VidHJlZSlcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFyZW50IC0gcm9vdCBlbGVtZW50XG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudFtdfVxuICAgKi9cbiAgc3RhdGljIGdldERlZXBlc3RCbG9ja0VsZW1lbnRzKGUpIHtcbiAgICByZXR1cm4gZC5jb250YWluc09ubHlJbmxpbmVFbGVtZW50cyhlKSA/IFtlXSA6IEFycmF5LmZyb20oZS5jaGlsZHJlbikucmVkdWNlKCh0LCBvKSA9PiBbLi4udCwgLi4uZC5nZXREZWVwZXN0QmxvY2tFbGVtZW50cyhvKV0sIFtdKTtcbiAgfVxuICAvKipcbiAgICogSGVscGVyIGZvciBnZXQgaG9sZGVyIGZyb20ge3N0cmluZ30gb3IgcmV0dXJuIEhUTUxFbGVtZW50XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgSFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBob2xkZXIncyBpZCBvciBob2xkZXIncyBIVE1MIEVsZW1lbnRcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgKi9cbiAgc3RhdGljIGdldEhvbGRlcihlKSB7XG4gICAgcmV0dXJuIEooZSkgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKSA6IGU7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBlbGVtZW50IGlzIGFuY2hvciAoaXMgQSB0YWcpXG4gICAqXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIGVsZW1lbnQgdG8gY2hlY2tcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgaXNBbmNob3IoZSkge1xuICAgIHJldHVybiBlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJhXCI7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBlbGVtZW50J3Mgb2Zmc2V0IHJlbGF0ZWQgdG8gdGhlIGRvY3VtZW50XG4gICAqXG4gICAqIEB0b2RvIGhhbmRsZSBjYXNlIHdoZW4gZWRpdG9yIGluaXRpYWxpemVkIGluIHNjcm9sbGFibGUgcG9wdXBcbiAgICogQHBhcmFtIGVsIC0gZWxlbWVudCB0byBjb21wdXRlIG9mZnNldFxuICAgKi9cbiAgc3RhdGljIG9mZnNldChlKSB7XG4gICAgY29uc3QgdCA9IGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIG8gPSB3aW5kb3cucGFnZVhPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQsIGkgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCwgbiA9IHQudG9wICsgaSwgciA9IHQubGVmdCArIG87XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcDogbixcbiAgICAgIGxlZnQ6IHIsXG4gICAgICBib3R0b206IG4gKyB0LmhlaWdodCxcbiAgICAgIHJpZ2h0OiByICsgdC53aWR0aFxuICAgIH07XG4gIH1cbn1cbmNvbnN0IEt0ID0ge1xuICBibG9ja1R1bmVzOiB7XG4gICAgdG9nZ2xlcjoge1xuICAgICAgXCJDbGljayB0byB0dW5lXCI6IFwiXCIsXG4gICAgICBcIm9yIGRyYWcgdG8gbW92ZVwiOiBcIlwiXG4gICAgfVxuICB9LFxuICBpbmxpbmVUb29sYmFyOiB7XG4gICAgY29udmVydGVyOiB7XG4gICAgICBcIkNvbnZlcnQgdG9cIjogXCJcIlxuICAgIH1cbiAgfSxcbiAgdG9vbGJhcjoge1xuICAgIHRvb2xib3g6IHtcbiAgICAgIEFkZDogXCJcIlxuICAgIH1cbiAgfSxcbiAgcG9wb3Zlcjoge1xuICAgIEZpbHRlcjogXCJcIixcbiAgICBcIk5vdGhpbmcgZm91bmRcIjogXCJcIlxuICB9XG59LCBYdCA9IHtcbiAgVGV4dDogXCJcIixcbiAgTGluazogXCJcIixcbiAgQm9sZDogXCJcIixcbiAgSXRhbGljOiBcIlwiXG59LCBWdCA9IHtcbiAgbGluazoge1xuICAgIFwiQWRkIGEgbGlua1wiOiBcIlwiXG4gIH0sXG4gIHN0dWI6IHtcbiAgICBcIlRoZSBibG9jayBjYW4gbm90IGJlIGRpc3BsYXllZCBjb3JyZWN0bHkuXCI6IFwiXCJcbiAgfVxufSwgcXQgPSB7XG4gIGRlbGV0ZToge1xuICAgIERlbGV0ZTogXCJcIixcbiAgICBcIkNsaWNrIHRvIGRlbGV0ZVwiOiBcIlwiXG4gIH0sXG4gIG1vdmVVcDoge1xuICAgIFwiTW92ZSB1cFwiOiBcIlwiXG4gIH0sXG4gIG1vdmVEb3duOiB7XG4gICAgXCJNb3ZlIGRvd25cIjogXCJcIlxuICB9XG59LCBhdCA9IHtcbiAgdWk6IEt0LFxuICB0b29sTmFtZXM6IFh0LFxuICB0b29sczogVnQsXG4gIGJsb2NrVHVuZXM6IHF0XG59LCBpZSA9IGNsYXNzIHtcbiAgLyoqXG4gICAqIFR5cGUtc2FmZSB0cmFuc2xhdGlvbiBmb3IgaW50ZXJuYWwgVUkgdGV4dHM6XG4gICAqIFBlcmZvcm0gdHJhbnNsYXRpb24gb2YgdGhlIHN0cmluZyBieSBuYW1lc3BhY2UgYW5kIGEga2V5XG4gICAqXG4gICAqIEBleGFtcGxlIEkxOG4udWkoSTE4bkludGVybmFsTlMudWkuYmxvY2tUdW5lcy50b2dnbGVyLCAnQ2xpY2sgdG8gdHVuZScpXG4gICAqIEBwYXJhbSBpbnRlcm5hbE5hbWVzcGFjZSAtIHBhdGggdG8gdHJhbnNsYXRlZCBzdHJpbmcgaW4gZGljdGlvbmFyeVxuICAgKiBAcGFyYW0gZGljdEtleSAtIGRpY3Rpb25hcnkga2V5LiBCZXR0ZXIgdG8gdXNlIGRlZmF1bHQgbG9jYWxlIG9yaWdpbmFsIHRleHRcbiAgICovXG4gIHN0YXRpYyB1aShzLCBlKSB7XG4gICAgcmV0dXJuIGllLl90KHMsIGUpO1xuICB9XG4gIC8qKlxuICAgKiBUcmFuc2xhdGUgZm9yIGV4dGVybmFsIHN0cmluZ3MgdGhhdCBpcyBub3QgcHJlc2VudGVkIGluIGRlZmF1bHQgZGljdGlvbmFyeS5cbiAgICogRm9yIGV4YW1wbGUsIGZvciB1c2VyLXNwZWNpZmllZCB0b29sIG5hbWVzXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lc3BhY2UgLSBwYXRoIHRvIHRyYW5zbGF0ZWQgc3RyaW5nIGluIGRpY3Rpb25hcnlcbiAgICogQHBhcmFtIGRpY3RLZXkgLSBkaWN0aW9uYXJ5IGtleS4gQmV0dGVyIHRvIHVzZSBkZWZhdWx0IGxvY2FsZSBvcmlnaW5hbCB0ZXh0XG4gICAqL1xuICBzdGF0aWMgdChzLCBlKSB7XG4gICAgcmV0dXJuIGllLl90KHMsIGUpO1xuICB9XG4gIC8qKlxuICAgKiBBZGp1c3QgbW9kdWxlIGZvciB1c2luZyBleHRlcm5hbCBkaWN0aW9uYXJ5XG4gICAqXG4gICAqIEBwYXJhbSBkaWN0aW9uYXJ5IC0gbmV3IG1lc3NhZ2VzIGxpc3QgdG8gb3ZlcnJpZGUgZGVmYXVsdFxuICAgKi9cbiAgc3RhdGljIHNldERpY3Rpb25hcnkocykge1xuICAgIGllLmN1cnJlbnREaWN0aW9uYXJ5ID0gcztcbiAgfVxuICAvKipcbiAgICogUGVyZm9ybSB0cmFuc2xhdGlvbiBib3RoIGZvciBpbnRlcm5hbCBhbmQgZXh0ZXJuYWwgbmFtZXNwYWNlc1xuICAgKiBJZiB0aGVyZSBpcyBubyB0cmFuc2xhdGlvbiBmb3VuZCwgcmV0dXJucyBwYXNzZWQga2V5IGFzIGEgdHJhbnNsYXRlZCBtZXNzYWdlXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lc3BhY2UgLSBwYXRoIHRvIHRyYW5zbGF0ZWQgc3RyaW5nIGluIGRpY3Rpb25hcnlcbiAgICogQHBhcmFtIGRpY3RLZXkgLSBkaWN0aW9uYXJ5IGtleS4gQmV0dGVyIHRvIHVzZSBkZWZhdWx0IGxvY2FsZSBvcmlnaW5hbCB0ZXh0XG4gICAqL1xuICBzdGF0aWMgX3QocywgZSkge1xuICAgIGNvbnN0IHQgPSBpZS5nZXROYW1lc3BhY2Uocyk7XG4gICAgcmV0dXJuICF0IHx8ICF0W2VdID8gZSA6IHRbZV07XG4gIH1cbiAgLyoqXG4gICAqIEZpbmQgbWVzc2FnZXMgc2VjdGlvbiBieSBuYW1lc3BhY2UgcGF0aFxuICAgKlxuICAgKiBAcGFyYW0gbmFtZXNwYWNlIC0gcGF0aCB0byBzZWN0aW9uXG4gICAqL1xuICBzdGF0aWMgZ2V0TmFtZXNwYWNlKHMpIHtcbiAgICByZXR1cm4gcy5zcGxpdChcIi5cIikucmVkdWNlKCh0LCBvKSA9PiAhdCB8fCAhT2JqZWN0LmtleXModCkubGVuZ3RoID8ge30gOiB0W29dLCBpZS5jdXJyZW50RGljdGlvbmFyeSk7XG4gIH1cbn07XG5sZXQgJCA9IGllO1xuJC5jdXJyZW50RGljdGlvbmFyeSA9IGF0O1xuY2xhc3MgbHQgZXh0ZW5kcyBFcnJvciB7XG59XG5jbGFzcyB3ZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc3Vic2NyaWJlcnMgPSB7fTtcbiAgfVxuICAvKipcbiAgICogU3Vic2NyaWJlIGFueSBldmVudCBvbiBjYWxsYmFja1xuICAgKlxuICAgKiBAcGFyYW0gZXZlbnROYW1lIC0gZXZlbnQgbmFtZVxuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBzdWJzY3JpYmVyXG4gICAqL1xuICBvbihlLCB0KSB7XG4gICAgZSBpbiB0aGlzLnN1YnNjcmliZXJzIHx8ICh0aGlzLnN1YnNjcmliZXJzW2VdID0gW10pLCB0aGlzLnN1YnNjcmliZXJzW2VdLnB1c2godCk7XG4gIH1cbiAgLyoqXG4gICAqIFN1YnNjcmliZSBhbnkgZXZlbnQgb24gY2FsbGJhY2suIENhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIG9uY2UgYW5kIGJlIHJlbW92ZWQgZnJvbSBzdWJzY3JpYmVycyBhcnJheSBhZnRlciBjYWxsLlxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnROYW1lIC0gZXZlbnQgbmFtZVxuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBzdWJzY3JpYmVyXG4gICAqL1xuICBvbmNlKGUsIHQpIHtcbiAgICBlIGluIHRoaXMuc3Vic2NyaWJlcnMgfHwgKHRoaXMuc3Vic2NyaWJlcnNbZV0gPSBbXSk7XG4gICAgY29uc3QgbyA9IChpKSA9PiB7XG4gICAgICBjb25zdCBuID0gdChpKSwgciA9IHRoaXMuc3Vic2NyaWJlcnNbZV0uaW5kZXhPZihvKTtcbiAgICAgIHJldHVybiByICE9PSAtMSAmJiB0aGlzLnN1YnNjcmliZXJzW2VdLnNwbGljZShyLCAxKSwgbjtcbiAgICB9O1xuICAgIHRoaXMuc3Vic2NyaWJlcnNbZV0ucHVzaChvKTtcbiAgfVxuICAvKipcbiAgICogRW1pdCBjYWxsYmFja3Mgd2l0aCBwYXNzZWQgZGF0YVxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnROYW1lIC0gZXZlbnQgbmFtZVxuICAgKiBAcGFyYW0gZGF0YSAtIHN1YnNjcmliZXJzIGdldCB0aGlzIGRhdGEgd2hlbiB0aGV5IHdlcmUgZmlyZWRcbiAgICovXG4gIGVtaXQoZSwgdCkge1xuICAgIFYodGhpcy5zdWJzY3JpYmVycykgfHwgIXRoaXMuc3Vic2NyaWJlcnNbZV0gfHwgdGhpcy5zdWJzY3JpYmVyc1tlXS5yZWR1Y2UoKG8sIGkpID0+IHtcbiAgICAgIGNvbnN0IG4gPSBpKG8pO1xuICAgICAgcmV0dXJuIG4gIT09IHZvaWQgMCA/IG4gOiBvO1xuICAgIH0sIHQpO1xuICB9XG4gIC8qKlxuICAgKiBVbnN1YnNjcmliZSBjYWxsYmFjayBmcm9tIGV2ZW50XG4gICAqXG4gICAqIEBwYXJhbSBldmVudE5hbWUgLSBldmVudCBuYW1lXG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIGV2ZW50IGhhbmRsZXJcbiAgICovXG4gIG9mZihlLCB0KSB7XG4gICAgaWYgKHRoaXMuc3Vic2NyaWJlcnNbZV0gPT09IHZvaWQgMCkge1xuICAgICAgY29uc29sZS53YXJuKGBFdmVudERpc3BhdGNoZXIgLm9mZigpOiB0aGVyZSBpcyBubyBzdWJzY3JpYmVycyBmb3IgZXZlbnQgXCIke2UudG9TdHJpbmcoKX1cIi4gUHJvYmFibHksIC5vZmYoKSBjYWxsZWQgYmVmb3JlIC5vbigpYCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAobGV0IG8gPSAwOyBvIDwgdGhpcy5zdWJzY3JpYmVyc1tlXS5sZW5ndGg7IG8rKylcbiAgICAgIGlmICh0aGlzLnN1YnNjcmliZXJzW2VdW29dID09PSB0KSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnN1YnNjcmliZXJzW2VdW29dO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgfVxuICAvKipcbiAgICogRGVzdHJveWVyXG4gICAqIGNsZWFycyBzdWJzY3JpYmVycyBsaXN0XG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMuc3Vic2NyaWJlcnMgPSB7fTtcbiAgfVxufVxuZnVuY3Rpb24gZWUocykge1xuICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywge1xuICAgIC8qKlxuICAgICAqIEJsb2NrIGlkXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldCBpZCgpIHtcbiAgICAgIHJldHVybiBzLmlkO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogVG9vbCBuYW1lXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldCBuYW1lKCkge1xuICAgICAgcmV0dXJuIHMubmFtZTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFRvb2wgY29uZmlnIHBhc3NlZCBvbiBFZGl0b3IncyBpbml0aWFsaXphdGlvblxuICAgICAqXG4gICAgICogQHJldHVybnMge1Rvb2xDb25maWd9XG4gICAgICovXG4gICAgZ2V0IGNvbmZpZygpIHtcbiAgICAgIHJldHVybiBzLmNvbmZpZztcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIC5jZS1ibG9jayBlbGVtZW50LCB0aGF0IHdyYXBzIHBsdWdpbiBjb250ZW50c1xuICAgICAqXG4gICAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgICAqL1xuICAgIGdldCBob2xkZXIoKSB7XG4gICAgICByZXR1cm4gcy5ob2xkZXI7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBUcnVlIGlmIEJsb2NrIGNvbnRlbnQgaXMgZW1wdHlcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGdldCBpc0VtcHR5KCkge1xuICAgICAgcmV0dXJuIHMuaXNFbXB0eTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFRydWUgaWYgQmxvY2sgaXMgc2VsZWN0ZWQgd2l0aCBDcm9zcy1CbG9jayBzZWxlY3Rpb25cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGdldCBzZWxlY3RlZCgpIHtcbiAgICAgIHJldHVybiBzLnNlbGVjdGVkO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogU2V0IEJsb2NrJ3Mgc3RyZXRjaCBzdGF0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBzdGF0ZSDigJQgc3RhdGUgdG8gc2V0XG4gICAgICovXG4gICAgc2V0IHN0cmV0Y2hlZCh0KSB7XG4gICAgICBzLnN0cmV0Y2hlZCA9IHQ7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBUcnVlIGlmIEJsb2NrIGlzIHN0cmV0Y2hlZFxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IHN0cmV0Y2hlZCgpIHtcbiAgICAgIHJldHVybiBzLnN0cmV0Y2hlZDtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIENhbGwgVG9vbCBtZXRob2Qgd2l0aCBlcnJvcnMgaGFuZGxlciB1bmRlci10aGUtaG9vZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgLSBtZXRob2QgdG8gY2FsbFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbSAtIG9iamVjdCB3aXRoIHBhcmFtZXRlcnNcbiAgICAgKiBAcmV0dXJucyB7dW5rbm93bn1cbiAgICAgKi9cbiAgICBjYWxsKHQsIG8pIHtcbiAgICAgIHJldHVybiBzLmNhbGwodCwgbyk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBTYXZlIEJsb2NrIGNvbnRlbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWR8U2F2ZWREYXRhPn1cbiAgICAgKi9cbiAgICBzYXZlKCkge1xuICAgICAgcmV0dXJuIHMuc2F2ZSgpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogVmFsaWRhdGUgQmxvY2sgZGF0YVxuICAgICAqXG4gICAgICogQHBhcmFtIHtCbG9ja1Rvb2xEYXRhfSBkYXRhIC0gZGF0YSB0byB2YWxpZGF0ZVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fVxuICAgICAqL1xuICAgIHZhbGlkYXRlKHQpIHtcbiAgICAgIHJldHVybiBzLnZhbGlkYXRlKHQpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIHNheSBFZGl0b3IgdGhhdCBCbG9jayB3YXMgY2hhbmdlZC4gVXNlZCB0byBtYW51YWxseSB0cmlnZ2VyIEVkaXRvcidzICdvbkNoYW5nZScgY2FsbGJhY2tcbiAgICAgKiBDYW4gYmUgdXNlZnVsIGZvciBibG9jayBjaGFuZ2VzIGludmlzaWJsZSBmb3IgZWRpdG9yIGNvcmUuXG4gICAgICovXG4gICAgZGlzcGF0Y2hDaGFuZ2UoKSB7XG4gICAgICBzLmRpc3BhdGNoQ2hhbmdlKCk7XG4gICAgfVxuICB9KTtcbn1cbmNsYXNzIERlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5hbGxMaXN0ZW5lcnMgPSBbXTtcbiAgfVxuICAvKipcbiAgICogQXNzaWducyBldmVudCBsaXN0ZW5lciBvbiBlbGVtZW50IGFuZCByZXR1cm5zIHVuaXF1ZSBpZGVudGlmaWVyXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IGVsZW1lbnQgLSBET00gZWxlbWVudCB0aGF0IG5lZWRzIHRvIGJlIGxpc3RlbmVkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGUgLSBldmVudCB0eXBlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgLSBtZXRob2QgdGhhdCB3aWxsIGJlIGZpcmVkIG9uIGV2ZW50XG4gICAqIEBwYXJhbSB7Ym9vbGVhbnxBZGRFdmVudExpc3RlbmVyT3B0aW9uc30gb3B0aW9ucyAtIHVzZUNhcHR1cmUgb3Ige2NhcHR1cmUsIHBhc3NpdmUsIG9uY2V9XG4gICAqL1xuICBvbihlLCB0LCBvLCBpID0gITEpIHtcbiAgICBjb25zdCBuID0gV3QoXCJsXCIpLCByID0ge1xuICAgICAgaWQ6IG4sXG4gICAgICBlbGVtZW50OiBlLFxuICAgICAgZXZlbnRUeXBlOiB0LFxuICAgICAgaGFuZGxlcjogbyxcbiAgICAgIG9wdGlvbnM6IGlcbiAgICB9O1xuICAgIGlmICghdGhpcy5maW5kT25lKGUsIHQsIG8pKVxuICAgICAgcmV0dXJuIHRoaXMuYWxsTGlzdGVuZXJzLnB1c2gociksIGUuYWRkRXZlbnRMaXN0ZW5lcih0LCBvLCBpKSwgbjtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBldmVudCBsaXN0ZW5lciBmcm9tIGVsZW1lbnRcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH0gZWxlbWVudCAtIERPTSBlbGVtZW50IHRoYXQgd2UgcmVtb3ZpbmcgbGlzdGVuZXJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZSAtIGV2ZW50IHR5cGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlciAtIHJlbW92ZSBoYW5kbGVyLCBpZiBlbGVtZW50IGxpc3RlbnMgc2V2ZXJhbCBoYW5kbGVycyBvbiB0aGUgc2FtZSBldmVudCB0eXBlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbnxBZGRFdmVudExpc3RlbmVyT3B0aW9uc30gb3B0aW9ucyAtIHVzZUNhcHR1cmUgb3Ige2NhcHR1cmUsIHBhc3NpdmUsIG9uY2V9XG4gICAqL1xuICBvZmYoZSwgdCwgbywgaSkge1xuICAgIGNvbnN0IG4gPSB0aGlzLmZpbmRBbGwoZSwgdCwgbyk7XG4gICAgbi5mb3JFYWNoKChyLCBhKSA9PiB7XG4gICAgICBjb25zdCBsID0gdGhpcy5hbGxMaXN0ZW5lcnMuaW5kZXhPZihuW2FdKTtcbiAgICAgIGwgPiAtMSAmJiAodGhpcy5hbGxMaXN0ZW5lcnMuc3BsaWNlKGwsIDEpLCByLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihyLmV2ZW50VHlwZSwgci5oYW5kbGVyLCByLm9wdGlvbnMpKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBsaXN0ZW5lciBieSBpZFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBsaXN0ZW5lciBpZGVudGlmaWVyXG4gICAqL1xuICBvZmZCeUlkKGUpIHtcbiAgICBjb25zdCB0ID0gdGhpcy5maW5kQnlJZChlKTtcbiAgICB0ICYmIHQuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHQuZXZlbnRUeXBlLCB0LmhhbmRsZXIsIHQub3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIEZpbmRzIGFuZCByZXR1cm5zIGZpcnN0IGxpc3RlbmVyIGJ5IHBhc3NlZCBwYXJhbXNcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH0gZWxlbWVudCAtIGV2ZW50IHRhcmdldFxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2V2ZW50VHlwZV0gLSBldmVudCB0eXBlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtoYW5kbGVyXSAtIGV2ZW50IGhhbmRsZXJcbiAgICogQHJldHVybnMge0xpc3RlbmVyRGF0YXxudWxsfVxuICAgKi9cbiAgZmluZE9uZShlLCB0LCBvKSB7XG4gICAgY29uc3QgaSA9IHRoaXMuZmluZEFsbChlLCB0LCBvKTtcbiAgICByZXR1cm4gaS5sZW5ndGggPiAwID8gaVswXSA6IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhbGwgc3RvcmVkIGxpc3RlbmVycyBieSBwYXNzZWQgcGFyYW1zXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IGVsZW1lbnQgLSBldmVudCB0YXJnZXRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZSAtIGV2ZW50IHR5cGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlciAtIGV2ZW50IGhhbmRsZXJcbiAgICogQHJldHVybnMge0xpc3RlbmVyRGF0YVtdfVxuICAgKi9cbiAgZmluZEFsbChlLCB0LCBvKSB7XG4gICAgbGV0IGk7XG4gICAgY29uc3QgbiA9IGUgPyB0aGlzLmZpbmRCeUV2ZW50VGFyZ2V0KGUpIDogW107XG4gICAgcmV0dXJuIGUgJiYgdCAmJiBvID8gaSA9IG4uZmlsdGVyKChyKSA9PiByLmV2ZW50VHlwZSA9PT0gdCAmJiByLmhhbmRsZXIgPT09IG8pIDogZSAmJiB0ID8gaSA9IG4uZmlsdGVyKChyKSA9PiByLmV2ZW50VHlwZSA9PT0gdCkgOiBpID0gbiwgaTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBhbGwgbGlzdGVuZXJzXG4gICAqL1xuICByZW1vdmVBbGwoKSB7XG4gICAgdGhpcy5hbGxMaXN0ZW5lcnMubWFwKChlKSA9PiB7XG4gICAgICBlLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLmV2ZW50VHlwZSwgZS5oYW5kbGVyLCBlLm9wdGlvbnMpO1xuICAgIH0pLCB0aGlzLmFsbExpc3RlbmVycyA9IFtdO1xuICB9XG4gIC8qKlxuICAgKiBNb2R1bGUgY2xlYW51cCBvbiBkZXN0cnVjdGlvblxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnJlbW92ZUFsbCgpO1xuICB9XG4gIC8qKlxuICAgKiBTZWFyY2ggbWV0aG9kOiBsb29rcyBmb3IgbGlzdGVuZXIgYnkgcGFzc2VkIGVsZW1lbnRcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH0gZWxlbWVudCAtIHNlYXJjaGluZyBlbGVtZW50XG4gICAqIEByZXR1cm5zIHtBcnJheX0gbGlzdGVuZXJzIHRoYXQgZm91bmQgb24gZWxlbWVudFxuICAgKi9cbiAgZmluZEJ5RXZlbnRUYXJnZXQoZSkge1xuICAgIHJldHVybiB0aGlzLmFsbExpc3RlbmVycy5maWx0ZXIoKHQpID0+IHtcbiAgICAgIGlmICh0LmVsZW1lbnQgPT09IGUpXG4gICAgICAgIHJldHVybiB0O1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBTZWFyY2ggbWV0aG9kOiBsb29rcyBmb3IgbGlzdGVuZXIgYnkgcGFzc2VkIGV2ZW50IHR5cGVcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZSAtIGV2ZW50IHR5cGVcbiAgICogQHJldHVybnMge0xpc3RlbmVyRGF0YVtdfSBsaXN0ZW5lcnMgdGhhdCBmb3VuZCBvbiBlbGVtZW50XG4gICAqL1xuICBmaW5kQnlUeXBlKGUpIHtcbiAgICByZXR1cm4gdGhpcy5hbGxMaXN0ZW5lcnMuZmlsdGVyKCh0KSA9PiB7XG4gICAgICBpZiAodC5ldmVudFR5cGUgPT09IGUpXG4gICAgICAgIHJldHVybiB0O1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBTZWFyY2ggbWV0aG9kOiBsb29rcyBmb3IgbGlzdGVuZXIgYnkgcGFzc2VkIGhhbmRsZXJcbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlciAtIGV2ZW50IGhhbmRsZXJcbiAgICogQHJldHVybnMge0xpc3RlbmVyRGF0YVtdfSBsaXN0ZW5lcnMgdGhhdCBmb3VuZCBvbiBlbGVtZW50XG4gICAqL1xuICBmaW5kQnlIYW5kbGVyKGUpIHtcbiAgICByZXR1cm4gdGhpcy5hbGxMaXN0ZW5lcnMuZmlsdGVyKCh0KSA9PiB7XG4gICAgICBpZiAodC5oYW5kbGVyID09PSBlKVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBsaXN0ZW5lciBkYXRhIGZvdW5kIGJ5IGlkXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIGxpc3RlbmVyIGlkZW50aWZpZXJcbiAgICogQHJldHVybnMge0xpc3RlbmVyRGF0YX1cbiAgICovXG4gIGZpbmRCeUlkKGUpIHtcbiAgICByZXR1cm4gdGhpcy5hbGxMaXN0ZW5lcnMuZmluZCgodCkgPT4gdC5pZCA9PT0gZSk7XG4gIH1cbn1cbmNsYXNzIEMge1xuICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gTW9kdWxlIG9wdGlvbnNcbiAgICogQHBhcmFtIG9wdGlvbnMuY29uZmlnIC0gTW9kdWxlIGNvbmZpZ1xuICAgKiBAcGFyYW0gb3B0aW9ucy5ldmVudHNEaXNwYXRjaGVyIC0gQ29tbW9uIGV2ZW50IGJ1c1xuICAgKi9cbiAgY29uc3RydWN0b3IoeyBjb25maWc6IGUsIGV2ZW50c0Rpc3BhdGNoZXI6IHQgfSkge1xuICAgIGlmICh0aGlzLm5vZGVzID0ge30sIHRoaXMubGlzdGVuZXJzID0gbmV3IERlKCksIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzID0ge1xuICAgICAgLyoqXG4gICAgICAgKiBBc3NpZ25zIGV2ZW50IGxpc3RlbmVyIG9uIERPTSBlbGVtZW50IGFuZCBwdXNoZXMgaW50byBzcGVjaWFsIGFycmF5IHRoYXQgbWlnaHQgYmUgcmVtb3ZlZFxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IGVsZW1lbnQgLSBET00gRWxlbWVudFxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZSAtIEV2ZW50IG5hbWVcbiAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgLSBFdmVudCBoYW5kbGVyXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW58QWRkRXZlbnRMaXN0ZW5lck9wdGlvbnN9IG9wdGlvbnMgLSBMaXN0ZW5pbmcgb3B0aW9uc1xuICAgICAgICovXG4gICAgICBvbjogKG8sIGksIG4sIHIgPSAhMSkgPT4ge1xuICAgICAgICB0aGlzLm11dGFibGVMaXN0ZW5lcklkcy5wdXNoKFxuICAgICAgICAgIHRoaXMubGlzdGVuZXJzLm9uKG8sIGksIG4sIHIpXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgLyoqXG4gICAgICAgKiBDbGVhcnMgYWxsIG11dGFibGUgbGlzdGVuZXJzXG4gICAgICAgKi9cbiAgICAgIGNsZWFyQWxsOiAoKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgbyBvZiB0aGlzLm11dGFibGVMaXN0ZW5lcklkcylcbiAgICAgICAgICB0aGlzLmxpc3RlbmVycy5vZmZCeUlkKG8pO1xuICAgICAgICB0aGlzLm11dGFibGVMaXN0ZW5lcklkcyA9IFtdO1xuICAgICAgfVxuICAgIH0sIHRoaXMubXV0YWJsZUxpc3RlbmVySWRzID0gW10sIG5ldy50YXJnZXQgPT09IEMpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ29uc3RydWN0b3JzIGZvciBhYnN0cmFjdCBjbGFzcyBNb2R1bGUgYXJlIG5vdCBhbGxvd2VkLlwiKTtcbiAgICB0aGlzLmNvbmZpZyA9IGUsIHRoaXMuZXZlbnRzRGlzcGF0Y2hlciA9IHQ7XG4gIH1cbiAgLyoqXG4gICAqIEVkaXRvciBtb2R1bGVzIHNldHRlclxuICAgKlxuICAgKiBAcGFyYW0ge0VkaXRvck1vZHVsZXN9IEVkaXRvciAtIEVkaXRvcidzIE1vZHVsZXNcbiAgICovXG4gIHNldCBzdGF0ZShlKSB7XG4gICAgdGhpcy5FZGl0b3IgPSBlO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgbWVtb3JpemVkIG5vZGVzXG4gICAqL1xuICByZW1vdmVBbGxOb2RlcygpIHtcbiAgICBmb3IgKGNvbnN0IGUgaW4gdGhpcy5ub2Rlcykge1xuICAgICAgY29uc3QgdCA9IHRoaXMubm9kZXNbZV07XG4gICAgICB0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiYgdC5yZW1vdmUoKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBjdXJyZW50IGRpcmVjdGlvbiBpcyBSVEwgKFJpZ2h0LVRvLUxlZnQpXG4gICAqL1xuICBnZXQgaXNSdGwoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLmkxOG4uZGlyZWN0aW9uID09PSBcInJ0bFwiO1xuICB9XG59XG5jbGFzcyBtIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pbnN0YW5jZSA9IG51bGwsIHRoaXMuc2VsZWN0aW9uID0gbnVsbCwgdGhpcy5zYXZlZFNlbGVjdGlvblJhbmdlID0gbnVsbCwgdGhpcy5pc0Zha2VCYWNrZ3JvdW5kRW5hYmxlZCA9ICExLCB0aGlzLmNvbW1hbmRCYWNrZ3JvdW5kID0gXCJiYWNrQ29sb3JcIiwgdGhpcy5jb21tYW5kUmVtb3ZlRm9ybWF0ID0gXCJyZW1vdmVGb3JtYXRcIjtcbiAgfVxuICAvKipcbiAgICogRWRpdG9yIHN0eWxlc1xuICAgKlxuICAgKiBAcmV0dXJucyB7e2VkaXRvcldyYXBwZXI6IHN0cmluZywgZWRpdG9yWm9uZTogc3RyaW5nfX1cbiAgICovXG4gIHN0YXRpYyBnZXQgQ1NTKCkge1xuICAgIHJldHVybiB7XG4gICAgICBlZGl0b3JXcmFwcGVyOiBcImNvZGV4LWVkaXRvclwiLFxuICAgICAgZWRpdG9yWm9uZTogXCJjb2RleC1lZGl0b3JfX3JlZGFjdG9yXCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHNlbGVjdGVkIGFuY2hvclxuICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvcnUvZG9jcy9XZWIvQVBJL1NlbGVjdGlvbi9hbmNob3JOb2RlfVxuICAgKlxuICAgKiBAcmV0dXJucyB7Tm9kZXxudWxsfVxuICAgKi9cbiAgc3RhdGljIGdldCBhbmNob3JOb2RlKCkge1xuICAgIGNvbnN0IGUgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgcmV0dXJuIGUgPyBlLmFuY2hvck5vZGUgOiBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHNlbGVjdGVkIGFuY2hvciBlbGVtZW50XG4gICAqXG4gICAqIEByZXR1cm5zIHtFbGVtZW50fG51bGx9XG4gICAqL1xuICBzdGF0aWMgZ2V0IGFuY2hvckVsZW1lbnQoKSB7XG4gICAgY29uc3QgZSA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICBpZiAoIWUpXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBjb25zdCB0ID0gZS5hbmNob3JOb2RlO1xuICAgIHJldHVybiB0ID8gZC5pc0VsZW1lbnQodCkgPyB0IDogdC5wYXJlbnRFbGVtZW50IDogbnVsbDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBzZWxlY3Rpb24gb2Zmc2V0IGFjY29yZGluZyB0byB0aGUgYW5jaG9yIG5vZGVcbiAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL3J1L2RvY3MvV2ViL0FQSS9TZWxlY3Rpb24vYW5jaG9yT2Zmc2V0fVxuICAgKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfG51bGx9XG4gICAqL1xuICBzdGF0aWMgZ2V0IGFuY2hvck9mZnNldCgpIHtcbiAgICBjb25zdCBlID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgIHJldHVybiBlID8gZS5hbmNob3JPZmZzZXQgOiBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBJcyBjdXJyZW50IHNlbGVjdGlvbiByYW5nZSBjb2xsYXBzZWRcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW58bnVsbH1cbiAgICovXG4gIHN0YXRpYyBnZXQgaXNDb2xsYXBzZWQoKSB7XG4gICAgY29uc3QgZSA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICByZXR1cm4gZSA/IGUuaXNDb2xsYXBzZWQgOiBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBjdXJyZW50IHNlbGVjdGlvbiBpZiBpdCBpcyBhdCBFZGl0b3IncyB6b25lXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGdldCBpc0F0RWRpdG9yKCkge1xuICAgIHJldHVybiB0aGlzLmlzU2VsZWN0aW9uQXRFZGl0b3IobS5nZXQoKSk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIHBhc3NlZCBzZWxlY3Rpb24gaXMgYXQgRWRpdG9yJ3Mgem9uZVxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0aW9uIC0gU2VsZWN0aW9uIG9iamVjdCB0byBjaGVja1xuICAgKi9cbiAgc3RhdGljIGlzU2VsZWN0aW9uQXRFZGl0b3IoZSkge1xuICAgIGlmICghZSlcbiAgICAgIHJldHVybiAhMTtcbiAgICBsZXQgdCA9IGUuYW5jaG9yTm9kZSB8fCBlLmZvY3VzTm9kZTtcbiAgICB0ICYmIHQubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFICYmICh0ID0gdC5wYXJlbnROb2RlKTtcbiAgICBsZXQgbyA9IG51bGw7XG4gICAgcmV0dXJuIHQgJiYgdCBpbnN0YW5jZW9mIEVsZW1lbnQgJiYgKG8gPSB0LmNsb3Nlc3QoYC4ke20uQ1NTLmVkaXRvclpvbmV9YCkpLCBvID8gby5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUgOiAhMTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgcGFzc2VkIHJhbmdlIGF0IEVkaXRvciB6b25lXG4gICAqXG4gICAqIEBwYXJhbSByYW5nZSAtIHJhbmdlIHRvIGNoZWNrXG4gICAqL1xuICBzdGF0aWMgaXNSYW5nZUF0RWRpdG9yKGUpIHtcbiAgICBpZiAoIWUpXG4gICAgICByZXR1cm47XG4gICAgbGV0IHQgPSBlLnN0YXJ0Q29udGFpbmVyO1xuICAgIHQgJiYgdC5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUgJiYgKHQgPSB0LnBhcmVudE5vZGUpO1xuICAgIGxldCBvID0gbnVsbDtcbiAgICByZXR1cm4gdCAmJiB0IGluc3RhbmNlb2YgRWxlbWVudCAmJiAobyA9IHQuY2xvc2VzdChgLiR7bS5DU1MuZWRpdG9yWm9uZX1gKSksIG8gPyBvLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSA6ICExO1xuICB9XG4gIC8qKlxuICAgKiBNZXRob2RzIHJldHVybiBib29sZWFuIHRoYXQgdHJ1ZSBpZiBzZWxlY3Rpb24gZXhpc3RzIG9uIHRoZSBwYWdlXG4gICAqL1xuICBzdGF0aWMgZ2V0IGlzU2VsZWN0aW9uRXhpc3RzKCkge1xuICAgIHJldHVybiAhIW0uZ2V0KCkuYW5jaG9yTm9kZTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGZpcnN0IHJhbmdlXG4gICAqXG4gICAqIEByZXR1cm5zIHtSYW5nZXxudWxsfVxuICAgKi9cbiAgc3RhdGljIGdldCByYW5nZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRSYW5nZUZyb21TZWxlY3Rpb24odGhpcy5nZXQoKSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgcmFuZ2UgZnJvbSBwYXNzZWQgU2VsZWN0aW9uIG9iamVjdFxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0aW9uIC0gU2VsZWN0aW9uIG9iamVjdCB0byBnZXQgUmFuZ2UgZnJvbVxuICAgKi9cbiAgc3RhdGljIGdldFJhbmdlRnJvbVNlbGVjdGlvbihlKSB7XG4gICAgcmV0dXJuIGUgJiYgZS5yYW5nZUNvdW50ID8gZS5nZXRSYW5nZUF0KDApIDogbnVsbDtcbiAgfVxuICAvKipcbiAgICogQ2FsY3VsYXRlcyBwb3NpdGlvbiBhbmQgc2l6ZSBvZiBzZWxlY3RlZCB0ZXh0XG4gICAqXG4gICAqIEByZXR1cm5zIHtET01SZWN0IHwgQ2xpZW50UmVjdH1cbiAgICovXG4gIHN0YXRpYyBnZXQgcmVjdCgpIHtcbiAgICBsZXQgZSA9IGRvY3VtZW50LnNlbGVjdGlvbiwgdCwgbyA9IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgICAgd2lkdGg6IDAsXG4gICAgICBoZWlnaHQ6IDBcbiAgICB9O1xuICAgIGlmIChlICYmIGUudHlwZSAhPT0gXCJDb250cm9sXCIpXG4gICAgICByZXR1cm4gZSA9IGUsIHQgPSBlLmNyZWF0ZVJhbmdlKCksIG8ueCA9IHQuYm91bmRpbmdMZWZ0LCBvLnkgPSB0LmJvdW5kaW5nVG9wLCBvLndpZHRoID0gdC5ib3VuZGluZ1dpZHRoLCBvLmhlaWdodCA9IHQuYm91bmRpbmdIZWlnaHQsIG87XG4gICAgaWYgKCF3aW5kb3cuZ2V0U2VsZWN0aW9uKVxuICAgICAgcmV0dXJuIEwoXCJNZXRob2Qgd2luZG93LmdldFNlbGVjdGlvbiBpcyBub3Qgc3VwcG9ydGVkXCIsIFwid2FyblwiKSwgbztcbiAgICBpZiAoZSA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKSwgZS5yYW5nZUNvdW50ID09PSBudWxsIHx8IGlzTmFOKGUucmFuZ2VDb3VudCkpXG4gICAgICByZXR1cm4gTChcIk1ldGhvZCBTZWxlY3Rpb25VdGlscy5yYW5nZUNvdW50IGlzIG5vdCBzdXBwb3J0ZWRcIiwgXCJ3YXJuXCIpLCBvO1xuICAgIGlmIChlLnJhbmdlQ291bnQgPT09IDApXG4gICAgICByZXR1cm4gbztcbiAgICBpZiAodCA9IGUuZ2V0UmFuZ2VBdCgwKS5jbG9uZVJhbmdlKCksIHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0ICYmIChvID0gdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSksIG8ueCA9PT0gMCAmJiBvLnkgPT09IDApIHtcbiAgICAgIGNvbnN0IGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgIGlmIChpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCkge1xuICAgICAgICBpLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwi4oCLXCIpKSwgdC5pbnNlcnROb2RlKGkpLCBvID0gaS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3QgbiA9IGkucGFyZW50Tm9kZTtcbiAgICAgICAgbi5yZW1vdmVDaGlsZChpKSwgbi5ub3JtYWxpemUoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG87XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgc2VsZWN0ZWQgdGV4dCBhcyBTdHJpbmdcbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIHN0YXRpYyBnZXQgdGV4dCgpIHtcbiAgICByZXR1cm4gd2luZG93LmdldFNlbGVjdGlvbiA/IHdpbmRvdy5nZXRTZWxlY3Rpb24oKS50b1N0cmluZygpIDogXCJcIjtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB3aW5kb3cgU2VsZWN0aW9uVXRpbHNcbiAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL3J1L2RvY3MvV2ViL0FQSS9XaW5kb3cvZ2V0U2VsZWN0aW9ufVxuICAgKlxuICAgKiBAcmV0dXJucyB7U2VsZWN0aW9ufVxuICAgKi9cbiAgc3RhdGljIGdldCgpIHtcbiAgICByZXR1cm4gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgZm9jdXMgdG8gY29udGVudGVkaXRhYmxlIG9yIG5hdGl2ZSBpbnB1dCBlbGVtZW50XG4gICAqXG4gICAqIEBwYXJhbSBlbGVtZW50IC0gZWxlbWVudCB3aGVyZSB0byBzZXQgZm9jdXNcbiAgICogQHBhcmFtIG9mZnNldCAtIG9mZnNldCBvZiBjdXJzb3JcbiAgICovXG4gIHN0YXRpYyBzZXRDdXJzb3IoZSwgdCA9IDApIHtcbiAgICBjb25zdCBvID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSwgaSA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICByZXR1cm4gZC5pc05hdGl2ZUlucHV0KGUpID8gZC5jYW5TZXRDYXJldChlKSA/IChlLmZvY3VzKCksIGUuc2VsZWN0aW9uU3RhcnQgPSBlLnNlbGVjdGlvbkVuZCA9IHQsIGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpIDogdm9pZCAwIDogKG8uc2V0U3RhcnQoZSwgdCksIG8uc2V0RW5kKGUsIHQpLCBpLnJlbW92ZUFsbFJhbmdlcygpLCBpLmFkZFJhbmdlKG8pLCBvLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgY3VycmVudCByYW5nZSBleGlzdHMgYW5kIGJlbG9uZ3MgdG8gY29udGFpbmVyXG4gICAqXG4gICAqIEBwYXJhbSBjb250YWluZXIgLSB3aGVyZSByYW5nZSBzaG91bGQgYmVcbiAgICovXG4gIHN0YXRpYyBpc1JhbmdlSW5zaWRlQ29udGFpbmVyKGUpIHtcbiAgICBjb25zdCB0ID0gbS5yYW5nZTtcbiAgICByZXR1cm4gdCA9PT0gbnVsbCA/ICExIDogZS5jb250YWlucyh0LnN0YXJ0Q29udGFpbmVyKTtcbiAgfVxuICAvKipcbiAgICogQWRkcyBmYWtlIGN1cnNvciB0byB0aGUgY3VycmVudCByYW5nZVxuICAgKi9cbiAgc3RhdGljIGFkZEZha2VDdXJzb3IoKSB7XG4gICAgY29uc3QgZSA9IG0ucmFuZ2U7XG4gICAgaWYgKGUgPT09IG51bGwpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgdCA9IGQubWFrZShcInNwYW5cIiwgXCJjb2RleC1lZGl0b3JfX2Zha2UtY3Vyc29yXCIpO1xuICAgIHQuZGF0YXNldC5tdXRhdGlvbkZyZWUgPSBcInRydWVcIiwgZS5jb2xsYXBzZSgpLCBlLmluc2VydE5vZGUodCk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIHBhc3NlZCBlbGVtZW50IGNvbnRhaW5zIGEgZmFrZSBjdXJzb3JcbiAgICpcbiAgICogQHBhcmFtIGVsIC0gd2hlcmUgdG8gY2hlY2tcbiAgICovXG4gIHN0YXRpYyBpc0Zha2VDdXJzb3JJbnNpZGVDb250YWluZXIoZSkge1xuICAgIHJldHVybiBkLmZpbmQoZSwgXCIuY29kZXgtZWRpdG9yX19mYWtlLWN1cnNvclwiKSAhPT0gbnVsbDtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBmYWtlIGN1cnNvciBmcm9tIGEgY29udGFpbmVyXG4gICAqXG4gICAqIEBwYXJhbSBjb250YWluZXIgLSBjb250YWluZXIgdG8gbG9vayBmb3JcbiAgICovXG4gIHN0YXRpYyByZW1vdmVGYWtlQ3Vyc29yKGUgPSBkb2N1bWVudC5ib2R5KSB7XG4gICAgY29uc3QgdCA9IGQuZmluZChlLCBcIi5jb2RleC1lZGl0b3JfX2Zha2UtY3Vyc29yXCIpO1xuICAgIHQgJiYgdC5yZW1vdmUoKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBmYWtlIGJhY2tncm91bmRcbiAgICovXG4gIHJlbW92ZUZha2VCYWNrZ3JvdW5kKCkge1xuICAgIHRoaXMuaXNGYWtlQmFja2dyb3VuZEVuYWJsZWQgJiYgKHRoaXMuaXNGYWtlQmFja2dyb3VuZEVuYWJsZWQgPSAhMSwgZG9jdW1lbnQuZXhlY0NvbW1hbmQodGhpcy5jb21tYW5kUmVtb3ZlRm9ybWF0KSk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgZmFrZSBiYWNrZ3JvdW5kXG4gICAqL1xuICBzZXRGYWtlQmFja2dyb3VuZCgpIHtcbiAgICBkb2N1bWVudC5leGVjQ29tbWFuZCh0aGlzLmNvbW1hbmRCYWNrZ3JvdW5kLCAhMSwgXCIjYThkNmZmXCIpLCB0aGlzLmlzRmFrZUJhY2tncm91bmRFbmFibGVkID0gITA7XG4gIH1cbiAgLyoqXG4gICAqIFNhdmUgU2VsZWN0aW9uVXRpbHMncyByYW5nZVxuICAgKi9cbiAgc2F2ZSgpIHtcbiAgICB0aGlzLnNhdmVkU2VsZWN0aW9uUmFuZ2UgPSBtLnJhbmdlO1xuICB9XG4gIC8qKlxuICAgKiBSZXN0b3JlIHNhdmVkIFNlbGVjdGlvblV0aWxzJ3MgcmFuZ2VcbiAgICovXG4gIHJlc3RvcmUoKSB7XG4gICAgaWYgKCF0aGlzLnNhdmVkU2VsZWN0aW9uUmFuZ2UpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgZSA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICBlLnJlbW92ZUFsbFJhbmdlcygpLCBlLmFkZFJhbmdlKHRoaXMuc2F2ZWRTZWxlY3Rpb25SYW5nZSk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFycyBzYXZlZCBzZWxlY3Rpb25cbiAgICovXG4gIGNsZWFyU2F2ZWQoKSB7XG4gICAgdGhpcy5zYXZlZFNlbGVjdGlvblJhbmdlID0gbnVsbDtcbiAgfVxuICAvKipcbiAgICogQ29sbGFwc2UgY3VycmVudCBzZWxlY3Rpb25cbiAgICovXG4gIGNvbGxhcHNlVG9FbmQoKSB7XG4gICAgY29uc3QgZSA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKSwgdCA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgdC5zZWxlY3ROb2RlQ29udGVudHMoZS5mb2N1c05vZGUpLCB0LmNvbGxhcHNlKCExKSwgZS5yZW1vdmVBbGxSYW5nZXMoKSwgZS5hZGRSYW5nZSh0KTtcbiAgfVxuICAvKipcbiAgICogTG9va3MgYWhlYWQgdG8gZmluZCBwYXNzZWQgdGFnIGZyb20gY3VycmVudCBzZWxlY3Rpb25cbiAgICpcbiAgICogQHBhcmFtICB7c3RyaW5nfSB0YWdOYW1lICAgICAgIC0gdGFnIHRvIGZvdW5kXG4gICAqIEBwYXJhbSAge3N0cmluZ30gW2NsYXNzTmFtZV0gICAtIHRhZydzIGNsYXNzIG5hbWVcbiAgICogQHBhcmFtICB7bnVtYmVyfSBbc2VhcmNoRGVwdGhdIC0gY291bnQgb2YgdGFncyB0aGF0IGNhbiBiZSBpbmNsdWRlZC4gRm9yIGJldHRlciBwZXJmb3JtYW5jZS5cbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fG51bGx9XG4gICAqL1xuICBmaW5kUGFyZW50VGFnKGUsIHQsIG8gPSAxMCkge1xuICAgIGNvbnN0IGkgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgbGV0IG4gPSBudWxsO1xuICAgIHJldHVybiAhaSB8fCAhaS5hbmNob3JOb2RlIHx8ICFpLmZvY3VzTm9kZSA/IG51bGwgOiAoW1xuICAgICAgLyoqIHRoZSBOb2RlIGluIHdoaWNoIHRoZSBzZWxlY3Rpb24gYmVnaW5zICovXG4gICAgICBpLmFuY2hvck5vZGUsXG4gICAgICAvKiogdGhlIE5vZGUgaW4gd2hpY2ggdGhlIHNlbGVjdGlvbiBlbmRzICovXG4gICAgICBpLmZvY3VzTm9kZVxuICAgIF0uZm9yRWFjaCgoYSkgPT4ge1xuICAgICAgbGV0IGwgPSBvO1xuICAgICAgZm9yICg7IGwgPiAwICYmIGEucGFyZW50Tm9kZSAmJiAhKGEudGFnTmFtZSA9PT0gZSAmJiAobiA9IGEsIHQgJiYgYS5jbGFzc0xpc3QgJiYgIWEuY2xhc3NMaXN0LmNvbnRhaW5zKHQpICYmIChuID0gbnVsbCksIG4pKTsgKVxuICAgICAgICBhID0gYS5wYXJlbnROb2RlLCBsLS07XG4gICAgfSksIG4pO1xuICB9XG4gIC8qKlxuICAgKiBFeHBhbmRzIHNlbGVjdGlvbiByYW5nZSB0byB0aGUgcGFzc2VkIHBhcmVudCBub2RlXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBlbGVtZW50IHdoaWNoIGNvbnRlbnRzIHNob3VsZCBiZSBzZWxlY3RlZFxuICAgKi9cbiAgZXhwYW5kVG9UYWcoZSkge1xuICAgIGNvbnN0IHQgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgdC5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICBjb25zdCBvID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICBvLnNlbGVjdE5vZGVDb250ZW50cyhlKSwgdC5hZGRSYW5nZShvKTtcbiAgfVxufVxuZnVuY3Rpb24gWnQocywgZSkge1xuICBjb25zdCB7IHR5cGU6IHQsIHRhcmdldDogbywgYWRkZWROb2RlczogaSwgcmVtb3ZlZE5vZGVzOiBuIH0gPSBzO1xuICBpZiAobyA9PT0gZSlcbiAgICByZXR1cm4gITA7XG4gIGlmIChbXCJjaGFyYWN0ZXJEYXRhXCIsIFwiYXR0cmlidXRlc1wiXS5pbmNsdWRlcyh0KSkge1xuICAgIGNvbnN0IGwgPSBvLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSA/IG8ucGFyZW50Tm9kZSA6IG87XG4gICAgcmV0dXJuIGUuY29udGFpbnMobCk7XG4gIH1cbiAgY29uc3QgciA9IEFycmF5LmZyb20oaSkuc29tZSgobCkgPT4gZS5jb250YWlucyhsKSksIGEgPSBBcnJheS5mcm9tKG4pLnNvbWUoKGwpID0+IGUuY29udGFpbnMobCkpO1xuICByZXR1cm4gciB8fCBhO1xufVxuY29uc3QgTWUgPSBcInJlZGFjdG9yIGRvbSBjaGFuZ2VkXCIsIGN0ID0gXCJibG9jayBjaGFuZ2VkXCIsIGR0ID0gXCJmYWtlIGN1cnNvciBpcyBhYm91dCB0byBiZSB0b2dnbGVkXCIsIGh0ID0gXCJmYWtlIGN1cnNvciBoYXZlIGJlZW4gc2V0XCI7XG5mdW5jdGlvbiBKZShzLCBlKSB7XG4gIHJldHVybiBzLm1lcmdlYWJsZSAmJiBzLm5hbWUgPT09IGUubmFtZTtcbn1cbmZ1bmN0aW9uIEd0KHMsIGUpIHtcbiAgY29uc3QgdCA9IGUgPT0gbnVsbCA/IHZvaWQgMCA6IGUuZXhwb3J0O1xuICByZXR1cm4gRCh0KSA/IHQocykgOiBKKHQpID8gc1t0XSA6ICh0ICE9PSB2b2lkIDAgJiYgTChcIkNvbnZlcnNpb24gwqtleHBvcnTCuyBwcm9wZXJ0eSBtdXN0IGJlIGEgc3RyaW5nIG9yIGZ1bmN0aW9uLiBTdHJpbmcgbWVhbnMga2V5IG9mIHNhdmVkIGRhdGEgb2JqZWN0IHRvIGV4cG9ydC4gRnVuY3Rpb24gc2hvdWxkIGV4cG9ydCBwcm9jZXNzZWQgc3RyaW5nIHRvIGV4cG9ydC5cIiksIFwiXCIpO1xufVxuZnVuY3Rpb24gSnQocywgZSkge1xuICBjb25zdCB0ID0gZSA9PSBudWxsID8gdm9pZCAwIDogZS5pbXBvcnQ7XG4gIHJldHVybiBEKHQpID8gdChzKSA6IEoodCkgPyB7XG4gICAgW3RdOiBzXG4gIH0gOiAodCAhPT0gdm9pZCAwICYmIEwoXCJDb252ZXJzaW9uIMKraW1wb3J0wrsgcHJvcGVydHkgbXVzdCBiZSBhIHN0cmluZyBvciBmdW5jdGlvbi4gU3RyaW5nIG1lYW5zIGtleSBvZiB0b29sIGRhdGEgdG8gaW1wb3J0LiBGdW5jdGlvbiBhY2NlcHRzIGEgaW1wb3J0ZWQgc3RyaW5nIGFuZCByZXR1cm4gY29tcG9zZWQgdG9vbCBkYXRhLlwiKSwge30pO1xufVxudmFyIHEgPSAvKiBAX19QVVJFX18gKi8gKChzKSA9PiAocy5BUFBFTkRfQ0FMTEJBQ0sgPSBcImFwcGVuZENhbGxiYWNrXCIsIHMuUkVOREVSRUQgPSBcInJlbmRlcmVkXCIsIHMuTU9WRUQgPSBcIm1vdmVkXCIsIHMuVVBEQVRFRCA9IFwidXBkYXRlZFwiLCBzLlJFTU9WRUQgPSBcInJlbW92ZWRcIiwgcy5PTl9QQVNURSA9IFwib25QYXN0ZVwiLCBzKSkocSB8fCB7fSk7XG5jbGFzcyBGIGV4dGVuZHMgd2Uge1xuICAvKipcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBibG9jayBjb25zdHJ1Y3RvciBvcHRpb25zXG4gICAqIEBwYXJhbSBbb3B0aW9ucy5pZF0gLSBibG9jaydzIGlkLiBXaWxsIGJlIGdlbmVyYXRlZCBpZiBvbWl0dGVkLlxuICAgKiBAcGFyYW0gb3B0aW9ucy5kYXRhIC0gVG9vbCdzIGluaXRpYWwgZGF0YVxuICAgKiBAcGFyYW0gb3B0aW9ucy50b29sIOKAlCBibG9jaydzIHRvb2xcbiAgICogQHBhcmFtIG9wdGlvbnMuYXBpIC0gRWRpdG9yIEFQSSBtb2R1bGUgZm9yIHBhc3MgaXQgdG8gdGhlIEJsb2NrIFR1bmVzXG4gICAqIEBwYXJhbSBvcHRpb25zLnJlYWRPbmx5IC0gUmVhZC1Pbmx5IGZsYWdcbiAgICogQHBhcmFtIFtldmVudEJ1c10gLSBFZGl0b3IgY29tbW9uIGV2ZW50IGJ1cy4gQWxsb3dzIHRvIHN1YnNjcmliZSBvbiBzb21lIEVkaXRvciBldmVudHMuIENvdWxkIGJlIG9taXR0ZWQgd2hlbiBcInZpcnR1YWxcIiBCbG9jayBpcyBjcmVhdGVkLiBTZWUgQmxvY2tzQVBJQGNvbXBvc2VCbG9ja0RhdGEuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgaWQ6IGUgPSBVdCgpLFxuICAgIGRhdGE6IHQsXG4gICAgdG9vbDogbyxcbiAgICBhcGk6IGksXG4gICAgcmVhZE9ubHk6IG4sXG4gICAgdHVuZXNEYXRhOiByXG4gIH0sIGEpIHtcbiAgICBzdXBlcigpLCB0aGlzLmNhY2hlZElucHV0cyA9IFtdLCB0aGlzLnRvb2xSZW5kZXJlZEVsZW1lbnQgPSBudWxsLCB0aGlzLnR1bmVzSW5zdGFuY2VzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSwgdGhpcy5kZWZhdWx0VHVuZXNJbnN0YW5jZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLCB0aGlzLnVuYXZhaWxhYmxlVHVuZXNEYXRhID0ge30sIHRoaXMuaW5wdXRJbmRleCA9IDAsIHRoaXMuZWRpdG9yRXZlbnRCdXMgPSBudWxsLCB0aGlzLmhhbmRsZUZvY3VzID0gKCkgPT4ge1xuICAgICAgdGhpcy5kcm9wSW5wdXRzQ2FjaGUoKSwgdGhpcy51cGRhdGVDdXJyZW50SW5wdXQoKTtcbiAgICB9LCB0aGlzLmRpZE11dGF0ZWQgPSAobCA9IHZvaWQgMCkgPT4ge1xuICAgICAgY29uc3QgYyA9IGwgPT09IHZvaWQgMCwgdSA9IGwgaW5zdGFuY2VvZiBJbnB1dEV2ZW50O1xuICAgICAgIWMgJiYgIXUgJiYgdGhpcy5kZXRlY3RUb29sUm9vdENoYW5nZShsKTtcbiAgICAgIGxldCBoO1xuICAgICAgYyB8fCB1ID8gaCA9ICEwIDogaCA9ICEobC5sZW5ndGggPiAwICYmIGwuZXZlcnkoKGspID0+IHtcbiAgICAgICAgY29uc3QgeyBhZGRlZE5vZGVzOiBwLCByZW1vdmVkTm9kZXM6IHYsIHRhcmdldDogQSB9ID0gaztcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAuLi5BcnJheS5mcm9tKHApLFxuICAgICAgICAgIC4uLkFycmF5LmZyb20odiksXG4gICAgICAgICAgQVxuICAgICAgICBdLnNvbWUoKF8pID0+IGQuaXNFbGVtZW50KF8pID8gXy5kYXRhc2V0Lm11dGF0aW9uRnJlZSA9PT0gXCJ0cnVlXCIgOiAhMSk7XG4gICAgICB9KSksIGggJiYgKHRoaXMuZHJvcElucHV0c0NhY2hlKCksIHRoaXMudXBkYXRlQ3VycmVudElucHV0KCksIHRoaXMuY2FsbChcbiAgICAgICAgXCJ1cGRhdGVkXCJcbiAgICAgICAgLyogVVBEQVRFRCAqL1xuICAgICAgKSwgdGhpcy5lbWl0KFwiZGlkTXV0YXRlZFwiLCB0aGlzKSk7XG4gICAgfSwgdGhpcy5uYW1lID0gby5uYW1lLCB0aGlzLmlkID0gZSwgdGhpcy5zZXR0aW5ncyA9IG8uc2V0dGluZ3MsIHRoaXMuY29uZmlnID0gby5zZXR0aW5ncy5jb25maWcgfHwge30sIHRoaXMuYXBpID0gaSwgdGhpcy5lZGl0b3JFdmVudEJ1cyA9IGEgfHwgbnVsbCwgdGhpcy5ibG9ja0FQSSA9IG5ldyBlZSh0aGlzKSwgdGhpcy50b29sID0gbywgdGhpcy50b29sSW5zdGFuY2UgPSBvLmNyZWF0ZSh0LCB0aGlzLmJsb2NrQVBJLCBuKSwgdGhpcy50dW5lcyA9IG8udHVuZXMsIHRoaXMuY29tcG9zZVR1bmVzKHIpLCB0aGlzLmhvbGRlciA9IHRoaXMuY29tcG9zZSgpLCB3aW5kb3cucmVxdWVzdElkbGVDYWxsYmFjaygoKSA9PiB7XG4gICAgICB0aGlzLndhdGNoQmxvY2tNdXRhdGlvbnMoKSwgdGhpcy5hZGRJbnB1dEV2ZW50cygpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDU1MgY2xhc3NlcyBmb3IgdGhlIEJsb2NrXG4gICAqXG4gICAqIEByZXR1cm5zIHt7d3JhcHBlcjogc3RyaW5nLCBjb250ZW50OiBzdHJpbmd9fVxuICAgKi9cbiAgc3RhdGljIGdldCBDU1MoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdyYXBwZXI6IFwiY2UtYmxvY2tcIixcbiAgICAgIHdyYXBwZXJTdHJldGNoZWQ6IFwiY2UtYmxvY2stLXN0cmV0Y2hlZFwiLFxuICAgICAgY29udGVudDogXCJjZS1ibG9ja19fY29udGVudFwiLFxuICAgICAgZm9jdXNlZDogXCJjZS1ibG9jay0tZm9jdXNlZFwiLFxuICAgICAgc2VsZWN0ZWQ6IFwiY2UtYmxvY2stLXNlbGVjdGVkXCIsXG4gICAgICBkcm9wVGFyZ2V0OiBcImNlLWJsb2NrLS1kcm9wLXRhcmdldFwiXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogRmluZCBhbmQgcmV0dXJuIGFsbCBlZGl0YWJsZSBlbGVtZW50cyAoY29udGVudGVkaXRhYmxlIGFuZCBuYXRpdmUgaW5wdXRzKSBpbiB0aGUgVG9vbCBIVE1MXG4gICAqXG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudFtdfVxuICAgKi9cbiAgZ2V0IGlucHV0cygpIHtcbiAgICBpZiAodGhpcy5jYWNoZWRJbnB1dHMubGVuZ3RoICE9PSAwKVxuICAgICAgcmV0dXJuIHRoaXMuY2FjaGVkSW5wdXRzO1xuICAgIGNvbnN0IGUgPSBkLmZpbmRBbGxJbnB1dHModGhpcy5ob2xkZXIpO1xuICAgIHJldHVybiB0aGlzLmlucHV0SW5kZXggPiBlLmxlbmd0aCAtIDEgJiYgKHRoaXMuaW5wdXRJbmRleCA9IGUubGVuZ3RoIC0gMSksIHRoaXMuY2FjaGVkSW5wdXRzID0gZSwgZTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGN1cnJlbnQgVG9vbGBzIGlucHV0XG4gICAqXG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cbiAgICovXG4gIGdldCBjdXJyZW50SW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5wdXRzW3RoaXMuaW5wdXRJbmRleF07XG4gIH1cbiAgLyoqXG4gICAqIFNldCBpbnB1dCBpbmRleCB0byB0aGUgcGFzc2VkIGVsZW1lbnRcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudCB8IE5vZGV9IGVsZW1lbnQgLSBIVE1MIEVsZW1lbnQgdG8gc2V0IGFzIGN1cnJlbnQgaW5wdXRcbiAgICovXG4gIHNldCBjdXJyZW50SW5wdXQoZSkge1xuICAgIGNvbnN0IHQgPSB0aGlzLmlucHV0cy5maW5kSW5kZXgoKG8pID0+IG8gPT09IGUgfHwgby5jb250YWlucyhlKSk7XG4gICAgdCAhPT0gLTEgJiYgKHRoaXMuaW5wdXRJbmRleCA9IHQpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gZmlyc3QgVG9vbGBzIGlucHV0XG4gICAqXG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cbiAgICovXG4gIGdldCBmaXJzdElucHV0KCkge1xuICAgIHJldHVybiB0aGlzLmlucHV0c1swXTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGZpcnN0IFRvb2xgcyBpbnB1dFxuICAgKlxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAqL1xuICBnZXQgbGFzdElucHV0KCkge1xuICAgIGNvbnN0IGUgPSB0aGlzLmlucHV0cztcbiAgICByZXR1cm4gZVtlLmxlbmd0aCAtIDFdO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gbmV4dCBUb29sYHMgaW5wdXQgb3IgdW5kZWZpbmVkIGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICpcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgKi9cbiAgZ2V0IG5leHRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5pbnB1dHNbdGhpcy5pbnB1dEluZGV4ICsgMV07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBwcmV2aW91cyBUb29sYHMgaW5wdXQgb3IgdW5kZWZpbmVkIGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICpcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgKi9cbiAgZ2V0IHByZXZpb3VzSW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5wdXRzW3RoaXMuaW5wdXRJbmRleCAtIDFdO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgQmxvY2sncyBKU09OIGRhdGFcbiAgICpcbiAgICogQHJldHVybnMge29iamVjdH1cbiAgICovXG4gIGdldCBkYXRhKCkge1xuICAgIHJldHVybiB0aGlzLnNhdmUoKS50aGVuKChlKSA9PiBlICYmICFWKGUuZGF0YSkgPyBlLmRhdGEgOiB7fSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdG9vbCdzIHNhbml0aXplciBjb25maWdcbiAgICpcbiAgICogQHJldHVybnMge29iamVjdH1cbiAgICovXG4gIGdldCBzYW5pdGl6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy50b29sLnNhbml0aXplQ29uZmlnO1xuICB9XG4gIC8qKlxuICAgKiBpcyBibG9jayBtZXJnZWFibGVcbiAgICogV2UgcGx1Z2luIGhhdmUgbWVyZ2UgZnVuY3Rpb24gdGhlbiB3ZSBjYWxsIGl0IG1lcmdlYWJsZVxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBtZXJnZWFibGUoKSB7XG4gICAgcmV0dXJuIEQodGhpcy50b29sSW5zdGFuY2UubWVyZ2UpO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBibG9jayBmb3IgZW1wdGluZXNzXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgZ2V0IGlzRW1wdHkoKSB7XG4gICAgY29uc3QgZSA9IGQuaXNFbXB0eSh0aGlzLnBsdWdpbnNDb250ZW50KSwgdCA9ICF0aGlzLmhhc01lZGlhO1xuICAgIHJldHVybiBlICYmIHQ7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIGJsb2NrIGhhcyBhIG1lZGlhIGNvbnRlbnQgc3VjaCBhcyBpbWFnZXMsIGlmcmFtZSBhbmQgb3RoZXJcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBnZXQgaGFzTWVkaWEoKSB7XG4gICAgY29uc3QgZSA9IFtcbiAgICAgIFwiaW1nXCIsXG4gICAgICBcImlmcmFtZVwiLFxuICAgICAgXCJ2aWRlb1wiLFxuICAgICAgXCJhdWRpb1wiLFxuICAgICAgXCJzb3VyY2VcIixcbiAgICAgIFwiaW5wdXRcIixcbiAgICAgIFwidGV4dGFyZWFcIixcbiAgICAgIFwidHdpdHRlcndpZGdldFwiXG4gICAgXTtcbiAgICByZXR1cm4gISF0aGlzLmhvbGRlci5xdWVyeVNlbGVjdG9yKGUuam9pbihcIixcIikpO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgZm9jdXNlZCBzdGF0ZVxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHN0YXRlIC0gJ3RydWUnIHRvIHNlbGVjdCwgJ2ZhbHNlJyB0byByZW1vdmUgc2VsZWN0aW9uXG4gICAqL1xuICBzZXQgZm9jdXNlZChlKSB7XG4gICAgdGhpcy5ob2xkZXIuY2xhc3NMaXN0LnRvZ2dsZShGLkNTUy5mb2N1c2VkLCBlKTtcbiAgfVxuICAvKipcbiAgICogR2V0IEJsb2NrJ3MgZm9jdXNlZCBzdGF0ZVxuICAgKi9cbiAgZ2V0IGZvY3VzZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaG9sZGVyLmNsYXNzTGlzdC5jb250YWlucyhGLkNTUy5mb2N1c2VkKTtcbiAgfVxuICAvKipcbiAgICogU2V0IHNlbGVjdGVkIHN0YXRlXG4gICAqIFdlIGRvbid0IG5lZWQgdG8gbWFyayBCbG9jayBhcyBTZWxlY3RlZCB3aGVuIGl0IGlzIGVtcHR5XG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc3RhdGUgLSAndHJ1ZScgdG8gc2VsZWN0LCAnZmFsc2UnIHRvIHJlbW92ZSBzZWxlY3Rpb25cbiAgICovXG4gIHNldCBzZWxlY3RlZChlKSB7XG4gICAgdmFyIGksIG47XG4gICAgdGhpcy5ob2xkZXIuY2xhc3NMaXN0LnRvZ2dsZShGLkNTUy5zZWxlY3RlZCwgZSk7XG4gICAgY29uc3QgdCA9IGUgPT09ICEwICYmIG0uaXNSYW5nZUluc2lkZUNvbnRhaW5lcih0aGlzLmhvbGRlciksIG8gPSBlID09PSAhMSAmJiBtLmlzRmFrZUN1cnNvckluc2lkZUNvbnRhaW5lcih0aGlzLmhvbGRlcik7XG4gICAgKHQgfHwgbykgJiYgKChpID0gdGhpcy5lZGl0b3JFdmVudEJ1cykgPT0gbnVsbCB8fCBpLmVtaXQoZHQsIHsgc3RhdGU6IGUgfSksIHQgPyBtLmFkZEZha2VDdXJzb3IoKSA6IG0ucmVtb3ZlRmFrZUN1cnNvcih0aGlzLmhvbGRlciksIChuID0gdGhpcy5lZGl0b3JFdmVudEJ1cykgPT0gbnVsbCB8fCBuLmVtaXQoaHQsIHsgc3RhdGU6IGUgfSkpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIFRydWUgaWYgaXQgaXMgU2VsZWN0ZWRcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBnZXQgc2VsZWN0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaG9sZGVyLmNsYXNzTGlzdC5jb250YWlucyhGLkNTUy5zZWxlY3RlZCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldCBzdHJldGNoZWQgc3RhdGVcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBzdGF0ZSAtICd0cnVlJyB0byBlbmFibGUsICdmYWxzZScgdG8gZGlzYWJsZSBzdHJldGNoZWQgc3RhdGVcbiAgICovXG4gIHNldCBzdHJldGNoZWQoZSkge1xuICAgIHRoaXMuaG9sZGVyLmNsYXNzTGlzdC50b2dnbGUoRi5DU1Mud3JhcHBlclN0cmV0Y2hlZCwgZSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBCbG9jaydzIHN0cmV0Y2hlZCBzdGF0ZVxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBzdHJldGNoZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaG9sZGVyLmNsYXNzTGlzdC5jb250YWlucyhGLkNTUy53cmFwcGVyU3RyZXRjaGVkKTtcbiAgfVxuICAvKipcbiAgICogVG9nZ2xlIGRyb3AgdGFyZ2V0IHN0YXRlXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc3RhdGUgLSAndHJ1ZScgaWYgYmxvY2sgaXMgZHJvcCB0YXJnZXQsIGZhbHNlIG90aGVyd2lzZVxuICAgKi9cbiAgc2V0IGRyb3BUYXJnZXQoZSkge1xuICAgIHRoaXMuaG9sZGVyLmNsYXNzTGlzdC50b2dnbGUoRi5DU1MuZHJvcFRhcmdldCwgZSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgUGx1Z2lucyBjb250ZW50XG4gICAqXG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cbiAgICovXG4gIGdldCBwbHVnaW5zQ29udGVudCgpIHtcbiAgICByZXR1cm4gdGhpcy50b29sUmVuZGVyZWRFbGVtZW50O1xuICB9XG4gIC8qKlxuICAgKiBDYWxscyBUb29sJ3MgbWV0aG9kXG4gICAqXG4gICAqIE1ldGhvZCBjaGVja3MgdG9vbCBwcm9wZXJ0eSB7TWV0aG9kTmFtZX0uIEZpcmVzIG1ldGhvZCB3aXRoIHBhc3NlcyBwYXJhbXMgSWYgaXQgaXMgaW5zdGFuY2Ugb2YgRnVuY3Rpb25cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgLSBtZXRob2QgdG8gY2FsbFxuICAgKiBAcGFyYW0ge29iamVjdH0gcGFyYW1zIC0gbWV0aG9kIGFyZ3VtZW50XG4gICAqL1xuICBjYWxsKGUsIHQpIHtcbiAgICBpZiAoRCh0aGlzLnRvb2xJbnN0YW5jZVtlXSkpIHtcbiAgICAgIGUgPT09IFwiYXBwZW5kQ2FsbGJhY2tcIiAmJiBMKFxuICAgICAgICBcImBhcHBlbmRDYWxsYmFja2AgaG9vayBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS4gVXNlIGByZW5kZXJlZGAgaG9vayBpbnN0ZWFkXCIsXG4gICAgICAgIFwid2FyblwiXG4gICAgICApO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy50b29sSW5zdGFuY2VbZV0uY2FsbCh0aGlzLnRvb2xJbnN0YW5jZSwgdCk7XG4gICAgICB9IGNhdGNoIChvKSB7XG4gICAgICAgIEwoYEVycm9yIGR1cmluZyAnJHtlfScgY2FsbDogJHtvLm1lc3NhZ2V9YCwgXCJlcnJvclwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENhbGwgcGx1Z2lucyBtZXJnZSBtZXRob2RcbiAgICpcbiAgICogQHBhcmFtIHtCbG9ja1Rvb2xEYXRhfSBkYXRhIC0gZGF0YSB0byBtZXJnZVxuICAgKi9cbiAgYXN5bmMgbWVyZ2VXaXRoKGUpIHtcbiAgICBhd2FpdCB0aGlzLnRvb2xJbnN0YW5jZS5tZXJnZShlKTtcbiAgfVxuICAvKipcbiAgICogRXh0cmFjdHMgZGF0YSBmcm9tIEJsb2NrXG4gICAqIEdyb3VwcyBUb29sJ3Mgc2F2ZSBwcm9jZXNzaW5nIHRpbWVcbiAgICpcbiAgICogQHJldHVybnMge29iamVjdH1cbiAgICovXG4gIGFzeW5jIHNhdmUoKSB7XG4gICAgY29uc3QgZSA9IGF3YWl0IHRoaXMudG9vbEluc3RhbmNlLnNhdmUodGhpcy5wbHVnaW5zQ29udGVudCksIHQgPSB0aGlzLnVuYXZhaWxhYmxlVHVuZXNEYXRhO1xuICAgIFtcbiAgICAgIC4uLnRoaXMudHVuZXNJbnN0YW5jZXMuZW50cmllcygpLFxuICAgICAgLi4udGhpcy5kZWZhdWx0VHVuZXNJbnN0YW5jZXMuZW50cmllcygpXG4gICAgXS5mb3JFYWNoKChbbiwgcl0pID0+IHtcbiAgICAgIGlmIChEKHIuc2F2ZSkpXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdFtuXSA9IHIuc2F2ZSgpO1xuICAgICAgICB9IGNhdGNoIChhKSB7XG4gICAgICAgICAgTChgVHVuZSAke3IuY29uc3RydWN0b3IubmFtZX0gc2F2ZSBtZXRob2QgdGhyb3dzIGFuIEVycm9yICVvYCwgXCJ3YXJuXCIsIGEpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgbyA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICBsZXQgaTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGUpLnRoZW4oKG4pID0+IChpID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpLCB7XG4gICAgICBpZDogdGhpcy5pZCxcbiAgICAgIHRvb2w6IHRoaXMubmFtZSxcbiAgICAgIGRhdGE6IG4sXG4gICAgICB0dW5lczogdCxcbiAgICAgIHRpbWU6IGkgLSBvXG4gICAgfSkpLmNhdGNoKChuKSA9PiB7XG4gICAgICBMKGBTYXZpbmcgcHJvY2VzcyBmb3IgJHt0aGlzLm5hbWV9IHRvb2wgZmFpbGVkIGR1ZSB0byB0aGUgJHtufWAsIFwibG9nXCIsIFwicmVkXCIpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBVc2VzIFRvb2wncyB2YWxpZGF0aW9uIG1ldGhvZCB0byBjaGVjayB0aGUgY29ycmVjdG5lc3Mgb2Ygb3V0cHV0IGRhdGFcbiAgICogVG9vbCdzIHZhbGlkYXRpb24gbWV0aG9kIGlzIG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgcmV0dXJucyB0cnVlfGZhbHNlIHdoZXRoZXIgZGF0YSBwYXNzZWQgdGhlIHZhbGlkYXRpb24gb3Igbm90XG4gICAqIEBwYXJhbSB7QmxvY2tUb29sRGF0YX0gZGF0YSAtIGRhdGEgdG8gdmFsaWRhdGVcbiAgICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59IHZhbGlkXG4gICAqL1xuICBhc3luYyB2YWxpZGF0ZShlKSB7XG4gICAgbGV0IHQgPSAhMDtcbiAgICByZXR1cm4gdGhpcy50b29sSW5zdGFuY2UudmFsaWRhdGUgaW5zdGFuY2VvZiBGdW5jdGlvbiAmJiAodCA9IGF3YWl0IHRoaXMudG9vbEluc3RhbmNlLnZhbGlkYXRlKGUpKSwgdDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBkYXRhIHRvIHJlbmRlciBpbiB0dW5lcyBtZW51LlxuICAgKiBTcGxpdHMgYmxvY2sgdHVuZXMgc2V0dGluZ3MgaW50byAyIGdyb3VwczogcG9wb3ZlciBpdGVtcyBhbmQgY3VzdG9tIGh0bWwuXG4gICAqL1xuICBnZXRUdW5lcygpIHtcbiAgICBjb25zdCBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSwgdCA9IFtdLCBvID0gdHlwZW9mIHRoaXMudG9vbEluc3RhbmNlLnJlbmRlclNldHRpbmdzID09IFwiZnVuY3Rpb25cIiA/IHRoaXMudG9vbEluc3RhbmNlLnJlbmRlclNldHRpbmdzKCkgOiBbXSwgaSA9IFtcbiAgICAgIC4uLnRoaXMudHVuZXNJbnN0YW5jZXMudmFsdWVzKCksXG4gICAgICAuLi50aGlzLmRlZmF1bHRUdW5lc0luc3RhbmNlcy52YWx1ZXMoKVxuICAgIF0ubWFwKChuKSA9PiBuLnJlbmRlcigpKTtcbiAgICByZXR1cm4gW28sIGldLmZsYXQoKS5mb3JFYWNoKChuKSA9PiB7XG4gICAgICBkLmlzRWxlbWVudChuKSA/IGUuYXBwZW5kQ2hpbGQobikgOiBBcnJheS5pc0FycmF5KG4pID8gdC5wdXNoKC4uLm4pIDogdC5wdXNoKG4pO1xuICAgIH0pLCBbdCwgZV07XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZSBjdXJyZW50IGlucHV0IGluZGV4IHdpdGggc2VsZWN0aW9uIGFuY2hvciBub2RlXG4gICAqL1xuICB1cGRhdGVDdXJyZW50SW5wdXQoKSB7XG4gICAgdGhpcy5jdXJyZW50SW5wdXQgPSBkLmlzTmF0aXZlSW5wdXQoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkgfHwgIW0uYW5jaG9yTm9kZSA/IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgOiBtLmFuY2hvck5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIEFsbG93cyB0byBzYXkgRWRpdG9yIHRoYXQgQmxvY2sgd2FzIGNoYW5nZWQuIFVzZWQgdG8gbWFudWFsbHkgdHJpZ2dlciBFZGl0b3IncyAnb25DaGFuZ2UnIGNhbGxiYWNrXG4gICAqIENhbiBiZSB1c2VmdWwgZm9yIGJsb2NrIGNoYW5nZXMgaW52aXNpYmxlIGZvciBlZGl0b3IgY29yZS5cbiAgICovXG4gIGRpc3BhdGNoQ2hhbmdlKCkge1xuICAgIHRoaXMuZGlkTXV0YXRlZCgpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsIFRvb2wgaW5zdGFuY2UgZGVzdHJveSBtZXRob2RcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy51bndhdGNoQmxvY2tNdXRhdGlvbnMoKSwgdGhpcy5yZW1vdmVJbnB1dEV2ZW50cygpLCBzdXBlci5kZXN0cm95KCksIEQodGhpcy50b29sSW5zdGFuY2UuZGVzdHJveSkgJiYgdGhpcy50b29sSW5zdGFuY2UuZGVzdHJveSgpO1xuICB9XG4gIC8qKlxuICAgKiBUb29sIGNvdWxkIHNwZWNpZnkgc2V2ZXJhbCBlbnRyaWVzIHRvIGJlIGRpc3BsYXllZCBhdCB0aGUgVG9vbGJveCAoZm9yIGV4YW1wbGUsIFwiSGVhZGluZyAxXCIsIFwiSGVhZGluZyAyXCIsIFwiSGVhZGluZyAzXCIpXG4gICAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGVudHJ5IHRoYXQgaXMgcmVsYXRlZCB0byB0aGUgQmxvY2sgKGRlcGVuZGVkIG9uIHRoZSBCbG9jayBkYXRhKVxuICAgKi9cbiAgYXN5bmMgZ2V0QWN0aXZlVG9vbGJveEVudHJ5KCkge1xuICAgIGNvbnN0IGUgPSB0aGlzLnRvb2wudG9vbGJveDtcbiAgICBpZiAoZS5sZW5ndGggPT09IDEpXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMudG9vbC50b29sYm94WzBdKTtcbiAgICBjb25zdCB0ID0gYXdhaXQgdGhpcy5kYXRhO1xuICAgIHJldHVybiBlLmZpbmQoKGkpID0+IE9iamVjdC5lbnRyaWVzKGkuZGF0YSkuc29tZSgoW24sIHJdKSA9PiB0W25dICYmIFl0KHRbbl0sIHIpKSk7XG4gIH1cbiAgLyoqXG4gICAqIEV4cG9ydHMgQmxvY2sgZGF0YSBhcyBzdHJpbmcgdXNpbmcgY29udmVyc2lvbiBjb25maWdcbiAgICovXG4gIGFzeW5jIGV4cG9ydERhdGFBc1N0cmluZygpIHtcbiAgICBjb25zdCBlID0gYXdhaXQgdGhpcy5kYXRhO1xuICAgIHJldHVybiBHdChlLCB0aGlzLnRvb2wuY29udmVyc2lvbkNvbmZpZyk7XG4gIH1cbiAgLyoqXG4gICAqIE1ha2UgZGVmYXVsdCBCbG9jayB3cmFwcGVycyBhbmQgcHV0IFRvb2xgcyBjb250ZW50IHRoZXJlXG4gICAqXG4gICAqIEByZXR1cm5zIHtIVE1MRGl2RWxlbWVudH1cbiAgICovXG4gIGNvbXBvc2UoKSB7XG4gICAgY29uc3QgZSA9IGQubWFrZShcImRpdlwiLCBGLkNTUy53cmFwcGVyKSwgdCA9IGQubWFrZShcImRpdlwiLCBGLkNTUy5jb250ZW50KSwgbyA9IHRoaXMudG9vbEluc3RhbmNlLnJlbmRlcigpO1xuICAgIGUuZGF0YXNldC5pZCA9IHRoaXMuaWQsIHRoaXMudG9vbFJlbmRlcmVkRWxlbWVudCA9IG8sIHQuYXBwZW5kQ2hpbGQodGhpcy50b29sUmVuZGVyZWRFbGVtZW50KTtcbiAgICBsZXQgaSA9IHQ7XG4gICAgcmV0dXJuIFsuLi50aGlzLnR1bmVzSW5zdGFuY2VzLnZhbHVlcygpLCAuLi50aGlzLmRlZmF1bHRUdW5lc0luc3RhbmNlcy52YWx1ZXMoKV0uZm9yRWFjaCgobikgPT4ge1xuICAgICAgaWYgKEQobi53cmFwKSlcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpID0gbi53cmFwKGkpO1xuICAgICAgICB9IGNhdGNoIChyKSB7XG4gICAgICAgICAgTChgVHVuZSAke24uY29uc3RydWN0b3IubmFtZX0gd3JhcCBtZXRob2QgdGhyb3dzIGFuIEVycm9yICVvYCwgXCJ3YXJuXCIsIHIpO1xuICAgICAgICB9XG4gICAgfSksIGUuYXBwZW5kQ2hpbGQoaSksIGU7XG4gIH1cbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIEJsb2NrIFR1bmVzXG4gICAqXG4gICAqIEBwYXJhbSB0dW5lc0RhdGEgLSBjdXJyZW50IEJsb2NrIHR1bmVzIGRhdGFcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNvbXBvc2VUdW5lcyhlKSB7XG4gICAgQXJyYXkuZnJvbSh0aGlzLnR1bmVzLnZhbHVlcygpKS5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICAodC5pc0ludGVybmFsID8gdGhpcy5kZWZhdWx0VHVuZXNJbnN0YW5jZXMgOiB0aGlzLnR1bmVzSW5zdGFuY2VzKS5zZXQodC5uYW1lLCB0LmNyZWF0ZShlW3QubmFtZV0sIHRoaXMuYmxvY2tBUEkpKTtcbiAgICB9KSwgT2JqZWN0LmVudHJpZXMoZSkuZm9yRWFjaCgoW3QsIG9dKSA9PiB7XG4gICAgICB0aGlzLnR1bmVzSW5zdGFuY2VzLmhhcyh0KSB8fCAodGhpcy51bmF2YWlsYWJsZVR1bmVzRGF0YVt0XSA9IG8pO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBBZGRzIGZvY3VzIGV2ZW50IGxpc3RlbmVycyB0byBhbGwgaW5wdXRzIGFuZCBjb250ZW50ZWRpdGFibGVcbiAgICovXG4gIGFkZElucHV0RXZlbnRzKCkge1xuICAgIHRoaXMuaW5wdXRzLmZvckVhY2goKGUpID0+IHtcbiAgICAgIGUuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsIHRoaXMuaGFuZGxlRm9jdXMpLCBkLmlzTmF0aXZlSW5wdXQoZSkgJiYgZS5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgdGhpcy5kaWRNdXRhdGVkKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogcmVtb3ZlcyBmb2N1cyBldmVudCBsaXN0ZW5lcnMgZnJvbSBhbGwgaW5wdXRzIGFuZCBjb250ZW50ZWRpdGFibGVcbiAgICovXG4gIHJlbW92ZUlucHV0RXZlbnRzKCkge1xuICAgIHRoaXMuaW5wdXRzLmZvckVhY2goKGUpID0+IHtcbiAgICAgIGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsIHRoaXMuaGFuZGxlRm9jdXMpLCBkLmlzTmF0aXZlSW5wdXQoZSkgJiYgZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgdGhpcy5kaWRNdXRhdGVkKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogTGlzdGVuIGNvbW1vbiBlZGl0b3IgRG9tIENoYW5nZWQgZXZlbnQgYW5kIGRldGVjdCBtdXRhdGlvbnMgcmVsYXRlZCB0byB0aGUgIEJsb2NrXG4gICAqL1xuICB3YXRjaEJsb2NrTXV0YXRpb25zKCkge1xuICAgIHZhciBlO1xuICAgIHRoaXMucmVkYWN0b3JEb21DaGFuZ2VkQ2FsbGJhY2sgPSAodCkgPT4ge1xuICAgICAgY29uc3QgeyBtdXRhdGlvbnM6IG8gfSA9IHQ7XG4gICAgICBvLnNvbWUoKG4pID0+IFp0KG4sIHRoaXMudG9vbFJlbmRlcmVkRWxlbWVudCkpICYmIHRoaXMuZGlkTXV0YXRlZChvKTtcbiAgICB9LCAoZSA9IHRoaXMuZWRpdG9yRXZlbnRCdXMpID09IG51bGwgfHwgZS5vbihNZSwgdGhpcy5yZWRhY3RvckRvbUNoYW5nZWRDYWxsYmFjayk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZSByZWRhY3RvciBkb20gY2hhbmdlIGV2ZW50IGxpc3RlbmVyXG4gICAqL1xuICB1bndhdGNoQmxvY2tNdXRhdGlvbnMoKSB7XG4gICAgdmFyIGU7XG4gICAgKGUgPSB0aGlzLmVkaXRvckV2ZW50QnVzKSA9PSBudWxsIHx8IGUub2ZmKE1lLCB0aGlzLnJlZGFjdG9yRG9tQ2hhbmdlZENhbGxiYWNrKTtcbiAgfVxuICAvKipcbiAgICogU29tZXRpbWVzIFRvb2wgY2FuIHJlcGxhY2Ugb3duIG1haW4gZWxlbWVudCwgZm9yIGV4YW1wbGUgSDIgLT4gSDQgb3IgVUwgLT4gT0xcbiAgICogV2UgbmVlZCB0byBkZXRlY3Qgc3VjaCBjaGFuZ2VzIGFuZCB1cGRhdGUgYSBsaW5rIHRvIHRvb2xzIG1haW4gZWxlbWVudCB3aXRoIHRoZSBuZXcgb25lXG4gICAqXG4gICAqIEBwYXJhbSBtdXRhdGlvbnMgLSByZWNvcmRzIG9mIGJsb2NrIGNvbnRlbnQgbXV0YXRpb25zXG4gICAqL1xuICBkZXRlY3RUb29sUm9vdENoYW5nZShlKSB7XG4gICAgZS5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICBpZiAoQXJyYXkuZnJvbSh0LnJlbW92ZWROb2RlcykuaW5jbHVkZXModGhpcy50b29sUmVuZGVyZWRFbGVtZW50KSkge1xuICAgICAgICBjb25zdCBpID0gdC5hZGRlZE5vZGVzW3QuYWRkZWROb2Rlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgdGhpcy50b29sUmVuZGVyZWRFbGVtZW50ID0gaTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQ2xlYXJzIGlucHV0cyBjYWNoZWQgdmFsdWVcbiAgICovXG4gIGRyb3BJbnB1dHNDYWNoZSgpIHtcbiAgICB0aGlzLmNhY2hlZElucHV0cyA9IFtdO1xuICB9XG59XG5jbGFzcyBRdCBleHRlbmRzIEMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLmluc2VydCA9IChlID0gdGhpcy5jb25maWcuZGVmYXVsdEJsb2NrLCB0ID0ge30sIG8gPSB7fSwgaSwgbiwgciwgYSkgPT4ge1xuICAgICAgY29uc3QgbCA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5pbnNlcnQoe1xuICAgICAgICBpZDogYSxcbiAgICAgICAgdG9vbDogZSxcbiAgICAgICAgZGF0YTogdCxcbiAgICAgICAgaW5kZXg6IGksXG4gICAgICAgIG5lZWRUb0ZvY3VzOiBuLFxuICAgICAgICByZXBsYWNlOiByXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXcgZWUobCk7XG4gICAgfSwgdGhpcy5jb21wb3NlQmxvY2tEYXRhID0gYXN5bmMgKGUpID0+IHtcbiAgICAgIGNvbnN0IHQgPSB0aGlzLkVkaXRvci5Ub29scy5ibG9ja1Rvb2xzLmdldChlKTtcbiAgICAgIHJldHVybiBuZXcgRih7XG4gICAgICAgIHRvb2w6IHQsXG4gICAgICAgIGFwaTogdGhpcy5FZGl0b3IuQVBJLFxuICAgICAgICByZWFkT25seTogITAsXG4gICAgICAgIGRhdGE6IHt9LFxuICAgICAgICB0dW5lc0RhdGE6IHt9XG4gICAgICB9KS5kYXRhO1xuICAgIH0sIHRoaXMudXBkYXRlID0gYXN5bmMgKGUsIHQpID0+IHtcbiAgICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiBvIH0gPSB0aGlzLkVkaXRvciwgaSA9IG8uZ2V0QmxvY2tCeUlkKGUpO1xuICAgICAgaWYgKGkgPT09IHZvaWQgMClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBCbG9jayB3aXRoIGlkIFwiJHtlfVwiIG5vdCBmb3VuZGApO1xuICAgICAgY29uc3QgbiA9IGF3YWl0IG8udXBkYXRlKGksIHQpO1xuICAgICAgcmV0dXJuIG5ldyBlZShuKTtcbiAgICB9LCB0aGlzLmNvbnZlcnQgPSAoZSwgdCwgbykgPT4ge1xuICAgICAgdmFyIGgsIGY7XG4gICAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogaSwgVG9vbHM6IG4gfSA9IHRoaXMuRWRpdG9yLCByID0gaS5nZXRCbG9ja0J5SWQoZSk7XG4gICAgICBpZiAoIXIpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQmxvY2sgd2l0aCBpZCBcIiR7ZX1cIiBub3QgZm91bmRgKTtcbiAgICAgIGNvbnN0IGEgPSBuLmJsb2NrVG9vbHMuZ2V0KHIubmFtZSksIGwgPSBuLmJsb2NrVG9vbHMuZ2V0KHQpO1xuICAgICAgaWYgKCFsKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEJsb2NrIFRvb2wgd2l0aCB0eXBlIFwiJHt0fVwiIG5vdCBmb3VuZGApO1xuICAgICAgY29uc3QgYyA9ICgoaCA9IGEgPT0gbnVsbCA/IHZvaWQgMCA6IGEuY29udmVyc2lvbkNvbmZpZykgPT0gbnVsbCA/IHZvaWQgMCA6IGguZXhwb3J0KSAhPT0gdm9pZCAwLCB1ID0gKChmID0gbC5jb252ZXJzaW9uQ29uZmlnKSA9PSBudWxsID8gdm9pZCAwIDogZi5pbXBvcnQpICE9PSB2b2lkIDA7XG4gICAgICBpZiAoYyAmJiB1KVxuICAgICAgICBpLmNvbnZlcnQociwgdCwgbyk7XG4gICAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgayA9IFtcbiAgICAgICAgICBjID8gITEgOiBhZShyLm5hbWUpLFxuICAgICAgICAgIHUgPyAhMSA6IGFlKHQpXG4gICAgICAgIF0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCIgYW5kIFwiKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb252ZXJzaW9uIGZyb20gXCIke3IubmFtZX1cIiB0byBcIiR7dH1cIiBpcyBub3QgcG9zc2libGUuICR7a30gdG9vbChzKSBzaG91bGQgcHJvdmlkZSBhIFwiY29udmVyc2lvbkNvbmZpZ1wiYCk7XG4gICAgICB9XG4gICAgfSwgdGhpcy5pbnNlcnRNYW55ID0gKGUsIHQgPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuYmxvY2tzLmxlbmd0aCAtIDEpID0+IHtcbiAgICAgIHRoaXMudmFsaWRhdGVJbmRleCh0KTtcbiAgICAgIGNvbnN0IG8gPSBlLm1hcCgoeyBpZDogaSwgdHlwZTogbiwgZGF0YTogciB9KSA9PiB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY29tcG9zZUJsb2NrKHtcbiAgICAgICAgaWQ6IGksXG4gICAgICAgIHRvb2w6IG4gfHwgdGhpcy5jb25maWcuZGVmYXVsdEJsb2NrLFxuICAgICAgICBkYXRhOiByXG4gICAgICB9KSk7XG4gICAgICByZXR1cm4gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmluc2VydE1hbnkobywgdCksIG8ubWFwKChpKSA9PiBuZXcgZWUoaSkpO1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEF2YWlsYWJsZSBtZXRob2RzXG4gICAqXG4gICAqIEByZXR1cm5zIHtCbG9ja3N9XG4gICAqL1xuICBnZXQgbWV0aG9kcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY2xlYXI6ICgpID0+IHRoaXMuY2xlYXIoKSxcbiAgICAgIHJlbmRlcjogKGUpID0+IHRoaXMucmVuZGVyKGUpLFxuICAgICAgcmVuZGVyRnJvbUhUTUw6IChlKSA9PiB0aGlzLnJlbmRlckZyb21IVE1MKGUpLFxuICAgICAgZGVsZXRlOiAoZSkgPT4gdGhpcy5kZWxldGUoZSksXG4gICAgICBzd2FwOiAoZSwgdCkgPT4gdGhpcy5zd2FwKGUsIHQpLFxuICAgICAgbW92ZTogKGUsIHQpID0+IHRoaXMubW92ZShlLCB0KSxcbiAgICAgIGdldEJsb2NrQnlJbmRleDogKGUpID0+IHRoaXMuZ2V0QmxvY2tCeUluZGV4KGUpLFxuICAgICAgZ2V0QnlJZDogKGUpID0+IHRoaXMuZ2V0QnlJZChlKSxcbiAgICAgIGdldEN1cnJlbnRCbG9ja0luZGV4OiAoKSA9PiB0aGlzLmdldEN1cnJlbnRCbG9ja0luZGV4KCksXG4gICAgICBnZXRCbG9ja0luZGV4OiAoZSkgPT4gdGhpcy5nZXRCbG9ja0luZGV4KGUpLFxuICAgICAgZ2V0QmxvY2tzQ291bnQ6ICgpID0+IHRoaXMuZ2V0QmxvY2tzQ291bnQoKSxcbiAgICAgIHN0cmV0Y2hCbG9jazogKGUsIHQgPSAhMCkgPT4gdGhpcy5zdHJldGNoQmxvY2soZSwgdCksXG4gICAgICBpbnNlcnROZXdCbG9jazogKCkgPT4gdGhpcy5pbnNlcnROZXdCbG9jaygpLFxuICAgICAgaW5zZXJ0OiB0aGlzLmluc2VydCxcbiAgICAgIGluc2VydE1hbnk6IHRoaXMuaW5zZXJ0TWFueSxcbiAgICAgIHVwZGF0ZTogdGhpcy51cGRhdGUsXG4gICAgICBjb21wb3NlQmxvY2tEYXRhOiB0aGlzLmNvbXBvc2VCbG9ja0RhdGEsXG4gICAgICBjb252ZXJ0OiB0aGlzLmNvbnZlcnRcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIEJsb2NrcyBjb3VudFxuICAgKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0QmxvY2tzQ291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5ibG9ja3MubGVuZ3RoO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGN1cnJlbnQgYmxvY2sgaW5kZXhcbiAgICpcbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG4gIGdldEN1cnJlbnRCbG9ja0luZGV4KCkge1xuICAgIHJldHVybiB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrSW5kZXg7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGluZGV4IG9mIEJsb2NrIGJ5IGlkO1xuICAgKlxuICAgKiBAcGFyYW0gaWQgLSBibG9jayBpZFxuICAgKi9cbiAgZ2V0QmxvY2tJbmRleChlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5nZXRCbG9ja0J5SWQoZSk7XG4gICAgaWYgKCF0KSB7XG4gICAgICBLKFwiVGhlcmUgaXMgbm8gYmxvY2sgd2l0aCBpZCBgXCIgKyBlICsgXCJgXCIsIFwid2FyblwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5nZXRCbG9ja0luZGV4KHQpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIEJsb2NrQVBJIG9iamVjdCBieSBCbG9jayBpbmRleFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBpbmRleCB0byBnZXRcbiAgICovXG4gIGdldEJsb2NrQnlJbmRleChlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5nZXRCbG9ja0J5SW5kZXgoZSk7XG4gICAgaWYgKHQgPT09IHZvaWQgMCkge1xuICAgICAgSyhcIlRoZXJlIGlzIG5vIGJsb2NrIGF0IGluZGV4IGBcIiArIGUgKyBcImBcIiwgXCJ3YXJuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IGVlKHQpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIEJsb2NrQVBJIG9iamVjdCBieSBCbG9jayBpZFxuICAgKlxuICAgKiBAcGFyYW0gaWQgLSBpZCBvZiBibG9jayB0byBnZXRcbiAgICovXG4gIGdldEJ5SWQoZSkge1xuICAgIGNvbnN0IHQgPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuZ2V0QmxvY2tCeUlkKGUpO1xuICAgIHJldHVybiB0ID09PSB2b2lkIDAgPyAoSyhcIlRoZXJlIGlzIG5vIGJsb2NrIHdpdGggaWQgYFwiICsgZSArIFwiYFwiLCBcIndhcm5cIiksIG51bGwpIDogbmV3IGVlKHQpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsIEJsb2NrIE1hbmFnZXIgbWV0aG9kIHRoYXQgc3dhcCBCbG9ja3NcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCAtIHBvc2l0aW9uIG9mIGZpcnN0IEJsb2NrXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0b0luZGV4IC0gcG9zaXRpb24gb2Ygc2Vjb25kIEJsb2NrXG4gICAqIEBkZXByZWNhdGVkIOKAlCB1c2UgJ21vdmUnIGluc3RlYWRcbiAgICovXG4gIHN3YXAoZSwgdCkge1xuICAgIEwoXG4gICAgICBcImBibG9ja3Muc3dhcCgpYCBtZXRob2QgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuIFVzZSBgYmxvY2subW92ZSgpYCBtZXRob2QgaW5zdGVhZFwiLFxuICAgICAgXCJpbmZvXCJcbiAgICApLCB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuc3dhcChlLCB0KTtcbiAgfVxuICAvKipcbiAgICogTW92ZSBibG9jayBmcm9tIG9uZSBpbmRleCB0byBhbm90aGVyXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0b0luZGV4IC0gaW5kZXggdG8gbW92ZSB0b1xuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IC0gaW5kZXggdG8gbW92ZSBmcm9tXG4gICAqL1xuICBtb3ZlKGUsIHQpIHtcbiAgICB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIubW92ZShlLCB0KTtcbiAgfVxuICAvKipcbiAgICogRGVsZXRlcyBCbG9ja1xuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gYmxvY2tJbmRleCAtIGluZGV4IG9mIEJsb2NrIHRvIGRlbGV0ZVxuICAgKi9cbiAgZGVsZXRlKGUgPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrSW5kZXgpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdCA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5nZXRCbG9ja0J5SW5kZXgoZSk7XG4gICAgICB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIucmVtb3ZlQmxvY2sodCk7XG4gICAgfSBjYXRjaCAodCkge1xuICAgICAgSyh0LCBcIndhcm5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5ibG9ja3MubGVuZ3RoID09PSAwICYmIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5pbnNlcnQoKSwgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9jayAmJiB0aGlzLkVkaXRvci5DYXJldC5zZXRUb0Jsb2NrKHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2ssIHRoaXMuRWRpdG9yLkNhcmV0LnBvc2l0aW9ucy5FTkQpLCB0aGlzLkVkaXRvci5Ub29sYmFyLmNsb3NlKCk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFyIEVkaXRvcidzIGFyZWFcbiAgICovXG4gIGFzeW5jIGNsZWFyKCkge1xuICAgIGF3YWl0IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jbGVhcighMCksIHRoaXMuRWRpdG9yLklubGluZVRvb2xiYXIuY2xvc2UoKTtcbiAgfVxuICAvKipcbiAgICogRmlsbHMgRWRpdG9yIHdpdGggQmxvY2tzIGRhdGFcbiAgICpcbiAgICogQHBhcmFtIHtPdXRwdXREYXRhfSBkYXRhIOKAlCBTYXZlZCBFZGl0b3IgZGF0YVxuICAgKi9cbiAgYXN5bmMgcmVuZGVyKGUpIHtcbiAgICBpZiAoZSA9PT0gdm9pZCAwIHx8IGUuYmxvY2tzID09PSB2b2lkIDApXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbmNvcnJlY3QgZGF0YSBwYXNzZWQgdG8gdGhlIHJlbmRlcigpIG1ldGhvZFwiKTtcbiAgICB0aGlzLkVkaXRvci5Nb2RpZmljYXRpb25zT2JzZXJ2ZXIuZGlzYWJsZSgpLCBhd2FpdCB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY2xlYXIoKSwgYXdhaXQgdGhpcy5FZGl0b3IuUmVuZGVyZXIucmVuZGVyKGUuYmxvY2tzKSwgdGhpcy5FZGl0b3IuTW9kaWZpY2F0aW9uc09ic2VydmVyLmVuYWJsZSgpO1xuICB9XG4gIC8qKlxuICAgKiBSZW5kZXIgcGFzc2VkIEhUTUwgc3RyaW5nXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhIC0gSFRNTCBzdHJpbmcgdG8gcmVuZGVyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgKi9cbiAgcmVuZGVyRnJvbUhUTUwoZSkge1xuICAgIHJldHVybiB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY2xlYXIoKSwgdGhpcy5FZGl0b3IuUGFzdGUucHJvY2Vzc1RleHQoZSwgITApO1xuICB9XG4gIC8qKlxuICAgKiBTdHJldGNoIEJsb2NrJ3MgY29udGVudFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBpbmRleCBvZiBCbG9jayB0byBzdHJldGNoXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc3RhdHVzIC0gdHJ1ZSB0byBlbmFibGUsIGZhbHNlIHRvIGRpc2FibGVcbiAgICogQGRlcHJlY2F0ZWQgVXNlIEJsb2NrQVBJIGludGVyZmFjZSB0byBzdHJldGNoIEJsb2Nrc1xuICAgKi9cbiAgc3RyZXRjaEJsb2NrKGUsIHQgPSAhMCkge1xuICAgIEllKFxuICAgICAgITAsXG4gICAgICBcImJsb2Nrcy5zdHJldGNoQmxvY2soKVwiLFxuICAgICAgXCJCbG9ja0FQSVwiXG4gICAgKTtcbiAgICBjb25zdCBvID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmdldEJsb2NrQnlJbmRleChlKTtcbiAgICBvICYmIChvLnN0cmV0Y2hlZCA9IHQpO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnQgbmV3IEJsb2NrXG4gICAqIEFmdGVyIHNldCBjYXJldCB0byB0aGlzIEJsb2NrXG4gICAqXG4gICAqIEB0b2RvIHJlbW92ZSBpbiAzLjAuMFxuICAgKiBAZGVwcmVjYXRlZCB3aXRoIGluc2VydCgpIG1ldGhvZFxuICAgKi9cbiAgaW5zZXJ0TmV3QmxvY2soKSB7XG4gICAgTChcIk1ldGhvZCBibG9ja3MuaW5zZXJ0TmV3QmxvY2soKSBpcyBkZXByZWNhdGVkIGFuZCBpdCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS4gVXNlIGJsb2Nrcy5pbnNlcnQoKSBpbnN0ZWFkLlwiLCBcIndhcm5cIiksIHRoaXMuaW5zZXJ0KCk7XG4gIH1cbiAgLyoqXG4gICAqIFZhbGlkYXRlZCBibG9jayBpbmRleCBhbmQgdGhyb3dzIGFuIGVycm9yIGlmIGl0J3MgaW52YWxpZFxuICAgKlxuICAgKiBAcGFyYW0gaW5kZXggLSBpbmRleCB0byB2YWxpZGF0ZVxuICAgKi9cbiAgdmFsaWRhdGVJbmRleChlKSB7XG4gICAgaWYgKHR5cGVvZiBlICE9IFwibnVtYmVyXCIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbmRleCBzaG91bGQgYmUgYSBudW1iZXJcIik7XG4gICAgaWYgKGUgPCAwKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW5kZXggc2hvdWxkIGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAwXCIpO1xuICAgIGlmIChlID09PSBudWxsKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW5kZXggc2hvdWxkIGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAwXCIpO1xuICB9XG59XG5jbGFzcyBlbyBleHRlbmRzIEMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLnNldFRvRmlyc3RCbG9jayA9IChlID0gdGhpcy5FZGl0b3IuQ2FyZXQucG9zaXRpb25zLkRFRkFVTFQsIHQgPSAwKSA9PiB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuZmlyc3RCbG9jayA/ICh0aGlzLkVkaXRvci5DYXJldC5zZXRUb0Jsb2NrKHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5maXJzdEJsb2NrLCBlLCB0KSwgITApIDogITEsIHRoaXMuc2V0VG9MYXN0QmxvY2sgPSAoZSA9IHRoaXMuRWRpdG9yLkNhcmV0LnBvc2l0aW9ucy5ERUZBVUxULCB0ID0gMCkgPT4gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmxhc3RCbG9jayA/ICh0aGlzLkVkaXRvci5DYXJldC5zZXRUb0Jsb2NrKHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5sYXN0QmxvY2ssIGUsIHQpLCAhMCkgOiAhMSwgdGhpcy5zZXRUb1ByZXZpb3VzQmxvY2sgPSAoZSA9IHRoaXMuRWRpdG9yLkNhcmV0LnBvc2l0aW9ucy5ERUZBVUxULCB0ID0gMCkgPT4gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLnByZXZpb3VzQmxvY2sgPyAodGhpcy5FZGl0b3IuQ2FyZXQuc2V0VG9CbG9jayh0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIucHJldmlvdXNCbG9jaywgZSwgdCksICEwKSA6ICExLCB0aGlzLnNldFRvTmV4dEJsb2NrID0gKGUgPSB0aGlzLkVkaXRvci5DYXJldC5wb3NpdGlvbnMuREVGQVVMVCwgdCA9IDApID0+IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5uZXh0QmxvY2sgPyAodGhpcy5FZGl0b3IuQ2FyZXQuc2V0VG9CbG9jayh0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIubmV4dEJsb2NrLCBlLCB0KSwgITApIDogITEsIHRoaXMuc2V0VG9CbG9jayA9IChlLCB0ID0gdGhpcy5FZGl0b3IuQ2FyZXQucG9zaXRpb25zLkRFRkFVTFQsIG8gPSAwKSA9PiB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuYmxvY2tzW2VdID8gKHRoaXMuRWRpdG9yLkNhcmV0LnNldFRvQmxvY2sodGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmJsb2Nrc1tlXSwgdCwgbyksICEwKSA6ICExLCB0aGlzLmZvY3VzID0gKGUgPSAhMSkgPT4gZSA/IHRoaXMuc2V0VG9MYXN0QmxvY2sodGhpcy5FZGl0b3IuQ2FyZXQucG9zaXRpb25zLkVORCkgOiB0aGlzLnNldFRvRmlyc3RCbG9jayh0aGlzLkVkaXRvci5DYXJldC5wb3NpdGlvbnMuU1RBUlQpO1xuICB9XG4gIC8qKlxuICAgKiBBdmFpbGFibGUgbWV0aG9kc1xuICAgKlxuICAgKiBAcmV0dXJucyB7Q2FyZXR9XG4gICAqL1xuICBnZXQgbWV0aG9kcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2V0VG9GaXJzdEJsb2NrOiB0aGlzLnNldFRvRmlyc3RCbG9jayxcbiAgICAgIHNldFRvTGFzdEJsb2NrOiB0aGlzLnNldFRvTGFzdEJsb2NrLFxuICAgICAgc2V0VG9QcmV2aW91c0Jsb2NrOiB0aGlzLnNldFRvUHJldmlvdXNCbG9jayxcbiAgICAgIHNldFRvTmV4dEJsb2NrOiB0aGlzLnNldFRvTmV4dEJsb2NrLFxuICAgICAgc2V0VG9CbG9jazogdGhpcy5zZXRUb0Jsb2NrLFxuICAgICAgZm9jdXM6IHRoaXMuZm9jdXNcbiAgICB9O1xuICB9XG59XG5jbGFzcyB0byBleHRlbmRzIEMge1xuICAvKipcbiAgICogQXZhaWxhYmxlIG1ldGhvZHNcbiAgICpcbiAgICogQHJldHVybnMge0V2ZW50c31cbiAgICovXG4gIGdldCBtZXRob2RzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBlbWl0OiAoZSwgdCkgPT4gdGhpcy5lbWl0KGUsIHQpLFxuICAgICAgb2ZmOiAoZSwgdCkgPT4gdGhpcy5vZmYoZSwgdCksXG4gICAgICBvbjogKGUsIHQpID0+IHRoaXMub24oZSwgdClcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgb24gRXZlbnRzXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgLSBldmVudCBuYW1lIHRvIHN1YnNjcmliZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIGV2ZW50IGhhbmRsZXJcbiAgICovXG4gIG9uKGUsIHQpIHtcbiAgICB0aGlzLmV2ZW50c0Rpc3BhdGNoZXIub24oZSwgdCk7XG4gIH1cbiAgLyoqXG4gICAqIEVtaXQgZXZlbnQgd2l0aCBkYXRhXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgLSBldmVudCB0byBlbWl0XG4gICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIC0gZXZlbnQncyBkYXRhXG4gICAqL1xuICBlbWl0KGUsIHQpIHtcbiAgICB0aGlzLmV2ZW50c0Rpc3BhdGNoZXIuZW1pdChlLCB0KTtcbiAgfVxuICAvKipcbiAgICogVW5zdWJzY3JpYmUgZnJvbSBFdmVudFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIC0gZXZlbnQgdG8gdW5zdWJzY3JpYmVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBldmVudCBoYW5kbGVyXG4gICAqL1xuICBvZmYoZSwgdCkge1xuICAgIHRoaXMuZXZlbnRzRGlzcGF0Y2hlci5vZmYoZSwgdCk7XG4gIH1cbn1cbmNsYXNzIFBlIGV4dGVuZHMgQyB7XG4gIC8qKlxuICAgKiBSZXR1cm4gbmFtZXNwYWNlIHNlY3Rpb24gZm9yIHRvb2wgb3IgYmxvY2sgdHVuZVxuICAgKlxuICAgKiBAcGFyYW0gdG9vbCAtIHRvb2wgb2JqZWN0XG4gICAqL1xuICBzdGF0aWMgZ2V0TmFtZXNwYWNlKGUpIHtcbiAgICByZXR1cm4gZS5pc1R1bmUoKSA/IGBibG9ja1R1bmVzLiR7ZS5uYW1lfWAgOiBgdG9vbHMuJHtlLm5hbWV9YDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIEkxOG4gQVBJIG1ldGhvZHMgd2l0aCBnbG9iYWwgZGljdGlvbmFyeSBhY2Nlc3NcbiAgICovXG4gIGdldCBtZXRob2RzKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0OiAoKSA9PiB7XG4gICAgICAgIEsoXCJJMThuLnQoKSBtZXRob2QgY2FuIGJlIGFjY2Vzc2VkIG9ubHkgZnJvbSBUb29sc1wiLCBcIndhcm5cIik7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIEkxOG4gQVBJIG1ldGhvZHMgd2l0aCB0b29sIG5hbWVzcGFjZWQgZGljdGlvbmFyeVxuICAgKlxuICAgKiBAcGFyYW0gdG9vbCAtIFRvb2wgb2JqZWN0XG4gICAqL1xuICBnZXRNZXRob2RzRm9yVG9vbChlKSB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oXG4gICAgICB0aGlzLm1ldGhvZHMsXG4gICAgICB7XG4gICAgICAgIHQ6ICh0KSA9PiAkLnQoUGUuZ2V0TmFtZXNwYWNlKGUpLCB0KVxuICAgICAgfVxuICAgICk7XG4gIH1cbn1cbmNsYXNzIG9vIGV4dGVuZHMgQyB7XG4gIC8qKlxuICAgKiBFZGl0b3IuanMgQ29yZSBBUEkgbW9kdWxlc1xuICAgKi9cbiAgZ2V0IG1ldGhvZHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJsb2NrczogdGhpcy5FZGl0b3IuQmxvY2tzQVBJLm1ldGhvZHMsXG4gICAgICBjYXJldDogdGhpcy5FZGl0b3IuQ2FyZXRBUEkubWV0aG9kcyxcbiAgICAgIGV2ZW50czogdGhpcy5FZGl0b3IuRXZlbnRzQVBJLm1ldGhvZHMsXG4gICAgICBsaXN0ZW5lcnM6IHRoaXMuRWRpdG9yLkxpc3RlbmVyc0FQSS5tZXRob2RzLFxuICAgICAgbm90aWZpZXI6IHRoaXMuRWRpdG9yLk5vdGlmaWVyQVBJLm1ldGhvZHMsXG4gICAgICBzYW5pdGl6ZXI6IHRoaXMuRWRpdG9yLlNhbml0aXplckFQSS5tZXRob2RzLFxuICAgICAgc2F2ZXI6IHRoaXMuRWRpdG9yLlNhdmVyQVBJLm1ldGhvZHMsXG4gICAgICBzZWxlY3Rpb246IHRoaXMuRWRpdG9yLlNlbGVjdGlvbkFQSS5tZXRob2RzLFxuICAgICAgc3R5bGVzOiB0aGlzLkVkaXRvci5TdHlsZXNBUEkuY2xhc3NlcyxcbiAgICAgIHRvb2xiYXI6IHRoaXMuRWRpdG9yLlRvb2xiYXJBUEkubWV0aG9kcyxcbiAgICAgIGlubGluZVRvb2xiYXI6IHRoaXMuRWRpdG9yLklubGluZVRvb2xiYXJBUEkubWV0aG9kcyxcbiAgICAgIHRvb2x0aXA6IHRoaXMuRWRpdG9yLlRvb2x0aXBBUEkubWV0aG9kcyxcbiAgICAgIGkxOG46IHRoaXMuRWRpdG9yLkkxOG5BUEkubWV0aG9kcyxcbiAgICAgIHJlYWRPbmx5OiB0aGlzLkVkaXRvci5SZWFkT25seUFQSS5tZXRob2RzLFxuICAgICAgdWk6IHRoaXMuRWRpdG9yLlVpQVBJLm1ldGhvZHNcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIEVkaXRvci5qcyBDb3JlIEFQSSBtZXRob2RzIGZvciBwYXNzZWQgdG9vbFxuICAgKlxuICAgKiBAcGFyYW0gdG9vbCAtIHRvb2wgb2JqZWN0XG4gICAqL1xuICBnZXRNZXRob2RzRm9yVG9vbChlKSB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oXG4gICAgICB0aGlzLm1ldGhvZHMsXG4gICAgICB7XG4gICAgICAgIGkxOG46IHRoaXMuRWRpdG9yLkkxOG5BUEkuZ2V0TWV0aG9kc0ZvclRvb2woZSlcbiAgICAgIH1cbiAgICApO1xuICB9XG59XG5jbGFzcyBpbyBleHRlbmRzIEMge1xuICAvKipcbiAgICogQXZhaWxhYmxlIG1ldGhvZHNcbiAgICpcbiAgICogQHJldHVybnMge0lubGluZVRvb2xiYXJ9XG4gICAqL1xuICBnZXQgbWV0aG9kcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY2xvc2U6ICgpID0+IHRoaXMuY2xvc2UoKSxcbiAgICAgIG9wZW46ICgpID0+IHRoaXMub3BlbigpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogT3BlbiBJbmxpbmUgVG9vbGJhclxuICAgKi9cbiAgb3BlbigpIHtcbiAgICB0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyLnRyeVRvU2hvdygpO1xuICB9XG4gIC8qKlxuICAgKiBDbG9zZSBJbmxpbmUgVG9vbGJhclxuICAgKi9cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5FZGl0b3IuSW5saW5lVG9vbGJhci5jbG9zZSgpO1xuICB9XG59XG5jbGFzcyBubyBleHRlbmRzIEMge1xuICAvKipcbiAgICogQXZhaWxhYmxlIG1ldGhvZHNcbiAgICpcbiAgICogQHJldHVybnMge0xpc3RlbmVyc31cbiAgICovXG4gIGdldCBtZXRob2RzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBvbjogKGUsIHQsIG8sIGkpID0+IHRoaXMub24oZSwgdCwgbywgaSksXG4gICAgICBvZmY6IChlLCB0LCBvLCBpKSA9PiB0aGlzLm9mZihlLCB0LCBvLCBpKSxcbiAgICAgIG9mZkJ5SWQ6IChlKSA9PiB0aGlzLm9mZkJ5SWQoZSlcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBBZHMgYSBET00gZXZlbnQgbGlzdGVuZXIuIFJldHVybiBpdCdzIGlkLlxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gRWxlbWVudCB0byBzZXQgaGFuZGxlciB0b1xuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlIC0gZXZlbnQgdHlwZVxuICAgKiBAcGFyYW0geygpID0+IHZvaWR9IGhhbmRsZXIgLSBldmVudCBoYW5kbGVyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gdXNlQ2FwdHVyZSAtIGNhcHR1cmUgZXZlbnQgb3Igbm90XG4gICAqL1xuICBvbihlLCB0LCBvLCBpKSB7XG4gICAgcmV0dXJuIHRoaXMubGlzdGVuZXJzLm9uKGUsIHQsIG8sIGkpO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmVzIERPTSBsaXN0ZW5lciBmcm9tIGVsZW1lbnRcbiAgICpcbiAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gRWxlbWVudCB0byByZW1vdmUgaGFuZGxlciBmcm9tXG4gICAqIEBwYXJhbSBldmVudFR5cGUgLSBldmVudCB0eXBlXG4gICAqIEBwYXJhbSBoYW5kbGVyIC0gZXZlbnQgaGFuZGxlclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHVzZUNhcHR1cmUgLSBjYXB0dXJlIGV2ZW50IG9yIG5vdFxuICAgKi9cbiAgb2ZmKGUsIHQsIG8sIGkpIHtcbiAgICB0aGlzLmxpc3RlbmVycy5vZmYoZSwgdCwgbywgaSk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZXMgRE9NIGxpc3RlbmVyIGJ5IHRoZSBsaXN0ZW5lciBpZFxuICAgKlxuICAgKiBAcGFyYW0gaWQgLSBpZCBvZiB0aGUgbGlzdGVuZXIgdG8gcmVtb3ZlXG4gICAqL1xuICBvZmZCeUlkKGUpIHtcbiAgICB0aGlzLmxpc3RlbmVycy5vZmZCeUlkKGUpO1xuICB9XG59XG52YXIgTGUgPSB7fSwgc28gPSB7XG4gIGdldCBleHBvcnRzKCkge1xuICAgIHJldHVybiBMZTtcbiAgfSxcbiAgc2V0IGV4cG9ydHMocykge1xuICAgIExlID0gcztcbiAgfVxufTtcbihmdW5jdGlvbihzLCBlKSB7XG4gIChmdW5jdGlvbih0LCBvKSB7XG4gICAgcy5leHBvcnRzID0gbygpO1xuICB9KSh3aW5kb3csIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgICB2YXIgbyA9IHt9O1xuICAgICAgZnVuY3Rpb24gaShuKSB7XG4gICAgICAgIGlmIChvW25dKVxuICAgICAgICAgIHJldHVybiBvW25dLmV4cG9ydHM7XG4gICAgICAgIHZhciByID0gb1tuXSA9IHsgaTogbiwgbDogITEsIGV4cG9ydHM6IHt9IH07XG4gICAgICAgIHJldHVybiB0W25dLmNhbGwoci5leHBvcnRzLCByLCByLmV4cG9ydHMsIGkpLCByLmwgPSAhMCwgci5leHBvcnRzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGkubSA9IHQsIGkuYyA9IG8sIGkuZCA9IGZ1bmN0aW9uKG4sIHIsIGEpIHtcbiAgICAgICAgaS5vKG4sIHIpIHx8IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCByLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGEgfSk7XG4gICAgICB9LCBpLnIgPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIHR5cGVvZiBTeW1ib2wgPCBcInVcIiAmJiBTeW1ib2wudG9TdHJpbmdUYWcgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogXCJNb2R1bGVcIiB9KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KTtcbiAgICAgIH0sIGkudCA9IGZ1bmN0aW9uKG4sIHIpIHtcbiAgICAgICAgaWYgKDEgJiByICYmIChuID0gaShuKSksIDggJiByIHx8IDQgJiByICYmIHR5cGVvZiBuID09IFwib2JqZWN0XCIgJiYgbiAmJiBuLl9fZXNNb2R1bGUpXG4gICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgIHZhciBhID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGlmIChpLnIoYSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiAhMCwgdmFsdWU6IG4gfSksIDIgJiByICYmIHR5cGVvZiBuICE9IFwic3RyaW5nXCIpXG4gICAgICAgICAgZm9yICh2YXIgbCBpbiBuKVxuICAgICAgICAgICAgaS5kKGEsIGwsIGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG5bY107XG4gICAgICAgICAgICB9LmJpbmQobnVsbCwgbCkpO1xuICAgICAgICByZXR1cm4gYTtcbiAgICAgIH0sIGkubiA9IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgdmFyIHIgPSBuICYmIG4uX19lc01vZHVsZSA/IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBuLmRlZmF1bHQ7XG4gICAgICAgIH0gOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGkuZChyLCBcImFcIiwgciksIHI7XG4gICAgICB9LCBpLm8gPSBmdW5jdGlvbihuLCByKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobiwgcik7XG4gICAgICB9LCBpLnAgPSBcIi9cIiwgaShpLnMgPSAwKTtcbiAgICB9KFtmdW5jdGlvbih0LCBvLCBpKSB7XG4gICAgICBpKDEpLCAvKiFcbiAgICAgICAqIENvZGV4IEphdmFTY3JpcHQgTm90aWZpY2F0aW9uIG1vZHVsZVxuICAgICAgICogaHR0cHM6Ly9naXRodWIuY29tL2NvZGV4LXRlYW0vanMtbm90aWZpZXJcbiAgICAgICAqL1xuICAgICAgdC5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBuID0gaSg2KSwgciA9IFwiY2R4LW5vdGlmeS0tYm91bmNlLWluXCIsIGEgPSBudWxsO1xuICAgICAgICByZXR1cm4geyBzaG93OiBmdW5jdGlvbihsKSB7XG4gICAgICAgICAgaWYgKGwubWVzc2FnZSkge1xuICAgICAgICAgICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBpZiAoYSlcbiAgICAgICAgICAgICAgICByZXR1cm4gITA7XG4gICAgICAgICAgICAgIGEgPSBuLmdldFdyYXBwZXIoKSwgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcbiAgICAgICAgICAgIH0pKCk7XG4gICAgICAgICAgICB2YXIgYyA9IG51bGwsIHUgPSBsLnRpbWUgfHwgOGUzO1xuICAgICAgICAgICAgc3dpdGNoIChsLnR5cGUpIHtcbiAgICAgICAgICAgICAgY2FzZSBcImNvbmZpcm1cIjpcbiAgICAgICAgICAgICAgICBjID0gbi5jb25maXJtKGwpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwicHJvbXB0XCI6XG4gICAgICAgICAgICAgICAgYyA9IG4ucHJvbXB0KGwpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGMgPSBuLmFsZXJ0KGwpLCB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIGMucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfSwgdSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhLmFwcGVuZENoaWxkKGMpLCBjLmNsYXNzTGlzdC5hZGQocik7XG4gICAgICAgICAgfVxuICAgICAgICB9IH07XG4gICAgICB9KCk7XG4gICAgfSwgZnVuY3Rpb24odCwgbywgaSkge1xuICAgICAgdmFyIG4gPSBpKDIpO1xuICAgICAgdHlwZW9mIG4gPT0gXCJzdHJpbmdcIiAmJiAobiA9IFtbdC5pLCBuLCBcIlwiXV0pO1xuICAgICAgdmFyIHIgPSB7IGhtcjogITAsIHRyYW5zZm9ybTogdm9pZCAwLCBpbnNlcnRJbnRvOiB2b2lkIDAgfTtcbiAgICAgIGkoNCkobiwgciksIG4ubG9jYWxzICYmICh0LmV4cG9ydHMgPSBuLmxvY2Fscyk7XG4gICAgfSwgZnVuY3Rpb24odCwgbywgaSkge1xuICAgICAgKHQuZXhwb3J0cyA9IGkoMykoITEpKS5wdXNoKFt0LmksIGAuY2R4LW5vdGlmeS0tZXJyb3J7YmFja2dyb3VuZDojZmZmYmZiIWltcG9ydGFudH0uY2R4LW5vdGlmeS0tZXJyb3I6OmJlZm9yZXtiYWNrZ3JvdW5kOiNmYjVkNWQhaW1wb3J0YW50fS5jZHgtbm90aWZ5X19pbnB1dHttYXgtd2lkdGg6MTMwcHg7cGFkZGluZzo1cHggMTBweDtiYWNrZ3JvdW5kOiNmN2Y3Zjc7Ym9yZGVyOjA7Ym9yZGVyLXJhZGl1czozcHg7Zm9udC1zaXplOjEzcHg7Y29sb3I6IzY1NmI3YztvdXRsaW5lOjB9LmNkeC1ub3RpZnlfX2lucHV0Oi1tcy1pbnB1dC1wbGFjZWhvbGRlcntjb2xvcjojNjU2YjdjfS5jZHgtbm90aWZ5X19pbnB1dDo6cGxhY2Vob2xkZXJ7Y29sb3I6IzY1NmI3Y30uY2R4LW5vdGlmeV9faW5wdXQ6Zm9jdXM6LW1zLWlucHV0LXBsYWNlaG9sZGVye2NvbG9yOnJnYmEoMTAxLDEwNywxMjQsLjMpfS5jZHgtbm90aWZ5X19pbnB1dDpmb2N1czo6cGxhY2Vob2xkZXJ7Y29sb3I6cmdiYSgxMDEsMTA3LDEyNCwuMyl9LmNkeC1ub3RpZnlfX2J1dHRvbntib3JkZXI6bm9uZTtib3JkZXItcmFkaXVzOjNweDtmb250LXNpemU6MTNweDtwYWRkaW5nOjVweCAxMHB4O2N1cnNvcjpwb2ludGVyfS5jZHgtbm90aWZ5X19idXR0b246bGFzdC1jaGlsZHttYXJnaW4tbGVmdDoxMHB4fS5jZHgtbm90aWZ5X19idXR0b24tLWNhbmNlbHtiYWNrZ3JvdW5kOiNmMmY1Zjc7Ym94LXNoYWRvdzowIDJweCAxcHggMCByZ2JhKDE2LDE5LDI5LDApO2NvbG9yOiM2NTZiN2N9LmNkeC1ub3RpZnlfX2J1dHRvbi0tY2FuY2VsOmhvdmVye2JhY2tncm91bmQ6I2VlZX0uY2R4LW5vdGlmeV9fYnV0dG9uLS1jb25maXJte2JhY2tncm91bmQ6IzM0Yzk5Mjtib3gtc2hhZG93OjAgMXB4IDFweCAwIHJnYmEoMTgsNDksMzUsLjA1KTtjb2xvcjojZmZmfS5jZHgtbm90aWZ5X19idXR0b24tLWNvbmZpcm06aG92ZXJ7YmFja2dyb3VuZDojMzNiMDgyfS5jZHgtbm90aWZ5X19idG5zLXdyYXBwZXJ7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXgtZmxvdzpyb3cgbm93cmFwO2ZsZXgtZmxvdzpyb3cgbm93cmFwO21hcmdpbi10b3A6NXB4fS5jZHgtbm90aWZ5X19jcm9zc3twb3NpdGlvbjphYnNvbHV0ZTt0b3A6NXB4O3JpZ2h0OjVweDt3aWR0aDoxMHB4O2hlaWdodDoxMHB4O3BhZGRpbmc6NXB4O29wYWNpdHk6LjU0O2N1cnNvcjpwb2ludGVyfS5jZHgtbm90aWZ5X19jcm9zczo6YWZ0ZXIsLmNkeC1ub3RpZnlfX2Nyb3NzOjpiZWZvcmV7Y29udGVudDonJztwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjlweDt0b3A6NXB4O2hlaWdodDoxMnB4O3dpZHRoOjJweDtiYWNrZ3JvdW5kOiM1NzVkNjd9LmNkeC1ub3RpZnlfX2Nyb3NzOjpiZWZvcmV7dHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpfS5jZHgtbm90aWZ5X19jcm9zczo6YWZ0ZXJ7dHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyl9LmNkeC1ub3RpZnlfX2Nyb3NzOmhvdmVye29wYWNpdHk6MX0uY2R4LW5vdGlmaWVze3Bvc2l0aW9uOmZpeGVkO3otaW5kZXg6Mjtib3R0b206MjBweDtsZWZ0OjIwcHg7Zm9udC1mYW1pbHk6LWFwcGxlLXN5c3RlbSxCbGlua01hY1N5c3RlbUZvbnQsXCJTZWdvZSBVSVwiLFJvYm90byxPeHlnZW4sVWJ1bnR1LENhbnRhcmVsbCxcIkZpcmEgU2Fuc1wiLFwiRHJvaWQgU2Fuc1wiLFwiSGVsdmV0aWNhIE5ldWVcIixzYW5zLXNlcmlmfS5jZHgtbm90aWZ5e3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjIyMHB4O21hcmdpbi10b3A6MTVweDtwYWRkaW5nOjEzcHggMTZweDtiYWNrZ3JvdW5kOiNmZmY7Ym94LXNoYWRvdzowIDExcHggMTdweCAwIHJnYmEoMjMsMzIsNjEsLjEzKTtib3JkZXItcmFkaXVzOjVweDtmb250LXNpemU6MTRweDtsaW5lLWhlaWdodDoxLjRlbTt3b3JkLXdyYXA6YnJlYWstd29yZH0uY2R4LW5vdGlmeTo6YmVmb3Jle2NvbnRlbnQ6Jyc7cG9zaXRpb246YWJzb2x1dGU7ZGlzcGxheTpibG9jazt0b3A6MDtsZWZ0OjA7d2lkdGg6M3B4O2hlaWdodDpjYWxjKDEwMCUgLSA2cHgpO21hcmdpbjozcHg7Ym9yZGVyLXJhZGl1czo1cHg7YmFja2dyb3VuZDowIDB9QGtleWZyYW1lcyBib3VuY2VJbnswJXtvcGFjaXR5OjA7dHJhbnNmb3JtOnNjYWxlKC4zKX01MCV7b3BhY2l0eToxO3RyYW5zZm9ybTpzY2FsZSgxLjA1KX03MCV7dHJhbnNmb3JtOnNjYWxlKC45KX0xMDAle3RyYW5zZm9ybTpzY2FsZSgxKX19LmNkeC1ub3RpZnktLWJvdW5jZS1pbnthbmltYXRpb24tbmFtZTpib3VuY2VJbjthbmltYXRpb24tZHVyYXRpb246LjZzO2FuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6MX0uY2R4LW5vdGlmeS0tc3VjY2Vzc3tiYWNrZ3JvdW5kOiNmYWZmZmUhaW1wb3J0YW50fS5jZHgtbm90aWZ5LS1zdWNjZXNzOjpiZWZvcmV7YmFja2dyb3VuZDojNDFmZmIxIWltcG9ydGFudH1gLCBcIlwiXSk7XG4gICAgfSwgZnVuY3Rpb24odCwgbykge1xuICAgICAgdC5leHBvcnRzID0gZnVuY3Rpb24oaSkge1xuICAgICAgICB2YXIgbiA9IFtdO1xuICAgICAgICByZXR1cm4gbi50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbihyKSB7XG4gICAgICAgICAgICB2YXIgYSA9IGZ1bmN0aW9uKGwsIGMpIHtcbiAgICAgICAgICAgICAgdmFyIHUgPSBsWzFdIHx8IFwiXCIsIGggPSBsWzNdO1xuICAgICAgICAgICAgICBpZiAoIWgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHU7XG4gICAgICAgICAgICAgIGlmIChjICYmIHR5cGVvZiBidG9hID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHZhciBmID0gKHAgPSBoLCBcIi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHApKSkpICsgXCIgKi9cIiksIGsgPSBoLnNvdXJjZXMubWFwKGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIgKyBoLnNvdXJjZVJvb3QgKyB2ICsgXCIgKi9cIjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW3VdLmNvbmNhdChrKS5jb25jYXQoW2ZdKS5qb2luKGBcbmApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHZhciBwO1xuICAgICAgICAgICAgICByZXR1cm4gW3VdLmpvaW4oYFxuYCk7XG4gICAgICAgICAgICB9KHIsIGkpO1xuICAgICAgICAgICAgcmV0dXJuIHJbMl0gPyBcIkBtZWRpYSBcIiArIHJbMl0gKyBcIntcIiArIGEgKyBcIn1cIiA6IGE7XG4gICAgICAgICAgfSkuam9pbihcIlwiKTtcbiAgICAgICAgfSwgbi5pID0gZnVuY3Rpb24ociwgYSkge1xuICAgICAgICAgIHR5cGVvZiByID09IFwic3RyaW5nXCIgJiYgKHIgPSBbW251bGwsIHIsIFwiXCJdXSk7XG4gICAgICAgICAgZm9yICh2YXIgbCA9IHt9LCBjID0gMDsgYyA8IHRoaXMubGVuZ3RoOyBjKyspIHtcbiAgICAgICAgICAgIHZhciB1ID0gdGhpc1tjXVswXTtcbiAgICAgICAgICAgIHR5cGVvZiB1ID09IFwibnVtYmVyXCIgJiYgKGxbdV0gPSAhMCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAoYyA9IDA7IGMgPCByLmxlbmd0aDsgYysrKSB7XG4gICAgICAgICAgICB2YXIgaCA9IHJbY107XG4gICAgICAgICAgICB0eXBlb2YgaFswXSA9PSBcIm51bWJlclwiICYmIGxbaFswXV0gfHwgKGEgJiYgIWhbMl0gPyBoWzJdID0gYSA6IGEgJiYgKGhbMl0gPSBcIihcIiArIGhbMl0gKyBcIikgYW5kIChcIiArIGEgKyBcIilcIiksIG4ucHVzaChoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBuO1xuICAgICAgfTtcbiAgICB9LCBmdW5jdGlvbih0LCBvLCBpKSB7XG4gICAgICB2YXIgbiwgciwgYSA9IHt9LCBsID0gKG4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iO1xuICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByID09PSB2b2lkIDAgJiYgKHIgPSBuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpLCByO1xuICAgICAgfSksIGMgPSBmdW5jdGlvbihiKSB7XG4gICAgICAgIHZhciBnID0ge307XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihFKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBFID09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICAgIHJldHVybiBFKCk7XG4gICAgICAgICAgaWYgKGdbRV0gPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgdmFyIFQgPSBmdW5jdGlvbihPKSB7XG4gICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKE8pO1xuICAgICAgICAgICAgfS5jYWxsKHRoaXMsIEUpO1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBUIGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KVxuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIFQgPSBULmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICBUID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ1tFXSA9IFQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBnW0VdO1xuICAgICAgICB9O1xuICAgICAgfSgpLCB1ID0gbnVsbCwgaCA9IDAsIGYgPSBbXSwgayA9IGkoNSk7XG4gICAgICBmdW5jdGlvbiBwKGIsIGcpIHtcbiAgICAgICAgZm9yICh2YXIgRSA9IDA7IEUgPCBiLmxlbmd0aDsgRSsrKSB7XG4gICAgICAgICAgdmFyIFQgPSBiW0VdLCBPID0gYVtULmlkXTtcbiAgICAgICAgICBpZiAoTykge1xuICAgICAgICAgICAgTy5yZWZzKys7XG4gICAgICAgICAgICBmb3IgKHZhciBTID0gMDsgUyA8IE8ucGFydHMubGVuZ3RoOyBTKyspXG4gICAgICAgICAgICAgIE8ucGFydHNbU10oVC5wYXJ0c1tTXSk7XG4gICAgICAgICAgICBmb3IgKDsgUyA8IFQucGFydHMubGVuZ3RoOyBTKyspXG4gICAgICAgICAgICAgIE8ucGFydHMucHVzaCh4KFQucGFydHNbU10sIGcpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIEggPSBbXTtcbiAgICAgICAgICAgIGZvciAoUyA9IDA7IFMgPCBULnBhcnRzLmxlbmd0aDsgUysrKVxuICAgICAgICAgICAgICBILnB1c2goeChULnBhcnRzW1NdLCBnKSk7XG4gICAgICAgICAgICBhW1QuaWRdID0geyBpZDogVC5pZCwgcmVmczogMSwgcGFydHM6IEggfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHYoYiwgZykge1xuICAgICAgICBmb3IgKHZhciBFID0gW10sIFQgPSB7fSwgTyA9IDA7IE8gPCBiLmxlbmd0aDsgTysrKSB7XG4gICAgICAgICAgdmFyIFMgPSBiW09dLCBIID0gZy5iYXNlID8gU1swXSArIGcuYmFzZSA6IFNbMF0sIE0gPSB7IGNzczogU1sxXSwgbWVkaWE6IFNbMl0sIHNvdXJjZU1hcDogU1szXSB9O1xuICAgICAgICAgIFRbSF0gPyBUW0hdLnBhcnRzLnB1c2goTSkgOiBFLnB1c2goVFtIXSA9IHsgaWQ6IEgsIHBhcnRzOiBbTV0gfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEU7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBBKGIsIGcpIHtcbiAgICAgICAgdmFyIEUgPSBjKGIuaW5zZXJ0SW50byk7XG4gICAgICAgIGlmICghRSlcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgICAgICAgdmFyIFQgPSBmW2YubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChiLmluc2VydEF0ID09PSBcInRvcFwiKVxuICAgICAgICAgIFQgPyBULm5leHRTaWJsaW5nID8gRS5pbnNlcnRCZWZvcmUoZywgVC5uZXh0U2libGluZykgOiBFLmFwcGVuZENoaWxkKGcpIDogRS5pbnNlcnRCZWZvcmUoZywgRS5maXJzdENoaWxkKSwgZi5wdXNoKGcpO1xuICAgICAgICBlbHNlIGlmIChiLmluc2VydEF0ID09PSBcImJvdHRvbVwiKVxuICAgICAgICAgIEUuYXBwZW5kQ2hpbGQoZyk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGlmICh0eXBlb2YgYi5pbnNlcnRBdCAhPSBcIm9iamVjdFwiIHx8ICFiLmluc2VydEF0LmJlZm9yZSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgW1N0eWxlIExvYWRlcl1cblxuIEludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnICgnb3B0aW9ucy5pbnNlcnRBdCcpIGZvdW5kLlxuIE11c3QgYmUgJ3RvcCcsICdib3R0b20nLCBvciBPYmplY3QuXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxuYCk7XG4gICAgICAgICAgdmFyIE8gPSBjKGIuaW5zZXJ0SW50byArIFwiIFwiICsgYi5pbnNlcnRBdC5iZWZvcmUpO1xuICAgICAgICAgIEUuaW5zZXJ0QmVmb3JlKGcsIE8pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBOKGIpIHtcbiAgICAgICAgaWYgKGIucGFyZW50Tm9kZSA9PT0gbnVsbClcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIGIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKTtcbiAgICAgICAgdmFyIGcgPSBmLmluZGV4T2YoYik7XG4gICAgICAgIGcgPj0gMCAmJiBmLnNwbGljZShnLCAxKTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIF8oYikge1xuICAgICAgICB2YXIgZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICAgICAgcmV0dXJuIGIuYXR0cnMudHlwZSA9PT0gdm9pZCAwICYmIChiLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCIpLCB5KGcsIGIuYXR0cnMpLCBBKGIsIGcpLCBnO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24geShiLCBnKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGcpLmZvckVhY2goZnVuY3Rpb24oRSkge1xuICAgICAgICAgIGIuc2V0QXR0cmlidXRlKEUsIGdbRV0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHgoYiwgZykge1xuICAgICAgICB2YXIgRSwgVCwgTywgUztcbiAgICAgICAgaWYgKGcudHJhbnNmb3JtICYmIGIuY3NzKSB7XG4gICAgICAgICAgaWYgKCEoUyA9IGcudHJhbnNmb3JtKGIuY3NzKSkpXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIGIuY3NzID0gUztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZy5zaW5nbGV0b24pIHtcbiAgICAgICAgICB2YXIgSCA9IGgrKztcbiAgICAgICAgICBFID0gdSB8fCAodSA9IF8oZykpLCBUID0gUi5iaW5kKG51bGwsIEUsIEgsICExKSwgTyA9IFIuYmluZChudWxsLCBFLCBILCAhMCk7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgIGIuc291cmNlTWFwICYmIHR5cGVvZiBVUkwgPT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIEJsb2IgPT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBidG9hID09IFwiZnVuY3Rpb25cIiA/IChFID0gZnVuY3Rpb24oTSkge1xuICAgICAgICAgICAgdmFyIFcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcbiAgICAgICAgICAgIHJldHVybiBNLmF0dHJzLnR5cGUgPT09IHZvaWQgMCAmJiAoTS5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiKSwgTS5hdHRycy5yZWwgPSBcInN0eWxlc2hlZXRcIiwgeShXLCBNLmF0dHJzKSwgQShNLCBXKSwgVztcbiAgICAgICAgICB9KGcpLCBUID0gZnVuY3Rpb24oTSwgVywgZGUpIHtcbiAgICAgICAgICAgIHZhciBRID0gZGUuY3NzLCBFZSA9IGRlLnNvdXJjZU1hcCwgTXQgPSBXLmNvbnZlcnRUb0Fic29sdXRlVXJscyA9PT0gdm9pZCAwICYmIEVlO1xuICAgICAgICAgICAgKFcuY29udmVydFRvQWJzb2x1dGVVcmxzIHx8IE10KSAmJiAoUSA9IGsoUSkpLCBFZSAmJiAoUSArPSBgXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGAgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShFZSkpKSkgKyBcIiAqL1wiKTtcbiAgICAgICAgICAgIHZhciBMdCA9IG5ldyBCbG9iKFtRXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSksIFZlID0gTS5ocmVmO1xuICAgICAgICAgICAgTS5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChMdCksIFZlICYmIFVSTC5yZXZva2VPYmplY3RVUkwoVmUpO1xuICAgICAgICAgIH0uYmluZChudWxsLCBFLCBnKSwgTyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgTihFKSwgRS5ocmVmICYmIFVSTC5yZXZva2VPYmplY3RVUkwoRS5ocmVmKTtcbiAgICAgICAgICB9KSA6IChFID0gXyhnKSwgVCA9IGZ1bmN0aW9uKE0sIFcpIHtcbiAgICAgICAgICAgIHZhciBkZSA9IFcuY3NzLCBRID0gVy5tZWRpYTtcbiAgICAgICAgICAgIGlmIChRICYmIE0uc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgUSksIE0uc3R5bGVTaGVldClcbiAgICAgICAgICAgICAgTS5zdHlsZVNoZWV0LmNzc1RleHQgPSBkZTtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBmb3IgKDsgTS5maXJzdENoaWxkOyApXG4gICAgICAgICAgICAgICAgTS5yZW1vdmVDaGlsZChNLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgICBNLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGRlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfS5iaW5kKG51bGwsIEUpLCBPID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBOKEUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gVChiKSwgZnVuY3Rpb24oTSkge1xuICAgICAgICAgIGlmIChNKSB7XG4gICAgICAgICAgICBpZiAoTS5jc3MgPT09IGIuY3NzICYmIE0ubWVkaWEgPT09IGIubWVkaWEgJiYgTS5zb3VyY2VNYXAgPT09IGIuc291cmNlTWFwKVxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBUKGIgPSBNKTtcbiAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgIE8oKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHQuZXhwb3J0cyA9IGZ1bmN0aW9uKGIsIGcpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBERUJVRyA8IFwidVwiICYmIERFQlVHICYmIHR5cGVvZiBkb2N1bWVudCAhPSBcIm9iamVjdFwiKVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcbiAgICAgICAgKGcgPSBnIHx8IHt9KS5hdHRycyA9IHR5cGVvZiBnLmF0dHJzID09IFwib2JqZWN0XCIgPyBnLmF0dHJzIDoge30sIGcuc2luZ2xldG9uIHx8IHR5cGVvZiBnLnNpbmdsZXRvbiA9PSBcImJvb2xlYW5cIiB8fCAoZy5zaW5nbGV0b24gPSBsKCkpLCBnLmluc2VydEludG8gfHwgKGcuaW5zZXJ0SW50byA9IFwiaGVhZFwiKSwgZy5pbnNlcnRBdCB8fCAoZy5pbnNlcnRBdCA9IFwiYm90dG9tXCIpO1xuICAgICAgICB2YXIgRSA9IHYoYiwgZyk7XG4gICAgICAgIHJldHVybiBwKEUsIGcpLCBmdW5jdGlvbihUKSB7XG4gICAgICAgICAgZm9yICh2YXIgTyA9IFtdLCBTID0gMDsgUyA8IEUubGVuZ3RoOyBTKyspIHtcbiAgICAgICAgICAgIHZhciBIID0gRVtTXTtcbiAgICAgICAgICAgIChNID0gYVtILmlkXSkucmVmcy0tLCBPLnB1c2goTSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAoVCAmJiBwKHYoVCwgZyksIGcpLCBTID0gMDsgUyA8IE8ubGVuZ3RoOyBTKyspIHtcbiAgICAgICAgICAgIHZhciBNO1xuICAgICAgICAgICAgaWYgKChNID0gT1tTXSkucmVmcyA9PT0gMCkge1xuICAgICAgICAgICAgICBmb3IgKHZhciBXID0gMDsgVyA8IE0ucGFydHMubGVuZ3RoOyBXKyspXG4gICAgICAgICAgICAgICAgTS5wYXJ0c1tXXSgpO1xuICAgICAgICAgICAgICBkZWxldGUgYVtNLmlkXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9O1xuICAgICAgdmFyIHcsIEkgPSAodyA9IFtdLCBmdW5jdGlvbihiLCBnKSB7XG4gICAgICAgIHJldHVybiB3W2JdID0gZywgdy5maWx0ZXIoQm9vbGVhbikuam9pbihgXG5gKTtcbiAgICAgIH0pO1xuICAgICAgZnVuY3Rpb24gUihiLCBnLCBFLCBUKSB7XG4gICAgICAgIHZhciBPID0gRSA/IFwiXCIgOiBULmNzcztcbiAgICAgICAgaWYgKGIuc3R5bGVTaGVldClcbiAgICAgICAgICBiLnN0eWxlU2hlZXQuY3NzVGV4dCA9IEkoZywgTyk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHZhciBTID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoTyksIEggPSBiLmNoaWxkTm9kZXM7XG4gICAgICAgICAgSFtnXSAmJiBiLnJlbW92ZUNoaWxkKEhbZ10pLCBILmxlbmd0aCA/IGIuaW5zZXJ0QmVmb3JlKFMsIEhbZ10pIDogYi5hcHBlbmRDaGlsZChTKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uKHQsIG8pIHtcbiAgICAgIHQuZXhwb3J0cyA9IGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgdmFyIG4gPSB0eXBlb2Ygd2luZG93IDwgXCJ1XCIgJiYgd2luZG93LmxvY2F0aW9uO1xuICAgICAgICBpZiAoIW4pXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZml4VXJscyByZXF1aXJlcyB3aW5kb3cubG9jYXRpb25cIik7XG4gICAgICAgIGlmICghaSB8fCB0eXBlb2YgaSAhPSBcInN0cmluZ1wiKVxuICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB2YXIgciA9IG4ucHJvdG9jb2wgKyBcIi8vXCIgKyBuLmhvc3QsIGEgPSByICsgbi5wYXRobmFtZS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sIFwiL1wiKTtcbiAgICAgICAgcmV0dXJuIGkucmVwbGFjZSgvdXJsXFxzKlxcKCgoPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKilcXCkvZ2ksIGZ1bmN0aW9uKGwsIGMpIHtcbiAgICAgICAgICB2YXIgdSwgaCA9IGMudHJpbSgpLnJlcGxhY2UoL15cIiguKilcIiQvLCBmdW5jdGlvbihmLCBrKSB7XG4gICAgICAgICAgICByZXR1cm4gaztcbiAgICAgICAgICB9KS5yZXBsYWNlKC9eJyguKiknJC8sIGZ1bmN0aW9uKGYsIGspIHtcbiAgICAgICAgICAgIHJldHVybiBrO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiAvXigjfGRhdGE6fGh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcL3xmaWxlOlxcL1xcL1xcL3xcXHMqJCkvaS50ZXN0KGgpID8gbCA6ICh1ID0gaC5pbmRleE9mKFwiLy9cIikgPT09IDAgPyBoIDogaC5pbmRleE9mKFwiL1wiKSA9PT0gMCA/IHIgKyBoIDogYSArIGgucmVwbGFjZSgvXlxcLlxcLy8sIFwiXCIpLCBcInVybChcIiArIEpTT04uc3RyaW5naWZ5KHUpICsgXCIpXCIpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfSwgZnVuY3Rpb24odCwgbywgaSkge1xuICAgICAgdmFyIG4sIHIsIGEsIGwsIGMsIHUsIGgsIGYsIGs7XG4gICAgICB0LmV4cG9ydHMgPSAobiA9IFwiY2R4LW5vdGlmaWVzXCIsIHIgPSBcImNkeC1ub3RpZnlcIiwgYSA9IFwiY2R4LW5vdGlmeV9fY3Jvc3NcIiwgbCA9IFwiY2R4LW5vdGlmeV9fYnV0dG9uLS1jb25maXJtXCIsIGMgPSBcImNkeC1ub3RpZnlfX2J1dHRvbi0tY2FuY2VsXCIsIHUgPSBcImNkeC1ub3RpZnlfX2lucHV0XCIsIGggPSBcImNkeC1ub3RpZnlfX2J1dHRvblwiLCBmID0gXCJjZHgtbm90aWZ5X19idG5zLXdyYXBwZXJcIiwgeyBhbGVydDogayA9IGZ1bmN0aW9uKHApIHtcbiAgICAgICAgdmFyIHYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpLCBBID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKSwgTiA9IHAubWVzc2FnZSwgXyA9IHAuc3R5bGU7XG4gICAgICAgIHJldHVybiB2LmNsYXNzTGlzdC5hZGQociksIF8gJiYgdi5jbGFzc0xpc3QuYWRkKHIgKyBcIi0tXCIgKyBfKSwgdi5pbm5lckhUTUwgPSBOLCBBLmNsYXNzTGlzdC5hZGQoYSksIEEuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHYucmVtb3ZlLmJpbmQodikpLCB2LmFwcGVuZENoaWxkKEEpLCB2O1xuICAgICAgfSwgY29uZmlybTogZnVuY3Rpb24ocCkge1xuICAgICAgICB2YXIgdiA9IGsocCksIEEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLCBOID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKSwgXyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiksIHkgPSB2LnF1ZXJ5U2VsZWN0b3IoXCIuXCIgKyBhKSwgeCA9IHAuY2FuY2VsSGFuZGxlciwgdyA9IHAub2tIYW5kbGVyO1xuICAgICAgICByZXR1cm4gQS5jbGFzc0xpc3QuYWRkKGYpLCBOLmlubmVySFRNTCA9IHAub2tUZXh0IHx8IFwiQ29uZmlybVwiLCBfLmlubmVySFRNTCA9IHAuY2FuY2VsVGV4dCB8fCBcIkNhbmNlbFwiLCBOLmNsYXNzTGlzdC5hZGQoaCksIF8uY2xhc3NMaXN0LmFkZChoKSwgTi5jbGFzc0xpc3QuYWRkKGwpLCBfLmNsYXNzTGlzdC5hZGQoYyksIHggJiYgdHlwZW9mIHggPT0gXCJmdW5jdGlvblwiICYmIChfLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB4KSwgeS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgeCkpLCB3ICYmIHR5cGVvZiB3ID09IFwiZnVuY3Rpb25cIiAmJiBOLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB3KSwgTi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdi5yZW1vdmUuYmluZCh2KSksIF8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHYucmVtb3ZlLmJpbmQodikpLCBBLmFwcGVuZENoaWxkKE4pLCBBLmFwcGVuZENoaWxkKF8pLCB2LmFwcGVuZENoaWxkKEEpLCB2O1xuICAgICAgfSwgcHJvbXB0OiBmdW5jdGlvbihwKSB7XG4gICAgICAgIHZhciB2ID0gayhwKSwgQSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIE4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpLCBfID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpLCB5ID0gdi5xdWVyeVNlbGVjdG9yKFwiLlwiICsgYSksIHggPSBwLmNhbmNlbEhhbmRsZXIsIHcgPSBwLm9rSGFuZGxlcjtcbiAgICAgICAgcmV0dXJuIEEuY2xhc3NMaXN0LmFkZChmKSwgTi5pbm5lckhUTUwgPSBwLm9rVGV4dCB8fCBcIk9rXCIsIE4uY2xhc3NMaXN0LmFkZChoKSwgTi5jbGFzc0xpc3QuYWRkKGwpLCBfLmNsYXNzTGlzdC5hZGQodSksIHAucGxhY2Vob2xkZXIgJiYgXy5zZXRBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiLCBwLnBsYWNlaG9sZGVyKSwgcC5kZWZhdWx0ICYmIChfLnZhbHVlID0gcC5kZWZhdWx0KSwgcC5pbnB1dFR5cGUgJiYgKF8udHlwZSA9IHAuaW5wdXRUeXBlKSwgeCAmJiB0eXBlb2YgeCA9PSBcImZ1bmN0aW9uXCIgJiYgeS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgeCksIHcgJiYgdHlwZW9mIHcgPT0gXCJmdW5jdGlvblwiICYmIE4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHcoXy52YWx1ZSk7XG4gICAgICAgIH0pLCBOLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB2LnJlbW92ZS5iaW5kKHYpKSwgQS5hcHBlbmRDaGlsZChfKSwgQS5hcHBlbmRDaGlsZChOKSwgdi5hcHBlbmRDaGlsZChBKSwgdjtcbiAgICAgIH0sIGdldFdyYXBwZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIik7XG4gICAgICAgIHJldHVybiBwLmNsYXNzTGlzdC5hZGQobiksIHA7XG4gICAgICB9IH0pO1xuICAgIH1dKTtcbiAgfSk7XG59KShzbyk7XG5jb25zdCBybyA9IC8qIEBfX1BVUkVfXyAqLyB4ZShMZSk7XG5jbGFzcyBhbyB7XG4gIC8qKlxuICAgKiBTaG93IHdlYiBub3RpZmljYXRpb25cbiAgICpcbiAgICogQHBhcmFtIHtOb3RpZmllck9wdGlvbnMgfCBDb25maXJtTm90aWZpZXJPcHRpb25zIHwgUHJvbXB0Tm90aWZpZXJPcHRpb25zfSBvcHRpb25zIC0gbm90aWZpY2F0aW9uIG9wdGlvbnNcbiAgICovXG4gIHNob3coZSkge1xuICAgIHJvLnNob3coZSk7XG4gIH1cbn1cbmNsYXNzIGxvIGV4dGVuZHMgQyB7XG4gIC8qKlxuICAgKiBAcGFyYW0gbW9kdWxlQ29uZmlndXJhdGlvbiAtIE1vZHVsZSBDb25maWd1cmF0aW9uXG4gICAqIEBwYXJhbSBtb2R1bGVDb25maWd1cmF0aW9uLmNvbmZpZyAtIEVkaXRvcidzIGNvbmZpZ1xuICAgKiBAcGFyYW0gbW9kdWxlQ29uZmlndXJhdGlvbi5ldmVudHNEaXNwYXRjaGVyIC0gRWRpdG9yJ3MgZXZlbnQgZGlzcGF0Y2hlclxuICAgKi9cbiAgY29uc3RydWN0b3IoeyBjb25maWc6IGUsIGV2ZW50c0Rpc3BhdGNoZXI6IHQgfSkge1xuICAgIHN1cGVyKHtcbiAgICAgIGNvbmZpZzogZSxcbiAgICAgIGV2ZW50c0Rpc3BhdGNoZXI6IHRcbiAgICB9KSwgdGhpcy5ub3RpZmllciA9IG5ldyBhbygpO1xuICB9XG4gIC8qKlxuICAgKiBBdmFpbGFibGUgbWV0aG9kc1xuICAgKi9cbiAgZ2V0IG1ldGhvZHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNob3c6IChlKSA9PiB0aGlzLnNob3coZSlcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBTaG93IG5vdGlmaWNhdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge05vdGlmaWVyT3B0aW9uc30gb3B0aW9ucyAtIG1lc3NhZ2Ugb3B0aW9uXG4gICAqL1xuICBzaG93KGUpIHtcbiAgICByZXR1cm4gdGhpcy5ub3RpZmllci5zaG93KGUpO1xuICB9XG59XG5jbGFzcyBjbyBleHRlbmRzIEMge1xuICAvKipcbiAgICogQXZhaWxhYmxlIG1ldGhvZHNcbiAgICovXG4gIGdldCBtZXRob2RzKCkge1xuICAgIGNvbnN0IGUgPSAoKSA9PiB0aGlzLmlzRW5hYmxlZDtcbiAgICByZXR1cm4ge1xuICAgICAgdG9nZ2xlOiAodCkgPT4gdGhpcy50b2dnbGUodCksXG4gICAgICBnZXQgaXNFbmFibGVkKCkge1xuICAgICAgICByZXR1cm4gZSgpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFNldCBvciB0b2dnbGUgcmVhZC1vbmx5IHN0YXRlXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbnx1bmRlZmluZWR9IHN0YXRlIC0gc2V0IG9yIHRvZ2dsZSBzdGF0ZVxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gY3VycmVudCB2YWx1ZVxuICAgKi9cbiAgdG9nZ2xlKGUpIHtcbiAgICByZXR1cm4gdGhpcy5FZGl0b3IuUmVhZE9ubHkudG9nZ2xlKGUpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGN1cnJlbnQgcmVhZC1vbmx5IHN0YXRlXG4gICAqL1xuICBnZXQgaXNFbmFibGVkKCkge1xuICAgIHJldHVybiB0aGlzLkVkaXRvci5SZWFkT25seS5pc0VuYWJsZWQ7XG4gIH1cbn1cbnZhciBPZSA9IHt9LCBobyA9IHtcbiAgZ2V0IGV4cG9ydHMoKSB7XG4gICAgcmV0dXJuIE9lO1xuICB9LFxuICBzZXQgZXhwb3J0cyhzKSB7XG4gICAgT2UgPSBzO1xuICB9XG59O1xuKGZ1bmN0aW9uKHMsIGUpIHtcbiAgKGZ1bmN0aW9uKHQsIG8pIHtcbiAgICBzLmV4cG9ydHMgPSBvKCk7XG4gIH0pKE90LCBmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiB0KGgpIHtcbiAgICAgIHZhciBmID0gaC50YWdzLCBrID0gT2JqZWN0LmtleXMoZiksIHAgPSBrLm1hcChmdW5jdGlvbih2KSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgZlt2XTtcbiAgICAgIH0pLmV2ZXJ5KGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgcmV0dXJuIHYgPT09IFwib2JqZWN0XCIgfHwgdiA9PT0gXCJib29sZWFuXCIgfHwgdiA9PT0gXCJmdW5jdGlvblwiO1xuICAgICAgfSk7XG4gICAgICBpZiAoIXApXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBjb25maWd1cmF0aW9uIHdhcyBpbnZhbGlkXCIpO1xuICAgICAgdGhpcy5jb25maWcgPSBoO1xuICAgIH1cbiAgICB2YXIgbyA9IFtcIlBcIiwgXCJMSVwiLCBcIlREXCIsIFwiVEhcIiwgXCJESVZcIiwgXCJIMVwiLCBcIkgyXCIsIFwiSDNcIiwgXCJINFwiLCBcIkg1XCIsIFwiSDZcIiwgXCJQUkVcIl07XG4gICAgZnVuY3Rpb24gaShoKSB7XG4gICAgICByZXR1cm4gby5pbmRleE9mKGgubm9kZU5hbWUpICE9PSAtMTtcbiAgICB9XG4gICAgdmFyIG4gPSBbXCJBXCIsIFwiQlwiLCBcIlNUUk9OR1wiLCBcIklcIiwgXCJFTVwiLCBcIlNVQlwiLCBcIlNVUFwiLCBcIlVcIiwgXCJTVFJJS0VcIl07XG4gICAgZnVuY3Rpb24gcihoKSB7XG4gICAgICByZXR1cm4gbi5pbmRleE9mKGgubm9kZU5hbWUpICE9PSAtMTtcbiAgICB9XG4gICAgdC5wcm90b3R5cGUuY2xlYW4gPSBmdW5jdGlvbihoKSB7XG4gICAgICBjb25zdCBmID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCksIGsgPSBmLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICByZXR1cm4gay5pbm5lckhUTUwgPSBoLCB0aGlzLl9zYW5pdGl6ZShmLCBrKSwgay5pbm5lckhUTUw7XG4gICAgfSwgdC5wcm90b3R5cGUuX3Nhbml0aXplID0gZnVuY3Rpb24oaCwgZikge1xuICAgICAgdmFyIGsgPSBhKGgsIGYpLCBwID0gay5maXJzdENoaWxkKCk7XG4gICAgICBpZiAocClcbiAgICAgICAgZG8ge1xuICAgICAgICAgIGlmIChwLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSlcbiAgICAgICAgICAgIGlmIChwLmRhdGEudHJpbSgpID09PSBcIlwiICYmIChwLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgJiYgaShwLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpIHx8IHAubmV4dEVsZW1lbnRTaWJsaW5nICYmIGkocC5uZXh0RWxlbWVudFNpYmxpbmcpKSkge1xuICAgICAgICAgICAgICBmLnJlbW92ZUNoaWxkKHApLCB0aGlzLl9zYW5pdGl6ZShoLCBmKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgaWYgKHAubm9kZVR5cGUgPT09IE5vZGUuQ09NTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICBmLnJlbW92ZUNoaWxkKHApLCB0aGlzLl9zYW5pdGl6ZShoLCBmKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgdiA9IHIocCksIEE7XG4gICAgICAgICAgdiAmJiAoQSA9IEFycmF5LnByb3RvdHlwZS5zb21lLmNhbGwocC5jaGlsZE5vZGVzLCBpKSk7XG4gICAgICAgICAgdmFyIE4gPSAhIWYucGFyZW50Tm9kZSwgXyA9IGkoZikgJiYgaShwKSAmJiBOLCB5ID0gcC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLCB4ID0gbCh0aGlzLmNvbmZpZywgeSwgcCksIHcgPSB2ICYmIEE7XG4gICAgICAgICAgaWYgKHcgfHwgYyhwLCB4KSB8fCAhdGhpcy5jb25maWcua2VlcE5lc3RlZEJsb2NrRWxlbWVudHMgJiYgXykge1xuICAgICAgICAgICAgaWYgKCEocC5ub2RlTmFtZSA9PT0gXCJTQ1JJUFRcIiB8fCBwLm5vZGVOYW1lID09PSBcIlNUWUxFXCIpKVxuICAgICAgICAgICAgICBmb3IgKDsgcC5jaGlsZE5vZGVzLmxlbmd0aCA+IDA7IClcbiAgICAgICAgICAgICAgICBmLmluc2VydEJlZm9yZShwLmNoaWxkTm9kZXNbMF0sIHApO1xuICAgICAgICAgICAgZi5yZW1vdmVDaGlsZChwKSwgdGhpcy5fc2FuaXRpemUoaCwgZik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yICh2YXIgSSA9IDA7IEkgPCBwLmF0dHJpYnV0ZXMubGVuZ3RoOyBJICs9IDEpIHtcbiAgICAgICAgICAgIHZhciBSID0gcC5hdHRyaWJ1dGVzW0ldO1xuICAgICAgICAgICAgdShSLCB4LCBwKSAmJiAocC5yZW1vdmVBdHRyaWJ1dGUoUi5uYW1lKSwgSSA9IEkgLSAxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5fc2FuaXRpemUoaCwgcCk7XG4gICAgICAgIH0gd2hpbGUgKHAgPSBrLm5leHRTaWJsaW5nKCkpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gYShoLCBmKSB7XG4gICAgICByZXR1cm4gaC5jcmVhdGVUcmVlV2Fsa2VyKFxuICAgICAgICBmLFxuICAgICAgICBOb2RlRmlsdGVyLlNIT1dfVEVYVCB8IE5vZGVGaWx0ZXIuU0hPV19FTEVNRU5UIHwgTm9kZUZpbHRlci5TSE9XX0NPTU1FTlQsXG4gICAgICAgIG51bGwsXG4gICAgICAgICExXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBsKGgsIGYsIGspIHtcbiAgICAgIHJldHVybiB0eXBlb2YgaC50YWdzW2ZdID09IFwiZnVuY3Rpb25cIiA/IGgudGFnc1tmXShrKSA6IGgudGFnc1tmXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYyhoLCBmKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIGYgPiBcInVcIiA/ICEwIDogdHlwZW9mIGYgPT0gXCJib29sZWFuXCIgPyAhZiA6ICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1KGgsIGYsIGspIHtcbiAgICAgIHZhciBwID0gaC5uYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICByZXR1cm4gZiA9PT0gITAgPyAhMSA6IHR5cGVvZiBmW3BdID09IFwiZnVuY3Rpb25cIiA/ICFmW3BdKGgudmFsdWUsIGspIDogdHlwZW9mIGZbcF0gPiBcInVcIiB8fCBmW3BdID09PSAhMSA/ICEwIDogdHlwZW9mIGZbcF0gPT0gXCJzdHJpbmdcIiA/IGZbcF0gIT09IGgudmFsdWUgOiAhMTtcbiAgICB9XG4gICAgcmV0dXJuIHQ7XG4gIH0pO1xufSkoaG8pO1xuY29uc3QgdW8gPSBPZTtcbmZ1bmN0aW9uIHV0KHMsIGUpIHtcbiAgcmV0dXJuIHMubWFwKCh0KSA9PiB7XG4gICAgY29uc3QgbyA9IEQoZSkgPyBlKHQudG9vbCkgOiBlO1xuICAgIHJldHVybiBWKG8pIHx8ICh0LmRhdGEgPSBGZSh0LmRhdGEsIG8pKSwgdDtcbiAgfSk7XG59XG5mdW5jdGlvbiBaKHMsIGUgPSB7fSkge1xuICBjb25zdCB0ID0ge1xuICAgIHRhZ3M6IGVcbiAgfTtcbiAgcmV0dXJuIG5ldyB1byh0KS5jbGVhbihzKTtcbn1cbmZ1bmN0aW9uIEZlKHMsIGUpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkocykgPyBwbyhzLCBlKSA6IHoocykgPyBmbyhzLCBlKSA6IEoocykgPyBnbyhzLCBlKSA6IHM7XG59XG5mdW5jdGlvbiBwbyhzLCBlKSB7XG4gIHJldHVybiBzLm1hcCgodCkgPT4gRmUodCwgZSkpO1xufVxuZnVuY3Rpb24gZm8ocywgZSkge1xuICBjb25zdCB0ID0ge307XG4gIGZvciAoY29uc3QgbyBpbiBzKSB7XG4gICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgbykpXG4gICAgICBjb250aW51ZTtcbiAgICBjb25zdCBpID0gc1tvXSwgbiA9IGJvKGVbb10pID8gZVtvXSA6IGU7XG4gICAgdFtvXSA9IEZlKGksIG4pO1xuICB9XG4gIHJldHVybiB0O1xufVxuZnVuY3Rpb24gZ28ocywgZSkge1xuICByZXR1cm4geihlKSA/IFoocywgZSkgOiBlID09PSAhMSA/IFoocywge30pIDogcztcbn1cbmZ1bmN0aW9uIGJvKHMpIHtcbiAgcmV0dXJuIHoocykgfHwgUnQocykgfHwgRChzKTtcbn1cbmNsYXNzIG1vIGV4dGVuZHMgQyB7XG4gIC8qKlxuICAgKiBBdmFpbGFibGUgbWV0aG9kc1xuICAgKlxuICAgKiBAcmV0dXJucyB7U2FuaXRpemVyQ29uZmlnfVxuICAgKi9cbiAgZ2V0IG1ldGhvZHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNsZWFuOiAoZSwgdCkgPT4gdGhpcy5jbGVhbihlLCB0KVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFBlcmZvcm0gc2FuaXRpemluZyBvZiBhIHN0cmluZ1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGFpbnRTdHJpbmcgLSB3aGF0IHRvIHNhbml0aXplXG4gICAqIEBwYXJhbSB7U2FuaXRpemVyQ29uZmlnfSBjb25maWcgLSBzYW5pdGl6ZXIgY29uZmlnXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuICBjbGVhbihlLCB0KSB7XG4gICAgcmV0dXJuIFooZSwgdCk7XG4gIH1cbn1cbmNsYXNzIGtvIGV4dGVuZHMgQyB7XG4gIC8qKlxuICAgKiBBdmFpbGFibGUgbWV0aG9kc1xuICAgKlxuICAgKiBAcmV0dXJucyB7U2F2ZXJ9XG4gICAqL1xuICBnZXQgbWV0aG9kcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2F2ZTogKCkgPT4gdGhpcy5zYXZlKClcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gRWRpdG9yJ3MgZGF0YVxuICAgKlxuICAgKiBAcmV0dXJucyB7T3V0cHV0RGF0YX1cbiAgICovXG4gIHNhdmUoKSB7XG4gICAgY29uc3QgZSA9IFwiRWRpdG9yJ3MgY29udGVudCBjYW4gbm90IGJlIHNhdmVkIGluIHJlYWQtb25seSBtb2RlXCI7XG4gICAgcmV0dXJuIHRoaXMuRWRpdG9yLlJlYWRPbmx5LmlzRW5hYmxlZCA/IChLKGUsIFwid2FyblwiKSwgUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKGUpKSkgOiB0aGlzLkVkaXRvci5TYXZlci5zYXZlKCk7XG4gIH1cbn1cbmNsYXNzIHZvIGV4dGVuZHMgQyB7XG4gIC8qKlxuICAgKiBBdmFpbGFibGUgbWV0aG9kc1xuICAgKlxuICAgKiBAcmV0dXJucyB7U2VsZWN0aW9uQVBJSW50ZXJmYWNlfVxuICAgKi9cbiAgZ2V0IG1ldGhvZHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZpbmRQYXJlbnRUYWc6IChlLCB0KSA9PiB0aGlzLmZpbmRQYXJlbnRUYWcoZSwgdCksXG4gICAgICBleHBhbmRUb1RhZzogKGUpID0+IHRoaXMuZXhwYW5kVG9UYWcoZSlcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBMb29rcyBhaGVhZCBmcm9tIHNlbGVjdGlvbiBhbmQgZmluZCBwYXNzZWQgdGFnIHdpdGggY2xhc3MgbmFtZVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnTmFtZSAtIHRhZyB0byBmaW5kXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgLSB0YWcncyBjbGFzcyBuYW1lXG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudHxudWxsfVxuICAgKi9cbiAgZmluZFBhcmVudFRhZyhlLCB0KSB7XG4gICAgcmV0dXJuIG5ldyBtKCkuZmluZFBhcmVudFRhZyhlLCB0KTtcbiAgfVxuICAvKipcbiAgICogRXhwYW5kIHNlbGVjdGlvbiB0byBwYXNzZWQgdGFnXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGUgLSB0YWcgdGhhdCBzaG91bGQgY29udGFpbiBzZWxlY3Rpb25cbiAgICovXG4gIGV4cGFuZFRvVGFnKGUpIHtcbiAgICBuZXcgbSgpLmV4cGFuZFRvVGFnKGUpO1xuICB9XG59XG5jbGFzcyB4byBleHRlbmRzIEMge1xuICAvKipcbiAgICogRXhwb3J0ZWQgY2xhc3Nlc1xuICAgKi9cbiAgZ2V0IGNsYXNzZXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8qKlxuICAgICAgICogQmFzZSBCbG9jayBzdHlsZXNcbiAgICAgICAqL1xuICAgICAgYmxvY2s6IFwiY2R4LWJsb2NrXCIsXG4gICAgICAvKipcbiAgICAgICAqIElubGluZSBUb29scyBzdHlsZXNcbiAgICAgICAqL1xuICAgICAgaW5saW5lVG9vbEJ1dHRvbjogXCJjZS1pbmxpbmUtdG9vbFwiLFxuICAgICAgaW5saW5lVG9vbEJ1dHRvbkFjdGl2ZTogXCJjZS1pbmxpbmUtdG9vbC0tYWN0aXZlXCIsXG4gICAgICAvKipcbiAgICAgICAqIFVJIGVsZW1lbnRzXG4gICAgICAgKi9cbiAgICAgIGlucHV0OiBcImNkeC1pbnB1dFwiLFxuICAgICAgbG9hZGVyOiBcImNkeC1sb2FkZXJcIixcbiAgICAgIGJ1dHRvbjogXCJjZHgtYnV0dG9uXCIsXG4gICAgICAvKipcbiAgICAgICAqIFNldHRpbmdzIHN0eWxlc1xuICAgICAgICovXG4gICAgICBzZXR0aW5nc0J1dHRvbjogXCJjZHgtc2V0dGluZ3MtYnV0dG9uXCIsXG4gICAgICBzZXR0aW5nc0J1dHRvbkFjdGl2ZTogXCJjZHgtc2V0dGluZ3MtYnV0dG9uLS1hY3RpdmVcIlxuICAgIH07XG4gIH1cbn1cbmNsYXNzIHdvIGV4dGVuZHMgQyB7XG4gIC8qKlxuICAgKiBBdmFpbGFibGUgbWV0aG9kc1xuICAgKlxuICAgKiBAcmV0dXJucyB7VG9vbGJhcn1cbiAgICovXG4gIGdldCBtZXRob2RzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjbG9zZTogKCkgPT4gdGhpcy5jbG9zZSgpLFxuICAgICAgb3BlbjogKCkgPT4gdGhpcy5vcGVuKCksXG4gICAgICB0b2dnbGVCbG9ja1NldHRpbmdzOiAoZSkgPT4gdGhpcy50b2dnbGVCbG9ja1NldHRpbmdzKGUpLFxuICAgICAgdG9nZ2xlVG9vbGJveDogKGUpID0+IHRoaXMudG9nZ2xlVG9vbGJveChlKVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIE9wZW4gdG9vbGJhclxuICAgKi9cbiAgb3BlbigpIHtcbiAgICB0aGlzLkVkaXRvci5Ub29sYmFyLm1vdmVBbmRPcGVuKCk7XG4gIH1cbiAgLyoqXG4gICAqIENsb3NlIHRvb2xiYXIgYW5kIGFsbCBpbmNsdWRlZCBlbGVtZW50c1xuICAgKi9cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5FZGl0b3IuVG9vbGJhci5jbG9zZSgpO1xuICB9XG4gIC8qKlxuICAgKiBUb2dnbGVzIEJsb2NrIFNldHRpbmcgb2YgdGhlIGN1cnJlbnQgYmxvY2tcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBvcGVuaW5nU3RhdGUg4oCUICBvcGVuaW5nIHN0YXRlIG9mIEJsb2NrIFNldHRpbmdcbiAgICovXG4gIHRvZ2dsZUJsb2NrU2V0dGluZ3MoZSkge1xuICAgIGlmICh0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrSW5kZXggPT09IC0xKSB7XG4gICAgICBLKFwiQ291bGQndCB0b2dnbGUgdGhlIFRvb2xiYXIgYmVjYXVzZSB0aGVyZSBpcyBubyBibG9jayBzZWxlY3RlZCBcIiwgXCJ3YXJuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlID8/ICF0aGlzLkVkaXRvci5CbG9ja1NldHRpbmdzLm9wZW5lZCA/ICh0aGlzLkVkaXRvci5Ub29sYmFyLm1vdmVBbmRPcGVuKCksIHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3Mub3BlbigpKSA6IHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3MuY2xvc2UoKTtcbiAgfVxuICAvKipcbiAgICogT3BlbiB0b29sYm94XG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3BlbmluZ1N0YXRlIC0gT3BlbmluZyBzdGF0ZSBvZiB0b29sYm94XG4gICAqL1xuICB0b2dnbGVUb29sYm94KGUpIHtcbiAgICBpZiAodGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9ja0luZGV4ID09PSAtMSkge1xuICAgICAgSyhcIkNvdWxkJ3QgdG9nZ2xlIHRoZSBUb29sYm94IGJlY2F1c2UgdGhlcmUgaXMgbm8gYmxvY2sgc2VsZWN0ZWQgXCIsIFwid2FyblwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZSA/PyAhdGhpcy5FZGl0b3IuVG9vbGJhci50b29sYm94Lm9wZW5lZCA/ICh0aGlzLkVkaXRvci5Ub29sYmFyLm1vdmVBbmRPcGVuKCksIHRoaXMuRWRpdG9yLlRvb2xiYXIudG9vbGJveC5vcGVuKCkpIDogdGhpcy5FZGl0b3IuVG9vbGJhci50b29sYm94LmNsb3NlKCk7XG4gIH1cbn1cbnZhciBBZSA9IHt9LCB5byA9IHtcbiAgZ2V0IGV4cG9ydHMoKSB7XG4gICAgcmV0dXJuIEFlO1xuICB9LFxuICBzZXQgZXhwb3J0cyhzKSB7XG4gICAgQWUgPSBzO1xuICB9XG59O1xuLyohXG4gKiBDb2RlWC5Ub29sdGlwc1xuICogXG4gKiBAdmVyc2lvbiAxLjAuNVxuICogXG4gKiBAbGljZW5jZSBNSVRcbiAqIEBhdXRob3IgQ29kZVggPGh0dHBzOi8vY29kZXguc28+XG4gKiBcbiAqIFxuICovXG4oZnVuY3Rpb24ocywgZSkge1xuICAoZnVuY3Rpb24odCwgbykge1xuICAgIHMuZXhwb3J0cyA9IG8oKTtcbiAgfSkod2luZG93LCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgICAgdmFyIG8gPSB7fTtcbiAgICAgIGZ1bmN0aW9uIGkobikge1xuICAgICAgICBpZiAob1tuXSlcbiAgICAgICAgICByZXR1cm4gb1tuXS5leHBvcnRzO1xuICAgICAgICB2YXIgciA9IG9bbl0gPSB7IGk6IG4sIGw6ICExLCBleHBvcnRzOiB7fSB9O1xuICAgICAgICByZXR1cm4gdFtuXS5jYWxsKHIuZXhwb3J0cywgciwgci5leHBvcnRzLCBpKSwgci5sID0gITAsIHIuZXhwb3J0cztcbiAgICAgIH1cbiAgICAgIHJldHVybiBpLm0gPSB0LCBpLmMgPSBvLCBpLmQgPSBmdW5jdGlvbihuLCByLCBhKSB7XG4gICAgICAgIGkubyhuLCByKSB8fCBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgciwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBhIH0pO1xuICAgICAgfSwgaS5yID0gZnVuY3Rpb24obikge1xuICAgICAgICB0eXBlb2YgU3ltYm9sIDwgXCJ1XCIgJiYgU3ltYm9sLnRvU3RyaW5nVGFnICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6IFwiTW9kdWxlXCIgfSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSk7XG4gICAgICB9LCBpLnQgPSBmdW5jdGlvbihuLCByKSB7XG4gICAgICAgIGlmICgxICYgciAmJiAobiA9IGkobikpLCA4ICYgciB8fCA0ICYgciAmJiB0eXBlb2YgbiA9PSBcIm9iamVjdFwiICYmIG4gJiYgbi5fX2VzTW9kdWxlKVxuICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICB2YXIgYSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBpZiAoaS5yKGEpLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogITAsIHZhbHVlOiBuIH0pLCAyICYgciAmJiB0eXBlb2YgbiAhPSBcInN0cmluZ1wiKVxuICAgICAgICAgIGZvciAodmFyIGwgaW4gbilcbiAgICAgICAgICAgIGkuZChhLCBsLCBmdW5jdGlvbihjKSB7XG4gICAgICAgICAgICAgIHJldHVybiBuW2NdO1xuICAgICAgICAgICAgfS5iaW5kKG51bGwsIGwpKTtcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgICB9LCBpLm4gPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIHZhciByID0gbiAmJiBuLl9fZXNNb2R1bGUgPyBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gbi5kZWZhdWx0O1xuICAgICAgICB9IDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBpLmQociwgXCJhXCIsIHIpLCByO1xuICAgICAgfSwgaS5vID0gZnVuY3Rpb24obiwgcikge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sIHIpO1xuICAgICAgfSwgaS5wID0gXCJcIiwgaShpLnMgPSAwKTtcbiAgICB9KFtmdW5jdGlvbih0LCBvLCBpKSB7XG4gICAgICB0LmV4cG9ydHMgPSBpKDEpO1xuICAgIH0sIGZ1bmN0aW9uKHQsIG8sIGkpIHtcbiAgICAgIGkucihvKSwgaS5kKG8sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG47XG4gICAgICB9KTtcbiAgICAgIGNsYXNzIG4ge1xuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICB0aGlzLm5vZGVzID0geyB3cmFwcGVyOiBudWxsLCBjb250ZW50OiBudWxsIH0sIHRoaXMuc2hvd2VkID0gITEsIHRoaXMub2Zmc2V0VG9wID0gMTAsIHRoaXMub2Zmc2V0TGVmdCA9IDEwLCB0aGlzLm9mZnNldFJpZ2h0ID0gMTAsIHRoaXMuaGlkaW5nRGVsYXkgPSAwLCB0aGlzLmhhbmRsZVdpbmRvd1Njcm9sbCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2hvd2VkICYmIHRoaXMuaGlkZSghMCk7XG4gICAgICAgICAgfSwgdGhpcy5sb2FkU3R5bGVzKCksIHRoaXMucHJlcGFyZSgpLCB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCB0aGlzLmhhbmRsZVdpbmRvd1Njcm9sbCwgeyBwYXNzaXZlOiAhMCB9KTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgQ1NTKCkge1xuICAgICAgICAgIHJldHVybiB7IHRvb2x0aXA6IFwiY3RcIiwgdG9vbHRpcENvbnRlbnQ6IFwiY3RfX2NvbnRlbnRcIiwgdG9vbHRpcFNob3duOiBcImN0LS1zaG93blwiLCBwbGFjZW1lbnQ6IHsgbGVmdDogXCJjdC0tbGVmdFwiLCBib3R0b206IFwiY3QtLWJvdHRvbVwiLCByaWdodDogXCJjdC0tcmlnaHRcIiwgdG9wOiBcImN0LS10b3BcIiB9IH07XG4gICAgICAgIH1cbiAgICAgICAgc2hvdyhhLCBsLCBjKSB7XG4gICAgICAgICAgdGhpcy5ub2Rlcy53cmFwcGVyIHx8IHRoaXMucHJlcGFyZSgpLCB0aGlzLmhpZGluZ1RpbWVvdXQgJiYgY2xlYXJUaW1lb3V0KHRoaXMuaGlkaW5nVGltZW91dCk7XG4gICAgICAgICAgY29uc3QgdSA9IE9iamVjdC5hc3NpZ24oeyBwbGFjZW1lbnQ6IFwiYm90dG9tXCIsIG1hcmdpblRvcDogMCwgbWFyZ2luTGVmdDogMCwgbWFyZ2luUmlnaHQ6IDAsIG1hcmdpbkJvdHRvbTogMCwgZGVsYXk6IDcwLCBoaWRpbmdEZWxheTogMCB9LCBjKTtcbiAgICAgICAgICBpZiAodS5oaWRpbmdEZWxheSAmJiAodGhpcy5oaWRpbmdEZWxheSA9IHUuaGlkaW5nRGVsYXkpLCB0aGlzLm5vZGVzLmNvbnRlbnQuaW5uZXJIVE1MID0gXCJcIiwgdHlwZW9mIGwgPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgIHRoaXMubm9kZXMuY29udGVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShsKSk7XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoIShsIGluc3RhbmNlb2YgTm9kZSkpXG4gICAgICAgICAgICAgIHRocm93IEVycm9yKFwiW0NvZGVYIFRvb2x0aXBdIFdyb25nIHR5cGUgb2Ygwqtjb250ZW50wrsgcGFzc2VkLiBJdCBzaG91bGQgYmUgYW4gaW5zdGFuY2Ugb2YgTm9kZSBvciBTdHJpbmcuIEJ1dCBcIiArIHR5cGVvZiBsICsgXCIgZ2l2ZW4uXCIpO1xuICAgICAgICAgICAgdGhpcy5ub2Rlcy5jb250ZW50LmFwcGVuZENoaWxkKGwpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzd2l0Y2ggKHRoaXMubm9kZXMud3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKC4uLk9iamVjdC52YWx1ZXModGhpcy5DU1MucGxhY2VtZW50KSksIHUucGxhY2VtZW50KSB7XG4gICAgICAgICAgICBjYXNlIFwidG9wXCI6XG4gICAgICAgICAgICAgIHRoaXMucGxhY2VUb3AoYSwgdSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImxlZnRcIjpcbiAgICAgICAgICAgICAgdGhpcy5wbGFjZUxlZnQoYSwgdSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInJpZ2h0XCI6XG4gICAgICAgICAgICAgIHRoaXMucGxhY2VSaWdodChhLCB1KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYm90dG9tXCI6XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICB0aGlzLnBsYWNlQm90dG9tKGEsIHUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB1ICYmIHUuZGVsYXkgPyB0aGlzLnNob3dpbmdUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm5vZGVzLndyYXBwZXIuY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy50b29sdGlwU2hvd24pLCB0aGlzLnNob3dlZCA9ICEwO1xuICAgICAgICAgIH0sIHUuZGVsYXkpIDogKHRoaXMubm9kZXMud3JhcHBlci5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLnRvb2x0aXBTaG93biksIHRoaXMuc2hvd2VkID0gITApO1xuICAgICAgICB9XG4gICAgICAgIGhpZGUoYSA9ICExKSB7XG4gICAgICAgICAgaWYgKHRoaXMuaGlkaW5nRGVsYXkgJiYgIWEpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oaWRpbmdUaW1lb3V0ICYmIGNsZWFyVGltZW91dCh0aGlzLmhpZGluZ1RpbWVvdXQpLCB2b2lkICh0aGlzLmhpZGluZ1RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5oaWRlKCEwKTtcbiAgICAgICAgICAgIH0sIHRoaXMuaGlkaW5nRGVsYXkpKTtcbiAgICAgICAgICB0aGlzLm5vZGVzLndyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNTUy50b29sdGlwU2hvd24pLCB0aGlzLnNob3dlZCA9ICExLCB0aGlzLnNob3dpbmdUaW1lb3V0ICYmIGNsZWFyVGltZW91dCh0aGlzLnNob3dpbmdUaW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgICBvbkhvdmVyKGEsIGwsIGMpIHtcbiAgICAgICAgICBhLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2hvdyhhLCBsLCBjKTtcbiAgICAgICAgICB9KSwgYS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBkZXN0cm95KCkge1xuICAgICAgICAgIHRoaXMubm9kZXMud3JhcHBlci5yZW1vdmUoKSwgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5oYW5kbGVXaW5kb3dTY3JvbGwpO1xuICAgICAgICB9XG4gICAgICAgIHByZXBhcmUoKSB7XG4gICAgICAgICAgdGhpcy5ub2Rlcy53cmFwcGVyID0gdGhpcy5tYWtlKFwiZGl2XCIsIHRoaXMuQ1NTLnRvb2x0aXApLCB0aGlzLm5vZGVzLmNvbnRlbnQgPSB0aGlzLm1ha2UoXCJkaXZcIiwgdGhpcy5DU1MudG9vbHRpcENvbnRlbnQpLCB0aGlzLmFwcGVuZCh0aGlzLm5vZGVzLndyYXBwZXIsIHRoaXMubm9kZXMuY29udGVudCksIHRoaXMuYXBwZW5kKGRvY3VtZW50LmJvZHksIHRoaXMubm9kZXMud3JhcHBlcik7XG4gICAgICAgIH1cbiAgICAgICAgbG9hZFN0eWxlcygpIHtcbiAgICAgICAgICBjb25zdCBhID0gXCJjb2RleC10b29sdGlwcy1zdHlsZVwiO1xuICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCBsID0gaSgyKSwgYyA9IHRoaXMubWFrZShcInN0eWxlXCIsIG51bGwsIHsgdGV4dENvbnRlbnQ6IGwudG9TdHJpbmcoKSwgaWQ6IGEgfSk7XG4gICAgICAgICAgdGhpcy5wcmVwZW5kKGRvY3VtZW50LmhlYWQsIGMpO1xuICAgICAgICB9XG4gICAgICAgIHBsYWNlQm90dG9tKGEsIGwpIHtcbiAgICAgICAgICBjb25zdCBjID0gYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgdSA9IGMubGVmdCArIGEuY2xpZW50V2lkdGggLyAyIC0gdGhpcy5ub2Rlcy53cmFwcGVyLm9mZnNldFdpZHRoIC8gMiwgaCA9IGMuYm90dG9tICsgd2luZG93LnBhZ2VZT2Zmc2V0ICsgdGhpcy5vZmZzZXRUb3AgKyBsLm1hcmdpblRvcDtcbiAgICAgICAgICB0aGlzLmFwcGx5UGxhY2VtZW50KFwiYm90dG9tXCIsIHUsIGgpO1xuICAgICAgICB9XG4gICAgICAgIHBsYWNlVG9wKGEsIGwpIHtcbiAgICAgICAgICBjb25zdCBjID0gYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgdSA9IGMubGVmdCArIGEuY2xpZW50V2lkdGggLyAyIC0gdGhpcy5ub2Rlcy53cmFwcGVyLm9mZnNldFdpZHRoIC8gMiwgaCA9IGMudG9wICsgd2luZG93LnBhZ2VZT2Zmc2V0IC0gdGhpcy5ub2Rlcy53cmFwcGVyLmNsaWVudEhlaWdodCAtIHRoaXMub2Zmc2V0VG9wO1xuICAgICAgICAgIHRoaXMuYXBwbHlQbGFjZW1lbnQoXCJ0b3BcIiwgdSwgaCk7XG4gICAgICAgIH1cbiAgICAgICAgcGxhY2VMZWZ0KGEsIGwpIHtcbiAgICAgICAgICBjb25zdCBjID0gYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgdSA9IGMubGVmdCAtIHRoaXMubm9kZXMud3JhcHBlci5vZmZzZXRXaWR0aCAtIHRoaXMub2Zmc2V0TGVmdCAtIGwubWFyZ2luTGVmdCwgaCA9IGMudG9wICsgd2luZG93LnBhZ2VZT2Zmc2V0ICsgYS5jbGllbnRIZWlnaHQgLyAyIC0gdGhpcy5ub2Rlcy53cmFwcGVyLm9mZnNldEhlaWdodCAvIDI7XG4gICAgICAgICAgdGhpcy5hcHBseVBsYWNlbWVudChcImxlZnRcIiwgdSwgaCk7XG4gICAgICAgIH1cbiAgICAgICAgcGxhY2VSaWdodChhLCBsKSB7XG4gICAgICAgICAgY29uc3QgYyA9IGEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHUgPSBjLnJpZ2h0ICsgdGhpcy5vZmZzZXRSaWdodCArIGwubWFyZ2luUmlnaHQsIGggPSBjLnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCArIGEuY2xpZW50SGVpZ2h0IC8gMiAtIHRoaXMubm9kZXMud3JhcHBlci5vZmZzZXRIZWlnaHQgLyAyO1xuICAgICAgICAgIHRoaXMuYXBwbHlQbGFjZW1lbnQoXCJyaWdodFwiLCB1LCBoKTtcbiAgICAgICAgfVxuICAgICAgICBhcHBseVBsYWNlbWVudChhLCBsLCBjKSB7XG4gICAgICAgICAgdGhpcy5ub2Rlcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQodGhpcy5DU1MucGxhY2VtZW50W2FdKSwgdGhpcy5ub2Rlcy53cmFwcGVyLnN0eWxlLmxlZnQgPSBsICsgXCJweFwiLCB0aGlzLm5vZGVzLndyYXBwZXIuc3R5bGUudG9wID0gYyArIFwicHhcIjtcbiAgICAgICAgfVxuICAgICAgICBtYWtlKGEsIGwgPSBudWxsLCBjID0ge30pIHtcbiAgICAgICAgICBjb25zdCB1ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhKTtcbiAgICAgICAgICBBcnJheS5pc0FycmF5KGwpID8gdS5jbGFzc0xpc3QuYWRkKC4uLmwpIDogbCAmJiB1LmNsYXNzTGlzdC5hZGQobCk7XG4gICAgICAgICAgZm9yIChjb25zdCBoIGluIGMpXG4gICAgICAgICAgICBjLmhhc093blByb3BlcnR5KGgpICYmICh1W2hdID0gY1toXSk7XG4gICAgICAgICAgcmV0dXJuIHU7XG4gICAgICAgIH1cbiAgICAgICAgYXBwZW5kKGEsIGwpIHtcbiAgICAgICAgICBBcnJheS5pc0FycmF5KGwpID8gbC5mb3JFYWNoKChjKSA9PiBhLmFwcGVuZENoaWxkKGMpKSA6IGEuYXBwZW5kQ2hpbGQobCk7XG4gICAgICAgIH1cbiAgICAgICAgcHJlcGVuZChhLCBsKSB7XG4gICAgICAgICAgQXJyYXkuaXNBcnJheShsKSA/IChsID0gbC5yZXZlcnNlKCkpLmZvckVhY2goKGMpID0+IGEucHJlcGVuZChjKSkgOiBhLnByZXBlbmQobCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbih0LCBvKSB7XG4gICAgICB0LmV4cG9ydHMgPSBgLmN0e3otaW5kZXg6OTk5O29wYWNpdHk6MDstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7cG9pbnRlci1ldmVudHM6bm9uZTstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSA1MG1zIGVhc2UtaW4sLXdlYmtpdC10cmFuc2Zvcm0gNzBtcyBjdWJpYy1iZXppZXIoLjIxNSwuNjEsLjM1NSwxKTt0cmFuc2l0aW9uOm9wYWNpdHkgNTBtcyBlYXNlLWluLC13ZWJraXQtdHJhbnNmb3JtIDcwbXMgY3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSk7dHJhbnNpdGlvbjpvcGFjaXR5IDUwbXMgZWFzZS1pbix0cmFuc2Zvcm0gNzBtcyBjdWJpYy1iZXppZXIoLjIxNSwuNjEsLjM1NSwxKTt0cmFuc2l0aW9uOm9wYWNpdHkgNTBtcyBlYXNlLWluLHRyYW5zZm9ybSA3MG1zIGN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpLC13ZWJraXQtdHJhbnNmb3JtIDcwbXMgY3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSk7d2lsbC1jaGFuZ2U6b3BhY2l0eSx0b3AsbGVmdDstd2Via2l0LWJveC1zaGFkb3c6MCA4cHggMTJweCAwIHJnYmEoMjksMzIsNDMsLjE3KSwwIDRweCA1cHggLTNweCByZ2JhKDUsNiwxMiwuNDkpO2JveC1zaGFkb3c6MCA4cHggMTJweCAwIHJnYmEoMjksMzIsNDMsLjE3KSwwIDRweCA1cHggLTNweCByZ2JhKDUsNiwxMiwuNDkpO2JvcmRlci1yYWRpdXM6OXB4fS5jdCwuY3Q6YmVmb3Jle3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MH0uY3Q6YmVmb3Jle2NvbnRlbnQ6XCJcIjtib3R0b206MDtyaWdodDowO2JhY2tncm91bmQtY29sb3I6IzFkMjAyYjt6LWluZGV4Oi0xO2JvcmRlci1yYWRpdXM6NHB4fUBzdXBwb3J0cygtd2Via2l0LW1hc2stYm94LWltYWdlOnVybChcIlwiKSl7LmN0OmJlZm9yZXtib3JkZXItcmFkaXVzOjA7LXdlYmtpdC1tYXNrLWJveC1pbWFnZTp1cmwoJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiPjxwYXRoIGQ9XCJNMTAuNzEgMGgyLjU4YzMuMDIgMCA0LjY0LjQyIDYuMSAxLjJhOC4xOCA4LjE4IDAgMDEzLjQgMy40QzIzLjYgNi4wNyAyNCA3LjcgMjQgMTAuNzF2Mi41OGMwIDMuMDItLjQyIDQuNjQtMS4yIDYuMWE4LjE4IDguMTggMCAwMS0zLjQgMy40Yy0xLjQ3LjgtMy4xIDEuMjEtNi4xMSAxLjIxSDEwLjdjLTMuMDIgMC00LjY0LS40Mi02LjEtMS4yYTguMTggOC4xOCAwIDAxLTMuNC0zLjRDLjQgMTcuOTMgMCAxNi4zIDAgMTMuMjlWMTAuN2MwLTMuMDIuNDItNC42NCAxLjItNi4xYTguMTggOC4xOCAwIDAxMy40LTMuNEM2LjA3LjQgNy43IDAgMTAuNzEgMHpcIi8+PC9zdmc+JykgNDglIDQxJSAzNy45JSA1My4zJX19QG1lZGlhICgtLW1vYmlsZSl7LmN0e2Rpc3BsYXk6bm9uZX19LmN0X19jb250ZW50e3BhZGRpbmc6NnB4IDEwcHg7Y29sb3I6I2NkZDFlMDtmb250LXNpemU6MTJweDt0ZXh0LWFsaWduOmNlbnRlcjtsZXR0ZXItc3BhY2luZzouMDJlbTtsaW5lLWhlaWdodDoxZW19LmN0OmFmdGVye2NvbnRlbnQ6XCJcIjt3aWR0aDo4cHg7aGVpZ2h0OjhweDtwb3NpdGlvbjphYnNvbHV0ZTtiYWNrZ3JvdW5kLWNvbG9yOiMxZDIwMmI7ei1pbmRleDotMX0uY3QtLWJvdHRvbXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDVweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoNXB4KX0uY3QtLWJvdHRvbTphZnRlcnt0b3A6LTNweDtsZWZ0OjUwJTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpIHJvdGF0ZSgtNDVkZWcpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpIHJvdGF0ZSgtNDVkZWcpfS5jdC0tdG9wey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTVweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTVweCl9LmN0LS10b3A6YWZ0ZXJ7dG9wOmF1dG87Ym90dG9tOi0zcHg7bGVmdDo1MCU7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKSByb3RhdGUoLTQ1ZGVnKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKSByb3RhdGUoLTQ1ZGVnKX0uY3QtLWxlZnR7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtNXB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtNXB4KX0uY3QtLWxlZnQ6YWZ0ZXJ7dG9wOjUwJTtsZWZ0OmF1dG87cmlnaHQ6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUoNDEuNiUsLTUwJSkgcm90YXRlKC00NWRlZyk7dHJhbnNmb3JtOnRyYW5zbGF0ZSg0MS42JSwtNTAlKSByb3RhdGUoLTQ1ZGVnKX0uY3QtLXJpZ2h0ey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoNXB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWCg1cHgpfS5jdC0tcmlnaHQ6YWZ0ZXJ7dG9wOjUwJTtsZWZ0OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlKC00MS42JSwtNTAlKSByb3RhdGUoLTQ1ZGVnKTt0cmFuc2Zvcm06dHJhbnNsYXRlKC00MS42JSwtNTAlKSByb3RhdGUoLTQ1ZGVnKX0uY3QtLXNob3due29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTpub25lO3RyYW5zZm9ybTpub25lfWA7XG4gICAgfV0pLmRlZmF1bHQ7XG4gIH0pO1xufSkoeW8pO1xuY29uc3QgRW8gPSAvKiBAX19QVVJFX18gKi8geGUoQWUpO1xuY2xhc3MgSGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmxpYiA9IG5ldyBFbygpO1xuICB9XG4gIC8qKlxuICAgKiBSZWxlYXNlIHRoZSBsaWJyYXJ5XG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMubGliLmRlc3Ryb3koKTtcbiAgfVxuICAvKipcbiAgICogU2hvd3MgdG9vbHRpcCBvbiBlbGVtZW50IHdpdGggcGFzc2VkIEhUTUwgY29udGVudFxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gYW55IEhUTUwgZWxlbWVudCBpbiBET01cbiAgICogQHBhcmFtIGNvbnRlbnQgLSB0b29sdGlwJ3MgY29udGVudFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIHNob3dpbmcgc2V0dGluZ3NcbiAgICovXG4gIHNob3coZSwgdCwgbykge1xuICAgIHRoaXMubGliLnNob3coZSwgdCwgbyk7XG4gIH1cbiAgLyoqXG4gICAqIEhpZGVzIHRvb2x0aXBcbiAgICpcbiAgICogQHBhcmFtIHNraXBIaWRpbmdEZWxheSDigJQgcGFzcyB0cnVlIHRvIGltbWVkaWF0ZWx5IGhpZGUgdGhlIHRvb2x0aXBcbiAgICovXG4gIGhpZGUoZSA9ICExKSB7XG4gICAgdGhpcy5saWIuaGlkZShlKTtcbiAgfVxuICAvKipcbiAgICogQmluZHMgJ21vdXNlZW50ZXInIGFuZCAnbW91c2VsZWF2ZScgZXZlbnRzIHRoYXQgc2hvd3MvaGlkZXMgdGhlIFRvb2x0aXBcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIGFueSBIVE1MIGVsZW1lbnQgaW4gRE9NXG4gICAqIEBwYXJhbSBjb250ZW50IC0gdG9vbHRpcCdzIGNvbnRlbnRcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBzaG93aW5nIHNldHRpbmdzXG4gICAqL1xuICBvbkhvdmVyKGUsIHQsIG8pIHtcbiAgICB0aGlzLmxpYi5vbkhvdmVyKGUsIHQsIG8pO1xuICB9XG59XG5jbGFzcyBCbyBleHRlbmRzIEMge1xuICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBwYXJhbSBtb2R1bGVDb25maWd1cmF0aW9uIC0gTW9kdWxlIENvbmZpZ3VyYXRpb25cbiAgICogQHBhcmFtIG1vZHVsZUNvbmZpZ3VyYXRpb24uY29uZmlnIC0gRWRpdG9yJ3MgY29uZmlnXG4gICAqIEBwYXJhbSBtb2R1bGVDb25maWd1cmF0aW9uLmV2ZW50c0Rpc3BhdGNoZXIgLSBFZGl0b3IncyBldmVudCBkaXNwYXRjaGVyXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IGNvbmZpZzogZSwgZXZlbnRzRGlzcGF0Y2hlcjogdCB9KSB7XG4gICAgc3VwZXIoe1xuICAgICAgY29uZmlnOiBlLFxuICAgICAgZXZlbnRzRGlzcGF0Y2hlcjogdFxuICAgIH0pLCB0aGlzLnRvb2x0aXAgPSBuZXcgSGUoKTtcbiAgfVxuICAvKipcbiAgICogRGVzdHJveSBNb2R1bGVcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy50b29sdGlwLmRlc3Ryb3koKTtcbiAgfVxuICAvKipcbiAgICogQXZhaWxhYmxlIG1ldGhvZHNcbiAgICovXG4gIGdldCBtZXRob2RzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzaG93OiAoZSwgdCwgbykgPT4gdGhpcy5zaG93KGUsIHQsIG8pLFxuICAgICAgaGlkZTogKCkgPT4gdGhpcy5oaWRlKCksXG4gICAgICBvbkhvdmVyOiAoZSwgdCwgbykgPT4gdGhpcy5vbkhvdmVyKGUsIHQsIG8pXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogTWV0aG9kIHNob3cgdG9vbHRpcCBvbiBlbGVtZW50IHdpdGggcGFzc2VkIEhUTUwgY29udGVudFxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gZWxlbWVudCBvbiB3aGljaCB0b29sdGlwIHNob3VsZCBiZSBzaG93blxuICAgKiBAcGFyYW0ge1Rvb2x0aXBDb250ZW50fSBjb250ZW50IC0gdG9vbHRpcCBjb250ZW50XG4gICAqIEBwYXJhbSB7VG9vbHRpcE9wdGlvbnN9IG9wdGlvbnMgLSB0b29sdGlwIG9wdGlvbnNcbiAgICovXG4gIHNob3coZSwgdCwgbykge1xuICAgIHRoaXMudG9vbHRpcC5zaG93KGUsIHQsIG8pO1xuICB9XG4gIC8qKlxuICAgKiBNZXRob2QgaGlkZXMgdG9vbHRpcCBvbiBIVE1MIHBhZ2VcbiAgICovXG4gIGhpZGUoKSB7XG4gICAgdGhpcy50b29sdGlwLmhpZGUoKTtcbiAgfVxuICAvKipcbiAgICogRGVjb3JhdG9yIGZvciBzaG93aW5nIFRvb2x0aXAgYnkgbW91c2VlbnRlci9tb3VzZWxlYXZlXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBlbGVtZW50IG9uIHdoaWNoIHRvb2x0aXAgc2hvdWxkIGJlIHNob3duXG4gICAqIEBwYXJhbSB7VG9vbHRpcENvbnRlbnR9IGNvbnRlbnQgLSB0b29sdGlwIGNvbnRlbnRcbiAgICogQHBhcmFtIHtUb29sdGlwT3B0aW9uc30gb3B0aW9ucyAtIHRvb2x0aXAgb3B0aW9uc1xuICAgKi9cbiAgb25Ib3ZlcihlLCB0LCBvKSB7XG4gICAgdGhpcy50b29sdGlwLm9uSG92ZXIoZSwgdCwgbyk7XG4gIH1cbn1cbmNsYXNzIFRvIGV4dGVuZHMgQyB7XG4gIC8qKlxuICAgKiBBdmFpbGFibGUgbWV0aG9kcyAvIGdldHRlcnNcbiAgICovXG4gIGdldCBtZXRob2RzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBub2RlczogdGhpcy5lZGl0b3JOb2Rlc1xuICAgICAgLyoqXG4gICAgICAgKiBUaGVyZSBjYW4gYmUgYWRkZWQgc29tZSBVSSBtZXRob2RzLCBsaWtlIHRvZ2dsZVRoaW5Nb2RlKCkgZXRjXG4gICAgICAgKi9cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBFeHBvcnRlZCBjbGFzc2VzXG4gICAqL1xuICBnZXQgZWRpdG9yTm9kZXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8qKlxuICAgICAgICogVG9wLWxldmVsIGVkaXRvciBpbnN0YW5jZSB3cmFwcGVyXG4gICAgICAgKi9cbiAgICAgIHdyYXBwZXI6IHRoaXMuRWRpdG9yLlVJLm5vZGVzLndyYXBwZXIsXG4gICAgICAvKipcbiAgICAgICAqIEVsZW1lbnQgdGhhdCBob2xkcyBhbGwgdGhlIEJsb2Nrc1xuICAgICAgICovXG4gICAgICByZWRhY3RvcjogdGhpcy5FZGl0b3IuVUkubm9kZXMucmVkYWN0b3JcbiAgICB9O1xuICB9XG59XG5mdW5jdGlvbiBwdChzLCBlKSB7XG4gIGNvbnN0IHQgPSB7fTtcbiAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHMpLmZvckVhY2goKFtvLCBpXSkgPT4ge1xuICAgIGlmICh6KGkpKSB7XG4gICAgICBjb25zdCBuID0gZSA/IGAke2V9LiR7b31gIDogbztcbiAgICAgIE9iamVjdC52YWx1ZXMoaSkuZXZlcnkoKGEpID0+IEooYSkpID8gdFtvXSA9IG4gOiB0W29dID0gcHQoaSwgbik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRbb10gPSBpO1xuICB9KSwgdDtcbn1cbmNvbnN0IFggPSBwdChhdCk7XG5mdW5jdGlvbiBDbyhzLCBlKSB7XG4gIGNvbnN0IHQgPSB7fTtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHMpLmZvckVhY2goKG8pID0+IHtcbiAgICBjb25zdCBpID0gZVtvXTtcbiAgICBpICE9PSB2b2lkIDAgPyB0W2ldID0gc1tvXSA6IHRbb10gPSBzW29dO1xuICB9KSwgdDtcbn1cbmNvbnN0IFNvID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk05IDEyTDkgNy4xQzkgNy4wNDQ3NyA5LjA0NDc3IDcgOS4xIDdIMTAuNEMxMS41IDcgMTQgNy4xIDE0IDkuNUMxNCA5LjUgMTQgMTIgMTEgMTJNOSAxMlYxNi44QzkgMTYuOTEwNSA5LjA4OTU0IDE3IDkuMiAxN0gxMi41QzE0IDE3IDE1IDE2IDE1IDE0LjVDMTUgMTEuNzA0NiAxMSAxMiAxMSAxMk05IDEySDExXCIvPjwvc3ZnPicsIGZ0ID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk03IDEwTDExLjg1ODYgMTQuODU4NkMxMS45MzY3IDE0LjkzNjcgMTIuMDYzMyAxNC45MzY3IDEyLjE0MTQgMTQuODU4NkwxNyAxMFwiLz48L3N2Zz4nLCBJbyA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNyAxNUwxMS44NTg2IDEwLjE0MTRDMTEuOTM2NyAxMC4wNjMzIDEyLjA2MzMgMTAuMDYzMyAxMi4xNDE0IDEwLjE0MTRMMTcgMTVcIi8+PC9zdmc+JywgTW8gPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTggOEwxMiAxMk0xMiAxMkwxNiAxNk0xMiAxMkwxNiA4TTEyIDEyTDggMTZcIi8+PC9zdmc+JywgTG8gPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PGNpcmNsZSBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCI0XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz48L3N2Zz4nLCBPbyA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTMuMzQgMTBDMTIuNDIyMyAxMi43MzM3IDExIDE3IDExIDE3XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNC4yMSA3SDE0LjJcIi8+PC9zdmc+JywgUWUgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTcuNjk5OTggMTIuNkw3LjY3ODk2IDEyLjYyQzYuNTM5OTMgMTMuNzA0OCA2LjUyMDEyIDE1LjUxNTUgNy42MzUxNiAxNi42MjVWMTYuNjI1QzguNzIyOTMgMTcuNzA3MyAxMC40Nzk5IDE3LjcxMDIgMTEuNTcxMiAxNi42MzE0TDEzLjAyNjMgMTUuMTkzQzE0LjA3MDMgMTQuMTYwOSAxNC4yMTQxIDEyLjUyNSAxMy4zNjYyIDExLjMyNjZMMTMuMjIgMTEuMTJcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE2LjIyIDExLjEyTDE2LjM1NjQgMTAuOTgwNUMxNy4yODk1IDEwLjAyNjUgMTcuMzQ3OCA4LjUyMDcgMTYuNDkxNCA3LjQ5NzMzVjcuNDk3MzNDMTUuNTY5MSA2LjM5NTA5IDEzLjkyNjkgNi4yNTE0MyAxMi44MjcxIDcuMTc2NzVMMTEuMzkwMSA4LjM4NTg4QzEwLjA5MzUgOS40NzY3NCA5Ljk1NzA2IDExLjQyNDEgMTEuMDg4OCAxMi42ODUyTDExLjEyIDEyLjcyXCIvPjwvc3ZnPicsIEFvID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyLjZcIiBkPVwiTTkuNDA5OTkgNy4yOTk5OUg5LjRcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjIuNlwiIGQ9XCJNMTQuNiA3LjI5OTk5SDE0LjU5XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyLjZcIiBkPVwiTTkuMzA5OTkgMTJIOS4zXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyLjZcIiBkPVwiTTE0LjYgMTJIMTQuNTlcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjIuNlwiIGQ9XCJNOS40MDk5OSAxNi43SDkuNFwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMi42XCIgZD1cIk0xNC42IDE2LjdIMTQuNTlcIi8+PC9zdmc+JywgX28gPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTEyIDdWMTJNMTIgMTdWMTJNMTcgMTJIMTJNMTIgMTJIN1wiLz48L3N2Zz4nLCBObyA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48Y2lyY2xlIGN4PVwiMTAuNVwiIGN5PVwiMTAuNVwiIHI9XCI1LjVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIvPjxsaW5lIHgxPVwiMTUuNDE0MlwiIHgyPVwiMTlcIiB5MT1cIjE1XCIgeTI9XCIxOC41ODU4XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIi8+PC9zdmc+JywgUm8gPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE1Ljc3OTUgMTEuNUMxNS43Nzk1IDExLjUgMTYuMDUzIDExLjE5NjIgMTYuNTQ5NyAxMC42NzIyQzE3LjQ0NDIgOS43Mjg1NiAxNy40NzAxIDguMjQ3NSAxNi41NzgxIDcuMzAxNDVWNy4zMDE0NUMxNS42NDgyIDYuMzE1MjIgMTQuMDg3MyA2LjI5MjI3IDEzLjEyODggNy4yNTA3M0wxMS44Nzk2IDguNDk5OTlcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTguMjQ1MTcgMTIuMzg4M0M4LjI0NTE3IDEyLjM4ODMgNy45NzE3MSAxMi42OTIyIDcuNDc1MDQgMTMuMjE2MUM2LjU4MDUxIDE0LjE1OTggNi41NTQ2NyAxNS42NDA4IDcuNDQ2NjYgMTYuNTg2OVYxNi41ODY5QzguMzc2NTMgMTcuNTczMSA5LjkzNzQ0IDE3LjU5NjEgMTAuODk1OSAxNi42Mzc2TDEyLjE0NTIgMTUuMzg4M1wiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTcuNzgwMiAxNS4xMDMyTDE2LjU5NyAxNC45NDIyQzE2LjAxMDkgMTQuODYyNCAxNS40ODQxIDE1LjMwNTkgMTUuNDYyNyAxNS44OTY5TDE1LjQxOTkgMTcuMDgxOFwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNi4zOTA2NCA5LjAzMjM4TDcuNTg0MzIgOS4wNjY2OEM4LjE3NTUxIDkuMDgzNjYgOC42NTIyIDguNTg2NjUgOC42MTA1NiA3Ljk5NjY5TDguNTI3MSA2LjgxMzk3XCIvPjxsaW5lIHgxPVwiMTIuMTE0MlwiIHgyPVwiMTEuN1wiIHkxPVwiMTIuMlwiIHkyPVwiMTEuNzg1OFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIvPjwvc3ZnPicsIERvID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxyZWN0IHdpZHRoPVwiMTRcIiBoZWlnaHQ9XCIxNFwiIHg9XCI1XCIgeT1cIjVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgcng9XCI0XCIvPjxsaW5lIHgxPVwiMTJcIiB4Mj1cIjEyXCIgeTE9XCI5XCIgeTI9XCIxMlwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMiAxNS4wMlYxNS4wMVwiLz48L3N2Zz4nO1xuY2xhc3MgUCB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIHBvcG92ZXIgaXRlbSBpbnN0YW5jZVxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gcG9wb3ZlciBpdGVtIGNvbnN0cnVjdGlvbiBwYXJhbXNcbiAgICovXG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICB0aGlzLm5vZGVzID0ge1xuICAgICAgcm9vdDogbnVsbCxcbiAgICAgIGljb246IG51bGxcbiAgICB9LCB0aGlzLmNvbmZpcm1hdGlvblN0YXRlID0gbnVsbCwgdGhpcy5yZW1vdmVTcGVjaWFsRm9jdXNCZWhhdmlvciA9ICgpID0+IHtcbiAgICAgIHRoaXMubm9kZXMucm9vdC5jbGFzc0xpc3QucmVtb3ZlKFAuQ1NTLm5vRm9jdXMpO1xuICAgIH0sIHRoaXMucmVtb3ZlU3BlY2lhbEhvdmVyQmVoYXZpb3IgPSAoKSA9PiB7XG4gICAgICB0aGlzLm5vZGVzLnJvb3QuY2xhc3NMaXN0LnJlbW92ZShQLkNTUy5ub0hvdmVyKTtcbiAgICB9LCB0aGlzLm9uRXJyb3JBbmltYXRpb25FbmQgPSAoKSA9PiB7XG4gICAgICB0aGlzLm5vZGVzLmljb24uY2xhc3NMaXN0LnJlbW92ZShQLkNTUy53b2JibGVBbmltYXRpb24pLCB0aGlzLm5vZGVzLmljb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLCB0aGlzLm9uRXJyb3JBbmltYXRpb25FbmQpO1xuICAgIH0sIHRoaXMucGFyYW1zID0gZSwgdGhpcy5ub2Rlcy5yb290ID0gdGhpcy5tYWtlKGUpO1xuICB9XG4gIC8qKlxuICAgKiBUcnVlIGlmIGl0ZW0gaXMgZGlzYWJsZWQgYW5kIGhlbmNlIG5vdCBjbGlja2FibGVcbiAgICovXG4gIGdldCBpc0Rpc2FibGVkKCkge1xuICAgIHJldHVybiB0aGlzLnBhcmFtcy5pc0Rpc2FibGVkO1xuICB9XG4gIC8qKlxuICAgKiBFeHBvc2VzIHBvcG92ZXIgaXRlbSB0b2dnbGUgcGFyYW1ldGVyXG4gICAqL1xuICBnZXQgdG9nZ2xlKCkge1xuICAgIHJldHVybiB0aGlzLnBhcmFtcy50b2dnbGU7XG4gIH1cbiAgLyoqXG4gICAqIEl0ZW0gdGl0bGVcbiAgICovXG4gIGdldCB0aXRsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5wYXJhbXMudGl0bGU7XG4gIH1cbiAgLyoqXG4gICAqIFRydWUgaWYgcG9wb3ZlciBzaG91bGQgY2xvc2Ugb25jZSBpdGVtIGlzIGFjdGl2YXRlZFxuICAgKi9cbiAgZ2V0IGNsb3NlT25BY3RpdmF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5wYXJhbXMuY2xvc2VPbkFjdGl2YXRlO1xuICB9XG4gIC8qKlxuICAgKiBUcnVlIGlmIGNvbmZpcm1hdGlvbiBzdGF0ZSBpcyBlbmFibGVkIGZvciBwb3BvdmVyIGl0ZW1cbiAgICovXG4gIGdldCBpc0NvbmZpcm1hdGlvblN0YXRlRW5hYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb25maXJtYXRpb25TdGF0ZSAhPT0gbnVsbDtcbiAgfVxuICAvKipcbiAgICogVHJ1ZSBpZiBpdGVtIGlzIGZvY3VzZWQgaW4ga2V5Ym9hcmQgbmF2aWdhdGlvbiBwcm9jZXNzXG4gICAqL1xuICBnZXQgaXNGb2N1c2VkKCkge1xuICAgIHJldHVybiB0aGlzLm5vZGVzLnJvb3QuY2xhc3NMaXN0LmNvbnRhaW5zKFAuQ1NTLmZvY3VzZWQpO1xuICB9XG4gIC8qKlxuICAgKiBQb3BvdmVyIGl0ZW0gQ1NTIGNsYXNzZXNcbiAgICovXG4gIHN0YXRpYyBnZXQgQ1NTKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjb250YWluZXI6IFwiY2UtcG9wb3Zlci1pdGVtXCIsXG4gICAgICB0aXRsZTogXCJjZS1wb3BvdmVyLWl0ZW1fX3RpdGxlXCIsXG4gICAgICBzZWNvbmRhcnlUaXRsZTogXCJjZS1wb3BvdmVyLWl0ZW1fX3NlY29uZGFyeS10aXRsZVwiLFxuICAgICAgaWNvbjogXCJjZS1wb3BvdmVyLWl0ZW1fX2ljb25cIixcbiAgICAgIGFjdGl2ZTogXCJjZS1wb3BvdmVyLWl0ZW0tLWFjdGl2ZVwiLFxuICAgICAgZGlzYWJsZWQ6IFwiY2UtcG9wb3Zlci1pdGVtLS1kaXNhYmxlZFwiLFxuICAgICAgZm9jdXNlZDogXCJjZS1wb3BvdmVyLWl0ZW0tLWZvY3VzZWRcIixcbiAgICAgIGhpZGRlbjogXCJjZS1wb3BvdmVyLWl0ZW0tLWhpZGRlblwiLFxuICAgICAgY29uZmlybWF0aW9uU3RhdGU6IFwiY2UtcG9wb3Zlci1pdGVtLS1jb25maXJtYXRpb25cIixcbiAgICAgIG5vSG92ZXI6IFwiY2UtcG9wb3Zlci1pdGVtLS1uby1ob3ZlclwiLFxuICAgICAgbm9Gb2N1czogXCJjZS1wb3BvdmVyLWl0ZW0tLW5vLWZvY3VzXCIsXG4gICAgICB3b2JibGVBbmltYXRpb246IFwid29iYmxlXCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHBvcG92ZXIgaXRlbSByb290IGVsZW1lbnRcbiAgICovXG4gIGdldEVsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXMucm9vdDtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIG9uIHBvcG92ZXIgaXRlbSBjbGlja1xuICAgKi9cbiAgaGFuZGxlQ2xpY2soKSB7XG4gICAgaWYgKHRoaXMuaXNDb25maXJtYXRpb25TdGF0ZUVuYWJsZWQpIHtcbiAgICAgIHRoaXMuYWN0aXZhdGVPckVuYWJsZUNvbmZpcm1hdGlvbk1vZGUodGhpcy5jb25maXJtYXRpb25TdGF0ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuYWN0aXZhdGVPckVuYWJsZUNvbmZpcm1hdGlvbk1vZGUodGhpcy5wYXJhbXMpO1xuICB9XG4gIC8qKlxuICAgKiBUb2dnbGVzIGl0ZW0gYWN0aXZlIHN0YXRlXG4gICAqXG4gICAqIEBwYXJhbSBpc0FjdGl2ZSAtIHRydWUgaWYgaXRlbSBzaG91bGQgc3RyaWN0bHkgc2hvdWxkIGJlY29tZSBhY3RpdmVcbiAgICovXG4gIHRvZ2dsZUFjdGl2ZShlKSB7XG4gICAgdGhpcy5ub2Rlcy5yb290LmNsYXNzTGlzdC50b2dnbGUoUC5DU1MuYWN0aXZlLCBlKTtcbiAgfVxuICAvKipcbiAgICogVG9nZ2xlcyBpdGVtIGhpZGRlbiBzdGF0ZVxuICAgKlxuICAgKiBAcGFyYW0gaXNIaWRkZW4gLSB0cnVlIGlmIGl0ZW0gc2hvdWxkIGJlIGhpZGRlblxuICAgKi9cbiAgdG9nZ2xlSGlkZGVuKGUpIHtcbiAgICB0aGlzLm5vZGVzLnJvb3QuY2xhc3NMaXN0LnRvZ2dsZShQLkNTUy5oaWRkZW4sIGUpO1xuICB9XG4gIC8qKlxuICAgKiBSZXNldHMgcG9wb3ZlciBpdGVtIHRvIGl0cyBvcmlnaW5hbCBzdGF0ZVxuICAgKi9cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5pc0NvbmZpcm1hdGlvblN0YXRlRW5hYmxlZCAmJiB0aGlzLmRpc2FibGVDb25maXJtYXRpb25Nb2RlKCk7XG4gIH1cbiAgLyoqXG4gICAqIE1ldGhvZCBjYWxsZWQgb25jZSBpdGVtIGJlY29tZXMgZm9jdXNlZCBkdXJpbmcga2V5Ym9hcmQgbmF2aWdhdGlvblxuICAgKi9cbiAgb25Gb2N1cygpIHtcbiAgICB0aGlzLmRpc2FibGVTcGVjaWFsSG92ZXJBbmRGb2N1c0JlaGF2aW9yKCk7XG4gIH1cbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgSFRNTCBlbGVtZW50IGNvcnJlc3BvbmRpbmcgdG8gcG9wb3ZlciBpdGVtIHBhcmFtc1xuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gaXRlbSBjb25zdHJ1Y3Rpb24gcGFyYW1zXG4gICAqL1xuICBtYWtlKGUpIHtcbiAgICBjb25zdCB0ID0gZC5tYWtlKFwiZGl2XCIsIFAuQ1NTLmNvbnRhaW5lcik7XG4gICAgcmV0dXJuIGUubmFtZSAmJiAodC5kYXRhc2V0Lml0ZW1OYW1lID0gZS5uYW1lKSwgdGhpcy5ub2Rlcy5pY29uID0gZC5tYWtlKFwiZGl2XCIsIFAuQ1NTLmljb24sIHtcbiAgICAgIGlubmVySFRNTDogZS5pY29uIHx8IExvXG4gICAgfSksIHQuYXBwZW5kQ2hpbGQodGhpcy5ub2Rlcy5pY29uKSwgdC5hcHBlbmRDaGlsZChkLm1ha2UoXCJkaXZcIiwgUC5DU1MudGl0bGUsIHtcbiAgICAgIGlubmVySFRNTDogZS50aXRsZSB8fCBcIlwiXG4gICAgfSkpLCBlLnNlY29uZGFyeUxhYmVsICYmIHQuYXBwZW5kQ2hpbGQoZC5tYWtlKFwiZGl2XCIsIFAuQ1NTLnNlY29uZGFyeVRpdGxlLCB7XG4gICAgICB0ZXh0Q29udGVudDogZS5zZWNvbmRhcnlMYWJlbFxuICAgIH0pKSwgZS5pc0FjdGl2ZSAmJiB0LmNsYXNzTGlzdC5hZGQoUC5DU1MuYWN0aXZlKSwgZS5pc0Rpc2FibGVkICYmIHQuY2xhc3NMaXN0LmFkZChQLkNTUy5kaXNhYmxlZCksIHQ7XG4gIH1cbiAgLyoqXG4gICAqIEFjdGl2YXRlcyBjb25maXJtYXRpb24gbW9kZSBmb3IgdGhlIGl0ZW0uXG4gICAqXG4gICAqIEBwYXJhbSBuZXdTdGF0ZSAtIG5ldyBwb3BvdmVyIGl0ZW0gcGFyYW1zIHRoYXQgc2hvdWxkIGJlIGFwcGxpZWRcbiAgICovXG4gIGVuYWJsZUNvbmZpcm1hdGlvbk1vZGUoZSkge1xuICAgIGNvbnN0IHQgPSB7XG4gICAgICAuLi50aGlzLnBhcmFtcyxcbiAgICAgIC4uLmUsXG4gICAgICBjb25maXJtYXRpb246IGUuY29uZmlybWF0aW9uXG4gICAgfSwgbyA9IHRoaXMubWFrZSh0KTtcbiAgICB0aGlzLm5vZGVzLnJvb3QuaW5uZXJIVE1MID0gby5pbm5lckhUTUwsIHRoaXMubm9kZXMucm9vdC5jbGFzc0xpc3QuYWRkKFAuQ1NTLmNvbmZpcm1hdGlvblN0YXRlKSwgdGhpcy5jb25maXJtYXRpb25TdGF0ZSA9IGUsIHRoaXMuZW5hYmxlU3BlY2lhbEhvdmVyQW5kRm9jdXNCZWhhdmlvcigpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGl0ZW0gdG8gaXRzIG9yaWdpbmFsIHN0YXRlXG4gICAqL1xuICBkaXNhYmxlQ29uZmlybWF0aW9uTW9kZSgpIHtcbiAgICBjb25zdCBlID0gdGhpcy5tYWtlKHRoaXMucGFyYW1zKTtcbiAgICB0aGlzLm5vZGVzLnJvb3QuaW5uZXJIVE1MID0gZS5pbm5lckhUTUwsIHRoaXMubm9kZXMucm9vdC5jbGFzc0xpc3QucmVtb3ZlKFAuQ1NTLmNvbmZpcm1hdGlvblN0YXRlKSwgdGhpcy5jb25maXJtYXRpb25TdGF0ZSA9IG51bGwsIHRoaXMuZGlzYWJsZVNwZWNpYWxIb3ZlckFuZEZvY3VzQmVoYXZpb3IoKTtcbiAgfVxuICAvKipcbiAgICogRW5hYmxlcyBzcGVjaWFsIGZvY3VzIGFuZCBob3ZlciBiZWhhdmlvciBmb3IgaXRlbSBpbiBjb25maXJtYXRpb24gc3RhdGUuXG4gICAqIFRoaXMgaXMgbmVlZGVkIHRvIHByZXZlbnQgaXRlbSBmcm9tIGJlaW5nIGhpZ2hsaWdodGVkIGFzIGhvdmVyZWQvZm9jdXNlZCBqdXN0IGFmdGVyIGNsaWNrLlxuICAgKi9cbiAgZW5hYmxlU3BlY2lhbEhvdmVyQW5kRm9jdXNCZWhhdmlvcigpIHtcbiAgICB0aGlzLm5vZGVzLnJvb3QuY2xhc3NMaXN0LmFkZChQLkNTUy5ub0hvdmVyKSwgdGhpcy5ub2Rlcy5yb290LmNsYXNzTGlzdC5hZGQoUC5DU1Mubm9Gb2N1cyksIHRoaXMubm9kZXMucm9vdC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCB0aGlzLnJlbW92ZVNwZWNpYWxIb3ZlckJlaGF2aW9yLCB7IG9uY2U6ICEwIH0pO1xuICB9XG4gIC8qKlxuICAgKiBEaXNhYmxlcyBzcGVjaWFsIGZvY3VzIGFuZCBob3ZlciBiZWhhdmlvclxuICAgKi9cbiAgZGlzYWJsZVNwZWNpYWxIb3ZlckFuZEZvY3VzQmVoYXZpb3IoKSB7XG4gICAgdGhpcy5yZW1vdmVTcGVjaWFsRm9jdXNCZWhhdmlvcigpLCB0aGlzLnJlbW92ZVNwZWNpYWxIb3ZlckJlaGF2aW9yKCksIHRoaXMubm9kZXMucm9vdC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCB0aGlzLnJlbW92ZVNwZWNpYWxIb3ZlckJlaGF2aW9yKTtcbiAgfVxuICAvKipcbiAgICogRXhlY3V0ZXMgaXRlbSdzIG9uQWN0aXZhdGUgY2FsbGJhY2sgaWYgdGhlIGl0ZW0gaGFzIG5vIGNvbmZpcm1hdGlvbiBjb25maWd1cmVkXG4gICAqXG4gICAqIEBwYXJhbSBpdGVtIC0gaXRlbSB0byBhY3RpdmF0ZSBvciBicmluZyB0byBjb25maXJtYXRpb24gbW9kZVxuICAgKi9cbiAgYWN0aXZhdGVPckVuYWJsZUNvbmZpcm1hdGlvbk1vZGUoZSkge1xuICAgIGlmIChlLmNvbmZpcm1hdGlvbiA9PT0gdm9pZCAwKVxuICAgICAgdHJ5IHtcbiAgICAgICAgZS5vbkFjdGl2YXRlKGUpLCB0aGlzLmRpc2FibGVDb25maXJtYXRpb25Nb2RlKCk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgdGhpcy5hbmltYXRlRXJyb3IoKTtcbiAgICAgIH1cbiAgICBlbHNlXG4gICAgICB0aGlzLmVuYWJsZUNvbmZpcm1hdGlvbk1vZGUoZS5jb25maXJtYXRpb24pO1xuICB9XG4gIC8qKlxuICAgKiBBbmltYXRlcyBpdGVtIHdoaWNoIHN5bWJvbGl6ZXMgdGhhdCBlcnJvciBvY2N1cmVkIHdoaWxlIGV4ZWN1dGluZyAnb25BY3RpdmF0ZSgpJyBjYWxsYmFja1xuICAgKi9cbiAgYW5pbWF0ZUVycm9yKCkge1xuICAgIHRoaXMubm9kZXMuaWNvbi5jbGFzc0xpc3QuY29udGFpbnMoUC5DU1Mud29iYmxlQW5pbWF0aW9uKSB8fCAodGhpcy5ub2Rlcy5pY29uLmNsYXNzTGlzdC5hZGQoUC5DU1Mud29iYmxlQW5pbWF0aW9uKSwgdGhpcy5ub2Rlcy5pY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25lbmRcIiwgdGhpcy5vbkVycm9yQW5pbWF0aW9uRW5kKSk7XG4gIH1cbn1cbmNvbnN0IGhlID0gY2xhc3Mge1xuICAvKipcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudFtdfSBub2RlTGlzdCDigJQgdGhlIGxpc3Qgb2YgaXRlcmFibGUgSFRNTC1pdGVtc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gZm9jdXNlZENzc0NsYXNzIC0gdXNlci1wcm92aWRlZCBDU1MtY2xhc3MgdGhhdCB3aWxsIGJlIHNldCBpbiBmbGlwcGluZyBwcm9jZXNzXG4gICAqL1xuICBjb25zdHJ1Y3RvcihzLCBlKSB7XG4gICAgdGhpcy5jdXJzb3IgPSAtMSwgdGhpcy5pdGVtcyA9IFtdLCB0aGlzLml0ZW1zID0gcyB8fCBbXSwgdGhpcy5mb2N1c2VkQ3NzQ2xhc3MgPSBlO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIEZvY3VzZWQgYnV0dG9uIE5vZGVcbiAgICpcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgKi9cbiAgZ2V0IGN1cnJlbnRJdGVtKCkge1xuICAgIHJldHVybiB0aGlzLmN1cnNvciA9PT0gLTEgPyBudWxsIDogdGhpcy5pdGVtc1t0aGlzLmN1cnNvcl07XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgY3Vyc29yIHRvIHNwZWNpZmllZCBwb3NpdGlvblxuICAgKlxuICAgKiBAcGFyYW0gY3Vyc29yUG9zaXRpb24gLSBuZXcgY3Vyc29yIHBvc2l0aW9uXG4gICAqL1xuICBzZXRDdXJzb3Iocykge1xuICAgIHMgPCB0aGlzLml0ZW1zLmxlbmd0aCAmJiBzID49IC0xICYmICh0aGlzLmRyb3BDdXJzb3IoKSwgdGhpcy5jdXJzb3IgPSBzLCB0aGlzLml0ZW1zW3RoaXMuY3Vyc29yXS5jbGFzc0xpc3QuYWRkKHRoaXMuZm9jdXNlZENzc0NsYXNzKSk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgaXRlbXMuIENhbiBiZSB1c2VkIHdoZW4gaXRlcmFibGUgaXRlbXMgY2hhbmdlZCBkeW5hbWljYWxseVxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50W119IG5vZGVMaXN0IC0gbm9kZXMgdG8gaXRlcmF0ZVxuICAgKi9cbiAgc2V0SXRlbXMocykge1xuICAgIHRoaXMuaXRlbXMgPSBzO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIGN1cnNvciBuZXh0IHRvIHRoZSBjdXJyZW50XG4gICAqL1xuICBuZXh0KCkge1xuICAgIHRoaXMuY3Vyc29yID0gdGhpcy5sZWFmTm9kZXNBbmRSZXR1cm5JbmRleChoZS5kaXJlY3Rpb25zLlJJR0hUKTtcbiAgfVxuICAvKipcbiAgICogU2V0cyBjdXJzb3IgYmVmb3JlIGN1cnJlbnRcbiAgICovXG4gIHByZXZpb3VzKCkge1xuICAgIHRoaXMuY3Vyc29yID0gdGhpcy5sZWFmTm9kZXNBbmRSZXR1cm5JbmRleChoZS5kaXJlY3Rpb25zLkxFRlQpO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIGN1cnNvciB0byB0aGUgZGVmYXVsdCBwb3NpdGlvbiBhbmQgcmVtb3ZlcyBDU1MtY2xhc3MgZnJvbSBwcmV2aW91c2x5IGZvY3VzZWQgaXRlbVxuICAgKi9cbiAgZHJvcEN1cnNvcigpIHtcbiAgICB0aGlzLmN1cnNvciAhPT0gLTEgJiYgKHRoaXMuaXRlbXNbdGhpcy5jdXJzb3JdLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5mb2N1c2VkQ3NzQ2xhc3MpLCB0aGlzLmN1cnNvciA9IC0xKTtcbiAgfVxuICAvKipcbiAgICogTGVhZnMgbm9kZXMgaW5zaWRlIHRoZSB0YXJnZXQgbGlzdCBmcm9tIGFjdGl2ZSBlbGVtZW50XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkaXJlY3Rpb24gLSBsZWFmIGRpcmVjdGlvbi4gQ2FuIGJlICdsZWZ0JyBvciAncmlnaHQnXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IGluZGV4IG9mIGZvY3VzZWQgbm9kZVxuICAgKi9cbiAgbGVhZk5vZGVzQW5kUmV0dXJuSW5kZXgocykge1xuICAgIGlmICh0aGlzLml0ZW1zLmxlbmd0aCA9PT0gMClcbiAgICAgIHJldHVybiB0aGlzLmN1cnNvcjtcbiAgICBsZXQgZSA9IHRoaXMuY3Vyc29yO1xuICAgIHJldHVybiBlID09PSAtMSA/IGUgPSBzID09PSBoZS5kaXJlY3Rpb25zLlJJR0hUID8gLTEgOiAwIDogdGhpcy5pdGVtc1tlXS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuZm9jdXNlZENzc0NsYXNzKSwgcyA9PT0gaGUuZGlyZWN0aW9ucy5SSUdIVCA/IGUgPSAoZSArIDEpICUgdGhpcy5pdGVtcy5sZW5ndGggOiBlID0gKHRoaXMuaXRlbXMubGVuZ3RoICsgZSAtIDEpICUgdGhpcy5pdGVtcy5sZW5ndGgsIGQuY2FuU2V0Q2FyZXQodGhpcy5pdGVtc1tlXSkgJiYgcmUoKCkgPT4gbS5zZXRDdXJzb3IodGhpcy5pdGVtc1tlXSksIDUwKSgpLCB0aGlzLml0ZW1zW2VdLmNsYXNzTGlzdC5hZGQodGhpcy5mb2N1c2VkQ3NzQ2xhc3MpLCBlO1xuICB9XG59O1xubGV0IG5lID0gaGU7XG5uZS5kaXJlY3Rpb25zID0ge1xuICBSSUdIVDogXCJyaWdodFwiLFxuICBMRUZUOiBcImxlZnRcIlxufTtcbmNsYXNzIEcge1xuICAvKipcbiAgICogQHBhcmFtIHtGbGlwcGVyT3B0aW9uc30gb3B0aW9ucyAtIGRpZmZlcmVudCBjb25zdHJ1Y3Rpbmcgc2V0dGluZ3NcbiAgICovXG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICB0aGlzLml0ZXJhdG9yID0gbnVsbCwgdGhpcy5hY3RpdmF0ZWQgPSAhMSwgdGhpcy5mbGlwQ2FsbGJhY2tzID0gW10sIHRoaXMub25LZXlEb3duID0gKHQpID0+IHtcbiAgICAgIGlmICh0aGlzLmlzRXZlbnRSZWFkeUZvckhhbmRsaW5nKHQpKVxuICAgICAgICBzd2l0Y2ggKEcudXNlZEtleXMuaW5jbHVkZXModC5rZXlDb2RlKSAmJiB0LnByZXZlbnREZWZhdWx0KCksIHQua2V5Q29kZSkge1xuICAgICAgICAgIGNhc2UgQi5UQUI6XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVRhYlByZXNzKHQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBCLkxFRlQ6XG4gICAgICAgICAgY2FzZSBCLlVQOlxuICAgICAgICAgICAgdGhpcy5mbGlwTGVmdCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBCLlJJR0hUOlxuICAgICAgICAgIGNhc2UgQi5ET1dOOlxuICAgICAgICAgICAgdGhpcy5mbGlwUmlnaHQoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQi5FTlRFUjpcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRW50ZXJQcmVzcyh0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfSwgdGhpcy5pdGVyYXRvciA9IG5ldyBuZShlLml0ZW1zLCBlLmZvY3VzZWRJdGVtQ2xhc3MpLCB0aGlzLmFjdGl2YXRlQ2FsbGJhY2sgPSBlLmFjdGl2YXRlQ2FsbGJhY2ssIHRoaXMuYWxsb3dlZEtleXMgPSBlLmFsbG93ZWRLZXlzIHx8IEcudXNlZEtleXM7XG4gIH1cbiAgLyoqXG4gICAqIFRydWUgaWYgZmxpcHBlciBpcyBjdXJyZW50bHkgYWN0aXZhdGVkXG4gICAqL1xuICBnZXQgaXNBY3RpdmF0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuYWN0aXZhdGVkO1xuICB9XG4gIC8qKlxuICAgKiBBcnJheSBvZiBrZXlzIChjb2RlcykgdGhhdCBpcyBoYW5kbGVkIGJ5IEZsaXBwZXJcbiAgICogVXNlZCB0bzpcbiAgICogIC0gcHJldmVudERlZmF1bHQgb25seSBmb3IgdGhpcyBrZXlzLCBub3QgYWxsIGtleWRvd25zIChAc2VlIGNvbnN0cnVjdG9yKVxuICAgKiAgLSB0byBza2lwIGV4dGVybmFsIGJlaGF2aW91cnMgb25seSBmb3IgdGhlc2Uga2V5cywgd2hlbiBmaWxsZXIgaXMgYWN0aXZhdGVkIChAc2VlIEJsb2NrRXZlbnRzQGFycm93UmlnaHRBbmREb3duKVxuICAgKi9cbiAgc3RhdGljIGdldCB1c2VkS2V5cygpIHtcbiAgICByZXR1cm4gW1xuICAgICAgQi5UQUIsXG4gICAgICBCLkxFRlQsXG4gICAgICBCLlJJR0hULFxuICAgICAgQi5FTlRFUixcbiAgICAgIEIuVVAsXG4gICAgICBCLkRPV05cbiAgICBdO1xuICB9XG4gIC8qKlxuICAgKiBBY3RpdmUgdGFiL2Fycm93cyBoYW5kbGluZyBieSBmbGlwcGVyXG4gICAqXG4gICAqIEBwYXJhbSBpdGVtcyAtIFNvbWUgbW9kdWxlcyAobGlrZSwgSW5saW5lVG9vbGJhciwgQmxvY2tTZXR0aW5ncykgbWlnaHQgcmVmcmVzaCBidXR0b25zIGR5bmFtaWNhbGx5XG4gICAqIEBwYXJhbSBjdXJzb3JQb3NpdGlvbiAtIGluZGV4IG9mIHRoZSBpdGVtIHRoYXQgc2hvdWxkIGJlIGZvY3VzZWQgb25jZSBmbGlwcGVyIGlzIGFjdGl2YXRlZFxuICAgKi9cbiAgYWN0aXZhdGUoZSwgdCkge1xuICAgIHRoaXMuYWN0aXZhdGVkID0gITAsIGUgJiYgdGhpcy5pdGVyYXRvci5zZXRJdGVtcyhlKSwgdCAhPT0gdm9pZCAwICYmIHRoaXMuaXRlcmF0b3Iuc2V0Q3Vyc29yKHQpLCBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLm9uS2V5RG93biwgITApO1xuICB9XG4gIC8qKlxuICAgKiBEaXNhYmxlIHRhYi9hcnJvd3MgaGFuZGxpbmcgYnkgZmxpcHBlclxuICAgKi9cbiAgZGVhY3RpdmF0ZSgpIHtcbiAgICB0aGlzLmFjdGl2YXRlZCA9ICExLCB0aGlzLmRyb3BDdXJzb3IoKSwgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5vbktleURvd24pO1xuICB9XG4gIC8qKlxuICAgKiBGb2N1cyBmaXJzdCBpdGVtXG4gICAqL1xuICBmb2N1c0ZpcnN0KCkge1xuICAgIHRoaXMuZHJvcEN1cnNvcigpLCB0aGlzLmZsaXBSaWdodCgpO1xuICB9XG4gIC8qKlxuICAgKiBGb2N1c2VzIHByZXZpb3VzIGZsaXBwZXIgaXRlcmF0b3IgaXRlbVxuICAgKi9cbiAgZmxpcExlZnQoKSB7XG4gICAgdGhpcy5pdGVyYXRvci5wcmV2aW91cygpLCB0aGlzLmZsaXBDYWxsYmFjaygpO1xuICB9XG4gIC8qKlxuICAgKiBGb2N1c2VzIG5leHQgZmxpcHBlciBpdGVyYXRvciBpdGVtXG4gICAqL1xuICBmbGlwUmlnaHQoKSB7XG4gICAgdGhpcy5pdGVyYXRvci5uZXh0KCksIHRoaXMuZmxpcENhbGxiYWNrKCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiB0cnVlIGlmIHNvbWUgYnV0dG9uIGlzIGZvY3VzZWRcbiAgICovXG4gIGhhc0ZvY3VzKCkge1xuICAgIHJldHVybiAhIXRoaXMuaXRlcmF0b3IuY3VycmVudEl0ZW07XG4gIH1cbiAgLyoqXG4gICAqIFJlZ2lzdGVyZXMgZnVuY3Rpb24gdGhhdCBzaG91bGQgYmUgZXhlY3V0ZWQgb24gZWFjaCBuYXZpZ2F0aW9uIGFjdGlvblxuICAgKlxuICAgKiBAcGFyYW0gY2IgLSBmdW5jdGlvbiB0byBleGVjdXRlXG4gICAqL1xuICBvbkZsaXAoZSkge1xuICAgIHRoaXMuZmxpcENhbGxiYWNrcy5wdXNoKGUpO1xuICB9XG4gIC8qKlxuICAgKiBVbnJlZ2lzdGVyZXMgZnVuY3Rpb24gdGhhdCBpcyBleGVjdXRlZCBvbiBlYWNoIG5hdmlnYXRpb24gYWN0aW9uXG4gICAqXG4gICAqIEBwYXJhbSBjYiAtIGZ1bmN0aW9uIHRvIHN0b3AgZXhlY3V0aW5nXG4gICAqL1xuICByZW1vdmVPbkZsaXAoZSkge1xuICAgIHRoaXMuZmxpcENhbGxiYWNrcyA9IHRoaXMuZmxpcENhbGxiYWNrcy5maWx0ZXIoKHQpID0+IHQgIT09IGUpO1xuICB9XG4gIC8qKlxuICAgKiBEcm9wcyBmbGlwcGVyJ3MgaXRlcmF0b3IgY3Vyc29yXG4gICAqXG4gICAqIEBzZWUgRG9tSXRlcmF0b3IjZHJvcEN1cnNvclxuICAgKi9cbiAgZHJvcEN1cnNvcigpIHtcbiAgICB0aGlzLml0ZXJhdG9yLmRyb3BDdXJzb3IoKTtcbiAgfVxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBpcyBmaXJlZCBiZWZvcmUgaGFuZGxpbmcgZmxpcHBlciBrZXljb2Rlc1xuICAgKiBUaGUgcmVzdWx0IG9mIHRoaXMgZnVuY3Rpb24gZGVmaW5lcyBpZiBpdCBpcyBuZWVkIHRvIGJlIGhhbmRsZWQgb3Igbm90XG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgLSBrZXlkb3duIGtleWJvYXJkIGV2ZW50XG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgaXNFdmVudFJlYWR5Rm9ySGFuZGxpbmcoZSkge1xuICAgIHJldHVybiB0aGlzLmFjdGl2YXRlZCAmJiB0aGlzLmFsbG93ZWRLZXlzLmluY2x1ZGVzKGUua2V5Q29kZSk7XG4gIH1cbiAgLyoqXG4gICAqIFdoZW4gZmxpcHBlciBpcyBhY3RpdmF0ZWQgdGFiIHByZXNzIHdpbGwgbGVhZiB0aGUgaXRlbXNcbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCAtIHRhYiBrZXlkb3duIGV2ZW50XG4gICAqL1xuICBoYW5kbGVUYWJQcmVzcyhlKSB7XG4gICAgc3dpdGNoIChlLnNoaWZ0S2V5ID8gbmUuZGlyZWN0aW9ucy5MRUZUIDogbmUuZGlyZWN0aW9ucy5SSUdIVCkge1xuICAgICAgY2FzZSBuZS5kaXJlY3Rpb25zLlJJR0hUOlxuICAgICAgICB0aGlzLmZsaXBSaWdodCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgbmUuZGlyZWN0aW9ucy5MRUZUOlxuICAgICAgICB0aGlzLmZsaXBMZWZ0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogRW50ZXIgcHJlc3Mgd2lsbCBjbGljayBjdXJyZW50IGl0ZW0gaWYgZmxpcHBlciBpcyBhY3RpdmF0ZWRcbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCAtIGVudGVyIGtleWRvd24gZXZlbnRcbiAgICovXG4gIGhhbmRsZUVudGVyUHJlc3MoZSkge1xuICAgIHRoaXMuYWN0aXZhdGVkICYmICh0aGlzLml0ZXJhdG9yLmN1cnJlbnRJdGVtICYmIChlLnN0b3BQcm9wYWdhdGlvbigpLCBlLnByZXZlbnREZWZhdWx0KCksIHRoaXMuaXRlcmF0b3IuY3VycmVudEl0ZW0uY2xpY2soKSksIEQodGhpcy5hY3RpdmF0ZUNhbGxiYWNrKSAmJiB0aGlzLmFjdGl2YXRlQ2FsbGJhY2sodGhpcy5pdGVyYXRvci5jdXJyZW50SXRlbSkpO1xuICB9XG4gIC8qKlxuICAgKiBGaXJlZCBhZnRlciBmbGlwcGluZyBpbiBhbnkgZGlyZWN0aW9uXG4gICAqL1xuICBmbGlwQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5pdGVyYXRvci5jdXJyZW50SXRlbSAmJiB0aGlzLml0ZXJhdG9yLmN1cnJlbnRJdGVtLnNjcm9sbEludG9WaWV3SWZOZWVkZWQoKSwgdGhpcy5mbGlwQ2FsbGJhY2tzLmZvckVhY2goKGUpID0+IGUoKSk7XG4gIH1cbn1cbmNsYXNzIHBlIHtcbiAgLyoqXG4gICAqIFN0eWxlc1xuICAgKi9cbiAgc3RhdGljIGdldCBDU1MoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdyYXBwZXI6IFwiY2R4LXNlYXJjaC1maWVsZFwiLFxuICAgICAgaWNvbjogXCJjZHgtc2VhcmNoLWZpZWxkX19pY29uXCIsXG4gICAgICBpbnB1dDogXCJjZHgtc2VhcmNoLWZpZWxkX19pbnB1dFwiXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhdmFpbGFibGUgY29uZmlnXG4gICAqIEBwYXJhbSBvcHRpb25zLml0ZW1zIC0gc2VhcmNoYWJsZSBpdGVtcyBsaXN0XG4gICAqIEBwYXJhbSBvcHRpb25zLm9uU2VhcmNoIC0gc2VhcmNoIGNhbGxiYWNrXG4gICAqIEBwYXJhbSBvcHRpb25zLnBsYWNlaG9sZGVyIC0gaW5wdXQgcGxhY2Vob2xkZXJcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXM6IGUsIG9uU2VhcmNoOiB0LCBwbGFjZWhvbGRlcjogbyB9KSB7XG4gICAgdGhpcy5saXN0ZW5lcnMgPSBuZXcgRGUoKSwgdGhpcy5pdGVtcyA9IGUsIHRoaXMub25TZWFyY2ggPSB0LCB0aGlzLnJlbmRlcihvKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBzZWFyY2ggZmllbGQgZWxlbWVudFxuICAgKi9cbiAgZ2V0RWxlbWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy53cmFwcGVyO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIGZvY3VzIHRvIHRoZSBpbnB1dFxuICAgKi9cbiAgZm9jdXMoKSB7XG4gICAgdGhpcy5pbnB1dC5mb2N1cygpO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhcnMgc2VhcmNoIHF1ZXJ5IGFuZCByZXN1bHRzXG4gICAqL1xuICBjbGVhcigpIHtcbiAgICB0aGlzLmlucHV0LnZhbHVlID0gXCJcIiwgdGhpcy5zZWFyY2hRdWVyeSA9IFwiXCIsIHRoaXMub25TZWFyY2goXCJcIiwgdGhpcy5mb3VuZEl0ZW1zKTtcbiAgfVxuICAvKipcbiAgICogQ2xlYXJzIG1lbW9yeVxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmxpc3RlbmVycy5yZW1vdmVBbGwoKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyB0aGUgc2VhcmNoIGZpZWxkXG4gICAqXG4gICAqIEBwYXJhbSBwbGFjZWhvbGRlciAtIGlucHV0IHBsYWNlaG9sZGVyXG4gICAqL1xuICByZW5kZXIoZSkge1xuICAgIHRoaXMud3JhcHBlciA9IGQubWFrZShcImRpdlwiLCBwZS5DU1Mud3JhcHBlcik7XG4gICAgY29uc3QgdCA9IGQubWFrZShcImRpdlwiLCBwZS5DU1MuaWNvbiwge1xuICAgICAgaW5uZXJIVE1MOiBOb1xuICAgIH0pO1xuICAgIHRoaXMuaW5wdXQgPSBkLm1ha2UoXCJpbnB1dFwiLCBwZS5DU1MuaW5wdXQsIHtcbiAgICAgIHBsYWNlaG9sZGVyOiBlXG4gICAgfSksIHRoaXMud3JhcHBlci5hcHBlbmRDaGlsZCh0KSwgdGhpcy53cmFwcGVyLmFwcGVuZENoaWxkKHRoaXMuaW5wdXQpLCB0aGlzLmxpc3RlbmVycy5vbih0aGlzLmlucHV0LCBcImlucHV0XCIsICgpID0+IHtcbiAgICAgIHRoaXMuc2VhcmNoUXVlcnkgPSB0aGlzLmlucHV0LnZhbHVlLCB0aGlzLm9uU2VhcmNoKHRoaXMuc2VhcmNoUXVlcnksIHRoaXMuZm91bmRJdGVtcyk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgbGlzdCBvZiBmb3VuZCBpdGVtcyBmb3IgdGhlIGN1cnJlbnQgc2VhcmNoIHF1ZXJ5XG4gICAqL1xuICBnZXQgZm91bmRJdGVtcygpIHtcbiAgICByZXR1cm4gdGhpcy5pdGVtcy5maWx0ZXIoKGUpID0+IHRoaXMuY2hlY2tJdGVtKGUpKTtcbiAgfVxuICAvKipcbiAgICogQ29udGFpbnMgbG9naWMgZm9yIGNoZWNraW5nIHdoZXRoZXIgcGFzc2VkIGl0ZW0gY29uZm9ybXMgdGhlIHNlYXJjaCBxdWVyeVxuICAgKlxuICAgKiBAcGFyYW0gaXRlbSAtIGl0ZW0gdG8gYmUgY2hlY2tlZFxuICAgKi9cbiAgY2hlY2tJdGVtKGUpIHtcbiAgICB2YXIgaTtcbiAgICBjb25zdCB0ID0gKChpID0gZS50aXRsZSkgPT0gbnVsbCA/IHZvaWQgMCA6IGkudG9Mb3dlckNhc2UoKSkgfHwgXCJcIiwgbyA9IHRoaXMuc2VhcmNoUXVlcnkudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gdC5pbmNsdWRlcyhvKTtcbiAgfVxufVxuY29uc3QgdWUgPSBjbGFzcyB7XG4gIC8qKlxuICAgKiBMb2NrcyBib2R5IGVsZW1lbnQgc2Nyb2xsXG4gICAqL1xuICBsb2NrKCkge1xuICAgIEdlID8gdGhpcy5sb2NrSGFyZCgpIDogZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKHVlLkNTUy5zY3JvbGxMb2NrZWQpO1xuICB9XG4gIC8qKlxuICAgKiBVbmxvY2tzIGJvZHkgZWxlbWVudCBzY3JvbGxcbiAgICovXG4gIHVubG9jaygpIHtcbiAgICBHZSA/IHRoaXMudW5sb2NrSGFyZCgpIDogZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKHVlLkNTUy5zY3JvbGxMb2NrZWQpO1xuICB9XG4gIC8qKlxuICAgKiBMb2NrcyBzY3JvbGwgaW4gYSBoYXJkIHdheSAodmlhIHNldHRpbmcgZml4ZWQgcG9zaXRpb24gdG8gYm9keSBlbGVtZW50KVxuICAgKi9cbiAgbG9ja0hhcmQoKSB7XG4gICAgdGhpcy5zY3JvbGxQb3NpdGlvbiA9IHdpbmRvdy5wYWdlWU9mZnNldCwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFxuICAgICAgXCItLXdpbmRvdy1zY3JvbGwtb2Zmc2V0XCIsXG4gICAgICBgJHt0aGlzLnNjcm9sbFBvc2l0aW9ufXB4YFxuICAgICksIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCh1ZS5DU1Muc2Nyb2xsTG9ja2VkSGFyZCk7XG4gIH1cbiAgLyoqXG4gICAqIFVubG9ja3MgaGFyZCBzY3JvbGwgbG9ja1xuICAgKi9cbiAgdW5sb2NrSGFyZCgpIHtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUodWUuQ1NTLnNjcm9sbExvY2tlZEhhcmQpLCB0aGlzLnNjcm9sbFBvc2l0aW9uICE9PSBudWxsICYmIHdpbmRvdy5zY3JvbGxUbygwLCB0aGlzLnNjcm9sbFBvc2l0aW9uKSwgdGhpcy5zY3JvbGxQb3NpdGlvbiA9IG51bGw7XG4gIH1cbn07XG5sZXQgZ3QgPSB1ZTtcbmd0LkNTUyA9IHtcbiAgc2Nyb2xsTG9ja2VkOiBcImNlLXNjcm9sbC1sb2NrZWRcIixcbiAgc2Nyb2xsTG9ja2VkSGFyZDogXCJjZS1zY3JvbGwtbG9ja2VkLS1oYXJkXCJcbn07XG52YXIgUG8gPSBPYmplY3QuZGVmaW5lUHJvcGVydHksIEZvID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciwgSG8gPSAocywgZSwgdCwgbykgPT4ge1xuICBmb3IgKHZhciBpID0gbyA+IDEgPyB2b2lkIDAgOiBvID8gRm8oZSwgdCkgOiBlLCBuID0gcy5sZW5ndGggLSAxLCByOyBuID49IDA7IG4tLSlcbiAgICAociA9IHNbbl0pICYmIChpID0gKG8gPyByKGUsIHQsIGkpIDogcihpKSkgfHwgaSk7XG4gIHJldHVybiBvICYmIGkgJiYgUG8oZSwgdCwgaSksIGk7XG59LCBnZSA9IC8qIEBfX1BVUkVfXyAqLyAoKHMpID0+IChzLkNsb3NlID0gXCJjbG9zZVwiLCBzKSkoZ2UgfHwge30pO1xuY29uc3QgaiA9IGNsYXNzIGV4dGVuZHMgd2Uge1xuICAvKipcbiAgICogQ29uc3RydWN0cyB0aGUgaW5zdGFuY2VcbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIHBvcG92ZXIgY29uc3RydWN0aW9uIHBhcmFtc1xuICAgKi9cbiAgY29uc3RydWN0b3Iocykge1xuICAgIHN1cGVyKCksIHRoaXMuc2NvcGVFbGVtZW50ID0gZG9jdW1lbnQuYm9keSwgdGhpcy5saXN0ZW5lcnMgPSBuZXcgRGUoKSwgdGhpcy5zY3JvbGxMb2NrZXIgPSBuZXcgZ3QoKSwgdGhpcy5ub2RlcyA9IHtcbiAgICAgIHdyYXBwZXI6IG51bGwsXG4gICAgICBwb3BvdmVyOiBudWxsLFxuICAgICAgbm90aGluZ0ZvdW5kTWVzc2FnZTogbnVsbCxcbiAgICAgIGN1c3RvbUNvbnRlbnQ6IG51bGwsXG4gICAgICBpdGVtczogbnVsbCxcbiAgICAgIG92ZXJsYXk6IG51bGxcbiAgICB9LCB0aGlzLm1lc3NhZ2VzID0ge1xuICAgICAgbm90aGluZ0ZvdW5kOiBcIk5vdGhpbmcgZm91bmRcIixcbiAgICAgIHNlYXJjaDogXCJTZWFyY2hcIlxuICAgIH0sIHRoaXMub25GbGlwID0gKCkgPT4ge1xuICAgICAgdGhpcy5pdGVtcy5maW5kKCh0KSA9PiB0LmlzRm9jdXNlZCkub25Gb2N1cygpO1xuICAgIH0sIHRoaXMuaXRlbXMgPSBzLml0ZW1zLm1hcCgoZSkgPT4gbmV3IFAoZSkpLCBzLnNjb3BlRWxlbWVudCAhPT0gdm9pZCAwICYmICh0aGlzLnNjb3BlRWxlbWVudCA9IHMuc2NvcGVFbGVtZW50KSwgcy5tZXNzYWdlcyAmJiAodGhpcy5tZXNzYWdlcyA9IHtcbiAgICAgIC4uLnRoaXMubWVzc2FnZXMsXG4gICAgICAuLi5zLm1lc3NhZ2VzXG4gICAgfSksIHMuY3VzdG9tQ29udGVudEZsaXBwYWJsZUl0ZW1zICYmICh0aGlzLmN1c3RvbUNvbnRlbnRGbGlwcGFibGVJdGVtcyA9IHMuY3VzdG9tQ29udGVudEZsaXBwYWJsZUl0ZW1zKSwgdGhpcy5tYWtlKCksIHMuY3VzdG9tQ29udGVudCAmJiB0aGlzLmFkZEN1c3RvbUNvbnRlbnQocy5jdXN0b21Db250ZW50KSwgcy5zZWFyY2hhYmxlICYmIHRoaXMuYWRkU2VhcmNoKCksIHRoaXMuaW5pdGlhbGl6ZUZsaXBwZXIoKTtcbiAgfVxuICAvKipcbiAgICogUG9wb3ZlciBDU1MgY2xhc3Nlc1xuICAgKi9cbiAgc3RhdGljIGdldCBDU1MoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBvcG92ZXI6IFwiY2UtcG9wb3ZlclwiLFxuICAgICAgcG9wb3Zlck9wZW5Ub3A6IFwiY2UtcG9wb3Zlci0tb3Blbi10b3BcIixcbiAgICAgIHBvcG92ZXJPcGVuZWQ6IFwiY2UtcG9wb3Zlci0tb3BlbmVkXCIsXG4gICAgICBzZWFyY2g6IFwiY2UtcG9wb3Zlcl9fc2VhcmNoXCIsXG4gICAgICBub3RoaW5nRm91bmRNZXNzYWdlOiBcImNlLXBvcG92ZXJfX25vdGhpbmctZm91bmQtbWVzc2FnZVwiLFxuICAgICAgbm90aGluZ0ZvdW5kTWVzc2FnZURpc3BsYXllZDogXCJjZS1wb3BvdmVyX19ub3RoaW5nLWZvdW5kLW1lc3NhZ2UtLWRpc3BsYXllZFwiLFxuICAgICAgY3VzdG9tQ29udGVudDogXCJjZS1wb3BvdmVyX19jdXN0b20tY29udGVudFwiLFxuICAgICAgY3VzdG9tQ29udGVudEhpZGRlbjogXCJjZS1wb3BvdmVyX19jdXN0b20tY29udGVudC0taGlkZGVuXCIsXG4gICAgICBpdGVtczogXCJjZS1wb3BvdmVyX19pdGVtc1wiLFxuICAgICAgb3ZlcmxheTogXCJjZS1wb3BvdmVyX19vdmVybGF5XCIsXG4gICAgICBvdmVybGF5SGlkZGVuOiBcImNlLXBvcG92ZXJfX292ZXJsYXktLWhpZGRlblwiXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBIVE1MIGVsZW1lbnQgY29ycmVzcG9uZGluZyB0byB0aGUgcG9wb3ZlclxuICAgKi9cbiAgZ2V0RWxlbWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5ub2Rlcy53cmFwcGVyO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgc29tZSBpdGVtIGluc2lkZSBwb3BvdmVyIGlzIGZvY3VzZWRcbiAgICovXG4gIGhhc0ZvY3VzKCkge1xuICAgIHJldHVybiB0aGlzLmZsaXBwZXIuaGFzRm9jdXMoKTtcbiAgfVxuICAvKipcbiAgICogT3BlbiBwb3BvdmVyXG4gICAqL1xuICBzaG93KCkge1xuICAgIHRoaXMuc2hvdWxkT3BlbkJvdHRvbSB8fCAodGhpcy5ub2Rlcy5wb3BvdmVyLnN0eWxlLnNldFByb3BlcnR5KFwiLS1wb3BvdmVyLWhlaWdodFwiLCB0aGlzLmhlaWdodCArIFwicHhcIiksIHRoaXMubm9kZXMucG9wb3Zlci5jbGFzc0xpc3QuYWRkKGouQ1NTLnBvcG92ZXJPcGVuVG9wKSksIHRoaXMubm9kZXMub3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKGouQ1NTLm92ZXJsYXlIaWRkZW4pLCB0aGlzLm5vZGVzLnBvcG92ZXIuY2xhc3NMaXN0LmFkZChqLkNTUy5wb3BvdmVyT3BlbmVkKSwgdGhpcy5mbGlwcGVyLmFjdGl2YXRlKHRoaXMuZmxpcHBhYmxlRWxlbWVudHMpLCB0aGlzLnNlYXJjaCAhPT0gdm9pZCAwICYmIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5zZWFyY2guZm9jdXMoKTtcbiAgICB9LCAxMDApLCB0ZSgpICYmIHRoaXMuc2Nyb2xsTG9ja2VyLmxvY2soKTtcbiAgfVxuICAvKipcbiAgICogQ2xvc2VzIHBvcG92ZXJcbiAgICovXG4gIGhpZGUoKSB7XG4gICAgdGhpcy5ub2Rlcy5wb3BvdmVyLmNsYXNzTGlzdC5yZW1vdmUoai5DU1MucG9wb3Zlck9wZW5lZCksIHRoaXMubm9kZXMucG9wb3Zlci5jbGFzc0xpc3QucmVtb3ZlKGouQ1NTLnBvcG92ZXJPcGVuVG9wKSwgdGhpcy5ub2Rlcy5vdmVybGF5LmNsYXNzTGlzdC5hZGQoai5DU1Mub3ZlcmxheUhpZGRlbiksIHRoaXMuZmxpcHBlci5kZWFjdGl2YXRlKCksIHRoaXMuaXRlbXMuZm9yRWFjaCgocykgPT4gcy5yZXNldCgpKSwgdGhpcy5zZWFyY2ggIT09IHZvaWQgMCAmJiB0aGlzLnNlYXJjaC5jbGVhcigpLCB0ZSgpICYmIHRoaXMuc2Nyb2xsTG9ja2VyLnVubG9jaygpLCB0aGlzLmVtaXQoXG4gICAgICBcImNsb3NlXCJcbiAgICAgIC8qIENsb3NlICovXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogQ2xlYXJzIG1lbW9yeVxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmZsaXBwZXIuZGVhY3RpdmF0ZSgpLCB0aGlzLmxpc3RlbmVycy5yZW1vdmVBbGwoKSwgdGUoKSAmJiB0aGlzLnNjcm9sbExvY2tlci51bmxvY2soKTtcbiAgfVxuICAvKipcbiAgICogQ29uc3RydWN0cyBIVE1MIGVsZW1lbnQgY29ycmVzcG9uZGluZyB0byBwb3BvdmVyXG4gICAqL1xuICBtYWtlKCkge1xuICAgIHRoaXMubm9kZXMucG9wb3ZlciA9IGQubWFrZShcImRpdlwiLCBbai5DU1MucG9wb3Zlcl0pLCB0aGlzLm5vZGVzLm5vdGhpbmdGb3VuZE1lc3NhZ2UgPSBkLm1ha2UoXCJkaXZcIiwgW2ouQ1NTLm5vdGhpbmdGb3VuZE1lc3NhZ2VdLCB7XG4gICAgICB0ZXh0Q29udGVudDogdGhpcy5tZXNzYWdlcy5ub3RoaW5nRm91bmRcbiAgICB9KSwgdGhpcy5ub2Rlcy5wb3BvdmVyLmFwcGVuZENoaWxkKHRoaXMubm9kZXMubm90aGluZ0ZvdW5kTWVzc2FnZSksIHRoaXMubm9kZXMuaXRlbXMgPSBkLm1ha2UoXCJkaXZcIiwgW2ouQ1NTLml0ZW1zXSksIHRoaXMuaXRlbXMuZm9yRWFjaCgocykgPT4ge1xuICAgICAgdGhpcy5ub2Rlcy5pdGVtcy5hcHBlbmRDaGlsZChzLmdldEVsZW1lbnQoKSk7XG4gICAgfSksIHRoaXMubm9kZXMucG9wb3Zlci5hcHBlbmRDaGlsZCh0aGlzLm5vZGVzLml0ZW1zKSwgdGhpcy5saXN0ZW5lcnMub24odGhpcy5ub2Rlcy5wb3BvdmVyLCBcImNsaWNrXCIsIChzKSA9PiB7XG4gICAgICBjb25zdCBlID0gdGhpcy5nZXRUYXJnZXRJdGVtKHMpO1xuICAgICAgZSAhPT0gdm9pZCAwICYmIHRoaXMuaGFuZGxlSXRlbUNsaWNrKGUpO1xuICAgIH0pLCB0aGlzLm5vZGVzLndyYXBwZXIgPSBkLm1ha2UoXCJkaXZcIiksIHRoaXMubm9kZXMub3ZlcmxheSA9IGQubWFrZShcImRpdlwiLCBbai5DU1Mub3ZlcmxheSwgai5DU1Mub3ZlcmxheUhpZGRlbl0pLCB0aGlzLmxpc3RlbmVycy5vbih0aGlzLm5vZGVzLm92ZXJsYXksIFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5oaWRlKCk7XG4gICAgfSksIHRoaXMubm9kZXMud3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLm5vZGVzLm92ZXJsYXkpLCB0aGlzLm5vZGVzLndyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5ub2Rlcy5wb3BvdmVyKTtcbiAgfVxuICAvKipcbiAgICogQWRkcyBzZWFyY2ggdG8gdGhlIHBvcG92ZXJcbiAgICovXG4gIGFkZFNlYXJjaCgpIHtcbiAgICB0aGlzLnNlYXJjaCA9IG5ldyBwZSh7XG4gICAgICBpdGVtczogdGhpcy5pdGVtcyxcbiAgICAgIHBsYWNlaG9sZGVyOiB0aGlzLm1lc3NhZ2VzLnNlYXJjaCxcbiAgICAgIG9uU2VhcmNoOiAoZSwgdCkgPT4ge1xuICAgICAgICB0aGlzLml0ZW1zLmZvckVhY2goKGkpID0+IHtcbiAgICAgICAgICBjb25zdCBuID0gIXQuaW5jbHVkZXMoaSk7XG4gICAgICAgICAgaS50b2dnbGVIaWRkZW4obik7XG4gICAgICAgIH0pLCB0aGlzLnRvZ2dsZU5vdGhpbmdGb3VuZE1lc3NhZ2UodC5sZW5ndGggPT09IDApLCB0aGlzLnRvZ2dsZUN1c3RvbUNvbnRlbnQoZSAhPT0gXCJcIik7XG4gICAgICAgIGNvbnN0IG8gPSBlID09PSBcIlwiID8gdGhpcy5mbGlwcGFibGVFbGVtZW50cyA6IHQubWFwKChpKSA9PiBpLmdldEVsZW1lbnQoKSk7XG4gICAgICAgIHRoaXMuZmxpcHBlci5pc0FjdGl2YXRlZCAmJiAodGhpcy5mbGlwcGVyLmRlYWN0aXZhdGUoKSwgdGhpcy5mbGlwcGVyLmFjdGl2YXRlKG8pKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBzID0gdGhpcy5zZWFyY2guZ2V0RWxlbWVudCgpO1xuICAgIHMuY2xhc3NMaXN0LmFkZChqLkNTUy5zZWFyY2gpLCB0aGlzLm5vZGVzLnBvcG92ZXIuaW5zZXJ0QmVmb3JlKHMsIHRoaXMubm9kZXMucG9wb3Zlci5maXJzdENoaWxkKTtcbiAgfVxuICAvKipcbiAgICogQWRkcyBjdXN0b20gaHRtbCBjb250ZW50IHRvIHRoZSBwb3BvdmVyXG4gICAqXG4gICAqIEBwYXJhbSBjb250ZW50IC0gaHRtbCBjb250ZW50IHRvIGFwcGVuZFxuICAgKi9cbiAgYWRkQ3VzdG9tQ29udGVudChzKSB7XG4gICAgdGhpcy5ub2Rlcy5jdXN0b21Db250ZW50ID0gcywgdGhpcy5ub2Rlcy5jdXN0b21Db250ZW50LmNsYXNzTGlzdC5hZGQoai5DU1MuY3VzdG9tQ29udGVudCksIHRoaXMubm9kZXMucG9wb3Zlci5pbnNlcnRCZWZvcmUocywgdGhpcy5ub2Rlcy5wb3BvdmVyLmZpcnN0Q2hpbGQpO1xuICB9XG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgcG9wb3ZlciBpdGVtIHRoYXQgaXMgdGhlIHRhcmdldCBvZiB0aGUgc3BlY2lmaWVkIGV2ZW50XG4gICAqXG4gICAqIEBwYXJhbSBldmVudCAtIGV2ZW50IHRvIHJldHJpZXZlIHBvcG92ZXIgaXRlbSBmcm9tXG4gICAqL1xuICBnZXRUYXJnZXRJdGVtKHMpIHtcbiAgICByZXR1cm4gdGhpcy5pdGVtcy5maW5kKChlKSA9PiBzLmNvbXBvc2VkUGF0aCgpLmluY2x1ZGVzKGUuZ2V0RWxlbWVudCgpKSk7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZXMgaXRlbSBjbGlja3NcbiAgICpcbiAgICogQHBhcmFtIGl0ZW0gLSBpdGVtIHRvIGhhbmRsZSBjbGljayBvZlxuICAgKi9cbiAgaGFuZGxlSXRlbUNsaWNrKHMpIHtcbiAgICBzLmlzRGlzYWJsZWQgfHwgKHRoaXMuaXRlbXMuZmlsdGVyKChlKSA9PiBlICE9PSBzKS5mb3JFYWNoKChlKSA9PiBlLnJlc2V0KCkpLCBzLmhhbmRsZUNsaWNrKCksIHRoaXMudG9nZ2xlSXRlbUFjdGl2ZW5lc3NJZk5lZWRlZChzKSwgcy5jbG9zZU9uQWN0aXZhdGUgJiYgdGhpcy5oaWRlKCkpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIEZsaXBwZXIgaW5zdGFuY2Ugd2hpY2ggYWxsb3dzIHRvIG5hdmlnYXRlIGJldHdlZW4gcG9wb3ZlciBpdGVtcyB2aWEga2V5Ym9hcmRcbiAgICovXG4gIGluaXRpYWxpemVGbGlwcGVyKCkge1xuICAgIHRoaXMuZmxpcHBlciA9IG5ldyBHKHtcbiAgICAgIGl0ZW1zOiB0aGlzLmZsaXBwYWJsZUVsZW1lbnRzLFxuICAgICAgZm9jdXNlZEl0ZW1DbGFzczogUC5DU1MuZm9jdXNlZCxcbiAgICAgIGFsbG93ZWRLZXlzOiBbXG4gICAgICAgIEIuVEFCLFxuICAgICAgICBCLlVQLFxuICAgICAgICBCLkRPV04sXG4gICAgICAgIEIuRU5URVJcbiAgICAgIF1cbiAgICB9KSwgdGhpcy5mbGlwcGVyLm9uRmxpcCh0aGlzLm9uRmxpcCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgbGlzdCBvZiBlbGVtZW50cyBhdmFpbGFibGUgZm9yIGtleWJvYXJkIG5hdmlnYXRpb24uXG4gICAqIENvbnRhaW5zIGJvdGggdXN1YWwgcG9wb3ZlciBpdGVtcyBlbGVtZW50cyBhbmQgY3VzdG9tIGh0bWwgY29udGVudC5cbiAgICovXG4gIGdldCBmbGlwcGFibGVFbGVtZW50cygpIHtcbiAgICBjb25zdCBzID0gdGhpcy5pdGVtcy5tYXAoKHQpID0+IHQuZ2V0RWxlbWVudCgpKTtcbiAgICByZXR1cm4gKHRoaXMuY3VzdG9tQ29udGVudEZsaXBwYWJsZUl0ZW1zIHx8IFtdKS5jb25jYXQocyk7XG4gIH1cbiAgZ2V0IGhlaWdodCgpIHtcbiAgICBsZXQgcyA9IDA7XG4gICAgaWYgKHRoaXMubm9kZXMucG9wb3ZlciA9PT0gbnVsbClcbiAgICAgIHJldHVybiBzO1xuICAgIGNvbnN0IGUgPSB0aGlzLm5vZGVzLnBvcG92ZXIuY2xvbmVOb2RlKCEwKTtcbiAgICByZXR1cm4gZS5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIiwgZS5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIiwgZS5zdHlsZS50b3AgPSBcIi0xMDAwcHhcIiwgZS5jbGFzc0xpc3QuYWRkKGouQ1NTLnBvcG92ZXJPcGVuZWQpLCBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGUpLCBzID0gZS5vZmZzZXRIZWlnaHQsIGUucmVtb3ZlKCksIHM7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBwb3BvdmVyIHNob3VsZCBiZSBvcGVuZWQgYm90dG9tLlxuICAgKiBJdCBzaG91bGQgaGFwcGVuIHdoZW4gdGhlcmUgaXMgZW5vdWdoIHNwYWNlIGJlbG93IG9yIG5vdCBlbm91Z2ggc3BhY2UgYWJvdmVcbiAgICovXG4gIGdldCBzaG91bGRPcGVuQm90dG9tKCkge1xuICAgIGNvbnN0IHMgPSB0aGlzLm5vZGVzLnBvcG92ZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGUgPSB0aGlzLnNjb3BlRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgdCA9IHRoaXMuaGVpZ2h0LCBvID0gcy50b3AgKyB0LCBpID0gcy50b3AgLSB0LCBuID0gTWF0aC5taW4od2luZG93LmlubmVySGVpZ2h0LCBlLmJvdHRvbSk7XG4gICAgcmV0dXJuIGkgPCBlLnRvcCB8fCBvIDw9IG47XG4gIH1cbiAgLyoqXG4gICAqIFRvZ2dsZXMgbm90aGluZyBmb3VuZCBtZXNzYWdlIHZpc2liaWxpdHlcbiAgICpcbiAgICogQHBhcmFtIGlzRGlzcGxheWVkIC0gdHJ1ZSBpZiB0aGUgbWVzc2FnZSBzaG91bGQgYmUgZGlzcGxheWVkXG4gICAqL1xuICB0b2dnbGVOb3RoaW5nRm91bmRNZXNzYWdlKHMpIHtcbiAgICB0aGlzLm5vZGVzLm5vdGhpbmdGb3VuZE1lc3NhZ2UuY2xhc3NMaXN0LnRvZ2dsZShqLkNTUy5ub3RoaW5nRm91bmRNZXNzYWdlRGlzcGxheWVkLCBzKTtcbiAgfVxuICAvKipcbiAgICogVG9nZ2xlcyBjdXN0b20gY29udGVudCB2aXNpYmlsaXR5XG4gICAqXG4gICAqIEBwYXJhbSBpc0Rpc3BsYXllZCAtIHRydWUgaWYgY3VzdG9tIGNvbnRlbnQgc2hvdWxkIGJlIGRpc3BsYXllZFxuICAgKi9cbiAgdG9nZ2xlQ3VzdG9tQ29udGVudChzKSB7XG4gICAgdmFyIGU7XG4gICAgKGUgPSB0aGlzLm5vZGVzLmN1c3RvbUNvbnRlbnQpID09IG51bGwgfHwgZS5jbGFzc0xpc3QudG9nZ2xlKGouQ1NTLmN1c3RvbUNvbnRlbnRIaWRkZW4sIHMpO1xuICB9XG4gIC8qKlxuICAgKiAtIFRvZ2dsZXMgaXRlbSBhY3RpdmUgc3RhdGUsIGlmIGNsaWNrZWQgcG9wb3ZlciBpdGVtIGhhcyBwcm9wZXJ0eSAndG9nZ2xlJyBzZXQgdG8gdHJ1ZS5cbiAgICpcbiAgICogLSBQZXJmb3JtcyByYWRpb2J1dHRvbi1saWtlIGJlaGF2aW9yIGlmIHRoZSBpdGVtIGhhcyBwcm9wZXJ0eSAndG9nZ2xlJyBzZXQgdG8gc3RyaW5nIGtleS5cbiAgICogKEFsbCB0aGUgb3RoZXIgaXRlbXMgd2l0aCB0aGUgc2FtZSBrZXkgZ2V0IGluYWN0aXZlLCBhbmQgdGhlIGl0ZW0gZ2V0cyBhY3RpdmUpXG4gICAqXG4gICAqIEBwYXJhbSBjbGlja2VkSXRlbSAtIHBvcG92ZXIgaXRlbSB0aGF0IHdhcyBjbGlja2VkXG4gICAqL1xuICB0b2dnbGVJdGVtQWN0aXZlbmVzc0lmTmVlZGVkKHMpIHtcbiAgICBpZiAocy50b2dnbGUgPT09ICEwICYmIHMudG9nZ2xlQWN0aXZlKCksIHR5cGVvZiBzLnRvZ2dsZSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICBjb25zdCBlID0gdGhpcy5pdGVtcy5maWx0ZXIoKHQpID0+IHQudG9nZ2xlID09PSBzLnRvZ2dsZSk7XG4gICAgICBpZiAoZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcy50b2dnbGVBY3RpdmUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZS5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICAgIHQudG9nZ2xlQWN0aXZlKHQgPT09IHMpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59O1xubGV0IGplID0gajtcbkhvKFtcbiAgY2Vcbl0sIGplLnByb3RvdHlwZSwgXCJoZWlnaHRcIiwgMSk7XG5jbGFzcyBqbyBleHRlbmRzIEMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLm9wZW5lZCA9ICExLCB0aGlzLnNlbGVjdGlvbiA9IG5ldyBtKCksIHRoaXMub25Qb3BvdmVyQ2xvc2UgPSAoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogTW9kdWxlIEV2ZW50c1xuICAgKlxuICAgKiBAcmV0dXJucyB7e29wZW5lZDogc3RyaW5nLCBjbG9zZWQ6IHN0cmluZ319XG4gICAqL1xuICBnZXQgZXZlbnRzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBvcGVuZWQ6IFwiYmxvY2stc2V0dGluZ3Mtb3BlbmVkXCIsXG4gICAgICBjbG9zZWQ6IFwiYmxvY2stc2V0dGluZ3MtY2xvc2VkXCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBCbG9jayBTZXR0aW5ncyBDU1NcbiAgICovXG4gIGdldCBDU1MoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNldHRpbmdzOiBcImNlLXNldHRpbmdzXCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBHZXR0ZXIgZm9yIGlubmVyIHBvcG92ZXIncyBmbGlwcGVyIGluc3RhbmNlXG4gICAqXG4gICAqIEB0b2RvIHJlbW92ZSBvbmNlIEJsb2NrU2V0dGluZ3MgYmVjb21lcyBzdGFuZGFsb25lIG5vbi1tb2R1bGUgY2xhc3NcbiAgICovXG4gIGdldCBmbGlwcGVyKCkge1xuICAgIHZhciBlO1xuICAgIHJldHVybiAoZSA9IHRoaXMucG9wb3ZlcikgPT0gbnVsbCA/IHZvaWQgMCA6IGUuZmxpcHBlcjtcbiAgfVxuICAvKipcbiAgICogUGFuZWwgd2l0aCBibG9jayBzZXR0aW5ncyB3aXRoIDIgc2VjdGlvbnM6XG4gICAqICAtIFRvb2wncyBTZXR0aW5nc1xuICAgKiAgLSBEZWZhdWx0IFNldHRpbmdzIFtNb3ZlLCBSZW1vdmUsIGV0Y11cbiAgICovXG4gIG1ha2UoKSB7XG4gICAgdGhpcy5ub2Rlcy53cmFwcGVyID0gZC5tYWtlKFwiZGl2XCIsIFt0aGlzLkNTUy5zZXR0aW5nc10pO1xuICB9XG4gIC8qKlxuICAgKiBEZXN0cm95cyBtb2R1bGVcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5yZW1vdmVBbGxOb2RlcygpO1xuICB9XG4gIC8qKlxuICAgKiBPcGVuIEJsb2NrIFNldHRpbmdzIHBhbmVcbiAgICpcbiAgICogQHBhcmFtIHRhcmdldEJsb2NrIC0gbmVhciB3aGljaCBCbG9jayB3ZSBzaG91bGQgb3BlbiBCbG9ja1NldHRpbmdzXG4gICAqL1xuICBvcGVuKGUgPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrKSB7XG4gICAgdGhpcy5vcGVuZWQgPSAhMCwgdGhpcy5zZWxlY3Rpb24uc2F2ZSgpLCBlLnNlbGVjdGVkID0gITAsIHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLmNsZWFyQ2FjaGUoKTtcbiAgICBjb25zdCBbdCwgb10gPSBlLmdldFR1bmVzKCk7XG4gICAgdGhpcy5ldmVudHNEaXNwYXRjaGVyLmVtaXQodGhpcy5ldmVudHMub3BlbmVkKSwgdGhpcy5wb3BvdmVyID0gbmV3IGplKHtcbiAgICAgIHNlYXJjaGFibGU6ICEwLFxuICAgICAgaXRlbXM6IHQubWFwKChpKSA9PiB0aGlzLnJlc29sdmVUdW5lQWxpYXNlcyhpKSksXG4gICAgICBjdXN0b21Db250ZW50OiBvLFxuICAgICAgY3VzdG9tQ29udGVudEZsaXBwYWJsZUl0ZW1zOiB0aGlzLmdldENvbnRyb2xzKG8pLFxuICAgICAgc2NvcGVFbGVtZW50OiB0aGlzLkVkaXRvci5BUEkubWV0aG9kcy51aS5ub2Rlcy5yZWRhY3RvcixcbiAgICAgIG1lc3NhZ2VzOiB7XG4gICAgICAgIG5vdGhpbmdGb3VuZDogJC51aShYLnVpLnBvcG92ZXIsIFwiTm90aGluZyBmb3VuZFwiKSxcbiAgICAgICAgc2VhcmNoOiAkLnVpKFgudWkucG9wb3ZlciwgXCJGaWx0ZXJcIilcbiAgICAgIH1cbiAgICB9KSwgdGhpcy5wb3BvdmVyLm9uKGdlLkNsb3NlLCB0aGlzLm9uUG9wb3ZlckNsb3NlKSwgdGhpcy5ub2Rlcy53cmFwcGVyLmFwcGVuZCh0aGlzLnBvcG92ZXIuZ2V0RWxlbWVudCgpKSwgdGhpcy5wb3BvdmVyLnNob3coKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyByb290IGJsb2NrIHNldHRpbmdzIGVsZW1lbnRcbiAgICovXG4gIGdldEVsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXMud3JhcHBlcjtcbiAgfVxuICAvKipcbiAgICogQ2xvc2UgQmxvY2sgU2V0dGluZ3MgcGFuZVxuICAgKi9cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5vcGVuZWQgPSAhMSwgbS5pc0F0RWRpdG9yIHx8IHRoaXMuc2VsZWN0aW9uLnJlc3RvcmUoKSwgdGhpcy5zZWxlY3Rpb24uY2xlYXJTYXZlZCgpLCAhdGhpcy5FZGl0b3IuQ3Jvc3NCbG9ja1NlbGVjdGlvbi5pc0Nyb3NzQmxvY2tTZWxlY3Rpb25TdGFydGVkICYmIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2sgJiYgKHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2suc2VsZWN0ZWQgPSAhMSksIHRoaXMuZXZlbnRzRGlzcGF0Y2hlci5lbWl0KHRoaXMuZXZlbnRzLmNsb3NlZCksIHRoaXMucG9wb3ZlciAmJiAodGhpcy5wb3BvdmVyLm9mZihnZS5DbG9zZSwgdGhpcy5vblBvcG92ZXJDbG9zZSksIHRoaXMucG9wb3Zlci5kZXN0cm95KCksIHRoaXMucG9wb3Zlci5nZXRFbGVtZW50KCkucmVtb3ZlKCksIHRoaXMucG9wb3ZlciA9IG51bGwpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGxpc3Qgb2YgYnV0dG9ucyBhbmQgaW5wdXRzIGluc2lkZSBzcGVjaWZpZWQgY29udGFpbmVyXG4gICAqXG4gICAqIEBwYXJhbSBjb250YWluZXIgLSBjb250YWluZXIgdG8gcXVlcnkgY29udHJvbHMgaW5zaWRlIG9mXG4gICAqL1xuICBnZXRDb250cm9scyhlKSB7XG4gICAgY29uc3QgeyBTdHlsZXNBUEk6IHQgfSA9IHRoaXMuRWRpdG9yLCBvID0gZS5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgYC4ke3QuY2xhc3Nlcy5zZXR0aW5nc0J1dHRvbn0sICR7ZC5hbGxJbnB1dHNTZWxlY3Rvcn1gXG4gICAgKTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShvKTtcbiAgfVxuICAvKipcbiAgICogUmVzb2x2ZXMgYWxpYXNlcyBpbiB0dW5lcyBtZW51IGl0ZW1zXG4gICAqXG4gICAqIEBwYXJhbSBpdGVtIC0gaXRlbSB3aXRoIHJlc29sdmVkIGFsaWFzZXNcbiAgICovXG4gIHJlc29sdmVUdW5lQWxpYXNlcyhlKSB7XG4gICAgY29uc3QgdCA9IENvKGUsIHsgbGFiZWw6IFwidGl0bGVcIiB9KTtcbiAgICByZXR1cm4gZS5jb25maXJtYXRpb24gJiYgKHQuY29uZmlybWF0aW9uID0gdGhpcy5yZXNvbHZlVHVuZUFsaWFzZXMoZS5jb25maXJtYXRpb24pKSwgdDtcbiAgfVxufVxuY2xhc3MgWSBleHRlbmRzIEMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLm9wZW5lZCA9ICExLCB0aGlzLnRvb2xzID0gW10sIHRoaXMuZmxpcHBlciA9IG51bGwsIHRoaXMudG9nZ2xpbmdDYWxsYmFjayA9IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIENTUyBnZXR0ZXJcbiAgICovXG4gIHN0YXRpYyBnZXQgQ1NTKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjb252ZXJzaW9uVG9vbGJhcldyYXBwZXI6IFwiY2UtY29udmVyc2lvbi10b29sYmFyXCIsXG4gICAgICBjb252ZXJzaW9uVG9vbGJhclNob3dlZDogXCJjZS1jb252ZXJzaW9uLXRvb2xiYXItLXNob3dlZFwiLFxuICAgICAgY29udmVyc2lvblRvb2xiYXJUb29sczogXCJjZS1jb252ZXJzaW9uLXRvb2xiYXJfX3Rvb2xzXCIsXG4gICAgICBjb252ZXJzaW9uVG9vbGJhckxhYmVsOiBcImNlLWNvbnZlcnNpb24tdG9vbGJhcl9fbGFiZWxcIixcbiAgICAgIGNvbnZlcnNpb25Ub29sOiBcImNlLWNvbnZlcnNpb24tdG9vbFwiLFxuICAgICAgY29udmVyc2lvblRvb2xIaWRkZW46IFwiY2UtY29udmVyc2lvbi10b29sLS1oaWRkZW5cIixcbiAgICAgIGNvbnZlcnNpb25Ub29sSWNvbjogXCJjZS1jb252ZXJzaW9uLXRvb2xfX2ljb25cIixcbiAgICAgIGNvbnZlcnNpb25Ub29sU2Vjb25kYXJ5TGFiZWw6IFwiY2UtY29udmVyc2lvbi10b29sX19zZWNvbmRhcnktbGFiZWxcIixcbiAgICAgIGNvbnZlcnNpb25Ub29sRm9jdXNlZDogXCJjZS1jb252ZXJzaW9uLXRvb2wtLWZvY3VzZWRcIixcbiAgICAgIGNvbnZlcnNpb25Ub29sQWN0aXZlOiBcImNlLWNvbnZlcnNpb24tdG9vbC0tYWN0aXZlXCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgVUkgb2YgQ29udmVyc2lvbiBUb29sYmFyXG4gICAqL1xuICBtYWtlKCkge1xuICAgIHRoaXMubm9kZXMud3JhcHBlciA9IGQubWFrZShcImRpdlwiLCBbXG4gICAgICBZLkNTUy5jb252ZXJzaW9uVG9vbGJhcldyYXBwZXIsXG4gICAgICAuLi50aGlzLmlzUnRsID8gW3RoaXMuRWRpdG9yLlVJLkNTUy5lZGl0b3JSdGxGaXhdIDogW11cbiAgICBdKSwgdGhpcy5ub2Rlcy50b29scyA9IGQubWFrZShcImRpdlwiLCBZLkNTUy5jb252ZXJzaW9uVG9vbGJhclRvb2xzKTtcbiAgICBjb25zdCBlID0gZC5tYWtlKFwiZGl2XCIsIFkuQ1NTLmNvbnZlcnNpb25Ub29sYmFyTGFiZWwsIHtcbiAgICAgIHRleHRDb250ZW50OiAkLnVpKFgudWkuaW5saW5lVG9vbGJhci5jb252ZXJ0ZXIsIFwiQ29udmVydCB0b1wiKVxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLmFkZFRvb2xzKCksIHRoaXMuZW5hYmxlRmxpcHBlcigpLCBkLmFwcGVuZCh0aGlzLm5vZGVzLndyYXBwZXIsIGUpLCBkLmFwcGVuZCh0aGlzLm5vZGVzLndyYXBwZXIsIHRoaXMubm9kZXMudG9vbHMpLCB0aGlzLm5vZGVzLndyYXBwZXI7XG4gIH1cbiAgLyoqXG4gICAqIERlYWN0aXZhdGVzIGZsaXBwZXIgYW5kIHJlbW92ZXMgYWxsIG5vZGVzXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMuZmxpcHBlciAmJiAodGhpcy5mbGlwcGVyLmRlYWN0aXZhdGUoKSwgdGhpcy5mbGlwcGVyID0gbnVsbCksIHRoaXMucmVtb3ZlQWxsTm9kZXMoKTtcbiAgfVxuICAvKipcbiAgICogVG9nZ2xlIGNvbnZlcnNpb24gZHJvcGRvd24gdmlzaWJpbGl0eVxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbdG9nZ2xpbmdDYWxsYmFja10g4oCUIGNhbGxiYWNrIHRoYXQgd2lsbCBhY2NlcHQgb3BlbmluZyBzdGF0ZVxuICAgKi9cbiAgdG9nZ2xlKGUpIHtcbiAgICB0aGlzLm9wZW5lZCA/IHRoaXMuY2xvc2UoKSA6IHRoaXMub3BlbigpLCBEKGUpICYmICh0aGlzLnRvZ2dsaW5nQ2FsbGJhY2sgPSBlKTtcbiAgfVxuICAvKipcbiAgICogU2hvd3MgQ29udmVyc2lvbiBUb29sYmFyXG4gICAqL1xuICBvcGVuKCkge1xuICAgIHRoaXMuZmlsdGVyVG9vbHMoKSwgdGhpcy5vcGVuZWQgPSAhMCwgdGhpcy5ub2Rlcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQoWS5DU1MuY29udmVyc2lvblRvb2xiYXJTaG93ZWQpLCB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIHRoaXMuZmxpcHBlci5hY3RpdmF0ZSh0aGlzLnRvb2xzLm1hcCgoZSkgPT4gZS5idXR0b24pLmZpbHRlcigoZSkgPT4gIWUuY2xhc3NMaXN0LmNvbnRhaW5zKFkuQ1NTLmNvbnZlcnNpb25Ub29sSGlkZGVuKSkpLCB0aGlzLmZsaXBwZXIuZm9jdXNGaXJzdCgpLCBEKHRoaXMudG9nZ2xpbmdDYWxsYmFjaykgJiYgdGhpcy50b2dnbGluZ0NhbGxiYWNrKCEwKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQ2xvc2VzIENvbnZlcnNpb24gVG9vbGJhclxuICAgKi9cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5vcGVuZWQgPSAhMSwgdGhpcy5mbGlwcGVyLmRlYWN0aXZhdGUoKSwgdGhpcy5ub2Rlcy53cmFwcGVyLmNsYXNzTGlzdC5yZW1vdmUoWS5DU1MuY29udmVyc2lvblRvb2xiYXJTaG93ZWQpLCBEKHRoaXMudG9nZ2xpbmdDYWxsYmFjaykgJiYgdGhpcy50b2dnbGluZ0NhbGxiYWNrKCExKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIGl0IGhhcyBtb3JlIHRoYW4gb25lIHRvb2wgYXZhaWxhYmxlIGZvciBjb252ZXJ0IGluXG4gICAqL1xuICBoYXNUb29scygpIHtcbiAgICByZXR1cm4gdGhpcy50b29scy5sZW5ndGggPT09IDEgPyB0aGlzLnRvb2xzWzBdLm5hbWUgIT09IHRoaXMuY29uZmlnLmRlZmF1bHRCbG9jayA6ICEwO1xuICB9XG4gIC8qKlxuICAgKiBSZXBsYWNlcyBvbmUgQmxvY2sgd2l0aCBhbm90aGVyXG4gICAqIEZvciB0aGF0IFRvb2xzIG11c3QgcHJvdmlkZSBpbXBvcnQvZXhwb3J0IG1ldGhvZHNcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHJlcGxhY2luZ1Rvb2xOYW1lIC0gbmFtZSBvZiBUb29sIHdoaWNoIHJlcGxhY2VzIGN1cnJlbnRcbiAgICogQHBhcmFtIGJsb2NrRGF0YU92ZXJyaWRlcyAtIElmIHRoaXMgY29udmVyc2lvbiBmaXJlZCBieSB0aGUgb25lIG9mIG11bHRpcGxlIFRvb2xib3ggaXRlbXMsIGV4dGVuZCBjb252ZXJ0ZWQgZGF0YSB3aXRoIHRoaXMgaXRlbSdzIFwiZGF0YVwiIG92ZXJyaWRlc1xuICAgKi9cbiAgYXN5bmMgcmVwbGFjZVdpdGhCbG9jayhlLCB0KSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IG8sIEJsb2NrU2VsZWN0aW9uOiBpLCBJbmxpbmVUb29sYmFyOiBuLCBDYXJldDogciB9ID0gdGhpcy5FZGl0b3I7XG4gICAgby5jb252ZXJ0KHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2ssIGUsIHQpLCBpLmNsZWFyU2VsZWN0aW9uKCksIHRoaXMuY2xvc2UoKSwgbi5jbG9zZSgpLCB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIHIuc2V0VG9CbG9jayh0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrLCByLnBvc2l0aW9ucy5FTkQpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBJdGVyYXRlcyBleGlzdGluZyBUb29scyBhbmQgaW5zZXJ0cyB0byB0aGUgQ29udmVyc2lvblRvb2xiYXJcbiAgICogaWYgdG9vbHMgaGF2ZSBhYmlsaXR5IHRvIGltcG9ydFxuICAgKi9cbiAgYWRkVG9vbHMoKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuRWRpdG9yLlRvb2xzLmJsb2NrVG9vbHM7XG4gICAgQXJyYXkuZnJvbShlLmVudHJpZXMoKSkuZm9yRWFjaCgoW3QsIG9dKSA9PiB7XG4gICAgICB2YXIgbjtcbiAgICAgIGNvbnN0IGkgPSBvLmNvbnZlcnNpb25Db25maWc7XG4gICAgICAhaSB8fCAhaS5pbXBvcnQgfHwgKG4gPSBvLnRvb2xib3gpID09IG51bGwgfHwgbi5mb3JFYWNoKFxuICAgICAgICAocikgPT4gdGhpcy5hZGRUb29sSWZWYWxpZCh0LCByKVxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogSW5zZXJ0cyBhIHRvb2wgdG8gdGhlIENvbnZlcnNpb25Ub29sYmFyIGlmIHRoZSB0b29sJ3MgdG9vbGJveCBjb25maWcgaXMgdmFsaWRcbiAgICpcbiAgICogQHBhcmFtIG5hbWUgLSB0b29sJ3MgbmFtZVxuICAgKiBAcGFyYW0gdG9vbGJveFNldHRpbmdzIC0gdG9vbCdzIHNpbmdsZSB0b29sYm94IHNldHRpbmdcbiAgICovXG4gIGFkZFRvb2xJZlZhbGlkKGUsIHQpIHtcbiAgICBWKHQpIHx8ICF0Lmljb24gfHwgdGhpcy5hZGRUb29sKGUsIHQpO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgdG9vbCB0byB0aGUgQ29udmVyc2lvbiBUb29sYmFyXG4gICAqXG4gICAqIEBwYXJhbSB0b29sTmFtZSAtIG5hbWUgb2YgVG9vbCB0byBhZGRcbiAgICogQHBhcmFtIHRvb2xib3hJdGVtIC0gdG9vbCdzIHRvb2xib3ggaXRlbSBkYXRhXG4gICAqL1xuICBhZGRUb29sKGUsIHQpIHtcbiAgICB2YXIgcjtcbiAgICBjb25zdCBvID0gZC5tYWtlKFwiZGl2XCIsIFtZLkNTUy5jb252ZXJzaW9uVG9vbF0pLCBpID0gZC5tYWtlKFwiZGl2XCIsIFtZLkNTUy5jb252ZXJzaW9uVG9vbEljb25dKTtcbiAgICBvLmRhdGFzZXQudG9vbCA9IGUsIGkuaW5uZXJIVE1MID0gdC5pY29uLCBkLmFwcGVuZChvLCBpKSwgZC5hcHBlbmQobywgZC50ZXh0KCQudChYLnRvb2xOYW1lcywgdC50aXRsZSB8fCBhZShlKSkpKTtcbiAgICBjb25zdCBuID0gKHIgPSB0aGlzLkVkaXRvci5Ub29scy5ibG9ja1Rvb2xzLmdldChlKSkgPT0gbnVsbCA/IHZvaWQgMCA6IHIuc2hvcnRjdXQ7XG4gICAgaWYgKG4pIHtcbiAgICAgIGNvbnN0IGEgPSBkLm1ha2UoXCJzcGFuXCIsIFkuQ1NTLmNvbnZlcnNpb25Ub29sU2Vjb25kYXJ5TGFiZWwsIHtcbiAgICAgICAgaW5uZXJUZXh0OiBSZShuKVxuICAgICAgfSk7XG4gICAgICBkLmFwcGVuZChvLCBhKTtcbiAgICB9XG4gICAgZC5hcHBlbmQodGhpcy5ub2Rlcy50b29scywgbyksIHRoaXMudG9vbHMucHVzaCh7XG4gICAgICBuYW1lOiBlLFxuICAgICAgYnV0dG9uOiBvLFxuICAgICAgdG9vbGJveEl0ZW06IHRcbiAgICB9KSwgdGhpcy5saXN0ZW5lcnMub24obywgXCJjbGlja1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCB0aGlzLnJlcGxhY2VXaXRoQmxvY2soZSwgdC5kYXRhKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogSGlkZSBjdXJyZW50IFRvb2wgYW5kIHNob3cgb3RoZXJzXG4gICAqL1xuICBhc3luYyBmaWx0ZXJUb29scygpIHtcbiAgICBjb25zdCB7IGN1cnJlbnRCbG9jazogZSB9ID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLCB0ID0gYXdhaXQgZS5nZXRBY3RpdmVUb29sYm94RW50cnkoKTtcbiAgICBmdW5jdGlvbiBvKGksIG4pIHtcbiAgICAgIHJldHVybiBpLmljb24gPT09IG4uaWNvbiAmJiBpLnRpdGxlID09PSBuLnRpdGxlO1xuICAgIH1cbiAgICB0aGlzLnRvb2xzLmZvckVhY2goKGkpID0+IHtcbiAgICAgIGxldCBuID0gITE7XG4gICAgICBpZiAodCkge1xuICAgICAgICBjb25zdCByID0gbyh0LCBpLnRvb2xib3hJdGVtKTtcbiAgICAgICAgbiA9IGkuYnV0dG9uLmRhdGFzZXQudG9vbCA9PT0gZS5uYW1lICYmIHI7XG4gICAgICB9XG4gICAgICBpLmJ1dHRvbi5oaWRkZW4gPSBuLCBpLmJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFkuQ1NTLmNvbnZlcnNpb25Ub29sSGlkZGVuLCBuKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUHJlcGFyZSBGbGlwcGVyIHRvIGJlIGFibGUgdG8gbGVhZiB0b29scyBieSBhcnJvd3MvdGFiXG4gICAqL1xuICBlbmFibGVGbGlwcGVyKCkge1xuICAgIHRoaXMuZmxpcHBlciA9IG5ldyBHKHtcbiAgICAgIGZvY3VzZWRJdGVtQ2xhc3M6IFkuQ1NTLmNvbnZlcnNpb25Ub29sRm9jdXNlZFxuICAgIH0pO1xuICB9XG59XG52YXIgX2UgPSB7fSwgem8gPSB7XG4gIGdldCBleHBvcnRzKCkge1xuICAgIHJldHVybiBfZTtcbiAgfSxcbiAgc2V0IGV4cG9ydHMocykge1xuICAgIF9lID0gcztcbiAgfVxufTtcbi8qIVxuICogTGlicmFyeSBmb3IgaGFuZGxpbmcga2V5Ym9hcmQgc2hvcnRjdXRzXG4gKiBAY29weXJpZ2h0IENvZGVYIChodHRwczovL2NvZGV4LnNvKVxuICogQGxpY2Vuc2UgTUlUXG4gKiBAYXV0aG9yIENvZGVYIChodHRwczovL2NvZGV4LnNvKVxuICogQHZlcnNpb24gMS4yLjBcbiAqL1xuKGZ1bmN0aW9uKHMsIGUpIHtcbiAgKGZ1bmN0aW9uKHQsIG8pIHtcbiAgICBzLmV4cG9ydHMgPSBvKCk7XG4gIH0pKHdpbmRvdywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgIHZhciBvID0ge307XG4gICAgICBmdW5jdGlvbiBpKG4pIHtcbiAgICAgICAgaWYgKG9bbl0pXG4gICAgICAgICAgcmV0dXJuIG9bbl0uZXhwb3J0cztcbiAgICAgICAgdmFyIHIgPSBvW25dID0geyBpOiBuLCBsOiAhMSwgZXhwb3J0czoge30gfTtcbiAgICAgICAgcmV0dXJuIHRbbl0uY2FsbChyLmV4cG9ydHMsIHIsIHIuZXhwb3J0cywgaSksIHIubCA9ICEwLCByLmV4cG9ydHM7XG4gICAgICB9XG4gICAgICByZXR1cm4gaS5tID0gdCwgaS5jID0gbywgaS5kID0gZnVuY3Rpb24obiwgciwgYSkge1xuICAgICAgICBpLm8obiwgcikgfHwgT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIHIsIHsgZW51bWVyYWJsZTogITAsIGdldDogYSB9KTtcbiAgICAgIH0sIGkuciA9IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgdHlwZW9mIFN5bWJvbCA8IFwidVwiICYmIFN5bWJvbC50b1N0cmluZ1RhZyAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiBcIk1vZHVsZVwiIH0pLCBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pO1xuICAgICAgfSwgaS50ID0gZnVuY3Rpb24obiwgcikge1xuICAgICAgICBpZiAoMSAmIHIgJiYgKG4gPSBpKG4pKSwgOCAmIHIgfHwgNCAmIHIgJiYgdHlwZW9mIG4gPT0gXCJvYmplY3RcIiAmJiBuICYmIG4uX19lc01vZHVsZSlcbiAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgdmFyIGEgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgaWYgKGkucihhKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6ICEwLCB2YWx1ZTogbiB9KSwgMiAmIHIgJiYgdHlwZW9mIG4gIT0gXCJzdHJpbmdcIilcbiAgICAgICAgICBmb3IgKHZhciBsIGluIG4pXG4gICAgICAgICAgICBpLmQoYSwgbCwgZnVuY3Rpb24oYykge1xuICAgICAgICAgICAgICByZXR1cm4gbltjXTtcbiAgICAgICAgICAgIH0uYmluZChudWxsLCBsKSk7XG4gICAgICAgIHJldHVybiBhO1xuICAgICAgfSwgaS5uID0gZnVuY3Rpb24obikge1xuICAgICAgICB2YXIgciA9IG4gJiYgbi5fX2VzTW9kdWxlID8gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIG4uZGVmYXVsdDtcbiAgICAgICAgfSA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gaS5kKHIsIFwiYVwiLCByKSwgcjtcbiAgICAgIH0sIGkubyA9IGZ1bmN0aW9uKG4sIHIpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLCByKTtcbiAgICAgIH0sIGkucCA9IFwiXCIsIGkoaS5zID0gMCk7XG4gICAgfShbZnVuY3Rpb24odCwgbywgaSkge1xuICAgICAgZnVuY3Rpb24gbihsLCBjKSB7XG4gICAgICAgIGZvciAodmFyIHUgPSAwOyB1IDwgYy5sZW5ndGg7IHUrKykge1xuICAgICAgICAgIHZhciBoID0gY1t1XTtcbiAgICAgICAgICBoLmVudW1lcmFibGUgPSBoLmVudW1lcmFibGUgfHwgITEsIGguY29uZmlndXJhYmxlID0gITAsIFwidmFsdWVcIiBpbiBoICYmIChoLndyaXRhYmxlID0gITApLCBPYmplY3QuZGVmaW5lUHJvcGVydHkobCwgaC5rZXksIGgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiByKGwsIGMsIHUpIHtcbiAgICAgICAgcmV0dXJuIGMgJiYgbihsLnByb3RvdHlwZSwgYyksIHUgJiYgbihsLCB1KSwgbDtcbiAgICAgIH1cbiAgICAgIGkucihvKTtcbiAgICAgIHZhciBhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGZ1bmN0aW9uIGwoYykge1xuICAgICAgICAgIHZhciB1ID0gdGhpcztcbiAgICAgICAgICAoZnVuY3Rpb24oaCwgZikge1xuICAgICAgICAgICAgaWYgKCEoaCBpbnN0YW5jZW9mIGYpKVxuICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICAgIH0pKHRoaXMsIGwpLCB0aGlzLmNvbW1hbmRzID0ge30sIHRoaXMua2V5cyA9IHt9LCB0aGlzLm5hbWUgPSBjLm5hbWUsIHRoaXMucGFyc2VTaG9ydGN1dE5hbWUoYy5uYW1lKSwgdGhpcy5lbGVtZW50ID0gYy5vbiwgdGhpcy5jYWxsYmFjayA9IGMuY2FsbGJhY2ssIHRoaXMuZXhlY3V0ZVNob3J0Y3V0ID0gZnVuY3Rpb24oaCkge1xuICAgICAgICAgICAgdS5leGVjdXRlKGgpO1xuICAgICAgICAgIH0sIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLmV4ZWN1dGVTaG9ydGN1dCwgITEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByKGwsIG51bGwsIFt7IGtleTogXCJzdXBwb3J0ZWRDb21tYW5kc1wiLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiB7IFNISUZUOiBbXCJTSElGVFwiXSwgQ01EOiBbXCJDTURcIiwgXCJDT05UUk9MXCIsIFwiQ09NTUFORFwiLCBcIldJTkRPV1NcIiwgXCJDVFJMXCJdLCBBTFQ6IFtcIkFMVFwiLCBcIk9QVElPTlwiXSB9O1xuICAgICAgICB9IH0sIHsga2V5OiBcImtleUNvZGVzXCIsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHsgMDogNDgsIDE6IDQ5LCAyOiA1MCwgMzogNTEsIDQ6IDUyLCA1OiA1MywgNjogNTQsIDc6IDU1LCA4OiA1NiwgOTogNTcsIEE6IDY1LCBCOiA2NiwgQzogNjcsIEQ6IDY4LCBFOiA2OSwgRjogNzAsIEc6IDcxLCBIOiA3MiwgSTogNzMsIEo6IDc0LCBLOiA3NSwgTDogNzYsIE06IDc3LCBOOiA3OCwgTzogNzksIFA6IDgwLCBROiA4MSwgUjogODIsIFM6IDgzLCBUOiA4NCwgVTogODUsIFY6IDg2LCBXOiA4NywgWDogODgsIFk6IDg5LCBaOiA5MCwgQkFDS1NQQUNFOiA4LCBFTlRFUjogMTMsIEVTQ0FQRTogMjcsIExFRlQ6IDM3LCBVUDogMzgsIFJJR0hUOiAzOSwgRE9XTjogNDAsIElOU0VSVDogNDUsIERFTEVURTogNDYsIFwiLlwiOiAxOTAgfTtcbiAgICAgICAgfSB9XSksIHIobCwgW3sga2V5OiBcInBhcnNlU2hvcnRjdXROYW1lXCIsIHZhbHVlOiBmdW5jdGlvbihjKSB7XG4gICAgICAgICAgYyA9IGMuc3BsaXQoXCIrXCIpO1xuICAgICAgICAgIGZvciAodmFyIHUgPSAwOyB1IDwgYy5sZW5ndGg7IHUrKykge1xuICAgICAgICAgICAgY1t1XSA9IGNbdV0udG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIHZhciBoID0gITE7XG4gICAgICAgICAgICBmb3IgKHZhciBmIGluIGwuc3VwcG9ydGVkQ29tbWFuZHMpXG4gICAgICAgICAgICAgIGlmIChsLnN1cHBvcnRlZENvbW1hbmRzW2ZdLmluY2x1ZGVzKGNbdV0pKSB7XG4gICAgICAgICAgICAgICAgaCA9IHRoaXMuY29tbWFuZHNbZl0gPSAhMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgaCB8fCAodGhpcy5rZXlzW2NbdV1dID0gITApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKHZhciBrIGluIGwuc3VwcG9ydGVkQ29tbWFuZHMpXG4gICAgICAgICAgICB0aGlzLmNvbW1hbmRzW2tdIHx8ICh0aGlzLmNvbW1hbmRzW2tdID0gITEpO1xuICAgICAgICB9IH0sIHsga2V5OiBcImV4ZWN1dGVcIiwgdmFsdWU6IGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgICB2YXIgdSwgaCA9IHsgQ01EOiBjLmN0cmxLZXkgfHwgYy5tZXRhS2V5LCBTSElGVDogYy5zaGlmdEtleSwgQUxUOiBjLmFsdEtleSB9LCBmID0gITA7XG4gICAgICAgICAgZm9yICh1IGluIHRoaXMuY29tbWFuZHMpXG4gICAgICAgICAgICB0aGlzLmNvbW1hbmRzW3VdICE9PSBoW3VdICYmIChmID0gITEpO1xuICAgICAgICAgIHZhciBrLCBwID0gITA7XG4gICAgICAgICAgZm9yIChrIGluIHRoaXMua2V5cylcbiAgICAgICAgICAgIHAgPSBwICYmIGMua2V5Q29kZSA9PT0gbC5rZXlDb2Rlc1trXTtcbiAgICAgICAgICBmICYmIHAgJiYgdGhpcy5jYWxsYmFjayhjKTtcbiAgICAgICAgfSB9LCB7IGtleTogXCJyZW1vdmVcIiwgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLmV4ZWN1dGVTaG9ydGN1dCk7XG4gICAgICAgIH0gfV0pLCBsO1xuICAgICAgfSgpO1xuICAgICAgby5kZWZhdWx0ID0gYTtcbiAgICB9XSkuZGVmYXVsdDtcbiAgfSk7XG59KSh6byk7XG5jb25zdCBVbyA9IC8qIEBfX1BVUkVfXyAqLyB4ZShfZSk7XG5jbGFzcyAkbyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucmVnaXN0ZXJlZFNob3J0Y3V0cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIH1cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIHNob3J0Y3V0XG4gICAqXG4gICAqIEBwYXJhbSBzaG9ydGN1dCAtIHNob3J0Y3V0IG9wdGlvbnNcbiAgICovXG4gIGFkZChlKSB7XG4gICAgaWYgKHRoaXMuZmluZFNob3J0Y3V0KGUub24sIGUubmFtZSkpXG4gICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgYFNob3J0Y3V0ICR7ZS5uYW1lfSBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQgZm9yICR7ZS5vbn0uIFBsZWFzZSByZW1vdmUgaXQgYmVmb3JlIGFkZCBhIG5ldyBoYW5kbGVyLmBcbiAgICAgICk7XG4gICAgY29uc3QgbyA9IG5ldyBVbyh7XG4gICAgICBuYW1lOiBlLm5hbWUsXG4gICAgICBvbjogZS5vbixcbiAgICAgIGNhbGxiYWNrOiBlLmhhbmRsZXJcbiAgICB9KSwgaSA9IHRoaXMucmVnaXN0ZXJlZFNob3J0Y3V0cy5nZXQoZS5vbikgfHwgW107XG4gICAgdGhpcy5yZWdpc3RlcmVkU2hvcnRjdXRzLnNldChlLm9uLCBbLi4uaSwgb10pO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgc2hvcnRjdXRcbiAgICpcbiAgICogQHBhcmFtIGVsZW1lbnQgLSBFbGVtZW50IHNob3J0Y3V0IGlzIHNldCBmb3JcbiAgICogQHBhcmFtIG5hbWUgLSBzaG9ydGN1dCBuYW1lXG4gICAqL1xuICByZW1vdmUoZSwgdCkge1xuICAgIGNvbnN0IG8gPSB0aGlzLmZpbmRTaG9ydGN1dChlLCB0KTtcbiAgICBpZiAoIW8pXG4gICAgICByZXR1cm47XG4gICAgby5yZW1vdmUoKTtcbiAgICBjb25zdCBpID0gdGhpcy5yZWdpc3RlcmVkU2hvcnRjdXRzLmdldChlKTtcbiAgICB0aGlzLnJlZ2lzdGVyZWRTaG9ydGN1dHMuc2V0KGUsIGkuZmlsdGVyKChuKSA9PiBuICE9PSBvKSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBTaG9ydGN1dCBpbnN0YW5jZSBpZiBleGlzdFxuICAgKlxuICAgKiBAcGFyYW0gZWxlbWVudCAtIEVsZW1lbnQgc2hvcmN1dCBpcyBzZXQgZm9yXG4gICAqIEBwYXJhbSBzaG9ydGN1dCAtIHNob3J0Y3V0IG5hbWVcbiAgICogQHJldHVybnMge251bWJlcn0gaW5kZXggLSBzaG9ydGN1dCBpbmRleCBpZiBleGlzdFxuICAgKi9cbiAgZmluZFNob3J0Y3V0KGUsIHQpIHtcbiAgICByZXR1cm4gKHRoaXMucmVnaXN0ZXJlZFNob3J0Y3V0cy5nZXQoZSkgfHwgW10pLmZpbmQoKHsgbmFtZTogaSB9KSA9PiBpID09PSB0KTtcbiAgfVxufVxuY29uc3QgbGUgPSBuZXcgJG8oKTtcbnZhciBXbyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwgWW8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLCBidCA9IChzLCBlLCB0LCBvKSA9PiB7XG4gIGZvciAodmFyIGkgPSBvID4gMSA/IHZvaWQgMCA6IG8gPyBZbyhlLCB0KSA6IGUsIG4gPSBzLmxlbmd0aCAtIDEsIHI7IG4gPj0gMDsgbi0tKVxuICAgIChyID0gc1tuXSkgJiYgKGkgPSAobyA/IHIoZSwgdCwgaSkgOiByKGkpKSB8fCBpKTtcbiAgcmV0dXJuIG8gJiYgaSAmJiBXbyhlLCB0LCBpKSwgaTtcbn0sIG1lID0gLyogQF9fUFVSRV9fICovICgocykgPT4gKHMuT3BlbmVkID0gXCJ0b29sYm94LW9wZW5lZFwiLCBzLkNsb3NlZCA9IFwidG9vbGJveC1jbG9zZWRcIiwgcy5CbG9ja0FkZGVkID0gXCJ0b29sYm94LWJsb2NrLWFkZGVkXCIsIHMpKShtZSB8fCB7fSk7XG5jb25zdCBtdCA9IGNsYXNzIGV4dGVuZHMgd2Uge1xuICAvKipcbiAgICogVG9vbGJveCBjb25zdHJ1Y3RvclxuICAgKlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIGF2YWlsYWJsZSBwYXJhbWV0ZXJzXG4gICAqIEBwYXJhbSBvcHRpb25zLmFwaSAtIEVkaXRvciBBUEkgbWV0aG9kc1xuICAgKiBAcGFyYW0gb3B0aW9ucy50b29scyAtIFRvb2xzIGF2YWlsYWJsZSB0byBjaGVjayB3aGV0aGVyIHNvbWUgb2YgdGhlbSBzaG91bGQgYmUgZGlzcGxheWVkIGF0IHRoZSBUb29sYm94IG9yIG5vdFxuICAgKi9cbiAgY29uc3RydWN0b3IoeyBhcGk6IHMsIHRvb2xzOiBlLCBpMThuTGFiZWxzOiB0IH0pIHtcbiAgICBzdXBlcigpLCB0aGlzLm9wZW5lZCA9ICExLCB0aGlzLm5vZGVzID0ge1xuICAgICAgdG9vbGJveDogbnVsbFxuICAgIH0sIHRoaXMub25Qb3BvdmVyQ2xvc2UgPSAoKSA9PiB7XG4gICAgICB0aGlzLm9wZW5lZCA9ICExLCB0aGlzLmVtaXQoXG4gICAgICAgIFwidG9vbGJveC1jbG9zZWRcIlxuICAgICAgICAvKiBDbG9zZWQgKi9cbiAgICAgICk7XG4gICAgfSwgdGhpcy5hcGkgPSBzLCB0aGlzLnRvb2xzID0gZSwgdGhpcy5pMThuTGFiZWxzID0gdDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBUcnVlIGlmIFRvb2xib3ggaXMgRW1wdHkgYW5kIG5vdGhpbmcgdG8gc2hvd1xuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBpc0VtcHR5KCkge1xuICAgIHJldHVybiB0aGlzLnRvb2xzVG9CZURpc3BsYXllZC5sZW5ndGggPT09IDA7XG4gIH1cbiAgLyoqXG4gICAqIENTUyBzdHlsZXNcbiAgICpcbiAgICogQHJldHVybnMge09iamVjdDxzdHJpbmcsIHN0cmluZz59XG4gICAqL1xuICBzdGF0aWMgZ2V0IENTUygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdG9vbGJveDogXCJjZS10b29sYm94XCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBNYWtlcyB0aGUgVG9vbGJveFxuICAgKi9cbiAgbWFrZSgpIHtcbiAgICByZXR1cm4gdGhpcy5wb3BvdmVyID0gbmV3IGplKHtcbiAgICAgIHNjb3BlRWxlbWVudDogdGhpcy5hcGkudWkubm9kZXMucmVkYWN0b3IsXG4gICAgICBzZWFyY2hhYmxlOiAhMCxcbiAgICAgIG1lc3NhZ2VzOiB7XG4gICAgICAgIG5vdGhpbmdGb3VuZDogdGhpcy5pMThuTGFiZWxzLm5vdGhpbmdGb3VuZCxcbiAgICAgICAgc2VhcmNoOiB0aGlzLmkxOG5MYWJlbHMuZmlsdGVyXG4gICAgICB9LFxuICAgICAgaXRlbXM6IHRoaXMudG9vbGJveEl0ZW1zVG9CZURpc3BsYXllZFxuICAgIH0pLCB0aGlzLnBvcG92ZXIub24oZ2UuQ2xvc2UsIHRoaXMub25Qb3BvdmVyQ2xvc2UpLCB0aGlzLmVuYWJsZVNob3J0Y3V0cygpLCB0aGlzLm5vZGVzLnRvb2xib3ggPSB0aGlzLnBvcG92ZXIuZ2V0RWxlbWVudCgpLCB0aGlzLm5vZGVzLnRvb2xib3guY2xhc3NMaXN0LmFkZChtdC5DU1MudG9vbGJveCksIHRoaXMubm9kZXMudG9vbGJveDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBUb29sYm94IGhhcyB0aGUgRmxpcHBlciBhY3RpdmF0ZWQgYW5kIHRoZSBGbGlwcGVyIGhhcyBzZWxlY3RlZCBidXR0b25cbiAgICovXG4gIGhhc0ZvY3VzKCkge1xuICAgIHZhciBzO1xuICAgIHJldHVybiAocyA9IHRoaXMucG9wb3ZlcikgPT0gbnVsbCA/IHZvaWQgMCA6IHMuaGFzRm9jdXMoKTtcbiAgfVxuICAvKipcbiAgICogRGVzdHJveSBNb2R1bGVcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdmFyIHM7XG4gICAgc3VwZXIuZGVzdHJveSgpLCB0aGlzLm5vZGVzICYmIHRoaXMubm9kZXMudG9vbGJveCAmJiAodGhpcy5ub2Rlcy50b29sYm94LnJlbW92ZSgpLCB0aGlzLm5vZGVzLnRvb2xib3ggPSBudWxsKSwgdGhpcy5yZW1vdmVBbGxTaG9ydGN1dHMoKSwgKHMgPSB0aGlzLnBvcG92ZXIpID09IG51bGwgfHwgcy5vZmYoZ2UuQ2xvc2UsIHRoaXMub25Qb3BvdmVyQ2xvc2UpO1xuICB9XG4gIC8qKlxuICAgKiBUb29sYm94IFRvb2wncyBidXR0b24gY2xpY2sgaGFuZGxlclxuICAgKlxuICAgKiBAcGFyYW0gdG9vbE5hbWUgLSB0b29sIHR5cGUgdG8gYmUgYWN0aXZhdGVkXG4gICAqIEBwYXJhbSBibG9ja0RhdGFPdmVycmlkZXMgLSBCbG9jayBkYXRhIHByZWRlZmluZWQgYnkgdGhlIGFjdGl2YXRlZCBUb29sYm94IGl0ZW1cbiAgICovXG4gIHRvb2xCdXR0b25BY3RpdmF0ZWQocywgZSkge1xuICAgIHRoaXMuaW5zZXJ0TmV3QmxvY2socywgZSk7XG4gIH1cbiAgLyoqXG4gICAqIE9wZW4gVG9vbGJveCB3aXRoIFRvb2xzXG4gICAqL1xuICBvcGVuKCkge1xuICAgIHZhciBzO1xuICAgIHRoaXMuaXNFbXB0eSB8fCAoKHMgPSB0aGlzLnBvcG92ZXIpID09IG51bGwgfHwgcy5zaG93KCksIHRoaXMub3BlbmVkID0gITAsIHRoaXMuZW1pdChcbiAgICAgIFwidG9vbGJveC1vcGVuZWRcIlxuICAgICAgLyogT3BlbmVkICovXG4gICAgKSk7XG4gIH1cbiAgLyoqXG4gICAqIENsb3NlIFRvb2xib3hcbiAgICovXG4gIGNsb3NlKCkge1xuICAgIHZhciBzO1xuICAgIChzID0gdGhpcy5wb3BvdmVyKSA9PSBudWxsIHx8IHMuaGlkZSgpLCB0aGlzLm9wZW5lZCA9ICExLCB0aGlzLmVtaXQoXG4gICAgICBcInRvb2xib3gtY2xvc2VkXCJcbiAgICAgIC8qIENsb3NlZCAqL1xuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIENsb3NlIFRvb2xib3hcbiAgICovXG4gIHRvZ2dsZSgpIHtcbiAgICB0aGlzLm9wZW5lZCA/IHRoaXMuY2xvc2UoKSA6IHRoaXMub3BlbigpO1xuICB9XG4gIGdldCB0b29sc1RvQmVEaXNwbGF5ZWQoKSB7XG4gICAgY29uc3QgcyA9IFtdO1xuICAgIHJldHVybiB0aGlzLnRvb2xzLmZvckVhY2goKGUpID0+IHtcbiAgICAgIGUudG9vbGJveCAmJiBzLnB1c2goZSk7XG4gICAgfSksIHM7XG4gIH1cbiAgZ2V0IHRvb2xib3hJdGVtc1RvQmVEaXNwbGF5ZWQoKSB7XG4gICAgY29uc3QgcyA9IChlLCB0KSA9PiAoe1xuICAgICAgaWNvbjogZS5pY29uLFxuICAgICAgdGl0bGU6ICQudChYLnRvb2xOYW1lcywgZS50aXRsZSB8fCBhZSh0Lm5hbWUpKSxcbiAgICAgIG5hbWU6IHQubmFtZSxcbiAgICAgIG9uQWN0aXZhdGU6ICgpID0+IHtcbiAgICAgICAgdGhpcy50b29sQnV0dG9uQWN0aXZhdGVkKHQubmFtZSwgZS5kYXRhKTtcbiAgICAgIH0sXG4gICAgICBzZWNvbmRhcnlMYWJlbDogdC5zaG9ydGN1dCA/IFJlKHQuc2hvcnRjdXQpIDogXCJcIlxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLnRvb2xzVG9CZURpc3BsYXllZC5yZWR1Y2UoKGUsIHQpID0+IChBcnJheS5pc0FycmF5KHQudG9vbGJveCkgPyB0LnRvb2xib3guZm9yRWFjaCgobykgPT4ge1xuICAgICAgZS5wdXNoKHMobywgdCkpO1xuICAgIH0pIDogdC50b29sYm94ICE9PSB2b2lkIDAgJiYgZS5wdXNoKHModC50b29sYm94LCB0KSksIGUpLCBbXSk7XG4gIH1cbiAgLyoqXG4gICAqIEl0ZXJhdGUgYWxsIHRvb2xzIGFuZCBlbmFibGUgdGhlaXJzIHNob3J0Y3V0cyBpZiBzcGVjaWZpZWRcbiAgICovXG4gIGVuYWJsZVNob3J0Y3V0cygpIHtcbiAgICB0aGlzLnRvb2xzVG9CZURpc3BsYXllZC5mb3JFYWNoKChzKSA9PiB7XG4gICAgICBjb25zdCBlID0gcy5zaG9ydGN1dDtcbiAgICAgIGUgJiYgdGhpcy5lbmFibGVTaG9ydGN1dEZvclRvb2wocy5uYW1lLCBlKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogRW5hYmxlIHNob3J0Y3V0IEJsb2NrIFRvb2wgaW1wbGVtZW50ZWQgc2hvcnRjdXRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRvb2xOYW1lIC0gVG9vbCBuYW1lXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzaG9ydGN1dCAtIHNob3J0Y3V0IGFjY29yZGluZyB0byB0aGUgU2hvcnRjdXREYXRhIE1vZHVsZSBmb3JtYXRcbiAgICovXG4gIGVuYWJsZVNob3J0Y3V0Rm9yVG9vbChzLCBlKSB7XG4gICAgbGUuYWRkKHtcbiAgICAgIG5hbWU6IGUsXG4gICAgICBvbjogdGhpcy5hcGkudWkubm9kZXMucmVkYWN0b3IsXG4gICAgICBoYW5kbGVyOiAodCkgPT4ge1xuICAgICAgICB0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IG8gPSB0aGlzLmFwaS5ibG9ja3MuZ2V0Q3VycmVudEJsb2NrSW5kZXgoKSwgaSA9IHRoaXMuYXBpLmJsb2Nrcy5nZXRCbG9ja0J5SW5kZXgobyk7XG4gICAgICAgIGlmIChpKVxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmFwaS5ibG9ja3MuY29udmVydChpLmlkLCBzKSwgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuYXBpLmNhcmV0LnNldFRvQmxvY2sobywgXCJlbmRcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5zZXJ0TmV3QmxvY2socyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZXMgYWxsIGFkZGVkIHNob3J0Y3V0c1xuICAgKiBGaXJlZCB3aGVuIHRoZSBSZWFkLU9ubHkgbW9kZSBpcyBhY3RpdmF0ZWRcbiAgICovXG4gIHJlbW92ZUFsbFNob3J0Y3V0cygpIHtcbiAgICB0aGlzLnRvb2xzVG9CZURpc3BsYXllZC5mb3JFYWNoKChzKSA9PiB7XG4gICAgICBjb25zdCBlID0gcy5zaG9ydGN1dDtcbiAgICAgIGUgJiYgbGUucmVtb3ZlKHRoaXMuYXBpLnVpLm5vZGVzLnJlZGFjdG9yLCBlKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogSW5zZXJ0cyBuZXcgYmxvY2tcbiAgICogQ2FuIGJlIGNhbGxlZCB3aGVuIGJ1dHRvbiBjbGlja2VkIG9uIFRvb2xib3ggb3IgYnkgU2hvcnRjdXREYXRhXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b29sTmFtZSAtIFRvb2wgbmFtZVxuICAgKiBAcGFyYW0gYmxvY2tEYXRhT3ZlcnJpZGVzIC0gcHJlZGVmaW5lZCBCbG9jayBkYXRhXG4gICAqL1xuICBhc3luYyBpbnNlcnROZXdCbG9jayhzLCBlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuYXBpLmJsb2Nrcy5nZXRDdXJyZW50QmxvY2tJbmRleCgpLCBvID0gdGhpcy5hcGkuYmxvY2tzLmdldEJsb2NrQnlJbmRleCh0KTtcbiAgICBpZiAoIW8pXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgaSA9IG8uaXNFbXB0eSA/IHQgOiB0ICsgMTtcbiAgICBsZXQgbjtcbiAgICBpZiAoZSkge1xuICAgICAgY29uc3QgYSA9IGF3YWl0IHRoaXMuYXBpLmJsb2Nrcy5jb21wb3NlQmxvY2tEYXRhKHMpO1xuICAgICAgbiA9IE9iamVjdC5hc3NpZ24oYSwgZSk7XG4gICAgfVxuICAgIGNvbnN0IHIgPSB0aGlzLmFwaS5ibG9ja3MuaW5zZXJ0KFxuICAgICAgcyxcbiAgICAgIG4sXG4gICAgICB2b2lkIDAsXG4gICAgICBpLFxuICAgICAgdm9pZCAwLFxuICAgICAgby5pc0VtcHR5XG4gICAgKTtcbiAgICByLmNhbGwocS5BUFBFTkRfQ0FMTEJBQ0spLCB0aGlzLmFwaS5jYXJldC5zZXRUb0Jsb2NrKGkpLCB0aGlzLmVtaXQoXCJ0b29sYm94LWJsb2NrLWFkZGVkXCIsIHtcbiAgICAgIGJsb2NrOiByXG4gICAgfSksIHRoaXMuYXBpLnRvb2xiYXIuY2xvc2UoKTtcbiAgfVxufTtcbmxldCB6ZSA9IG10O1xuYnQoW1xuICBjZVxuXSwgemUucHJvdG90eXBlLCBcInRvb2xzVG9CZURpc3BsYXllZFwiLCAxKTtcbmJ0KFtcbiAgY2Vcbl0sIHplLnByb3RvdHlwZSwgXCJ0b29sYm94SXRlbXNUb0JlRGlzcGxheWVkXCIsIDEpO1xuY29uc3Qga3QgPSBcImJsb2NrIGhvdmVyZWRcIjtcbmNsYXNzIEtvIGV4dGVuZHMgQyB7XG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICogQHBhcmFtIG1vZHVsZUNvbmZpZ3VyYXRpb24gLSBNb2R1bGUgQ29uZmlndXJhdGlvblxuICAgKiBAcGFyYW0gbW9kdWxlQ29uZmlndXJhdGlvbi5jb25maWcgLSBFZGl0b3IncyBjb25maWdcbiAgICogQHBhcmFtIG1vZHVsZUNvbmZpZ3VyYXRpb24uZXZlbnRzRGlzcGF0Y2hlciAtIEVkaXRvcidzIGV2ZW50IGRpc3BhdGNoZXJcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgY29uZmlnOiBlLCBldmVudHNEaXNwYXRjaGVyOiB0IH0pIHtcbiAgICBzdXBlcih7XG4gICAgICBjb25maWc6IGUsXG4gICAgICBldmVudHNEaXNwYXRjaGVyOiB0XG4gICAgfSksIHRoaXMudG9vbGJveEluc3RhbmNlID0gbnVsbCwgdGhpcy50b29sdGlwID0gbmV3IEhlKCk7XG4gIH1cbiAgLyoqXG4gICAqIENTUyBzdHlsZXNcbiAgICpcbiAgICogQHJldHVybnMge29iamVjdH1cbiAgICovXG4gIGdldCBDU1MoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvb2xiYXI6IFwiY2UtdG9vbGJhclwiLFxuICAgICAgY29udGVudDogXCJjZS10b29sYmFyX19jb250ZW50XCIsXG4gICAgICBhY3Rpb25zOiBcImNlLXRvb2xiYXJfX2FjdGlvbnNcIixcbiAgICAgIGFjdGlvbnNPcGVuZWQ6IFwiY2UtdG9vbGJhcl9fYWN0aW9ucy0tb3BlbmVkXCIsXG4gICAgICB0b29sYmFyT3BlbmVkOiBcImNlLXRvb2xiYXItLW9wZW5lZFwiLFxuICAgICAgb3BlbmVkVG9vbGJveEhvbGRlck1vZGlmaWVyOiBcImNvZGV4LWVkaXRvci0tdG9vbGJveC1vcGVuZWRcIixcbiAgICAgIHBsdXNCdXR0b246IFwiY2UtdG9vbGJhcl9fcGx1c1wiLFxuICAgICAgcGx1c0J1dHRvblNob3J0Y3V0OiBcImNlLXRvb2xiYXJfX3BsdXMtc2hvcnRjdXRcIixcbiAgICAgIHNldHRpbmdzVG9nZ2xlcjogXCJjZS10b29sYmFyX19zZXR0aW5ncy1idG5cIixcbiAgICAgIHNldHRpbmdzVG9nZ2xlckhpZGRlbjogXCJjZS10b29sYmFyX19zZXR0aW5ncy1idG4tLWhpZGRlblwiXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgVG9vbGJhciBvcGVuaW5nIHN0YXRlXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgZ2V0IG9wZW5lZCgpIHtcbiAgICByZXR1cm4gdGhpcy5ub2Rlcy53cmFwcGVyLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNTUy50b29sYmFyT3BlbmVkKTtcbiAgfVxuICAvKipcbiAgICogUHVibGljIGludGVyZmFjZSBmb3IgYWNjZXNzaW5nIHRoZSBUb29sYm94XG4gICAqL1xuICBnZXQgdG9vbGJveCgpIHtcbiAgICB2YXIgZTtcbiAgICByZXR1cm4ge1xuICAgICAgb3BlbmVkOiAoZSA9IHRoaXMudG9vbGJveEluc3RhbmNlKSA9PSBudWxsID8gdm9pZCAwIDogZS5vcGVuZWQsXG4gICAgICBjbG9zZTogKCkgPT4ge1xuICAgICAgICB2YXIgdDtcbiAgICAgICAgKHQgPSB0aGlzLnRvb2xib3hJbnN0YW5jZSkgPT0gbnVsbCB8fCB0LmNsb3NlKCk7XG4gICAgICB9LFxuICAgICAgb3BlbjogKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy50b29sYm94SW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgICBMKFwidG9vbGJveC5vcGVuKCkgY2FsbGVkIGJlZm9yZSBpbml0aWFsaXphdGlvbiBpcyBmaW5pc2hlZFwiLCBcIndhcm5cIik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2sgPSB0aGlzLmhvdmVyZWRCbG9jaywgdGhpcy50b29sYm94SW5zdGFuY2Uub3BlbigpO1xuICAgICAgfSxcbiAgICAgIHRvZ2dsZTogKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy50b29sYm94SW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgICBMKFwidG9vbGJveC50b2dnbGUoKSBjYWxsZWQgYmVmb3JlIGluaXRpYWxpemF0aW9uIGlzIGZpbmlzaGVkXCIsIFwid2FyblwiKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50b29sYm94SW5zdGFuY2UudG9nZ2xlKCk7XG4gICAgICB9LFxuICAgICAgaGFzRm9jdXM6ICgpID0+IHtcbiAgICAgICAgdmFyIHQ7XG4gICAgICAgIHJldHVybiAodCA9IHRoaXMudG9vbGJveEluc3RhbmNlKSA9PSBudWxsID8gdm9pZCAwIDogdC5oYXNGb2N1cygpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEJsb2NrIGFjdGlvbnMgYXBwZWFyYW5jZSBtYW5pcHVsYXRpb25zXG4gICAqL1xuICBnZXQgYmxvY2tBY3Rpb25zKCkge1xuICAgIHJldHVybiB7XG4gICAgICBoaWRlOiAoKSA9PiB7XG4gICAgICAgIHRoaXMubm9kZXMuYWN0aW9ucy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ1NTLmFjdGlvbnNPcGVuZWQpO1xuICAgICAgfSxcbiAgICAgIHNob3c6ICgpID0+IHtcbiAgICAgICAgdGhpcy5ub2Rlcy5hY3Rpb25zLmNsYXNzTGlzdC5hZGQodGhpcy5DU1MuYWN0aW9uc09wZW5lZCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogTWV0aG9kcyBmb3Igd29ya2luZyB3aXRoIEJsb2NrIFR1bmVzIHRvZ2dsZXJcbiAgICovXG4gIGdldCBibG9ja1R1bmVzVG9nZ2xlcigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaGlkZTogKCkgPT4gdGhpcy5ub2Rlcy5zZXR0aW5nc1RvZ2dsZXIuY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy5zZXR0aW5nc1RvZ2dsZXJIaWRkZW4pLFxuICAgICAgc2hvdzogKCkgPT4gdGhpcy5ub2Rlcy5zZXR0aW5nc1RvZ2dsZXIuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNTUy5zZXR0aW5nc1RvZ2dsZXJIaWRkZW4pXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogVG9nZ2xlcyByZWFkLW9ubHkgbW9kZVxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlYWRPbmx5RW5hYmxlZCAtIHJlYWQtb25seSBtb2RlXG4gICAqL1xuICB0b2dnbGVSZWFkT25seShlKSB7XG4gICAgZSA/ICh0aGlzLmRlc3Ryb3koKSwgdGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5kZXN0cm95KCksIHRoaXMuZGlzYWJsZU1vZHVsZUJpbmRpbmdzKCkpIDogd2luZG93LnJlcXVlc3RJZGxlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgdGhpcy5kcmF3VUkoKSwgdGhpcy5lbmFibGVNb2R1bGVCaW5kaW5ncygpO1xuICAgIH0sIHsgdGltZW91dDogMmUzIH0pO1xuICB9XG4gIC8qKlxuICAgKiBNb3ZlIFRvb2xiYXIgdG8gdGhlIHBhc3NlZCAob3IgY3VycmVudCkgQmxvY2tcbiAgICpcbiAgICogQHBhcmFtIGJsb2NrIC0gYmxvY2sgdG8gbW92ZSBUb29sYmFyIG5lYXIgaXRcbiAgICovXG4gIG1vdmVBbmRPcGVuKGUgPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrKSB7XG4gICAgaWYgKHRoaXMudG9vbGJveEluc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBMKFwiQ2FuJ3Qgb3BlbiBUb29sYmFyIHNpbmNlIEVkaXRvciBpbml0aWFsaXphdGlvbiBpcyBub3QgZmluaXNoZWQgeWV0XCIsIFwid2FyblwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMudG9vbGJveEluc3RhbmNlLm9wZW5lZCAmJiB0aGlzLnRvb2xib3hJbnN0YW5jZS5jbG9zZSgpLCB0aGlzLkVkaXRvci5CbG9ja1NldHRpbmdzLm9wZW5lZCAmJiB0aGlzLkVkaXRvci5CbG9ja1NldHRpbmdzLmNsb3NlKCksICFlKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMuaG92ZXJlZEJsb2NrID0gZTtcbiAgICBjb25zdCB0ID0gZS5ob2xkZXIsIHsgaXNNb2JpbGU6IG8gfSA9IHRoaXMuRWRpdG9yLlVJLCBpID0gZS5wbHVnaW5zQ29udGVudCwgbiA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGkpLCByID0gcGFyc2VJbnQobi5wYWRkaW5nVG9wLCAxMCksIGEgPSB0Lm9mZnNldEhlaWdodDtcbiAgICBsZXQgbDtcbiAgICBvID8gbCA9IHQub2Zmc2V0VG9wICsgYSA6IGwgPSB0Lm9mZnNldFRvcCArIHIsIHRoaXMubm9kZXMud3JhcHBlci5zdHlsZS50b3AgPSBgJHtNYXRoLmZsb29yKGwpfXB4YCwgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmJsb2Nrcy5sZW5ndGggPT09IDEgJiYgZS5pc0VtcHR5ID8gdGhpcy5ibG9ja1R1bmVzVG9nZ2xlci5oaWRlKCkgOiB0aGlzLmJsb2NrVHVuZXNUb2dnbGVyLnNob3coKSwgdGhpcy5vcGVuKCk7XG4gIH1cbiAgLyoqXG4gICAqIENsb3NlIHRoZSBUb29sYmFyXG4gICAqL1xuICBjbG9zZSgpIHtcbiAgICB2YXIgZTtcbiAgICB0aGlzLkVkaXRvci5SZWFkT25seS5pc0VuYWJsZWQgfHwgKHRoaXMubm9kZXMud3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ1NTLnRvb2xiYXJPcGVuZWQpLCB0aGlzLmJsb2NrQWN0aW9ucy5oaWRlKCksIChlID0gdGhpcy50b29sYm94SW5zdGFuY2UpID09IG51bGwgfHwgZS5jbG9zZSgpLCB0aGlzLkVkaXRvci5CbG9ja1NldHRpbmdzLmNsb3NlKCkpO1xuICB9XG4gIC8qKlxuICAgKiBPcGVuIFRvb2xiYXIgd2l0aCBQbHVzIEJ1dHRvbiBhbmQgQWN0aW9uc1xuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHdpdGhCbG9ja0FjdGlvbnMgLSBieSBkZWZhdWx0LCBUb29sYmFyIG9wZW5zIHdpdGggQmxvY2sgQWN0aW9ucy5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhpcyBmbGFnIGFsbG93cyB0byBvcGVuIFRvb2xiYXIgd2l0aG91dCBBY3Rpb25zLlxuICAgKi9cbiAgb3BlbihlID0gITApIHtcbiAgICByZSgoKSA9PiB7XG4gICAgICB0aGlzLm5vZGVzLndyYXBwZXIuY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy50b29sYmFyT3BlbmVkKSwgZSA/IHRoaXMuYmxvY2tBY3Rpb25zLnNob3coKSA6IHRoaXMuYmxvY2tBY3Rpb25zLmhpZGUoKTtcbiAgICB9LCA1MCkoKTtcbiAgfVxuICAvKipcbiAgICogRHJhd3MgVG9vbGJhciBlbGVtZW50c1xuICAgKi9cbiAgbWFrZSgpIHtcbiAgICB0aGlzLm5vZGVzLndyYXBwZXIgPSBkLm1ha2UoXCJkaXZcIiwgdGhpcy5DU1MudG9vbGJhciksIFtcImNvbnRlbnRcIiwgXCJhY3Rpb25zXCJdLmZvckVhY2goKHQpID0+IHtcbiAgICAgIHRoaXMubm9kZXNbdF0gPSBkLm1ha2UoXCJkaXZcIiwgdGhpcy5DU1NbdF0pO1xuICAgIH0pLCBkLmFwcGVuZCh0aGlzLm5vZGVzLndyYXBwZXIsIHRoaXMubm9kZXMuY29udGVudCksIGQuYXBwZW5kKHRoaXMubm9kZXMuY29udGVudCwgdGhpcy5ub2Rlcy5hY3Rpb25zKSwgdGhpcy5ub2Rlcy5wbHVzQnV0dG9uID0gZC5tYWtlKFwiZGl2XCIsIHRoaXMuQ1NTLnBsdXNCdXR0b24sIHtcbiAgICAgIGlubmVySFRNTDogX29cbiAgICB9KSwgZC5hcHBlbmQodGhpcy5ub2Rlcy5hY3Rpb25zLCB0aGlzLm5vZGVzLnBsdXNCdXR0b24pLCB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5vbih0aGlzLm5vZGVzLnBsdXNCdXR0b24sIFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy50b29sdGlwLmhpZGUoITApLCB0aGlzLnBsdXNCdXR0b25DbGlja2VkKCk7XG4gICAgfSwgITEpO1xuICAgIGNvbnN0IGUgPSBkLm1ha2UoXCJkaXZcIik7XG4gICAgZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgkLnVpKFgudWkudG9vbGJhci50b29sYm94LCBcIkFkZFwiKSkpLCBlLmFwcGVuZENoaWxkKGQubWFrZShcImRpdlwiLCB0aGlzLkNTUy5wbHVzQnV0dG9uU2hvcnRjdXQsIHtcbiAgICAgIHRleHRDb250ZW50OiBcIuKHpSBUYWJcIlxuICAgIH0pKSwgdGhpcy50b29sdGlwLm9uSG92ZXIodGhpcy5ub2Rlcy5wbHVzQnV0dG9uLCBlLCB7XG4gICAgICBoaWRpbmdEZWxheTogNDAwXG4gICAgfSksIHRoaXMubm9kZXMuc2V0dGluZ3NUb2dnbGVyID0gZC5tYWtlKFwic3BhblwiLCB0aGlzLkNTUy5zZXR0aW5nc1RvZ2dsZXIsIHtcbiAgICAgIGlubmVySFRNTDogQW9cbiAgICB9KSwgZC5hcHBlbmQodGhpcy5ub2Rlcy5hY3Rpb25zLCB0aGlzLm5vZGVzLnNldHRpbmdzVG9nZ2xlciksIHRoaXMudG9vbHRpcC5vbkhvdmVyKFxuICAgICAgdGhpcy5ub2Rlcy5zZXR0aW5nc1RvZ2dsZXIsXG4gICAgICAkLnVpKFgudWkuYmxvY2tUdW5lcy50b2dnbGVyLCBcIkNsaWNrIHRvIHR1bmVcIiksXG4gICAgICB7XG4gICAgICAgIGhpZGluZ0RlbGF5OiA0MDBcbiAgICAgIH1cbiAgICApLCBkLmFwcGVuZCh0aGlzLm5vZGVzLmFjdGlvbnMsIHRoaXMubWFrZVRvb2xib3goKSksIGQuYXBwZW5kKHRoaXMubm9kZXMuYWN0aW9ucywgdGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5nZXRFbGVtZW50KCkpLCBkLmFwcGVuZCh0aGlzLkVkaXRvci5VSS5ub2Rlcy53cmFwcGVyLCB0aGlzLm5vZGVzLndyYXBwZXIpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIHRoZSBUb29sYm94IGluc3RhbmNlIGFuZCByZXR1cm4gaXQncyByZW5kZXJlZCBlbGVtZW50XG4gICAqL1xuICBtYWtlVG9vbGJveCgpIHtcbiAgICByZXR1cm4gdGhpcy50b29sYm94SW5zdGFuY2UgPSBuZXcgemUoe1xuICAgICAgYXBpOiB0aGlzLkVkaXRvci5BUEkubWV0aG9kcyxcbiAgICAgIHRvb2xzOiB0aGlzLkVkaXRvci5Ub29scy5ibG9ja1Rvb2xzLFxuICAgICAgaTE4bkxhYmVsczoge1xuICAgICAgICBmaWx0ZXI6ICQudWkoWC51aS5wb3BvdmVyLCBcIkZpbHRlclwiKSxcbiAgICAgICAgbm90aGluZ0ZvdW5kOiAkLnVpKFgudWkucG9wb3ZlciwgXCJOb3RoaW5nIGZvdW5kXCIpXG4gICAgICB9XG4gICAgfSksIHRoaXMudG9vbGJveEluc3RhbmNlLm9uKG1lLk9wZW5lZCwgKCkgPT4ge1xuICAgICAgdGhpcy5FZGl0b3IuVUkubm9kZXMud3JhcHBlci5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLm9wZW5lZFRvb2xib3hIb2xkZXJNb2RpZmllcik7XG4gICAgfSksIHRoaXMudG9vbGJveEluc3RhbmNlLm9uKG1lLkNsb3NlZCwgKCkgPT4ge1xuICAgICAgdGhpcy5FZGl0b3IuVUkubm9kZXMud3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ1NTLm9wZW5lZFRvb2xib3hIb2xkZXJNb2RpZmllcik7XG4gICAgfSksIHRoaXMudG9vbGJveEluc3RhbmNlLm9uKG1lLkJsb2NrQWRkZWQsICh7IGJsb2NrOiBlIH0pID0+IHtcbiAgICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiB0LCBDYXJldDogbyB9ID0gdGhpcy5FZGl0b3IsIGkgPSB0LmdldEJsb2NrQnlJZChlLmlkKTtcbiAgICAgIGkuaW5wdXRzLmxlbmd0aCA9PT0gMCAmJiAoaSA9PT0gdC5sYXN0QmxvY2sgPyAodC5pbnNlcnRBdEVuZCgpLCBvLnNldFRvQmxvY2sodC5sYXN0QmxvY2spKSA6IG8uc2V0VG9CbG9jayh0Lm5leHRCbG9jaykpO1xuICAgIH0pLCB0aGlzLnRvb2xib3hJbnN0YW5jZS5tYWtlKCk7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZXIgZm9yIFBsdXMgQnV0dG9uXG4gICAqL1xuICBwbHVzQnV0dG9uQ2xpY2tlZCgpIHtcbiAgICB2YXIgZTtcbiAgICB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrID0gdGhpcy5ob3ZlcmVkQmxvY2ssIChlID0gdGhpcy50b29sYm94SW5zdGFuY2UpID09IG51bGwgfHwgZS50b2dnbGUoKTtcbiAgfVxuICAvKipcbiAgICogRW5hYmxlIGJpbmRpbmdzXG4gICAqL1xuICBlbmFibGVNb2R1bGVCaW5kaW5ncygpIHtcbiAgICB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5vbih0aGlzLm5vZGVzLnNldHRpbmdzVG9nZ2xlciwgXCJtb3VzZWRvd25cIiwgKGUpID0+IHtcbiAgICAgIHZhciB0O1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKSwgdGhpcy5zZXR0aW5nc1RvZ2dsZXJDbGlja2VkKCksICh0ID0gdGhpcy50b29sYm94SW5zdGFuY2UpICE9IG51bGwgJiYgdC5vcGVuZWQgJiYgdGhpcy50b29sYm94SW5zdGFuY2UuY2xvc2UoKSwgdGhpcy50b29sdGlwLmhpZGUoITApO1xuICAgIH0sICEwKSwgdGUoKSB8fCB0aGlzLmV2ZW50c0Rpc3BhdGNoZXIub24oa3QsIChlKSA9PiB7XG4gICAgICB2YXIgdDtcbiAgICAgIHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3Mub3BlbmVkIHx8ICh0ID0gdGhpcy50b29sYm94SW5zdGFuY2UpICE9IG51bGwgJiYgdC5vcGVuZWQgfHwgdGhpcy5tb3ZlQW5kT3BlbihlLmJsb2NrKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogRGlzYWJsZSBiaW5kaW5nc1xuICAgKi9cbiAgZGlzYWJsZU1vZHVsZUJpbmRpbmdzKCkge1xuICAgIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLmNsZWFyQWxsKCk7XG4gIH1cbiAgLyoqXG4gICAqIENsaWNrcyBvbiB0aGUgQmxvY2sgU2V0dGluZ3MgdG9nZ2xlclxuICAgKi9cbiAgc2V0dGluZ3NUb2dnbGVyQ2xpY2tlZCgpIHtcbiAgICB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrID0gdGhpcy5ob3ZlcmVkQmxvY2ssIHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3Mub3BlbmVkID8gdGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5jbG9zZSgpIDogdGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5vcGVuKHRoaXMuaG92ZXJlZEJsb2NrKTtcbiAgfVxuICAvKipcbiAgICogRHJhd3MgVG9vbGJhciBVSVxuICAgKlxuICAgKiBUb29sYmFyIGNvbnRhaW5zIEJsb2NrU2V0dGluZ3MgYW5kIFRvb2xib3guXG4gICAqIFRoYXQncyB3aHkgYXQgZmlyc3Qgd2UgZHJhdyBpdHMgY29tcG9uZW50cyBhbmQgdGhlbiBUb29sYmFyIGl0c2VsZlxuICAgKlxuICAgKiBTdGVwczpcbiAgICogIC0gTWFrZSBUb29sYmFyIGRlcGVuZGVudCBjb21wb25lbnRzIGxpa2UgQmxvY2tTZXR0aW5ncywgVG9vbGJveCBhbmQgc28gb25cbiAgICogIC0gTWFrZSBpdHNlbGYgYW5kIGFwcGVuZCBkZXBlbmRlbnQgbm9kZXMgdG8gaXRzZWxmXG4gICAqXG4gICAqL1xuICBkcmF3VUkoKSB7XG4gICAgdGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5tYWtlKCksIHRoaXMubWFrZSgpO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmVzIGFsbCBjcmVhdGVkIGFuZCBzYXZlZCBIVE1MRWxlbWVudHNcbiAgICogSXQgaXMgdXNlZCBpbiBSZWFkLU9ubHkgbW9kZVxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnJlbW92ZUFsbE5vZGVzKCksIHRoaXMudG9vbGJveEluc3RhbmNlICYmIHRoaXMudG9vbGJveEluc3RhbmNlLmRlc3Ryb3koKSwgdGhpcy50b29sdGlwLmRlc3Ryb3koKTtcbiAgfVxufVxudmFyIHllID0gLyogQF9fUFVSRV9fICovICgocykgPT4gKHNbcy5CbG9jayA9IDBdID0gXCJCbG9ja1wiLCBzW3MuSW5saW5lID0gMV0gPSBcIklubGluZVwiLCBzW3MuVHVuZSA9IDJdID0gXCJUdW5lXCIsIHMpKSh5ZSB8fCB7fSksIGtlID0gLyogQF9fUFVSRV9fICovICgocykgPT4gKHMuU2hvcnRjdXQgPSBcInNob3J0Y3V0XCIsIHMuVG9vbGJveCA9IFwidG9vbGJveFwiLCBzLkVuYWJsZWRJbmxpbmVUb29scyA9IFwiaW5saW5lVG9vbGJhclwiLCBzLkVuYWJsZWRCbG9ja1R1bmVzID0gXCJ0dW5lc1wiLCBzLkNvbmZpZyA9IFwiY29uZmlnXCIsIHMpKShrZSB8fCB7fSksIHZ0ID0gLyogQF9fUFVSRV9fICovICgocykgPT4gKHMuU2hvcnRjdXQgPSBcInNob3J0Y3V0XCIsIHMuU2FuaXRpemVDb25maWcgPSBcInNhbml0aXplXCIsIHMpKSh2dCB8fCB7fSksIHNlID0gLyogQF9fUFVSRV9fICovICgocykgPT4gKHMuSXNFbmFibGVkTGluZUJyZWFrcyA9IFwiZW5hYmxlTGluZUJyZWFrc1wiLCBzLlRvb2xib3ggPSBcInRvb2xib3hcIiwgcy5Db252ZXJzaW9uQ29uZmlnID0gXCJjb252ZXJzaW9uQ29uZmlnXCIsIHMuSXNSZWFkT25seVN1cHBvcnRlZCA9IFwiaXNSZWFkT25seVN1cHBvcnRlZFwiLCBzLlBhc3RlQ29uZmlnID0gXCJwYXN0ZUNvbmZpZ1wiLCBzKSkoc2UgfHwge30pLCBVZSA9IC8qIEBfX1BVUkVfXyAqLyAoKHMpID0+IChzLklzSW5saW5lID0gXCJpc0lubGluZVwiLCBzLlRpdGxlID0gXCJ0aXRsZVwiLCBzKSkoVWUgfHwge30pLCB4dCA9IC8qIEBfX1BVUkVfXyAqLyAoKHMpID0+IChzLklzVHVuZSA9IFwiaXNUdW5lXCIsIHMpKSh4dCB8fCB7fSk7XG5jbGFzcyAkZSB7XG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICogQHBhcmFtIHtDb25zdHJ1Y3Rvck9wdGlvbnN9IG9wdGlvbnMgLSBDb25zdHJ1Y3RvciBvcHRpb25zXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgbmFtZTogZSxcbiAgICBjb25zdHJ1Y3RhYmxlOiB0LFxuICAgIGNvbmZpZzogbyxcbiAgICBhcGk6IGksXG4gICAgaXNEZWZhdWx0OiBuLFxuICAgIGlzSW50ZXJuYWw6IHIgPSAhMSxcbiAgICBkZWZhdWx0UGxhY2Vob2xkZXI6IGFcbiAgfSkge1xuICAgIHRoaXMuYXBpID0gaSwgdGhpcy5uYW1lID0gZSwgdGhpcy5jb25zdHJ1Y3RhYmxlID0gdCwgdGhpcy5jb25maWcgPSBvLCB0aGlzLmlzRGVmYXVsdCA9IG4sIHRoaXMuaXNJbnRlcm5hbCA9IHIsIHRoaXMuZGVmYXVsdFBsYWNlaG9sZGVyID0gYTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBUb29sIHVzZXIgY29uZmlndXJhdGlvblxuICAgKi9cbiAgZ2V0IHNldHRpbmdzKCkge1xuICAgIGNvbnN0IGUgPSB0aGlzLmNvbmZpZy5jb25maWcgfHwge307XG4gICAgcmV0dXJuIHRoaXMuaXNEZWZhdWx0ICYmICEoXCJwbGFjZWhvbGRlclwiIGluIGUpICYmIHRoaXMuZGVmYXVsdFBsYWNlaG9sZGVyICYmIChlLnBsYWNlaG9sZGVyID0gdGhpcy5kZWZhdWx0UGxhY2Vob2xkZXIpLCBlO1xuICB9XG4gIC8qKlxuICAgKiBDYWxscyBUb29sJ3MgcmVzZXQgbWV0aG9kXG4gICAqL1xuICByZXNldCgpIHtcbiAgICBpZiAoRCh0aGlzLmNvbnN0cnVjdGFibGUucmVzZXQpKVxuICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0YWJsZS5yZXNldCgpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxscyBUb29sJ3MgcHJlcGFyZSBtZXRob2RcbiAgICovXG4gIHByZXBhcmUoKSB7XG4gICAgaWYgKEQodGhpcy5jb25zdHJ1Y3RhYmxlLnByZXBhcmUpKVxuICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0YWJsZS5wcmVwYXJlKHtcbiAgICAgICAgdG9vbE5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgY29uZmlnOiB0aGlzLnNldHRpbmdzXG4gICAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBzaG9ydGN1dCBmb3IgVG9vbCAoaW50ZXJuYWwgb3Igc3BlY2lmaWVkIGJ5IHVzZXIpXG4gICAqL1xuICBnZXQgc2hvcnRjdXQoKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuY29uc3RydWN0YWJsZS5zaG9ydGN1dDtcbiAgICByZXR1cm4gdGhpcy5jb25maWcuc2hvcnRjdXQgfHwgZTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBUb29sJ3Mgc2FuaXRpemVyIGNvbmZpZ3VyYXRpb25cbiAgICovXG4gIGdldCBzYW5pdGl6ZUNvbmZpZygpIHtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3RhYmxlLnNhbml0aXplIHx8IHt9O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgVG9vbHMgaXMgaW5saW5lXG4gICAqL1xuICBpc0lubGluZSgpIHtcbiAgICByZXR1cm4gdGhpcy50eXBlID09PSAxO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgVG9vbHMgaXMgYmxvY2tcbiAgICovXG4gIGlzQmxvY2soKSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gMDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIFRvb2xzIGlzIHR1bmVcbiAgICovXG4gIGlzVHVuZSgpIHtcbiAgICByZXR1cm4gdGhpcy50eXBlID09PSAyO1xuICB9XG59XG5jbGFzcyBYbyBleHRlbmRzIEMge1xuICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBwYXJhbSBtb2R1bGVDb25maWd1cmF0aW9uIC0gTW9kdWxlIENvbmZpZ3VyYXRpb25cbiAgICogQHBhcmFtIG1vZHVsZUNvbmZpZ3VyYXRpb24uY29uZmlnIC0gRWRpdG9yJ3MgY29uZmlnXG4gICAqIEBwYXJhbSBtb2R1bGVDb25maWd1cmF0aW9uLmV2ZW50c0Rpc3BhdGNoZXIgLSBFZGl0b3IncyBldmVudCBkaXNwYXRjaGVyXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IGNvbmZpZzogZSwgZXZlbnRzRGlzcGF0Y2hlcjogdCB9KSB7XG4gICAgc3VwZXIoe1xuICAgICAgY29uZmlnOiBlLFxuICAgICAgZXZlbnRzRGlzcGF0Y2hlcjogdFxuICAgIH0pLCB0aGlzLkNTUyA9IHtcbiAgICAgIGlubGluZVRvb2xiYXI6IFwiY2UtaW5saW5lLXRvb2xiYXJcIixcbiAgICAgIGlubGluZVRvb2xiYXJTaG93ZWQ6IFwiY2UtaW5saW5lLXRvb2xiYXItLXNob3dlZFwiLFxuICAgICAgaW5saW5lVG9vbGJhckxlZnRPcmllbnRlZDogXCJjZS1pbmxpbmUtdG9vbGJhci0tbGVmdC1vcmllbnRlZFwiLFxuICAgICAgaW5saW5lVG9vbGJhclJpZ2h0T3JpZW50ZWQ6IFwiY2UtaW5saW5lLXRvb2xiYXItLXJpZ2h0LW9yaWVudGVkXCIsXG4gICAgICBpbmxpbmVUb29sYmFyU2hvcnRjdXQ6IFwiY2UtaW5saW5lLXRvb2xiYXJfX3Nob3J0Y3V0XCIsXG4gICAgICBidXR0b25zV3JhcHBlcjogXCJjZS1pbmxpbmUtdG9vbGJhcl9fYnV0dG9uc1wiLFxuICAgICAgYWN0aW9uc1dyYXBwZXI6IFwiY2UtaW5saW5lLXRvb2xiYXJfX2FjdGlvbnNcIixcbiAgICAgIGlubGluZVRvb2xCdXR0b246IFwiY2UtaW5saW5lLXRvb2xcIixcbiAgICAgIGlucHV0RmllbGQ6IFwiY2R4LWlucHV0XCIsXG4gICAgICBmb2N1c2VkQnV0dG9uOiBcImNlLWlubGluZS10b29sLS1mb2N1c2VkXCIsXG4gICAgICBjb252ZXJzaW9uVG9nZ2xlcjogXCJjZS1pbmxpbmUtdG9vbGJhcl9fZHJvcGRvd25cIixcbiAgICAgIGNvbnZlcnNpb25Ub2dnbGVyQXJyb3c6IFwiY2UtaW5saW5lLXRvb2xiYXJfX2Ryb3Bkb3duLWFycm93XCIsXG4gICAgICBjb252ZXJzaW9uVG9nZ2xlckhpZGRlbjogXCJjZS1pbmxpbmUtdG9vbGJhcl9fZHJvcGRvd24tLWhpZGRlblwiLFxuICAgICAgY29udmVyc2lvblRvZ2dsZXJDb250ZW50OiBcImNlLWlubGluZS10b29sYmFyX19kcm9wZG93bi1jb250ZW50XCIsXG4gICAgICB0b2dnbGVyQW5kQnV0dG9uc1dyYXBwZXI6IFwiY2UtaW5saW5lLXRvb2xiYXJfX3RvZ2dsZXItYW5kLWJ1dHRvbi13cmFwcGVyXCJcbiAgICB9LCB0aGlzLm9wZW5lZCA9ICExLCB0aGlzLnRvb2xiYXJWZXJ0aWNhbE1hcmdpbiA9IHRlKCkgPyAyMCA6IDYsIHRoaXMuYnV0dG9uc0xpc3QgPSBudWxsLCB0aGlzLndpZHRoID0gMCwgdGhpcy5mbGlwcGVyID0gbnVsbCwgdGhpcy50b29sdGlwID0gbmV3IEhlKCk7XG4gIH1cbiAgLyoqXG4gICAqIFRvZ2dsZXMgcmVhZC1vbmx5IG1vZGVcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSByZWFkT25seUVuYWJsZWQgLSByZWFkLW9ubHkgbW9kZVxuICAgKi9cbiAgdG9nZ2xlUmVhZE9ubHkoZSkge1xuICAgIGUgPyAodGhpcy5kZXN0cm95KCksIHRoaXMuRWRpdG9yLkNvbnZlcnNpb25Ub29sYmFyLmRlc3Ryb3koKSkgOiB3aW5kb3cucmVxdWVzdElkbGVDYWxsYmFjaygoKSA9PiB7XG4gICAgICB0aGlzLm1ha2UoKTtcbiAgICB9LCB7IHRpbWVvdXQ6IDJlMyB9KTtcbiAgfVxuICAvKipcbiAgICogIE1vdmluZyAvIGFwcGVhcmFuY2VcbiAgICogIH5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5cbiAgICovXG4gIC8qKlxuICAgKiBTaG93cyBJbmxpbmUgVG9vbGJhciBpZiBzb21ldGhpbmcgaXMgc2VsZWN0ZWRcbiAgICpcbiAgICogQHBhcmFtIFtuZWVkVG9DbG9zZV0gLSBwYXNzIHRydWUgdG8gY2xvc2UgdG9vbGJhciBpZiBpdCBpcyBub3QgYWxsb3dlZC5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXZvaWQgdG8gdXNlIGl0IGp1c3QgZm9yIGNsb3NpbmcgSVQsIGJldHRlciBjYWxsIC5jbG9zZSgpIGNsZWFybHkuXG4gICAqIEBwYXJhbSBbbmVlZFRvU2hvd0NvbnZlcnNpb25Ub29sYmFyXSAtIHBhc3MgZmFsc2UgdG8gbm90IHRvIHNob3cgQ29udmVyc2lvbiBUb29sYmFyXG4gICAqL1xuICB0cnlUb1Nob3coZSA9ICExLCB0ID0gITApIHtcbiAgICBpZiAoIXRoaXMuYWxsb3dlZFRvU2hvdygpKSB7XG4gICAgICBlICYmIHRoaXMuY2xvc2UoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5tb3ZlKCksIHRoaXMub3Blbih0KSwgdGhpcy5FZGl0b3IuVG9vbGJhci5jbG9zZSgpO1xuICB9XG4gIC8qKlxuICAgKiBNb3ZlIFRvb2xiYXIgdG8gdGhlIHNlbGVjdGVkIHRleHRcbiAgICovXG4gIG1vdmUoKSB7XG4gICAgY29uc3QgZSA9IG0ucmVjdCwgdCA9IHRoaXMuRWRpdG9yLlVJLm5vZGVzLndyYXBwZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIG8gPSB7XG4gICAgICB4OiBlLnggLSB0LmxlZnQsXG4gICAgICB5OiBlLnkgKyBlLmhlaWdodCAtIC8vICsgd2luZG93LnNjcm9sbFlcbiAgICAgIHQudG9wICsgdGhpcy50b29sYmFyVmVydGljYWxNYXJnaW5cbiAgICB9O1xuICAgIGUud2lkdGggJiYgKG8ueCArPSBNYXRoLmZsb29yKGUud2lkdGggLyAyKSk7XG4gICAgY29uc3QgaSA9IG8ueCAtIHRoaXMud2lkdGggLyAyLCBuID0gby54ICsgdGhpcy53aWR0aCAvIDI7XG4gICAgdGhpcy5ub2Rlcy53cmFwcGVyLmNsYXNzTGlzdC50b2dnbGUoXG4gICAgICB0aGlzLkNTUy5pbmxpbmVUb29sYmFyTGVmdE9yaWVudGVkLFxuICAgICAgaSA8IHRoaXMuRWRpdG9yLlVJLmNvbnRlbnRSZWN0LmxlZnRcbiAgICApLCB0aGlzLm5vZGVzLndyYXBwZXIuY2xhc3NMaXN0LnRvZ2dsZShcbiAgICAgIHRoaXMuQ1NTLmlubGluZVRvb2xiYXJSaWdodE9yaWVudGVkLFxuICAgICAgbiA+IHRoaXMuRWRpdG9yLlVJLmNvbnRlbnRSZWN0LnJpZ2h0XG4gICAgKSwgdGhpcy5ub2Rlcy53cmFwcGVyLnN0eWxlLmxlZnQgPSBNYXRoLmZsb29yKG8ueCkgKyBcInB4XCIsIHRoaXMubm9kZXMud3JhcHBlci5zdHlsZS50b3AgPSBNYXRoLmZsb29yKG8ueSkgKyBcInB4XCI7XG4gIH1cbiAgLyoqXG4gICAqIEhpZGVzIElubGluZSBUb29sYmFyXG4gICAqL1xuICBjbG9zZSgpIHtcbiAgICB0aGlzLm9wZW5lZCAmJiAodGhpcy5FZGl0b3IuUmVhZE9ubHkuaXNFbmFibGVkIHx8ICh0aGlzLm5vZGVzLndyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNTUy5pbmxpbmVUb29sYmFyU2hvd2VkKSwgQXJyYXkuZnJvbSh0aGlzLnRvb2xzSW5zdGFuY2VzLmVudHJpZXMoKSkuZm9yRWFjaCgoW2UsIHRdKSA9PiB7XG4gICAgICBjb25zdCBvID0gdGhpcy5nZXRUb29sU2hvcnRjdXQoZSk7XG4gICAgICBvICYmIGxlLnJlbW92ZSh0aGlzLkVkaXRvci5VSS5ub2Rlcy5yZWRhY3RvciwgbyksIEQodC5jbGVhcikgJiYgdC5jbGVhcigpO1xuICAgIH0pLCB0aGlzLm9wZW5lZCA9ICExLCB0aGlzLmZsaXBwZXIuZGVhY3RpdmF0ZSgpLCB0aGlzLkVkaXRvci5Db252ZXJzaW9uVG9vbGJhci5jbG9zZSgpKSk7XG4gIH1cbiAgLyoqXG4gICAqIFNob3dzIElubGluZSBUb29sYmFyXG4gICAqXG4gICAqIEBwYXJhbSBbbmVlZFRvU2hvd0NvbnZlcnNpb25Ub29sYmFyXSAtIHBhc3MgZmFsc2UgdG8gbm90IHRvIHNob3cgQ29udmVyc2lvbiBUb29sYmFyXG4gICAqL1xuICBvcGVuKGUgPSAhMCkge1xuICAgIGlmICh0aGlzLm9wZW5lZClcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLmFkZFRvb2xzRmlsdGVyZWQoKSwgdGhpcy5ub2Rlcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQodGhpcy5DU1MuaW5saW5lVG9vbGJhclNob3dlZCksIHRoaXMuYnV0dG9uc0xpc3QgPSB0aGlzLm5vZGVzLmJ1dHRvbnMucXVlcnlTZWxlY3RvckFsbChgLiR7dGhpcy5DU1MuaW5saW5lVG9vbEJ1dHRvbn1gKSwgdGhpcy5vcGVuZWQgPSAhMCwgZSAmJiB0aGlzLkVkaXRvci5Db252ZXJzaW9uVG9vbGJhci5oYXNUb29scygpID8gdGhpcy5zZXRDb252ZXJzaW9uVG9nZ2xlckNvbnRlbnQoKSA6IHRoaXMubm9kZXMuY29udmVyc2lvblRvZ2dsZXIuaGlkZGVuID0gITA7XG4gICAgbGV0IHQgPSBBcnJheS5mcm9tKHRoaXMuYnV0dG9uc0xpc3QpO1xuICAgIHQudW5zaGlmdCh0aGlzLm5vZGVzLmNvbnZlcnNpb25Ub2dnbGVyKSwgdCA9IHQuZmlsdGVyKChvKSA9PiAhby5oaWRkZW4pLCB0aGlzLmZsaXBwZXIuYWN0aXZhdGUodCk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIG5vZGUgaXMgY29udGFpbmVkIGJ5IElubGluZSBUb29sYmFyXG4gICAqXG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZSDigJQgbm9kZSB0byBjaGVja1xuICAgKi9cbiAgY29udGFpbnNOb2RlKGUpIHtcbiAgICByZXR1cm4gdGhpcy5ub2Rlcy53cmFwcGVyLmNvbnRhaW5zKGUpO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmVzIFVJIGFuZCBpdHMgY29tcG9uZW50c1xuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmZsaXBwZXIgJiYgKHRoaXMuZmxpcHBlci5kZWFjdGl2YXRlKCksIHRoaXMuZmxpcHBlciA9IG51bGwpLCB0aGlzLnJlbW92ZUFsbE5vZGVzKCksIHRoaXMudG9vbHRpcC5kZXN0cm95KCk7XG4gIH1cbiAgLyoqXG4gICAqIE1ha2luZyBET01cbiAgICovXG4gIG1ha2UoKSB7XG4gICAgdGhpcy5ub2Rlcy53cmFwcGVyID0gZC5tYWtlKFwiZGl2XCIsIFtcbiAgICAgIHRoaXMuQ1NTLmlubGluZVRvb2xiYXIsXG4gICAgICAuLi50aGlzLmlzUnRsID8gW3RoaXMuRWRpdG9yLlVJLkNTUy5lZGl0b3JSdGxGaXhdIDogW11cbiAgICBdKSwgdGhpcy5ub2Rlcy50b2dnbGVyQW5kQnV0dG9uc1dyYXBwZXIgPSBkLm1ha2UoXCJkaXZcIiwgdGhpcy5DU1MudG9nZ2xlckFuZEJ1dHRvbnNXcmFwcGVyKSwgdGhpcy5ub2Rlcy5idXR0b25zID0gZC5tYWtlKFwiZGl2XCIsIHRoaXMuQ1NTLmJ1dHRvbnNXcmFwcGVyKSwgdGhpcy5ub2Rlcy5hY3Rpb25zID0gZC5tYWtlKFwiZGl2XCIsIHRoaXMuQ1NTLmFjdGlvbnNXcmFwcGVyKSwgdGhpcy5saXN0ZW5lcnMub24odGhpcy5ub2Rlcy53cmFwcGVyLCBcIm1vdXNlZG93blwiLCAoZSkgPT4ge1xuICAgICAgZS50YXJnZXQuY2xvc2VzdChgLiR7dGhpcy5DU1MuYWN0aW9uc1dyYXBwZXJ9YCkgfHwgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pLCBkLmFwcGVuZCh0aGlzLm5vZGVzLndyYXBwZXIsIFt0aGlzLm5vZGVzLnRvZ2dsZXJBbmRCdXR0b25zV3JhcHBlciwgdGhpcy5ub2Rlcy5hY3Rpb25zXSksIGQuYXBwZW5kKHRoaXMuRWRpdG9yLlVJLm5vZGVzLndyYXBwZXIsIHRoaXMubm9kZXMud3JhcHBlciksIHRoaXMuYWRkQ29udmVyc2lvblRvZ2dsZXIoKSwgZC5hcHBlbmQodGhpcy5ub2Rlcy50b2dnbGVyQW5kQnV0dG9uc1dyYXBwZXIsIHRoaXMubm9kZXMuYnV0dG9ucyksIHRoaXMucHJlcGFyZUNvbnZlcnNpb25Ub29sYmFyKCksIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgdGhpcy5yZWNhbGN1bGF0ZVdpZHRoKCk7XG4gICAgfSksIHRoaXMuZW5hYmxlRmxpcHBlcigpO1xuICB9XG4gIC8qKlxuICAgKiBOZWVkIHRvIHNob3cgSW5saW5lIFRvb2xiYXIgb3Igbm90XG4gICAqL1xuICBhbGxvd2VkVG9TaG93KCkge1xuICAgIGNvbnN0IGUgPSBbXCJJTUdcIiwgXCJJTlBVVFwiXSwgdCA9IG0uZ2V0KCksIG8gPSBtLnRleHQ7XG4gICAgaWYgKCF0IHx8ICF0LmFuY2hvck5vZGUgfHwgdC5pc0NvbGxhcHNlZCB8fCBvLmxlbmd0aCA8IDEpXG4gICAgICByZXR1cm4gITE7XG4gICAgY29uc3QgaSA9IGQuaXNFbGVtZW50KHQuYW5jaG9yTm9kZSkgPyB0LmFuY2hvck5vZGUgOiB0LmFuY2hvck5vZGUucGFyZW50RWxlbWVudDtcbiAgICBpZiAodCAmJiBlLmluY2x1ZGVzKGkudGFnTmFtZSkgfHwgaS5jbG9zZXN0KCdbY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiXScpID09PSBudWxsKVxuICAgICAgcmV0dXJuICExO1xuICAgIGNvbnN0IHIgPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuZ2V0QmxvY2sodC5hbmNob3JOb2RlKTtcbiAgICByZXR1cm4gciA/IHIudG9vbC5pbmxpbmVUb29scy5zaXplICE9PSAwIDogITE7XG4gIH1cbiAgLyoqXG4gICAqIFJlY2FsY3VsYXRlIGlubGluZSB0b29sYmFyIHdpZHRoXG4gICAqL1xuICByZWNhbGN1bGF0ZVdpZHRoKCkge1xuICAgIHRoaXMud2lkdGggPSB0aGlzLm5vZGVzLndyYXBwZXIub2Zmc2V0V2lkdGg7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHRvZ2dsZXIgZm9yIENvbnZlcnNpb24gRHJvcGRvd25cbiAgICogYW5kIHByZXBlbmQgaXQgdG8gdGhlIGJ1dHRvbnMgbGlzdFxuICAgKi9cbiAgYWRkQ29udmVyc2lvblRvZ2dsZXIoKSB7XG4gICAgdGhpcy5ub2Rlcy5jb252ZXJzaW9uVG9nZ2xlciA9IGQubWFrZShcImRpdlwiLCB0aGlzLkNTUy5jb252ZXJzaW9uVG9nZ2xlciksIHRoaXMubm9kZXMuY29udmVyc2lvblRvZ2dsZXJDb250ZW50ID0gZC5tYWtlKFwiZGl2XCIsIHRoaXMuQ1NTLmNvbnZlcnNpb25Ub2dnbGVyQ29udGVudCk7XG4gICAgY29uc3QgZSA9IGQubWFrZShcImRpdlwiLCB0aGlzLkNTUy5jb252ZXJzaW9uVG9nZ2xlckFycm93LCB7XG4gICAgICBpbm5lckhUTUw6IGZ0XG4gICAgfSk7XG4gICAgdGhpcy5ub2Rlcy5jb252ZXJzaW9uVG9nZ2xlci5hcHBlbmRDaGlsZCh0aGlzLm5vZGVzLmNvbnZlcnNpb25Ub2dnbGVyQ29udGVudCksIHRoaXMubm9kZXMuY29udmVyc2lvblRvZ2dsZXIuYXBwZW5kQ2hpbGQoZSksIHRoaXMubm9kZXMudG9nZ2xlckFuZEJ1dHRvbnNXcmFwcGVyLmFwcGVuZENoaWxkKHRoaXMubm9kZXMuY29udmVyc2lvblRvZ2dsZXIpLCB0aGlzLmxpc3RlbmVycy5vbih0aGlzLm5vZGVzLmNvbnZlcnNpb25Ub2dnbGVyLCBcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuRWRpdG9yLkNvbnZlcnNpb25Ub29sYmFyLnRvZ2dsZSgodCkgPT4ge1xuICAgICAgICAhdCAmJiB0aGlzLm9wZW5lZCA/IHRoaXMuZmxpcHBlci5hY3RpdmF0ZSgpIDogdGhpcy5vcGVuZWQgJiYgdGhpcy5mbGlwcGVyLmRlYWN0aXZhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pLCB0ZSgpID09PSAhMSAmJiB0aGlzLnRvb2x0aXAub25Ib3Zlcih0aGlzLm5vZGVzLmNvbnZlcnNpb25Ub2dnbGVyLCAkLnVpKFgudWkuaW5saW5lVG9vbGJhci5jb252ZXJ0ZXIsIFwiQ29udmVydCB0b1wiKSwge1xuICAgICAgcGxhY2VtZW50OiBcInRvcFwiLFxuICAgICAgaGlkaW5nRGVsYXk6IDEwMFxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDaGFuZ2VzIENvbnZlcnNpb24gRHJvcGRvd24gY29udGVudCBmb3IgY3VycmVudCBibG9jaydzIFRvb2xcbiAgICovXG4gIGFzeW5jIHNldENvbnZlcnNpb25Ub2dnbGVyQ29udGVudCgpIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogZSB9ID0gdGhpcy5FZGl0b3IsIHsgY3VycmVudEJsb2NrOiB0IH0gPSBlLCBvID0gdC5uYW1lLCBpID0gdC50b29sLmNvbnZlcnNpb25Db25maWcsIG4gPSBpICYmIGkuZXhwb3J0O1xuICAgIHRoaXMubm9kZXMuY29udmVyc2lvblRvZ2dsZXIuaGlkZGVuID0gIW4sIHRoaXMubm9kZXMuY29udmVyc2lvblRvZ2dsZXIuY2xhc3NMaXN0LnRvZ2dsZSh0aGlzLkNTUy5jb252ZXJzaW9uVG9nZ2xlckhpZGRlbiwgIW4pO1xuICAgIGNvbnN0IHIgPSBhd2FpdCB0LmdldEFjdGl2ZVRvb2xib3hFbnRyeSgpIHx8IHt9O1xuICAgIHRoaXMubm9kZXMuY29udmVyc2lvblRvZ2dsZXJDb250ZW50LmlubmVySFRNTCA9IHIuaWNvbiB8fCByLnRpdGxlIHx8IGFlKG8pO1xuICB9XG4gIC8qKlxuICAgKiBNYWtlcyB0aGUgQ29udmVyc2lvbiBEcm9wZG93blxuICAgKi9cbiAgcHJlcGFyZUNvbnZlcnNpb25Ub29sYmFyKCkge1xuICAgIGNvbnN0IGUgPSB0aGlzLkVkaXRvci5Db252ZXJzaW9uVG9vbGJhci5tYWtlKCk7XG4gICAgZC5hcHBlbmQodGhpcy5ub2Rlcy53cmFwcGVyLCBlKTtcbiAgfVxuICAvKipcbiAgICogIFdvcmtpbmcgd2l0aCBUb29sc1xuICAgKiAgfn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+flxuICAgKi9cbiAgLyoqXG4gICAqIEFwcGVuZCBvbmx5IGFsbG93ZWQgVG9vbHNcbiAgICovXG4gIGFkZFRvb2xzRmlsdGVyZWQoKSB7XG4gICAgY29uc3QgZSA9IG0uZ2V0KCksIHQgPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuZ2V0QmxvY2soZS5hbmNob3JOb2RlKTtcbiAgICB0aGlzLm5vZGVzLmJ1dHRvbnMuaW5uZXJIVE1MID0gXCJcIiwgdGhpcy5ub2Rlcy5hY3Rpb25zLmlubmVySFRNTCA9IFwiXCIsIHRoaXMudG9vbHNJbnN0YW5jZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLCBBcnJheS5mcm9tKHQudG9vbC5pbmxpbmVUb29scy52YWx1ZXMoKSkuZm9yRWFjaCgobykgPT4ge1xuICAgICAgdGhpcy5hZGRUb29sKG8pO1xuICAgIH0pLCB0aGlzLnJlY2FsY3VsYXRlV2lkdGgoKTtcbiAgfVxuICAvKipcbiAgICogQWRkIHRvb2wgYnV0dG9uIGFuZCBhY3RpdmF0ZSBjbGlja3NcbiAgICpcbiAgICogQHBhcmFtIHtJbmxpbmVUb29sfSB0b29sIC0gSW5saW5lVG9vbCBvYmplY3RcbiAgICovXG4gIGFkZFRvb2woZSkge1xuICAgIGNvbnN0IHQgPSBlLmNyZWF0ZSgpLCBvID0gdC5yZW5kZXIoKTtcbiAgICBpZiAoIW8pIHtcbiAgICAgIEwoXCJSZW5kZXIgbWV0aG9kIG11c3QgcmV0dXJuIGFuIGluc3RhbmNlIG9mIE5vZGVcIiwgXCJ3YXJuXCIsIGUubmFtZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChvLmRhdGFzZXQudG9vbCA9IGUubmFtZSwgdGhpcy5ub2Rlcy5idXR0b25zLmFwcGVuZENoaWxkKG8pLCB0aGlzLnRvb2xzSW5zdGFuY2VzLnNldChlLm5hbWUsIHQpLCBEKHQucmVuZGVyQWN0aW9ucykpIHtcbiAgICAgIGNvbnN0IGEgPSB0LnJlbmRlckFjdGlvbnMoKTtcbiAgICAgIHRoaXMubm9kZXMuYWN0aW9ucy5hcHBlbmRDaGlsZChhKTtcbiAgICB9XG4gICAgdGhpcy5saXN0ZW5lcnMub24obywgXCJjbGlja1wiLCAoYSkgPT4ge1xuICAgICAgdGhpcy50b29sQ2xpY2tlZCh0KSwgYS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIGNvbnN0IGkgPSB0aGlzLmdldFRvb2xTaG9ydGN1dChlLm5hbWUpO1xuICAgIGlmIChpKVxuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5lbmFibGVTaG9ydGN1dHModCwgaSk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgIH1cbiAgICBjb25zdCBuID0gZC5tYWtlKFwiZGl2XCIpLCByID0gJC50KFxuICAgICAgWC50b29sTmFtZXMsXG4gICAgICBlLnRpdGxlIHx8IGFlKGUubmFtZSlcbiAgICApO1xuICAgIG4uYXBwZW5kQ2hpbGQoZC50ZXh0KHIpKSwgaSAmJiBuLmFwcGVuZENoaWxkKGQubWFrZShcImRpdlwiLCB0aGlzLkNTUy5pbmxpbmVUb29sYmFyU2hvcnRjdXQsIHtcbiAgICAgIHRleHRDb250ZW50OiBSZShpKVxuICAgIH0pKSwgdGUoKSA9PT0gITEgJiYgdGhpcy50b29sdGlwLm9uSG92ZXIobywgbiwge1xuICAgICAgcGxhY2VtZW50OiBcInRvcFwiLFxuICAgICAgaGlkaW5nRGVsYXk6IDEwMFxuICAgIH0pLCB0LmNoZWNrU3RhdGUobS5nZXQoKSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBzaG9ydGN1dCBuYW1lIGZvciB0b29sXG4gICAqXG4gICAqIEBwYXJhbSB0b29sTmFtZSDigJQgVG9vbCBuYW1lXG4gICAqL1xuICBnZXRUb29sU2hvcnRjdXQoZSkge1xuICAgIGNvbnN0IHsgVG9vbHM6IHQgfSA9IHRoaXMuRWRpdG9yLCBvID0gdC5pbmxpbmVUb29scy5nZXQoZSksIGkgPSB0LmludGVybmFsLmlubGluZVRvb2xzO1xuICAgIHJldHVybiBBcnJheS5mcm9tKGkua2V5cygpKS5pbmNsdWRlcyhlKSA/IHRoaXMuaW5saW5lVG9vbHNbZV1bdnQuU2hvcnRjdXRdIDogby5zaG9ydGN1dDtcbiAgfVxuICAvKipcbiAgICogRW5hYmxlIFRvb2wgc2hvcnRjdXQgd2l0aCBFZGl0b3IgU2hvcnRjdXRzIE1vZHVsZVxuICAgKlxuICAgKiBAcGFyYW0ge0lubGluZVRvb2x9IHRvb2wgLSBUb29sIGluc3RhbmNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzaG9ydGN1dCAtIHNob3J0Y3V0IGFjY29yZGluZyB0byB0aGUgU2hvcnRjdXREYXRhIE1vZHVsZSBmb3JtYXRcbiAgICovXG4gIGVuYWJsZVNob3J0Y3V0cyhlLCB0KSB7XG4gICAgbGUuYWRkKHtcbiAgICAgIG5hbWU6IHQsXG4gICAgICBoYW5kbGVyOiAobykgPT4ge1xuICAgICAgICBjb25zdCB7IGN1cnJlbnRCbG9jazogaSB9ID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyO1xuICAgICAgICBpICYmIGkudG9vbC5lbmFibGVkSW5saW5lVG9vbHMgJiYgKG8ucHJldmVudERlZmF1bHQoKSwgdGhpcy50b29sQ2xpY2tlZChlKSk7XG4gICAgICB9LFxuICAgICAgb246IHRoaXMuRWRpdG9yLlVJLm5vZGVzLnJlZGFjdG9yXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIElubGluZSBUb29sIGJ1dHRvbiBjbGlja3NcbiAgICpcbiAgICogQHBhcmFtIHtJbmxpbmVUb29sfSB0b29sIC0gVG9vbCdzIGluc3RhbmNlXG4gICAqL1xuICB0b29sQ2xpY2tlZChlKSB7XG4gICAgY29uc3QgdCA9IG0ucmFuZ2U7XG4gICAgZS5zdXJyb3VuZCh0KSwgdGhpcy5jaGVja1Rvb2xzU3RhdGUoKSwgZS5yZW5kZXJBY3Rpb25zICE9PSB2b2lkIDAgJiYgdGhpcy5mbGlwcGVyLmRlYWN0aXZhdGUoKTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgVG9vbHNgIHN0YXRlIGJ5IHNlbGVjdGlvblxuICAgKi9cbiAgY2hlY2tUb29sc1N0YXRlKCkge1xuICAgIHRoaXMudG9vbHNJbnN0YW5jZXMuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgZS5jaGVja1N0YXRlKG0uZ2V0KCkpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgaW5saW5lIHRvb2xzIHRvb2xzXG4gICAqIFRvb2xzIHRoYXQgaGFzIGlzSW5saW5lIGlzIHRydWVcbiAgICovXG4gIGdldCBpbmxpbmVUb29scygpIHtcbiAgICBjb25zdCBlID0ge307XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5FZGl0b3IuVG9vbHMuaW5saW5lVG9vbHMuZW50cmllcygpKS5mb3JFYWNoKChbdCwgb10pID0+IHtcbiAgICAgIGVbdF0gPSBvLmNyZWF0ZSgpO1xuICAgIH0pLCBlO1xuICB9XG4gIC8qKlxuICAgKiBBbGxvdyB0byBsZWFmIGJ1dHRvbnMgYnkgYXJyb3dzIC8gdGFiXG4gICAqIEJ1dHRvbnMgd2lsbCBiZSBmaWxsZWQgb24gb3BlbmluZ1xuICAgKi9cbiAgZW5hYmxlRmxpcHBlcigpIHtcbiAgICB0aGlzLmZsaXBwZXIgPSBuZXcgRyh7XG4gICAgICBmb2N1c2VkSXRlbUNsYXNzOiB0aGlzLkNTUy5mb2N1c2VkQnV0dG9uLFxuICAgICAgYWxsb3dlZEtleXM6IFtcbiAgICAgICAgQi5FTlRFUixcbiAgICAgICAgQi5UQUJcbiAgICAgIF1cbiAgICB9KTtcbiAgfVxufVxuY2xhc3MgVm8gZXh0ZW5kcyBDIHtcbiAgLyoqXG4gICAqIEFsbCBrZXlkb3ducyBvbiBCbG9ja1xuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0ga2V5ZG93blxuICAgKi9cbiAga2V5ZG93bihlKSB7XG4gICAgc3dpdGNoICh0aGlzLmJlZm9yZUtleWRvd25Qcm9jZXNzaW5nKGUpLCBlLmtleUNvZGUpIHtcbiAgICAgIGNhc2UgQi5CQUNLU1BBQ0U6XG4gICAgICAgIHRoaXMuYmFja3NwYWNlKGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQi5ERUxFVEU6XG4gICAgICAgIHRoaXMuZGVsZXRlKGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQi5FTlRFUjpcbiAgICAgICAgdGhpcy5lbnRlcihlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEIuRE9XTjpcbiAgICAgIGNhc2UgQi5SSUdIVDpcbiAgICAgICAgdGhpcy5hcnJvd1JpZ2h0QW5kRG93bihlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEIuVVA6XG4gICAgICBjYXNlIEIuTEVGVDpcbiAgICAgICAgdGhpcy5hcnJvd0xlZnRBbmRVcChlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEIuVEFCOlxuICAgICAgICB0aGlzLnRhYlByZXNzZWQoZSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogRmlyZXMgb24ga2V5ZG93biBiZWZvcmUgZXZlbnQgcHJvY2Vzc2luZ1xuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0ga2V5ZG93blxuICAgKi9cbiAgYmVmb3JlS2V5ZG93blByb2Nlc3NpbmcoZSkge1xuICAgIHRoaXMubmVlZFRvb2xiYXJDbG9zaW5nKGUpICYmIG50KGUua2V5Q29kZSkgJiYgKHRoaXMuRWRpdG9yLlRvb2xiYXIuY2xvc2UoKSwgdGhpcy5FZGl0b3IuQ29udmVyc2lvblRvb2xiYXIuY2xvc2UoKSwgZS5jdHJsS2V5IHx8IGUubWV0YUtleSB8fCBlLmFsdEtleSB8fCBlLnNoaWZ0S2V5IHx8ICh0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY2xlYXJGb2N1c2VkKCksIHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKGUpKSk7XG4gIH1cbiAgLyoqXG4gICAqIEtleSB1cCBvbiBCbG9jazpcbiAgICogLSBzaG93cyBJbmxpbmUgVG9vbGJhciBpZiBzb21ldGhpbmcgc2VsZWN0ZWRcbiAgICogLSBzaG93cyBjb252ZXJzaW9uIHRvb2xiYXIgd2l0aCA4NSUgb2YgYmxvY2sgc2VsZWN0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgLSBrZXl1cCBldmVudFxuICAgKi9cbiAga2V5dXAoZSkge1xuICAgIGUuc2hpZnRLZXkgfHwgdGhpcy5FZGl0b3IuVUkuY2hlY2tFbXB0aW5lc3MoKTtcbiAgfVxuICAvKipcbiAgICogT3BlbiBUb29sYm94IHRvIGxlYWYgVG9vbHNcbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCAtIHRhYiBrZXlkb3duIGV2ZW50XG4gICAqL1xuICB0YWJQcmVzc2VkKGUpIHtcbiAgICB0aGlzLkVkaXRvci5CbG9ja1NlbGVjdGlvbi5jbGVhclNlbGVjdGlvbihlKTtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogdCwgSW5saW5lVG9vbGJhcjogbywgQ29udmVyc2lvblRvb2xiYXI6IGkgfSA9IHRoaXMuRWRpdG9yLCBuID0gdC5jdXJyZW50QmxvY2s7XG4gICAgaWYgKCFuKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHIgPSBuLmlzRW1wdHksIGEgPSBuLnRvb2wuaXNEZWZhdWx0ICYmIHIsIGwgPSAhciAmJiBpLm9wZW5lZCwgYyA9ICFyICYmICFtLmlzQ29sbGFwc2VkICYmIG8ub3BlbmVkO1xuICAgIGEgPyB0aGlzLmFjdGl2YXRlVG9vbGJveCgpIDogIWwgJiYgIWMgJiYgdGhpcy5hY3RpdmF0ZUJsb2NrU2V0dGluZ3MoKTtcbiAgfVxuICAvKipcbiAgICogQWRkIGRyb3AgdGFyZ2V0IHN0eWxlc1xuICAgKlxuICAgKiBAcGFyYW0ge0RyYWdFdmVudH0gZXZlbnQgLSBkcmFnIG92ZXIgZXZlbnRcbiAgICovXG4gIGRyYWdPdmVyKGUpIHtcbiAgICBjb25zdCB0ID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmdldEJsb2NrQnlDaGlsZE5vZGUoZS50YXJnZXQpO1xuICAgIHQuZHJvcFRhcmdldCA9ICEwO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgZHJvcCB0YXJnZXQgc3R5bGVcbiAgICpcbiAgICogQHBhcmFtIHtEcmFnRXZlbnR9IGV2ZW50IC0gZHJhZyBsZWF2ZSBldmVudFxuICAgKi9cbiAgZHJhZ0xlYXZlKGUpIHtcbiAgICBjb25zdCB0ID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmdldEJsb2NrQnlDaGlsZE5vZGUoZS50YXJnZXQpO1xuICAgIHQuZHJvcFRhcmdldCA9ICExO1xuICB9XG4gIC8qKlxuICAgKiBDb3B5aW5nIHNlbGVjdGVkIGJsb2Nrc1xuICAgKiBCZWZvcmUgcHV0dGluZyB0byB0aGUgY2xpcGJvYXJkIHdlIHNhbml0aXplIGFsbCBibG9ja3MgYW5kIHRoZW4gY29weSB0byB0aGUgY2xpcGJvYXJkXG4gICAqXG4gICAqIEBwYXJhbSB7Q2xpcGJvYXJkRXZlbnR9IGV2ZW50IC0gY2xpcGJvYXJkIGV2ZW50XG4gICAqL1xuICBoYW5kbGVDb21tYW5kQyhlKSB7XG4gICAgY29uc3QgeyBCbG9ja1NlbGVjdGlvbjogdCB9ID0gdGhpcy5FZGl0b3I7XG4gICAgdC5hbnlCbG9ja1NlbGVjdGVkICYmIHQuY29weVNlbGVjdGVkQmxvY2tzKGUpO1xuICB9XG4gIC8qKlxuICAgKiBDb3B5IGFuZCBEZWxldGUgc2VsZWN0ZWQgQmxvY2tzXG4gICAqXG4gICAqIEBwYXJhbSB7Q2xpcGJvYXJkRXZlbnR9IGV2ZW50IC0gY2xpcGJvYXJkIGV2ZW50XG4gICAqL1xuICBoYW5kbGVDb21tYW5kWChlKSB7XG4gICAgY29uc3QgeyBCbG9ja1NlbGVjdGlvbjogdCwgQmxvY2tNYW5hZ2VyOiBvLCBDYXJldDogaSB9ID0gdGhpcy5FZGl0b3I7XG4gICAgdC5hbnlCbG9ja1NlbGVjdGVkICYmIHQuY29weVNlbGVjdGVkQmxvY2tzKGUpLnRoZW4oKCkgPT4ge1xuICAgICAgY29uc3QgbiA9IG8ucmVtb3ZlU2VsZWN0ZWRCbG9ja3MoKSwgciA9IG8uaW5zZXJ0RGVmYXVsdEJsb2NrQXRJbmRleChuLCAhMCk7XG4gICAgICBpLnNldFRvQmxvY2sociwgaS5wb3NpdGlvbnMuU1RBUlQpLCB0LmNsZWFyU2VsZWN0aW9uKGUpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBFTlRFUiBwcmVzc2VkIG9uIGJsb2NrXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgLSBrZXlkb3duXG4gICAqL1xuICBlbnRlcihlKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IHQsIFVJOiBvIH0gPSB0aGlzLkVkaXRvcjtcbiAgICBpZiAodC5jdXJyZW50QmxvY2sudG9vbC5pc0xpbmVCcmVha3NFbmFibGVkIHx8IG8uc29tZVRvb2xiYXJPcGVuZWQgJiYgby5zb21lRmxpcHBlckJ1dHRvbkZvY3VzZWQgfHwgZS5zaGlmdEtleSlcbiAgICAgIHJldHVybjtcbiAgICBsZXQgbiA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2s7XG4gICAgdGhpcy5FZGl0b3IuQ2FyZXQuaXNBdFN0YXJ0ICYmICF0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrLmhhc01lZGlhID8gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmluc2VydERlZmF1bHRCbG9ja0F0SW5kZXgodGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9ja0luZGV4KSA6IHRoaXMuRWRpdG9yLkNhcmV0LmlzQXRFbmQgPyBuID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmluc2VydERlZmF1bHRCbG9ja0F0SW5kZXgodGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9ja0luZGV4ICsgMSkgOiBuID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLnNwbGl0KCksIHRoaXMuRWRpdG9yLkNhcmV0LnNldFRvQmxvY2sobiksIHRoaXMuRWRpdG9yLlRvb2xiYXIubW92ZUFuZE9wZW4obiksIGUucHJldmVudERlZmF1bHQoKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIGJhY2tzcGFjZSBrZXlkb3duIG9uIEJsb2NrXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgLSBrZXlkb3duXG4gICAqL1xuICBiYWNrc3BhY2UoZSkge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiB0LCBDYXJldDogbyB9ID0gdGhpcy5FZGl0b3IsIHsgY3VycmVudEJsb2NrOiBpLCBwcmV2aW91c0Jsb2NrOiBuIH0gPSB0O1xuICAgIGlmICghbS5pc0NvbGxhcHNlZCB8fCAhby5pc0F0U3RhcnQpXG4gICAgICByZXR1cm47XG4gICAgaWYgKGUucHJldmVudERlZmF1bHQoKSwgdGhpcy5FZGl0b3IuVG9vbGJhci5jbG9zZSgpLCAhKGkuY3VycmVudElucHV0ID09PSBpLmZpcnN0SW5wdXQpKSB7XG4gICAgICBvLm5hdmlnYXRlUHJldmlvdXMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG4gPT09IG51bGwpXG4gICAgICByZXR1cm47XG4gICAgaWYgKG4uaXNFbXB0eSkge1xuICAgICAgdC5yZW1vdmVCbG9jayhuKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGkuaXNFbXB0eSkge1xuICAgICAgdC5yZW1vdmVCbG9jayhpKTtcbiAgICAgIGNvbnN0IGwgPSB0LmN1cnJlbnRCbG9jaztcbiAgICAgIG8uc2V0VG9CbG9jayhsLCBvLnBvc2l0aW9ucy5FTkQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBKZShpLCBuKSA/IHRoaXMubWVyZ2VCbG9ja3MobiwgaSkgOiBvLnNldFRvQmxvY2sobiwgby5wb3NpdGlvbnMuRU5EKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlcyBkZWxldGUga2V5ZG93biBvbiBCbG9ja1xuICAgKiBSZW1vdmVzIGNoYXIgYWZ0ZXIgdGhlIGNhcmV0LlxuICAgKiBJZiBjYXJldCBpcyBhdCB0aGUgZW5kIG9mIHRoZSBibG9jaywgbWVyZ2UgbmV4dCBibG9jayB3aXRoIGN1cnJlbnRcbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCAtIGtleWRvd25cbiAgICovXG4gIGRlbGV0ZShlKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IHQsIENhcmV0OiBvIH0gPSB0aGlzLkVkaXRvciwgeyBjdXJyZW50QmxvY2s6IGksIG5leHRCbG9jazogbiB9ID0gdDtcbiAgICBpZiAoIW0uaXNDb2xsYXBzZWQgfHwgIW8uaXNBdEVuZClcbiAgICAgIHJldHVybjtcbiAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCgpLCB0aGlzLkVkaXRvci5Ub29sYmFyLmNsb3NlKCksICEoaS5jdXJyZW50SW5wdXQgPT09IGkubGFzdElucHV0KSkge1xuICAgICAgby5uYXZpZ2F0ZU5leHQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG4gPT09IG51bGwpXG4gICAgICByZXR1cm47XG4gICAgaWYgKG4uaXNFbXB0eSkge1xuICAgICAgdC5yZW1vdmVCbG9jayhuKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGkuaXNFbXB0eSkge1xuICAgICAgdC5yZW1vdmVCbG9jayhpKSwgby5zZXRUb0Jsb2NrKG4sIG8ucG9zaXRpb25zLlNUQVJUKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgSmUoaSwgbikgPyB0aGlzLm1lcmdlQmxvY2tzKGksIG4pIDogby5zZXRUb0Jsb2NrKG4sIG8ucG9zaXRpb25zLlNUQVJUKTtcbiAgfVxuICAvKipcbiAgICogTWVyZ2UgcGFzc2VkIEJsb2Nrc1xuICAgKlxuICAgKiBAcGFyYW0gdGFyZ2V0QmxvY2sgLSB0byB3aGljaCBCbG9jayB3ZSB3YW50IHRvIG1lcmdlXG4gICAqIEBwYXJhbSBibG9ja1RvTWVyZ2UgLSB3aGF0IEJsb2NrIHdlIHdhbnQgdG8gbWVyZ2VcbiAgICovXG4gIG1lcmdlQmxvY2tzKGUsIHQpIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogbywgQ2FyZXQ6IGksIFRvb2xiYXI6IG4gfSA9IHRoaXMuRWRpdG9yO1xuICAgIGkuY3JlYXRlU2hhZG93KGUucGx1Z2luc0NvbnRlbnQpLCBvLm1lcmdlQmxvY2tzKGUsIHQpLnRoZW4oKCkgPT4ge1xuICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIGkucmVzdG9yZUNhcmV0KGUucGx1Z2luc0NvbnRlbnQpLCBlLnBsdWdpbnNDb250ZW50Lm5vcm1hbGl6ZSgpLCBuLmNsb3NlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIHJpZ2h0IGFuZCBkb3duIGtleWJvYXJkIGtleXNcbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCAtIGtleWJvYXJkIGV2ZW50XG4gICAqL1xuICBhcnJvd1JpZ2h0QW5kRG93bihlKSB7XG4gICAgY29uc3QgdCA9IEcudXNlZEtleXMuaW5jbHVkZXMoZS5rZXlDb2RlKSAmJiAoIWUuc2hpZnRLZXkgfHwgZS5rZXlDb2RlID09PSBCLlRBQik7XG4gICAgaWYgKHRoaXMuRWRpdG9yLlVJLnNvbWVUb29sYmFyT3BlbmVkICYmIHQpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmNsZWFyRm9jdXNlZCgpLCB0aGlzLkVkaXRvci5Ub29sYmFyLmNsb3NlKCk7XG4gICAgY29uc3QgbyA9IHRoaXMuRWRpdG9yLkNhcmV0LmlzQXRFbmQgfHwgdGhpcy5FZGl0b3IuQmxvY2tTZWxlY3Rpb24uYW55QmxvY2tTZWxlY3RlZDtcbiAgICBpZiAoZS5zaGlmdEtleSAmJiBlLmtleUNvZGUgPT09IEIuRE9XTiAmJiBvKSB7XG4gICAgICB0aGlzLkVkaXRvci5Dcm9zc0Jsb2NrU2VsZWN0aW9uLnRvZ2dsZUJsb2NrU2VsZWN0ZWRTdGF0ZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAoZS5rZXlDb2RlID09PSBCLkRPV04gfHwgZS5rZXlDb2RlID09PSBCLlJJR0hUICYmICF0aGlzLmlzUnRsID8gdGhpcy5FZGl0b3IuQ2FyZXQubmF2aWdhdGVOZXh0KCkgOiB0aGlzLkVkaXRvci5DYXJldC5uYXZpZ2F0ZVByZXZpb3VzKCkpID8gZS5wcmV2ZW50RGVmYXVsdCgpIDogcmUoKCkgPT4ge1xuICAgICAgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9jayAmJiB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrLnVwZGF0ZUN1cnJlbnRJbnB1dCgpO1xuICAgIH0sIDIwKSgpLCB0aGlzLkVkaXRvci5CbG9ja1NlbGVjdGlvbi5jbGVhclNlbGVjdGlvbihlKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIGxlZnQgYW5kIHVwIGtleWJvYXJkIGtleXNcbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCAtIGtleWJvYXJkIGV2ZW50XG4gICAqL1xuICBhcnJvd0xlZnRBbmRVcChlKSB7XG4gICAgaWYgKHRoaXMuRWRpdG9yLlVJLnNvbWVUb29sYmFyT3BlbmVkKSB7XG4gICAgICBpZiAoRy51c2VkS2V5cy5pbmNsdWRlcyhlLmtleUNvZGUpICYmICghZS5zaGlmdEtleSB8fCBlLmtleUNvZGUgPT09IEIuVEFCKSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgdGhpcy5FZGl0b3IuVUkuY2xvc2VBbGxUb29sYmFycygpO1xuICAgIH1cbiAgICB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY2xlYXJGb2N1c2VkKCksIHRoaXMuRWRpdG9yLlRvb2xiYXIuY2xvc2UoKTtcbiAgICBjb25zdCB0ID0gdGhpcy5FZGl0b3IuQ2FyZXQuaXNBdFN0YXJ0IHx8IHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLmFueUJsb2NrU2VsZWN0ZWQ7XG4gICAgaWYgKGUuc2hpZnRLZXkgJiYgZS5rZXlDb2RlID09PSBCLlVQICYmIHQpIHtcbiAgICAgIHRoaXMuRWRpdG9yLkNyb3NzQmxvY2tTZWxlY3Rpb24udG9nZ2xlQmxvY2tTZWxlY3RlZFN0YXRlKCExKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgKGUua2V5Q29kZSA9PT0gQi5VUCB8fCBlLmtleUNvZGUgPT09IEIuTEVGVCAmJiAhdGhpcy5pc1J0bCA/IHRoaXMuRWRpdG9yLkNhcmV0Lm5hdmlnYXRlUHJldmlvdXMoKSA6IHRoaXMuRWRpdG9yLkNhcmV0Lm5hdmlnYXRlTmV4dCgpKSA/IGUucHJldmVudERlZmF1bHQoKSA6IHJlKCgpID0+IHtcbiAgICAgIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2sgJiYgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9jay51cGRhdGVDdXJyZW50SW5wdXQoKTtcbiAgICB9LCAyMCkoKSwgdGhpcy5FZGl0b3IuQmxvY2tTZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oZSk7XG4gIH1cbiAgLyoqXG4gICAqIENhc2VzIHdoZW4gd2UgbmVlZCB0byBjbG9zZSBUb29sYmFyXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgLSBrZXlib2FyZCBldmVudFxuICAgKi9cbiAgbmVlZFRvb2xiYXJDbG9zaW5nKGUpIHtcbiAgICBjb25zdCB0ID0gZS5rZXlDb2RlID09PSBCLkVOVEVSICYmIHRoaXMuRWRpdG9yLlRvb2xiYXIudG9vbGJveC5vcGVuZWQsIG8gPSBlLmtleUNvZGUgPT09IEIuRU5URVIgJiYgdGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5vcGVuZWQsIGkgPSBlLmtleUNvZGUgPT09IEIuRU5URVIgJiYgdGhpcy5FZGl0b3IuSW5saW5lVG9vbGJhci5vcGVuZWQsIG4gPSBlLmtleUNvZGUgPT09IEIuRU5URVIgJiYgdGhpcy5FZGl0b3IuQ29udmVyc2lvblRvb2xiYXIub3BlbmVkLCByID0gZS5rZXlDb2RlID09PSBCLlRBQjtcbiAgICByZXR1cm4gIShlLnNoaWZ0S2V5IHx8IHIgfHwgdCB8fCBvIHx8IGkgfHwgbik7XG4gIH1cbiAgLyoqXG4gICAqIElmIFRvb2xib3ggaXMgbm90IG9wZW4sIHRoZW4ganVzdCBvcGVuIGl0IGFuZCBzaG93IHBsdXMgYnV0dG9uXG4gICAqL1xuICBhY3RpdmF0ZVRvb2xib3goKSB7XG4gICAgdGhpcy5FZGl0b3IuVG9vbGJhci5vcGVuZWQgfHwgdGhpcy5FZGl0b3IuVG9vbGJhci5tb3ZlQW5kT3BlbigpLCB0aGlzLkVkaXRvci5Ub29sYmFyLnRvb2xib3gub3BlbigpO1xuICB9XG4gIC8qKlxuICAgKiBPcGVuIFRvb2xiYXIgYW5kIHNob3cgQmxvY2tTZXR0aW5ncyBiZWZvcmUgZmxpcHBpbmcgVG9vbHNcbiAgICovXG4gIGFjdGl2YXRlQmxvY2tTZXR0aW5ncygpIHtcbiAgICB0aGlzLkVkaXRvci5Ub29sYmFyLm9wZW5lZCB8fCAodGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9jay5mb2N1c2VkID0gITAsIHRoaXMuRWRpdG9yLlRvb2xiYXIubW92ZUFuZE9wZW4oKSksIHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3Mub3BlbmVkIHx8IHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3Mub3BlbigpO1xuICB9XG59XG5jbGFzcyBUZSB7XG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gd29ya2luZ0FyZWEg4oCUIGVkaXRvcmBzIHdvcmtpbmcgbm9kZVxuICAgKi9cbiAgY29uc3RydWN0b3IoZSkge1xuICAgIHRoaXMuYmxvY2tzID0gW10sIHRoaXMud29ya2luZ0FyZWEgPSBlO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgbGVuZ3RoIG9mIEJsb2NrIGluc3RhbmNlcyBhcnJheVxuICAgKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0IGxlbmd0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5ibG9ja3MubGVuZ3RoO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgQmxvY2sgaW5zdGFuY2VzIGFycmF5XG4gICAqXG4gICAqIEByZXR1cm5zIHtCbG9ja1tdfVxuICAgKi9cbiAgZ2V0IGFycmF5KCkge1xuICAgIHJldHVybiB0aGlzLmJsb2NrcztcbiAgfVxuICAvKipcbiAgICogR2V0IGJsb2NrcyBodG1sIGVsZW1lbnRzIGFycmF5XG4gICAqXG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudFtdfVxuICAgKi9cbiAgZ2V0IG5vZGVzKCkge1xuICAgIHJldHVybiBzdCh0aGlzLndvcmtpbmdBcmVhLmNoaWxkcmVuKTtcbiAgfVxuICAvKipcbiAgICogUHJveHkgdHJhcCB0byBpbXBsZW1lbnQgYXJyYXktbGlrZSBzZXR0ZXJcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYmxvY2tzWzBdID0gbmV3IEJsb2NrKC4uLilcbiAgICogQHBhcmFtIHtCbG9ja3N9IGluc3RhbmNlIOKAlCBCbG9ja3MgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtQcm9wZXJ0eUtleX0gcHJvcGVydHkg4oCUIGJsb2NrIGluZGV4IG9yIGFueSBCbG9ja3MgY2xhc3MgcHJvcGVydHkga2V5IHRvIHNldFxuICAgKiBAcGFyYW0ge0Jsb2NrfSB2YWx1ZSDigJQgdmFsdWUgdG8gc2V0XG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIHNldChlLCB0LCBvKSB7XG4gICAgcmV0dXJuIGlzTmFOKE51bWJlcih0KSkgPyAoUmVmbGVjdC5zZXQoZSwgdCwgbyksICEwKSA6IChlLmluc2VydCgrdCwgbyksICEwKTtcbiAgfVxuICAvKipcbiAgICogUHJveHkgdHJhcCB0byBpbXBsZW1lbnQgYXJyYXktbGlrZSBnZXR0ZXJcbiAgICpcbiAgICogQHBhcmFtIHtCbG9ja3N9IGluc3RhbmNlIOKAlCBCbG9ja3MgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtQcm9wZXJ0eUtleX0gcHJvcGVydHkg4oCUIEJsb2NrcyBjbGFzcyBwcm9wZXJ0eSBrZXlcbiAgICogQHJldHVybnMge0Jsb2NrfCp9XG4gICAqL1xuICBzdGF0aWMgZ2V0KGUsIHQpIHtcbiAgICByZXR1cm4gaXNOYU4oTnVtYmVyKHQpKSA/IFJlZmxlY3QuZ2V0KGUsIHQpIDogZS5nZXQoK3QpO1xuICB9XG4gIC8qKlxuICAgKiBQdXNoIG5ldyBCbG9jayB0byB0aGUgYmxvY2tzIGFycmF5IGFuZCBhcHBlbmQgaXQgdG8gd29ya2luZyBhcmVhXG4gICAqXG4gICAqIEBwYXJhbSB7QmxvY2t9IGJsb2NrIC0gQmxvY2sgdG8gYWRkXG4gICAqL1xuICBwdXNoKGUpIHtcbiAgICB0aGlzLmJsb2Nrcy5wdXNoKGUpLCB0aGlzLmluc2VydFRvRE9NKGUpO1xuICB9XG4gIC8qKlxuICAgKiBTd2FwcyBibG9ja3Mgd2l0aCBpbmRleGVzIGZpcnN0IGFuZCBzZWNvbmRcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZpcnN0IC0gZmlyc3QgYmxvY2sgaW5kZXhcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNlY29uZCAtIHNlY29uZCBibG9jayBpbmRleFxuICAgKiBAZGVwcmVjYXRlZCDigJQgdXNlICdtb3ZlJyBpbnN0ZWFkXG4gICAqL1xuICBzd2FwKGUsIHQpIHtcbiAgICBjb25zdCBvID0gdGhpcy5ibG9ja3NbdF07XG4gICAgZC5zd2FwKHRoaXMuYmxvY2tzW2VdLmhvbGRlciwgby5ob2xkZXIpLCB0aGlzLmJsb2Nrc1t0XSA9IHRoaXMuYmxvY2tzW2VdLCB0aGlzLmJsb2Nrc1tlXSA9IG87XG4gIH1cbiAgLyoqXG4gICAqIE1vdmUgYSBibG9jayBmcm9tIG9uZSB0byBhbm90aGVyIGluZGV4XG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0b0luZGV4IC0gbmV3IGluZGV4IG9mIHRoZSBibG9ja1xuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IC0gYmxvY2sgdG8gbW92ZVxuICAgKi9cbiAgbW92ZShlLCB0KSB7XG4gICAgY29uc3QgbyA9IHRoaXMuYmxvY2tzLnNwbGljZSh0LCAxKVswXSwgaSA9IGUgLSAxLCBuID0gTWF0aC5tYXgoMCwgaSksIHIgPSB0aGlzLmJsb2Nrc1tuXTtcbiAgICBlID4gMCA/IHRoaXMuaW5zZXJ0VG9ET00obywgXCJhZnRlcmVuZFwiLCByKSA6IHRoaXMuaW5zZXJ0VG9ET00obywgXCJiZWZvcmViZWdpblwiLCByKSwgdGhpcy5ibG9ja3Muc3BsaWNlKGUsIDAsIG8pO1xuICAgIGNvbnN0IGEgPSB0aGlzLmNvbXBvc2VCbG9ja0V2ZW50KFwibW92ZVwiLCB7XG4gICAgICBmcm9tSW5kZXg6IHQsXG4gICAgICB0b0luZGV4OiBlXG4gICAgfSk7XG4gICAgby5jYWxsKHEuTU9WRUQsIGEpO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnQgbmV3IEJsb2NrIGF0IHBhc3NlZCBpbmRleFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXgg4oCUIGluZGV4IHRvIGluc2VydCBCbG9ja1xuICAgKiBAcGFyYW0ge0Jsb2NrfSBibG9jayDigJQgQmxvY2sgdG8gaW5zZXJ0XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVwbGFjZSDigJQgaXQgdHJ1ZSwgcmVwbGFjZSBibG9jayBvbiBnaXZlbiBpbmRleFxuICAgKi9cbiAgaW5zZXJ0KGUsIHQsIG8gPSAhMSkge1xuICAgIGlmICghdGhpcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMucHVzaCh0KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZSA+IHRoaXMubGVuZ3RoICYmIChlID0gdGhpcy5sZW5ndGgpLCBvICYmICh0aGlzLmJsb2Nrc1tlXS5ob2xkZXIucmVtb3ZlKCksIHRoaXMuYmxvY2tzW2VdLmNhbGwocS5SRU1PVkVEKSk7XG4gICAgY29uc3QgaSA9IG8gPyAxIDogMDtcbiAgICBpZiAodGhpcy5ibG9ja3Muc3BsaWNlKGUsIGksIHQpLCBlID4gMCkge1xuICAgICAgY29uc3QgbiA9IHRoaXMuYmxvY2tzW2UgLSAxXTtcbiAgICAgIHRoaXMuaW5zZXJ0VG9ET00odCwgXCJhZnRlcmVuZFwiLCBuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbiA9IHRoaXMuYmxvY2tzW2UgKyAxXTtcbiAgICAgIG4gPyB0aGlzLmluc2VydFRvRE9NKHQsIFwiYmVmb3JlYmVnaW5cIiwgbikgOiB0aGlzLmluc2VydFRvRE9NKHQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmVwbGFjZXMgYmxvY2sgdW5kZXIgcGFzc2VkIGluZGV4IHdpdGggcGFzc2VkIGJsb2NrXG4gICAqXG4gICAqIEBwYXJhbSBpbmRleCAtIGluZGV4IG9mIGV4aXN0ZWQgYmxvY2tcbiAgICogQHBhcmFtIGJsb2NrIC0gbmV3IGJsb2NrXG4gICAqL1xuICByZXBsYWNlKGUsIHQpIHtcbiAgICBpZiAodGhpcy5ibG9ja3NbZV0gPT09IHZvaWQgMClcbiAgICAgIHRocm93IEVycm9yKFwiSW5jb3JyZWN0IGluZGV4XCIpO1xuICAgIHRoaXMuYmxvY2tzW2VdLmhvbGRlci5yZXBsYWNlV2l0aCh0LmhvbGRlciksIHRoaXMuYmxvY2tzW2VdID0gdDtcbiAgfVxuICAvKipcbiAgICogSW5zZXJ0cyBzZXZlcmFsIGJsb2NrcyBhdCBvbmNlXG4gICAqXG4gICAqIEBwYXJhbSBibG9ja3MgLSBibG9ja3MgdG8gaW5zZXJ0XG4gICAqIEBwYXJhbSBpbmRleCAtIGluZGV4IHRvIGluc2VydCBibG9ja3MgYXRcbiAgICovXG4gIGluc2VydE1hbnkoZSwgdCkge1xuICAgIGNvbnN0IG8gPSBuZXcgRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgIGZvciAoY29uc3QgaSBvZiBlKVxuICAgICAgby5hcHBlbmRDaGlsZChpLmhvbGRlcik7XG4gICAgaWYgKHRoaXMubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKHQgPiAwKSB7XG4gICAgICAgIGNvbnN0IGkgPSBNYXRoLm1pbih0IC0gMSwgdGhpcy5sZW5ndGggLSAxKTtcbiAgICAgICAgdGhpcy5ibG9ja3NbaV0uaG9sZGVyLmFmdGVyKG8pO1xuICAgICAgfSBlbHNlXG4gICAgICAgIHQgPT09IDAgJiYgdGhpcy53b3JraW5nQXJlYS5wcmVwZW5kKG8pO1xuICAgICAgdGhpcy5ibG9ja3Muc3BsaWNlKHQsIDAsIC4uLmUpO1xuICAgIH0gZWxzZVxuICAgICAgdGhpcy5ibG9ja3MucHVzaCguLi5lKSwgdGhpcy53b3JraW5nQXJlYS5hcHBlbmRDaGlsZChvKTtcbiAgICBlLmZvckVhY2goKGkpID0+IGkuY2FsbChxLlJFTkRFUkVEKSk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZSBibG9ja1xuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBpbmRleCBvZiBCbG9jayB0byByZW1vdmVcbiAgICovXG4gIHJlbW92ZShlKSB7XG4gICAgaXNOYU4oZSkgJiYgKGUgPSB0aGlzLmxlbmd0aCAtIDEpLCB0aGlzLmJsb2Nrc1tlXS5ob2xkZXIucmVtb3ZlKCksIHRoaXMuYmxvY2tzW2VdLmNhbGwocS5SRU1PVkVEKSwgdGhpcy5ibG9ja3Muc3BsaWNlKGUsIDEpO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgYWxsIGJsb2Nrc1xuICAgKi9cbiAgcmVtb3ZlQWxsKCkge1xuICAgIHRoaXMud29ya2luZ0FyZWEuaW5uZXJIVE1MID0gXCJcIiwgdGhpcy5ibG9ja3MuZm9yRWFjaCgoZSkgPT4gZS5jYWxsKHEuUkVNT1ZFRCkpLCB0aGlzLmJsb2Nrcy5sZW5ndGggPSAwO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnQgQmxvY2sgYWZ0ZXIgcGFzc2VkIHRhcmdldFxuICAgKlxuICAgKiBAdG9kbyBkZWNpZGUgaWYgdGhpcyBtZXRob2QgaXMgbmVjZXNzYXJ5XG4gICAqIEBwYXJhbSB7QmxvY2t9IHRhcmdldEJsb2NrIOKAlCB0YXJnZXQgYWZ0ZXIgd2hpY2ggQmxvY2sgc2hvdWxkIGJlIGluc2VydGVkXG4gICAqIEBwYXJhbSB7QmxvY2t9IG5ld0Jsb2NrIOKAlCBCbG9jayB0byBpbnNlcnRcbiAgICovXG4gIGluc2VydEFmdGVyKGUsIHQpIHtcbiAgICBjb25zdCBvID0gdGhpcy5ibG9ja3MuaW5kZXhPZihlKTtcbiAgICB0aGlzLmluc2VydChvICsgMSwgdCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBCbG9jayBieSBpbmRleFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXgg4oCUIEJsb2NrIGluZGV4XG4gICAqIEByZXR1cm5zIHtCbG9ja31cbiAgICovXG4gIGdldChlKSB7XG4gICAgcmV0dXJuIHRoaXMuYmxvY2tzW2VdO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gaW5kZXggb2YgcGFzc2VkIEJsb2NrXG4gICAqXG4gICAqIEBwYXJhbSB7QmxvY2t9IGJsb2NrIC0gQmxvY2sgdG8gZmluZFxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi9cbiAgaW5kZXhPZihlKSB7XG4gICAgcmV0dXJuIHRoaXMuYmxvY2tzLmluZGV4T2YoZSk7XG4gIH1cbiAgLyoqXG4gICAqIEluc2VydCBuZXcgQmxvY2sgaW50byBET01cbiAgICpcbiAgICogQHBhcmFtIHtCbG9ja30gYmxvY2sgLSBCbG9jayB0byBpbnNlcnRcbiAgICogQHBhcmFtIHtJbnNlcnRQb3NpdGlvbn0gcG9zaXRpb24g4oCUIGluc2VydCBwb3NpdGlvbiAoaWYgc2V0LCB3aWxsIHVzZSBpbnNlcnRBZGphY2VudEVsZW1lbnQpXG4gICAqIEBwYXJhbSB7QmxvY2t9IHRhcmdldCDigJQgQmxvY2sgcmVsYXRlZCB0byBwb3NpdGlvblxuICAgKi9cbiAgaW5zZXJ0VG9ET00oZSwgdCwgbykge1xuICAgIHQgPyBvLmhvbGRlci5pbnNlcnRBZGphY2VudEVsZW1lbnQodCwgZS5ob2xkZXIpIDogdGhpcy53b3JraW5nQXJlYS5hcHBlbmRDaGlsZChlLmhvbGRlciksIGUuY2FsbChxLlJFTkRFUkVEKTtcbiAgfVxuICAvKipcbiAgICogQ29tcG9zZXMgQmxvY2sgZXZlbnQgd2l0aCBwYXNzZWQgdHlwZSBhbmQgZGV0YWlsc1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIGV2ZW50IHR5cGVcbiAgICogQHBhcmFtIHtvYmplY3R9IGRldGFpbCAtIGV2ZW50IGRldGFpbFxuICAgKi9cbiAgY29tcG9zZUJsb2NrRXZlbnQoZSwgdCkge1xuICAgIHJldHVybiBuZXcgQ3VzdG9tRXZlbnQoZSwge1xuICAgICAgZGV0YWlsOiB0XG4gICAgfSk7XG4gIH1cbn1cbmNvbnN0IGV0ID0gXCJibG9jay1yZW1vdmVkXCIsIHR0ID0gXCJibG9jay1hZGRlZFwiLCBxbyA9IFwiYmxvY2stbW92ZWRcIiwgb3QgPSBcImJsb2NrLWNoYW5nZWRcIjtcbmNsYXNzIFpvIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jb21wbGV0ZWQgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuICAvKipcbiAgICogQWRkIG5ldyBwcm9taXNlIHRvIHF1ZXVlXG4gICAqXG4gICAqIEBwYXJhbSBvcGVyYXRpb24gLSBwcm9taXNlIHNob3VsZCBiZSBhZGRlZCB0byBxdWV1ZVxuICAgKi9cbiAgYWRkKGUpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHQsIG8pID0+IHtcbiAgICAgIHRoaXMuY29tcGxldGVkID0gdGhpcy5jb21wbGV0ZWQudGhlbihlKS50aGVuKHQpLmNhdGNoKG8pO1xuICAgIH0pO1xuICB9XG59XG5jbGFzcyBHbyBleHRlbmRzIEMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLl9jdXJyZW50QmxvY2tJbmRleCA9IC0xLCB0aGlzLl9ibG9ja3MgPSBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGN1cnJlbnQgQmxvY2sgaW5kZXhcbiAgICpcbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG4gIGdldCBjdXJyZW50QmxvY2tJbmRleCgpIHtcbiAgICByZXR1cm4gdGhpcy5fY3VycmVudEJsb2NrSW5kZXg7XG4gIH1cbiAgLyoqXG4gICAqIFNldCBjdXJyZW50IEJsb2NrIGluZGV4IGFuZCBmaXJlIEJsb2NrIGxpZmVjeWNsZSBjYWxsYmFja3NcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IG5ld0luZGV4IC0gaW5kZXggb2YgQmxvY2sgdG8gc2V0IGFzIGN1cnJlbnRcbiAgICovXG4gIHNldCBjdXJyZW50QmxvY2tJbmRleChlKSB7XG4gICAgdGhpcy5fY3VycmVudEJsb2NrSW5kZXggPSBlO1xuICB9XG4gIC8qKlxuICAgKiByZXR1cm5zIGZpcnN0IEJsb2NrXG4gICAqXG4gICAqIEByZXR1cm5zIHtCbG9ja31cbiAgICovXG4gIGdldCBmaXJzdEJsb2NrKCkge1xuICAgIHJldHVybiB0aGlzLl9ibG9ja3NbMF07XG4gIH1cbiAgLyoqXG4gICAqIHJldHVybnMgbGFzdCBCbG9ja1xuICAgKlxuICAgKiBAcmV0dXJucyB7QmxvY2t9XG4gICAqL1xuICBnZXQgbGFzdEJsb2NrKCkge1xuICAgIHJldHVybiB0aGlzLl9ibG9ja3NbdGhpcy5fYmxvY2tzLmxlbmd0aCAtIDFdO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgY3VycmVudCBCbG9jayBpbnN0YW5jZVxuICAgKlxuICAgKiBAcmV0dXJucyB7QmxvY2t9XG4gICAqL1xuICBnZXQgY3VycmVudEJsb2NrKCkge1xuICAgIHJldHVybiB0aGlzLl9ibG9ja3NbdGhpcy5jdXJyZW50QmxvY2tJbmRleF07XG4gIH1cbiAgLyoqXG4gICAqIFNldCBwYXNzZWQgQmxvY2sgYXMgYSBjdXJyZW50XG4gICAqXG4gICAqIEBwYXJhbSBibG9jayAtIGJsb2NrIHRvIHNldCBhcyBhIGN1cnJlbnRcbiAgICovXG4gIHNldCBjdXJyZW50QmxvY2soZSkge1xuICAgIHRoaXMuY3VycmVudEJsb2NrSW5kZXggPSB0aGlzLmdldEJsb2NrSW5kZXgoZSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgbmV4dCBCbG9jayBpbnN0YW5jZVxuICAgKlxuICAgKiBAcmV0dXJucyB7QmxvY2t8bnVsbH1cbiAgICovXG4gIGdldCBuZXh0QmxvY2soKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudEJsb2NrSW5kZXggPT09IHRoaXMuX2Jsb2Nrcy5sZW5ndGggLSAxID8gbnVsbCA6IHRoaXMuX2Jsb2Nrc1t0aGlzLmN1cnJlbnRCbG9ja0luZGV4ICsgMV07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBmaXJzdCBCbG9jayB3aXRoIGlucHV0cyBhZnRlciBjdXJyZW50IEJsb2NrXG4gICAqXG4gICAqIEByZXR1cm5zIHtCbG9jayB8IHVuZGVmaW5lZH1cbiAgICovXG4gIGdldCBuZXh0Q29udGVudGZ1bEJsb2NrKCkge1xuICAgIHJldHVybiB0aGlzLmJsb2Nrcy5zbGljZSh0aGlzLmN1cnJlbnRCbG9ja0luZGV4ICsgMSkuZmluZCgodCkgPT4gISF0LmlucHV0cy5sZW5ndGgpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gZmlyc3QgQmxvY2sgd2l0aCBpbnB1dHMgYmVmb3JlIGN1cnJlbnQgQmxvY2tcbiAgICpcbiAgICogQHJldHVybnMge0Jsb2NrIHwgdW5kZWZpbmVkfVxuICAgKi9cbiAgZ2V0IHByZXZpb3VzQ29udGVudGZ1bEJsb2NrKCkge1xuICAgIHJldHVybiB0aGlzLmJsb2Nrcy5zbGljZSgwLCB0aGlzLmN1cnJlbnRCbG9ja0luZGV4KS5yZXZlcnNlKCkuZmluZCgodCkgPT4gISF0LmlucHV0cy5sZW5ndGgpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHByZXZpb3VzIEJsb2NrIGluc3RhbmNlXG4gICAqXG4gICAqIEByZXR1cm5zIHtCbG9ja3xudWxsfVxuICAgKi9cbiAgZ2V0IHByZXZpb3VzQmxvY2soKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudEJsb2NrSW5kZXggPT09IDAgPyBudWxsIDogdGhpcy5fYmxvY2tzW3RoaXMuY3VycmVudEJsb2NrSW5kZXggLSAxXTtcbiAgfVxuICAvKipcbiAgICogR2V0IGFycmF5IG9mIEJsb2NrIGluc3RhbmNlc1xuICAgKlxuICAgKiBAcmV0dXJucyB7QmxvY2tbXX0ge0BsaW5rIEJsb2NrcyNhcnJheX1cbiAgICovXG4gIGdldCBibG9ja3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Jsb2Nrcy5hcnJheTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgZWFjaCBCbG9jayBpcyBlbXB0eVxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBpc0VkaXRvckVtcHR5KCkge1xuICAgIHJldHVybiB0aGlzLmJsb2Nrcy5ldmVyeSgoZSkgPT4gZS5pc0VtcHR5KTtcbiAgfVxuICAvKipcbiAgICogU2hvdWxkIGJlIGNhbGxlZCBhZnRlciBFZGl0b3IuVUkgcHJlcGFyYXRpb25cbiAgICogRGVmaW5lIHRoaXMuX2Jsb2NrcyBwcm9wZXJ0eVxuICAgKi9cbiAgcHJlcGFyZSgpIHtcbiAgICBjb25zdCBlID0gbmV3IFRlKHRoaXMuRWRpdG9yLlVJLm5vZGVzLnJlZGFjdG9yKTtcbiAgICB0aGlzLl9ibG9ja3MgPSBuZXcgUHJveHkoZSwge1xuICAgICAgc2V0OiBUZS5zZXQsXG4gICAgICBnZXQ6IFRlLmdldFxuICAgIH0pLCB0aGlzLmxpc3RlbmVycy5vbihcbiAgICAgIGRvY3VtZW50LFxuICAgICAgXCJjb3B5XCIsXG4gICAgICAodCkgPT4gdGhpcy5FZGl0b3IuQmxvY2tFdmVudHMuaGFuZGxlQ29tbWFuZEModClcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBUb2dnbGUgcmVhZC1vbmx5IHN0YXRlXG4gICAqXG4gICAqIElmIHJlYWRPbmx5IGlzIHRydWU6XG4gICAqICAtIFVuYmluZCBldmVudCBoYW5kbGVycyBmcm9tIGNyZWF0ZWQgQmxvY2tzXG4gICAqXG4gICAqIGlmIHJlYWRPbmx5IGlzIGZhbHNlOlxuICAgKiAgLSBCaW5kIGV2ZW50IGhhbmRsZXJzIHRvIGFsbCBleGlzdGluZyBCbG9ja3NcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSByZWFkT25seUVuYWJsZWQgLSBcInJlYWQgb25seVwiIHN0YXRlXG4gICAqL1xuICB0b2dnbGVSZWFkT25seShlKSB7XG4gICAgZSA/IHRoaXMuZGlzYWJsZU1vZHVsZUJpbmRpbmdzKCkgOiB0aGlzLmVuYWJsZU1vZHVsZUJpbmRpbmdzKCk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgQmxvY2sgaW5zdGFuY2UgYnkgdG9vbCBuYW1lXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gYmxvY2sgY3JlYXRpb24gb3B0aW9uc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy50b29sIC0gdG9vbHMgcGFzc2VkIGluIGVkaXRvciBjb25maWcge0BsaW5rIEVkaXRvckNvbmZpZyN0b29sc31cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmlkXSAtIHVuaXF1ZSBpZCBmb3IgdGhpcyBibG9ja1xuICAgKiBAcGFyYW0ge0Jsb2NrVG9vbERhdGF9IFtvcHRpb25zLmRhdGFdIC0gY29uc3RydWN0b3IgcGFyYW1zXG4gICAqIEByZXR1cm5zIHtCbG9ja31cbiAgICovXG4gIGNvbXBvc2VCbG9jayh7XG4gICAgdG9vbDogZSxcbiAgICBkYXRhOiB0ID0ge30sXG4gICAgaWQ6IG8gPSB2b2lkIDAsXG4gICAgdHVuZXM6IGkgPSB7fVxuICB9KSB7XG4gICAgY29uc3QgbiA9IHRoaXMuRWRpdG9yLlJlYWRPbmx5LmlzRW5hYmxlZCwgciA9IHRoaXMuRWRpdG9yLlRvb2xzLmJsb2NrVG9vbHMuZ2V0KGUpLCBhID0gbmV3IEYoe1xuICAgICAgaWQ6IG8sXG4gICAgICBkYXRhOiB0LFxuICAgICAgdG9vbDogcixcbiAgICAgIGFwaTogdGhpcy5FZGl0b3IuQVBJLFxuICAgICAgcmVhZE9ubHk6IG4sXG4gICAgICB0dW5lc0RhdGE6IGlcbiAgICB9LCB0aGlzLmV2ZW50c0Rpc3BhdGNoZXIpO1xuICAgIHJldHVybiBuIHx8IHdpbmRvdy5yZXF1ZXN0SWRsZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgIHRoaXMuYmluZEJsb2NrRXZlbnRzKGEpO1xuICAgIH0sIHsgdGltZW91dDogMmUzIH0pLCBhO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnQgbmV3IGJsb2NrIGludG8gX2Jsb2Nrc1xuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIGluc2VydCBvcHRpb25zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5pZF0gLSBibG9jaydzIHVuaXF1ZSBpZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMudG9vbF0gLSBwbHVnaW4gbmFtZSwgYnkgZGVmYXVsdCBtZXRob2QgaW5zZXJ0cyB0aGUgZGVmYXVsdCBibG9jayB0eXBlXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9ucy5kYXRhXSAtIHBsdWdpbiBkYXRhXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5pbmRleF0gLSBpbmRleCB3aGVyZSB0byBpbnNlcnQgbmV3IEJsb2NrXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubmVlZFRvRm9jdXNdIC0gZmxhZyBzaG93cyBpZiBuZWVkZWQgdG8gdXBkYXRlIGN1cnJlbnQgQmxvY2sgaW5kZXhcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5yZXBsYWNlXSAtIGZsYWcgc2hvd3MgaWYgYmxvY2sgYnkgcGFzc2VkIGluZGV4IHNob3VsZCBiZSByZXBsYWNlZCB3aXRoIGluc2VydGVkIG9uZVxuICAgKiBAcmV0dXJucyB7QmxvY2t9XG4gICAqL1xuICBpbnNlcnQoe1xuICAgIGlkOiBlID0gdm9pZCAwLFxuICAgIHRvb2w6IHQgPSB0aGlzLmNvbmZpZy5kZWZhdWx0QmxvY2ssXG4gICAgZGF0YTogbyA9IHt9LFxuICAgIGluZGV4OiBpLFxuICAgIG5lZWRUb0ZvY3VzOiBuID0gITAsXG4gICAgcmVwbGFjZTogciA9ICExLFxuICAgIHR1bmVzOiBhID0ge31cbiAgfSA9IHt9KSB7XG4gICAgbGV0IGwgPSBpO1xuICAgIGwgPT09IHZvaWQgMCAmJiAobCA9IHRoaXMuY3VycmVudEJsb2NrSW5kZXggKyAociA/IDAgOiAxKSk7XG4gICAgY29uc3QgYyA9IHRoaXMuY29tcG9zZUJsb2NrKHtcbiAgICAgIGlkOiBlLFxuICAgICAgdG9vbDogdCxcbiAgICAgIGRhdGE6IG8sXG4gICAgICB0dW5lczogYVxuICAgIH0pO1xuICAgIHJldHVybiByICYmIHRoaXMuYmxvY2tEaWRNdXRhdGVkKGV0LCB0aGlzLmdldEJsb2NrQnlJbmRleChsKSwge1xuICAgICAgaW5kZXg6IGxcbiAgICB9KSwgdGhpcy5fYmxvY2tzLmluc2VydChsLCBjLCByKSwgdGhpcy5ibG9ja0RpZE11dGF0ZWQodHQsIGMsIHtcbiAgICAgIGluZGV4OiBsXG4gICAgfSksIG4gPyB0aGlzLmN1cnJlbnRCbG9ja0luZGV4ID0gbCA6IGwgPD0gdGhpcy5jdXJyZW50QmxvY2tJbmRleCAmJiB0aGlzLmN1cnJlbnRCbG9ja0luZGV4KyssIGM7XG4gIH1cbiAgLyoqXG4gICAqIEluc2VydHMgc2V2ZXJhbCBibG9ja3MgYXQgb25jZVxuICAgKlxuICAgKiBAcGFyYW0gYmxvY2tzIC0gYmxvY2tzIHRvIGluc2VydFxuICAgKiBAcGFyYW0gaW5kZXggLSBpbmRleCB3aGVyZSB0byBpbnNlcnRcbiAgICovXG4gIGluc2VydE1hbnkoZSwgdCA9IDApIHtcbiAgICB0aGlzLl9ibG9ja3MuaW5zZXJ0TWFueShlLCB0KTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlIEJsb2NrIGRhdGEuXG4gICAqXG4gICAqIEN1cnJlbnRseSB3ZSBkb24ndCBoYXZlIGFuICd1cGRhdGUnIG1ldGhvZCBpbiB0aGUgVG9vbHMgQVBJLCBzbyB3ZSBqdXN0IGNyZWF0ZSBhIG5ldyBibG9jayB3aXRoIHRoZSBzYW1lIGlkIGFuZCB0eXBlXG4gICAqIFNob3VsZCBub3QgdHJpZ2dlciAnYmxvY2stcmVtb3ZlZCcgb3IgJ2Jsb2NrLWFkZGVkJyBldmVudHNcbiAgICpcbiAgICogQHBhcmFtIGJsb2NrIC0gYmxvY2sgdG8gdXBkYXRlXG4gICAqIEBwYXJhbSBkYXRhIC0gbmV3IGRhdGFcbiAgICovXG4gIGFzeW5jIHVwZGF0ZShlLCB0KSB7XG4gICAgY29uc3QgbyA9IGF3YWl0IGUuZGF0YSwgaSA9IHRoaXMuY29tcG9zZUJsb2NrKHtcbiAgICAgIGlkOiBlLmlkLFxuICAgICAgdG9vbDogZS5uYW1lLFxuICAgICAgZGF0YTogT2JqZWN0LmFzc2lnbih7fSwgbywgdCksXG4gICAgICB0dW5lczogZS50dW5lc1xuICAgIH0pLCBuID0gdGhpcy5nZXRCbG9ja0luZGV4KGUpO1xuICAgIHJldHVybiB0aGlzLl9ibG9ja3MucmVwbGFjZShuLCBpKSwgdGhpcy5ibG9ja0RpZE11dGF0ZWQob3QsIGksIHtcbiAgICAgIGluZGV4OiBuXG4gICAgfSksIGk7XG4gIH1cbiAgLyoqXG4gICAqIFJlcGxhY2UgcGFzc2VkIEJsb2NrIHdpdGggdGhlIG5ldyBvbmUgd2l0aCBzcGVjaWZpZWQgVG9vbCBhbmQgZGF0YVxuICAgKlxuICAgKiBAcGFyYW0gYmxvY2sgLSBibG9jayB0byByZXBsYWNlXG4gICAqIEBwYXJhbSBuZXdUb29sIC0gbmV3IFRvb2wgbmFtZVxuICAgKiBAcGFyYW0gZGF0YSAtIG5ldyBUb29sIGRhdGFcbiAgICovXG4gIHJlcGxhY2UoZSwgdCwgbykge1xuICAgIGNvbnN0IGkgPSB0aGlzLmdldEJsb2NrSW5kZXgoZSk7XG4gICAgdGhpcy5pbnNlcnQoe1xuICAgICAgdG9vbDogdCxcbiAgICAgIGRhdGE6IG8sXG4gICAgICBpbmRleDogaSxcbiAgICAgIHJlcGxhY2U6ICEwXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEluc2VydCBwYXN0ZWQgY29udGVudC4gQ2FsbCBvblBhc3RlIGNhbGxiYWNrIGFmdGVyIGluc2VydC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRvb2xOYW1lIC0gbmFtZSBvZiBUb29sIHRvIGluc2VydFxuICAgKiBAcGFyYW0ge1Bhc3RlRXZlbnR9IHBhc3RlRXZlbnQgLSBwYXN0ZWQgZGF0YVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlcGxhY2UgLSBzaG91bGQgcmVwbGFjZSBjdXJyZW50IGJsb2NrXG4gICAqL1xuICBwYXN0ZShlLCB0LCBvID0gITEpIHtcbiAgICBjb25zdCBpID0gdGhpcy5pbnNlcnQoe1xuICAgICAgdG9vbDogZSxcbiAgICAgIHJlcGxhY2U6IG9cbiAgICB9KTtcbiAgICB0cnkge1xuICAgICAgd2luZG93LnJlcXVlc3RJZGxlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpLmNhbGwocS5PTl9QQVNURSwgdCk7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChuKSB7XG4gICAgICBMKGAke2V9OiBvblBhc3RlIGNhbGxiYWNrIGNhbGwgaXMgZmFpbGVkYCwgXCJlcnJvclwiLCBuKTtcbiAgICB9XG4gICAgcmV0dXJuIGk7XG4gIH1cbiAgLyoqXG4gICAqIEluc2VydCBuZXcgZGVmYXVsdCBibG9jayBhdCBwYXNzZWQgaW5kZXhcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gaW5kZXggd2hlcmUgQmxvY2sgc2hvdWxkIGJlIGluc2VydGVkXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gbmVlZFRvRm9jdXMgLSBpZiB0cnVlLCB1cGRhdGVzIGN1cnJlbnQgQmxvY2sgaW5kZXhcbiAgICpcbiAgICogVE9ETzogUmVtb3ZlIG1ldGhvZCBhbmQgdXNlIGluc2VydCgpIHdpdGggaW5kZXggaW5zdGVhZCAoPylcbiAgICogQHJldHVybnMge0Jsb2NrfSBpbnNlcnRlZCBCbG9ja1xuICAgKi9cbiAgaW5zZXJ0RGVmYXVsdEJsb2NrQXRJbmRleChlLCB0ID0gITEpIHtcbiAgICBjb25zdCBvID0gdGhpcy5jb21wb3NlQmxvY2soeyB0b29sOiB0aGlzLmNvbmZpZy5kZWZhdWx0QmxvY2sgfSk7XG4gICAgcmV0dXJuIHRoaXMuX2Jsb2Nrc1tlXSA9IG8sIHRoaXMuYmxvY2tEaWRNdXRhdGVkKHR0LCBvLCB7XG4gICAgICBpbmRleDogZVxuICAgIH0pLCB0ID8gdGhpcy5jdXJyZW50QmxvY2tJbmRleCA9IGUgOiBlIDw9IHRoaXMuY3VycmVudEJsb2NrSW5kZXggJiYgdGhpcy5jdXJyZW50QmxvY2tJbmRleCsrLCBvO1xuICB9XG4gIC8qKlxuICAgKiBBbHdheXMgaW5zZXJ0cyBhdCB0aGUgZW5kXG4gICAqXG4gICAqIEByZXR1cm5zIHtCbG9ja31cbiAgICovXG4gIGluc2VydEF0RW5kKCkge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRCbG9ja0luZGV4ID0gdGhpcy5ibG9ja3MubGVuZ3RoIC0gMSwgdGhpcy5pbnNlcnQoKTtcbiAgfVxuICAvKipcbiAgICogTWVyZ2UgdHdvIGJsb2Nrc1xuICAgKlxuICAgKiBAcGFyYW0ge0Jsb2NrfSB0YXJnZXRCbG9jayAtIHByZXZpb3VzIGJsb2NrIHdpbGwgYmUgYXBwZW5kIHRvIHRoaXMgYmxvY2tcbiAgICogQHBhcmFtIHtCbG9ja30gYmxvY2tUb01lcmdlIC0gYmxvY2sgdGhhdCB3aWxsIGJlIG1lcmdlZCB3aXRoIHRhcmdldCBibG9ja1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gLSB0aGUgc2VxdWVuY2UgdGhhdCBjYW4gYmUgY29udGludWVkXG4gICAqL1xuICBhc3luYyBtZXJnZUJsb2NrcyhlLCB0KSB7XG4gICAgY29uc3QgbyA9IGF3YWl0IHQuZGF0YTtcbiAgICBWKG8pIHx8IGF3YWl0IGUubWVyZ2VXaXRoKG8pLCB0aGlzLnJlbW92ZUJsb2NrKHQpLCB0aGlzLmN1cnJlbnRCbG9ja0luZGV4ID0gdGhpcy5fYmxvY2tzLmluZGV4T2YoZSk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZSBwYXNzZWQgQmxvY2tcbiAgICpcbiAgICogQHBhcmFtIGJsb2NrIC0gQmxvY2sgdG8gcmVtb3ZlXG4gICAqIEBwYXJhbSBhZGRMYXN0QmxvY2sgLSBpZiB0cnVlLCBhZGRzIG5ldyBkZWZhdWx0IGJsb2NrIGF0IHRoZSBlbmQuIEB0b2RvIHJlbW92ZSB0aGlzIGxvZ2ljIGFuZCB1c2UgZXZlbnQtYnVzIGluc3RlYWRcbiAgICovXG4gIHJlbW92ZUJsb2NrKGUsIHQgPSAhMCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgobykgPT4ge1xuICAgICAgY29uc3QgaSA9IHRoaXMuX2Jsb2Nrcy5pbmRleE9mKGUpO1xuICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlSW5kZXgoaSkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IGZpbmQgYSBCbG9jayB0byByZW1vdmVcIik7XG4gICAgICBlLmRlc3Ryb3koKSwgdGhpcy5fYmxvY2tzLnJlbW92ZShpKSwgdGhpcy5ibG9ja0RpZE11dGF0ZWQoZXQsIGUsIHtcbiAgICAgICAgaW5kZXg6IGlcbiAgICAgIH0pLCB0aGlzLmN1cnJlbnRCbG9ja0luZGV4ID49IGkgJiYgdGhpcy5jdXJyZW50QmxvY2tJbmRleC0tLCB0aGlzLmJsb2Nrcy5sZW5ndGggPyBpID09PSAwICYmICh0aGlzLmN1cnJlbnRCbG9ja0luZGV4ID0gMCkgOiAodGhpcy5jdXJyZW50QmxvY2tJbmRleCA9IC0xLCB0ICYmIHRoaXMuaW5zZXJ0KCkpLCBvKCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZSBvbmx5IHNlbGVjdGVkIEJsb2Nrc1xuICAgKiBhbmQgcmV0dXJucyBmaXJzdCBCbG9jayBpbmRleCB3aGVyZSBzdGFydGVkIHJlbW92aW5nLi4uXG4gICAqXG4gICAqIEByZXR1cm5zIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgKi9cbiAgcmVtb3ZlU2VsZWN0ZWRCbG9ja3MoKSB7XG4gICAgbGV0IGU7XG4gICAgZm9yIChsZXQgdCA9IHRoaXMuYmxvY2tzLmxlbmd0aCAtIDE7IHQgPj0gMDsgdC0tKVxuICAgICAgdGhpcy5ibG9ja3NbdF0uc2VsZWN0ZWQgJiYgKHRoaXMucmVtb3ZlQmxvY2sodGhpcy5ibG9ja3NbdF0pLCBlID0gdCk7XG4gICAgcmV0dXJuIGU7XG4gIH1cbiAgLyoqXG4gICAqIEF0dGVudGlvbiFcbiAgICogQWZ0ZXIgcmVtb3ZpbmcgaW5zZXJ0IHRoZSBuZXcgZGVmYXVsdCB0eXBlZCBCbG9jayBhbmQgZm9jdXMgb24gaXRcbiAgICogUmVtb3ZlcyBhbGwgYmxvY2tzXG4gICAqL1xuICByZW1vdmVBbGxCbG9ja3MoKSB7XG4gICAgZm9yIChsZXQgZSA9IHRoaXMuYmxvY2tzLmxlbmd0aCAtIDE7IGUgPj0gMDsgZS0tKVxuICAgICAgdGhpcy5fYmxvY2tzLnJlbW92ZShlKTtcbiAgICB0aGlzLmN1cnJlbnRCbG9ja0luZGV4ID0gLTEsIHRoaXMuaW5zZXJ0KCksIHRoaXMuY3VycmVudEJsb2NrLmZpcnN0SW5wdXQuZm9jdXMoKTtcbiAgfVxuICAvKipcbiAgICogU3BsaXQgY3VycmVudCBCbG9ja1xuICAgKiAxLiBFeHRyYWN0IGNvbnRlbnQgZnJvbSBDYXJldCBwb3NpdGlvbiB0byB0aGUgQmxvY2tgcyBlbmRcbiAgICogMi4gSW5zZXJ0IGEgbmV3IEJsb2NrIGJlbG93IGN1cnJlbnQgb25lIHdpdGggZXh0cmFjdGVkIGNvbnRlbnRcbiAgICpcbiAgICogQHJldHVybnMge0Jsb2NrfVxuICAgKi9cbiAgc3BsaXQoKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuRWRpdG9yLkNhcmV0LmV4dHJhY3RGcmFnbWVudEZyb21DYXJldFBvc2l0aW9uKCksIHQgPSBkLm1ha2UoXCJkaXZcIik7XG4gICAgdC5hcHBlbmRDaGlsZChlKTtcbiAgICBjb25zdCBvID0ge1xuICAgICAgdGV4dDogZC5pc0VtcHR5KHQpID8gXCJcIiA6IHQuaW5uZXJIVE1MXG4gICAgfTtcbiAgICByZXR1cm4gdGhpcy5pbnNlcnQoeyBkYXRhOiBvIH0pO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIEJsb2NrIGJ5IHBhc3NlZCBpbmRleFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBpbmRleCB0byBnZXQuIC0xIHRvIGdldCBsYXN0XG4gICAqIEByZXR1cm5zIHtCbG9ja31cbiAgICovXG4gIGdldEJsb2NrQnlJbmRleChlKSB7XG4gICAgcmV0dXJuIGUgPT09IC0xICYmIChlID0gdGhpcy5fYmxvY2tzLmxlbmd0aCAtIDEpLCB0aGlzLl9ibG9ja3NbZV07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gaW5kZXggZm9yIHBhc3NlZCBCbG9ja1xuICAgKlxuICAgKiBAcGFyYW0gYmxvY2sgLSBibG9jayB0byBmaW5kIGluZGV4XG4gICAqL1xuICBnZXRCbG9ja0luZGV4KGUpIHtcbiAgICByZXR1cm4gdGhpcy5fYmxvY2tzLmluZGV4T2YoZSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIEJsb2NrIGJ5IHBhc3NlZCBpZFxuICAgKlxuICAgKiBAcGFyYW0gaWQgLSBpZCBvZiBibG9jayB0byBnZXRcbiAgICogQHJldHVybnMge0Jsb2NrfVxuICAgKi9cbiAgZ2V0QmxvY2tCeUlkKGUpIHtcbiAgICByZXR1cm4gdGhpcy5fYmxvY2tzLmFycmF5LmZpbmQoKHQpID0+IHQuaWQgPT09IGUpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgQmxvY2sgaW5zdGFuY2UgYnkgaHRtbCBlbGVtZW50XG4gICAqXG4gICAqIEBwYXJhbSB7Tm9kZX0gZWxlbWVudCAtIGh0bWwgZWxlbWVudCB0byBnZXQgQmxvY2sgYnlcbiAgICovXG4gIGdldEJsb2NrKGUpIHtcbiAgICBkLmlzRWxlbWVudChlKSB8fCAoZSA9IGUucGFyZW50Tm9kZSk7XG4gICAgY29uc3QgdCA9IHRoaXMuX2Jsb2Nrcy5ub2RlcywgbyA9IGUuY2xvc2VzdChgLiR7Ri5DU1Mud3JhcHBlcn1gKSwgaSA9IHQuaW5kZXhPZihvKTtcbiAgICBpZiAoaSA+PSAwKVxuICAgICAgcmV0dXJuIHRoaXMuX2Jsb2Nrc1tpXTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIHNlbGVjdGlvbiBmcm9tIGFsbCBCbG9ja3MgdGhlbiBoaWdobGlnaHQgb25seSBDdXJyZW50IEJsb2NrXG4gICAqL1xuICBoaWdobGlnaHRDdXJyZW50Tm9kZSgpIHtcbiAgICB0aGlzLmNsZWFyRm9jdXNlZCgpLCB0aGlzLmN1cnJlbnRCbG9jay5mb2N1c2VkID0gITA7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZSBzZWxlY3Rpb24gZnJvbSBhbGwgQmxvY2tzXG4gICAqL1xuICBjbGVhckZvY3VzZWQoKSB7XG4gICAgdGhpcy5ibG9ja3MuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgZS5mb2N1c2VkID0gITE7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIDEpIEZpbmQgZmlyc3QtbGV2ZWwgQmxvY2sgZnJvbSBwYXNzZWQgY2hpbGQgTm9kZVxuICAgKiAyKSBNYXJrIGl0IGFzIGN1cnJlbnRcbiAgICpcbiAgICogQHBhcmFtIHtOb2RlfSBjaGlsZE5vZGUgLSBsb29rIGFoZWFkIGZyb20gdGhpcyBub2RlLlxuICAgKiBAcmV0dXJucyB7QmxvY2sgfCB1bmRlZmluZWR9IGNhbiByZXR1cm4gdW5kZWZpbmVkIGluIGNhc2Ugd2hlbiB0aGUgcGFzc2VkIGNoaWxkIG5vdGUgaXMgbm90IGEgcGFydCBvZiB0aGUgY3VycmVudCBlZGl0b3IgaW5zdGFuY2VcbiAgICovXG4gIHNldEN1cnJlbnRCbG9ja0J5Q2hpbGROb2RlKGUpIHtcbiAgICBkLmlzRWxlbWVudChlKSB8fCAoZSA9IGUucGFyZW50Tm9kZSk7XG4gICAgY29uc3QgdCA9IGUuY2xvc2VzdChgLiR7Ri5DU1Mud3JhcHBlcn1gKTtcbiAgICBpZiAoIXQpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgbyA9IHQuY2xvc2VzdChgLiR7dGhpcy5FZGl0b3IuVUkuQ1NTLmVkaXRvcldyYXBwZXJ9YCk7XG4gICAgaWYgKG8gIT0gbnVsbCAmJiBvLmlzRXF1YWxOb2RlKHRoaXMuRWRpdG9yLlVJLm5vZGVzLndyYXBwZXIpKVxuICAgICAgcmV0dXJuIHRoaXMuY3VycmVudEJsb2NrSW5kZXggPSB0aGlzLl9ibG9ja3Mubm9kZXMuaW5kZXhPZih0KSwgdGhpcy5jdXJyZW50QmxvY2sudXBkYXRlQ3VycmVudElucHV0KCksIHRoaXMuY3VycmVudEJsb2NrO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gYmxvY2sgd2hpY2ggY29udGVudHMgcGFzc2VkIG5vZGVcbiAgICpcbiAgICogQHBhcmFtIHtOb2RlfSBjaGlsZE5vZGUgLSBub2RlIHRvIGdldCBCbG9jayBieVxuICAgKiBAcmV0dXJucyB7QmxvY2t9XG4gICAqL1xuICBnZXRCbG9ja0J5Q2hpbGROb2RlKGUpIHtcbiAgICBkLmlzRWxlbWVudChlKSB8fCAoZSA9IGUucGFyZW50Tm9kZSk7XG4gICAgY29uc3QgdCA9IGUuY2xvc2VzdChgLiR7Ri5DU1Mud3JhcHBlcn1gKTtcbiAgICByZXR1cm4gdGhpcy5ibG9ja3MuZmluZCgobykgPT4gby5ob2xkZXIgPT09IHQpO1xuICB9XG4gIC8qKlxuICAgKiBTd2FwIEJsb2NrcyBQb3NpdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IC0gaW5kZXggb2YgZmlyc3QgYmxvY2tcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRvSW5kZXggLSBpbmRleCBvZiBzZWNvbmQgYmxvY2tcbiAgICogQGRlcHJlY2F0ZWQg4oCUIHVzZSAnbW92ZScgaW5zdGVhZFxuICAgKi9cbiAgc3dhcChlLCB0KSB7XG4gICAgdGhpcy5fYmxvY2tzLnN3YXAoZSwgdCksIHRoaXMuY3VycmVudEJsb2NrSW5kZXggPSB0O1xuICB9XG4gIC8qKlxuICAgKiBNb3ZlIGEgYmxvY2sgdG8gYSBuZXcgaW5kZXhcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRvSW5kZXggLSBpbmRleCB3aGVyZSB0byBtb3ZlIEJsb2NrXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggLSBpbmRleCBvZiBCbG9jayB0byBtb3ZlXG4gICAqL1xuICBtb3ZlKGUsIHQgPSB0aGlzLmN1cnJlbnRCbG9ja0luZGV4KSB7XG4gICAgaWYgKGlzTmFOKGUpIHx8IGlzTmFOKHQpKSB7XG4gICAgICBMKFwiV2FybmluZyBkdXJpbmcgJ21vdmUnIGNhbGw6IGluY29ycmVjdCBpbmRpY2VzIHByb3ZpZGVkLlwiLCBcIndhcm5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghdGhpcy52YWxpZGF0ZUluZGV4KGUpIHx8ICF0aGlzLnZhbGlkYXRlSW5kZXgodCkpIHtcbiAgICAgIEwoXCJXYXJuaW5nIGR1cmluZyAnbW92ZScgY2FsbDogaW5kaWNlcyBjYW5ub3QgYmUgbG93ZXIgdGhhbiAwIG9yIGdyZWF0ZXIgdGhhbiB0aGUgYW1vdW50IG9mIGJsb2Nrcy5cIiwgXCJ3YXJuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9ibG9ja3MubW92ZShlLCB0KSwgdGhpcy5jdXJyZW50QmxvY2tJbmRleCA9IGUsIHRoaXMuYmxvY2tEaWRNdXRhdGVkKHFvLCB0aGlzLmN1cnJlbnRCbG9jaywge1xuICAgICAgZnJvbUluZGV4OiB0LFxuICAgICAgdG9JbmRleDogZVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDb252ZXJ0cyBwYXNzZWQgQmxvY2sgdG8gdGhlIG5ldyBUb29sXG4gICAqIFVzZXMgQ29udmVyc2lvbiBDb25maWdcbiAgICpcbiAgICogQHBhcmFtIGJsb2NrVG9Db252ZXJ0IC0gQmxvY2sgdGhhdCBzaG91bGQgYmUgY29udmVydGVkXG4gICAqIEBwYXJhbSB0YXJnZXRUb29sTmFtZSAtIG5hbWUgb2YgdGhlIFRvb2wgdG8gY29udmVydCB0b1xuICAgKiBAcGFyYW0gYmxvY2tEYXRhT3ZlcnJpZGVzIC0gb3B0aW9uYWwgbmV3IEJsb2NrIGRhdGEgb3ZlcnJpZGVzXG4gICAqL1xuICBhc3luYyBjb252ZXJ0KGUsIHQsIG8pIHtcbiAgICBpZiAoIWF3YWl0IGUuc2F2ZSgpKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGNvbnZlcnQgQmxvY2suIEZhaWxlZCB0byBleHRyYWN0IG9yaWdpbmFsIEJsb2NrIGRhdGEuXCIpO1xuICAgIGNvbnN0IG4gPSB0aGlzLkVkaXRvci5Ub29scy5ibG9ja1Rvb2xzLmdldCh0KTtcbiAgICBpZiAoIW4pXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBjb252ZXJ0IEJsb2NrLiBUb29sIMKrJHt0fcK7IG5vdCBmb3VuZC5gKTtcbiAgICBjb25zdCByID0gYXdhaXQgZS5leHBvcnREYXRhQXNTdHJpbmcoKSwgYSA9IFooXG4gICAgICByLFxuICAgICAgbi5zYW5pdGl6ZUNvbmZpZ1xuICAgICk7XG4gICAgbGV0IGwgPSBKdChhLCBuLmNvbnZlcnNpb25Db25maWcpO1xuICAgIG8gJiYgKGwgPSBPYmplY3QuYXNzaWduKGwsIG8pKSwgdGhpcy5yZXBsYWNlKGUsIG4ubmFtZSwgbCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgY3VycmVudCBCbG9jayBJbmRleCAtMSB3aGljaCBtZWFucyB1bmtub3duXG4gICAqIGFuZCBjbGVhciBoaWdobGlnaHRzXG4gICAqL1xuICBkcm9wUG9pbnRlcigpIHtcbiAgICB0aGlzLmN1cnJlbnRCbG9ja0luZGV4ID0gLTEsIHRoaXMuY2xlYXJGb2N1c2VkKCk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFycyBFZGl0b3JcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBuZWVkVG9BZGREZWZhdWx0QmxvY2sgLSAxKSBpbiBpbnRlcm5hbCBjYWxscyAoZm9yIGV4YW1wbGUsIGluIGFwaS5ibG9ja3MucmVuZGVyKVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlIGRvbid0IG5lZWQgdG8gYWRkIGFuIGVtcHR5IGRlZmF1bHQgYmxvY2tcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMikgaW4gYXBpLmJsb2Nrcy5jbGVhciB3ZSBzaG91bGQgYWRkIGVtcHR5IGJsb2NrXG4gICAqL1xuICBhc3luYyBjbGVhcihlID0gITEpIHtcbiAgICBjb25zdCB0ID0gbmV3IFpvKCk7XG4gICAgdGhpcy5ibG9ja3MuZm9yRWFjaCgobykgPT4ge1xuICAgICAgdC5hZGQoYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCB0aGlzLnJlbW92ZUJsb2NrKG8sICExKTtcbiAgICAgIH0pO1xuICAgIH0pLCBhd2FpdCB0LmNvbXBsZXRlZCwgdGhpcy5kcm9wUG9pbnRlcigpLCBlICYmIHRoaXMuaW5zZXJ0KCksIHRoaXMuRWRpdG9yLlVJLmNoZWNrRW1wdGluZXNzKCk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFucyB1cCBhbGwgdGhlIGJsb2NrIHRvb2xzJyByZXNvdXJjZXNcbiAgICogVGhpcyBpcyBjYWxsZWQgd2hlbiBlZGl0b3IgaXMgZGVzdHJveWVkXG4gICAqL1xuICBhc3luYyBkZXN0cm95KCkge1xuICAgIGF3YWl0IFByb21pc2UuYWxsKHRoaXMuYmxvY2tzLm1hcCgoZSkgPT4gZS5kZXN0cm95KCkpKTtcbiAgfVxuICAvKipcbiAgICogQmluZCBCbG9jayBldmVudHNcbiAgICpcbiAgICogQHBhcmFtIHtCbG9ja30gYmxvY2sgLSBCbG9jayB0byB3aGljaCBldmVudCBzaG91bGQgYmUgYm91bmRcbiAgICovXG4gIGJpbmRCbG9ja0V2ZW50cyhlKSB7XG4gICAgY29uc3QgeyBCbG9ja0V2ZW50czogdCB9ID0gdGhpcy5FZGl0b3I7XG4gICAgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24oZS5ob2xkZXIsIFwia2V5ZG93blwiLCAobykgPT4ge1xuICAgICAgdC5rZXlkb3duKG8pO1xuICAgIH0pLCB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5vbihlLmhvbGRlciwgXCJrZXl1cFwiLCAobykgPT4ge1xuICAgICAgdC5rZXl1cChvKTtcbiAgICB9KSwgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24oZS5ob2xkZXIsIFwiZHJhZ292ZXJcIiwgKG8pID0+IHtcbiAgICAgIHQuZHJhZ092ZXIobyk7XG4gICAgfSksIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLm9uKGUuaG9sZGVyLCBcImRyYWdsZWF2ZVwiLCAobykgPT4ge1xuICAgICAgdC5kcmFnTGVhdmUobyk7XG4gICAgfSksIGUub24oXCJkaWRNdXRhdGVkXCIsIChvKSA9PiB0aGlzLmJsb2NrRGlkTXV0YXRlZChvdCwgbywge1xuICAgICAgaW5kZXg6IHRoaXMuZ2V0QmxvY2tJbmRleChvKVxuICAgIH0pKTtcbiAgfVxuICAvKipcbiAgICogRGlzYWJsZSBtdXRhYmxlIGhhbmRsZXJzIGFuZCBiaW5kaW5nc1xuICAgKi9cbiAgZGlzYWJsZU1vZHVsZUJpbmRpbmdzKCkge1xuICAgIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLmNsZWFyQWxsKCk7XG4gIH1cbiAgLyoqXG4gICAqIEVuYWJsZXMgYWxsIG1vZHVsZSBoYW5kbGVycyBhbmQgYmluZGluZ3MgZm9yIGFsbCBCbG9ja3NcbiAgICovXG4gIGVuYWJsZU1vZHVsZUJpbmRpbmdzKCkge1xuICAgIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLm9uKFxuICAgICAgZG9jdW1lbnQsXG4gICAgICBcImN1dFwiLFxuICAgICAgKGUpID0+IHRoaXMuRWRpdG9yLkJsb2NrRXZlbnRzLmhhbmRsZUNvbW1hbmRYKGUpXG4gICAgKSwgdGhpcy5ibG9ja3MuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgdGhpcy5iaW5kQmxvY2tFdmVudHMoZSk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFZhbGlkYXRlcyB0aGF0IHRoZSBnaXZlbiBpbmRleCBpcyBub3QgbG93ZXIgdGhhbiAwIG9yIGhpZ2hlciB0aGFuIHRoZSBhbW91bnQgb2YgYmxvY2tzXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIGluZGV4IG9mIGJsb2NrcyBhcnJheSB0byB2YWxpZGF0ZVxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHZhbGlkYXRlSW5kZXgoZSkge1xuICAgIHJldHVybiAhKGUgPCAwIHx8IGUgPj0gdGhpcy5fYmxvY2tzLmxlbmd0aCk7XG4gIH1cbiAgLyoqXG4gICAqIEJsb2NrIG11dGF0aW9uIGNhbGxiYWNrXG4gICAqXG4gICAqIEBwYXJhbSBtdXRhdGlvblR5cGUgLSB3aGF0IGhhcHBlbmVkIHdpdGggYmxvY2tcbiAgICogQHBhcmFtIGJsb2NrIC0gbXV0YXRlZCBibG9ja1xuICAgKiBAcGFyYW0gZGV0YWlsRGF0YSAtIGFkZGl0aW9uYWwgZGF0YSB0byBwYXNzIHdpdGggY2hhbmdlIGV2ZW50XG4gICAqL1xuICBibG9ja0RpZE11dGF0ZWQoZSwgdCwgbykge1xuICAgIGNvbnN0IGkgPSBuZXcgQ3VzdG9tRXZlbnQoZSwge1xuICAgICAgZGV0YWlsOiB7XG4gICAgICAgIHRhcmdldDogbmV3IGVlKHQpLFxuICAgICAgICAuLi5vXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuZXZlbnRzRGlzcGF0Y2hlci5lbWl0KGN0LCB7XG4gICAgICBldmVudDogaVxuICAgIH0pLCB0O1xuICB9XG59XG5jbGFzcyBKbyBleHRlbmRzIEMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLmFueUJsb2NrU2VsZWN0ZWRDYWNoZSA9IG51bGwsIHRoaXMubmVlZFRvU2VsZWN0QWxsID0gITEsIHRoaXMubmF0aXZlSW5wdXRTZWxlY3RlZCA9ICExLCB0aGlzLnJlYWR5VG9CbG9ja1NlbGVjdGlvbiA9ICExO1xuICB9XG4gIC8qKlxuICAgKiBTYW5pdGl6ZXIgQ29uZmlnXG4gICAqXG4gICAqIEByZXR1cm5zIHtTYW5pdGl6ZXJDb25maWd9XG4gICAqL1xuICBnZXQgc2FuaXRpemVyQ29uZmlnKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwOiB7fSxcbiAgICAgIGgxOiB7fSxcbiAgICAgIGgyOiB7fSxcbiAgICAgIGgzOiB7fSxcbiAgICAgIGg0OiB7fSxcbiAgICAgIGg1OiB7fSxcbiAgICAgIGg2OiB7fSxcbiAgICAgIG9sOiB7fSxcbiAgICAgIHVsOiB7fSxcbiAgICAgIGxpOiB7fSxcbiAgICAgIGJyOiAhMCxcbiAgICAgIGltZzoge1xuICAgICAgICBzcmM6ICEwLFxuICAgICAgICB3aWR0aDogITAsXG4gICAgICAgIGhlaWdodDogITBcbiAgICAgIH0sXG4gICAgICBhOiB7XG4gICAgICAgIGhyZWY6ICEwXG4gICAgICB9LFxuICAgICAgYjoge30sXG4gICAgICBpOiB7fSxcbiAgICAgIHU6IHt9XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogRmxhZyB0aGF0IGlkZW50aWZpZXMgYWxsIEJsb2NrcyBzZWxlY3Rpb25cbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBnZXQgYWxsQmxvY2tzU2VsZWN0ZWQoKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IGUgfSA9IHRoaXMuRWRpdG9yO1xuICAgIHJldHVybiBlLmJsb2Nrcy5ldmVyeSgodCkgPT4gdC5zZWxlY3RlZCA9PT0gITApO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgc2VsZWN0ZWQgYWxsIGJsb2Nrc1xuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHN0YXRlIC0gc3RhdGUgdG8gc2V0XG4gICAqL1xuICBzZXQgYWxsQmxvY2tzU2VsZWN0ZWQoZSkge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiB0IH0gPSB0aGlzLkVkaXRvcjtcbiAgICB0LmJsb2Nrcy5mb3JFYWNoKChvKSA9PiB7XG4gICAgICBvLnNlbGVjdGVkID0gZTtcbiAgICB9KSwgdGhpcy5jbGVhckNhY2hlKCk7XG4gIH1cbiAgLyoqXG4gICAqIEZsYWcgdGhhdCBpZGVudGlmaWVzIGFueSBCbG9jayBzZWxlY3Rpb25cbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBnZXQgYW55QmxvY2tTZWxlY3RlZCgpIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogZSB9ID0gdGhpcy5FZGl0b3I7XG4gICAgcmV0dXJuIHRoaXMuYW55QmxvY2tTZWxlY3RlZENhY2hlID09PSBudWxsICYmICh0aGlzLmFueUJsb2NrU2VsZWN0ZWRDYWNoZSA9IGUuYmxvY2tzLnNvbWUoKHQpID0+IHQuc2VsZWN0ZWQgPT09ICEwKSksIHRoaXMuYW55QmxvY2tTZWxlY3RlZENhY2hlO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gc2VsZWN0ZWQgQmxvY2tzIGFycmF5XG4gICAqXG4gICAqIEByZXR1cm5zIHtCbG9ja1tdfVxuICAgKi9cbiAgZ2V0IHNlbGVjdGVkQmxvY2tzKCkge1xuICAgIHJldHVybiB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuYmxvY2tzLmZpbHRlcigoZSkgPT4gZS5zZWxlY3RlZCk7XG4gIH1cbiAgLyoqXG4gICAqIE1vZHVsZSBQcmVwYXJhdGlvblxuICAgKiBSZWdpc3RlcnMgU2hvcnRjdXRzIENNRCtBIGFuZCBDTUQrQ1xuICAgKiB0byBzZWxlY3QgYWxsIGFuZCBjb3B5IHRoZW1cbiAgICovXG4gIHByZXBhcmUoKSB7XG4gICAgdGhpcy5zZWxlY3Rpb24gPSBuZXcgbSgpLCBsZS5hZGQoe1xuICAgICAgbmFtZTogXCJDTUQrQVwiLFxuICAgICAgaGFuZGxlcjogKGUpID0+IHtcbiAgICAgICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IHQsIFJlYWRPbmx5OiBvIH0gPSB0aGlzLkVkaXRvcjtcbiAgICAgICAgaWYgKG8uaXNFbmFibGVkKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpLCB0aGlzLnNlbGVjdEFsbEJsb2NrcygpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0LmN1cnJlbnRCbG9jayAmJiB0aGlzLmhhbmRsZUNvbW1hbmRBKGUpO1xuICAgICAgfSxcbiAgICAgIG9uOiB0aGlzLkVkaXRvci5VSS5ub2Rlcy5yZWRhY3RvclxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBUb2dnbGUgcmVhZC1vbmx5IHN0YXRlXG4gICAqXG4gICAqICAtIFJlbW92ZSBhbGwgcmFuZ2VzXG4gICAqICAtIFVuc2VsZWN0IGFsbCBCbG9ja3NcbiAgICovXG4gIHRvZ2dsZVJlYWRPbmx5KCkge1xuICAgIG0uZ2V0KCkucmVtb3ZlQWxsUmFuZ2VzKCksIHRoaXMuYWxsQmxvY2tzU2VsZWN0ZWQgPSAhMTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIHNlbGVjdGlvbiBvZiBCbG9ja1xuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcj99IGluZGV4IC0gQmxvY2sgaW5kZXggYWNjb3JkaW5nIHRvIHRoZSBCbG9ja01hbmFnZXIncyBpbmRleGVzXG4gICAqL1xuICB1blNlbGVjdEJsb2NrQnlJbmRleChlKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IHQgfSA9IHRoaXMuRWRpdG9yO1xuICAgIGxldCBvO1xuICAgIGlzTmFOKGUpID8gbyA9IHQuY3VycmVudEJsb2NrIDogbyA9IHQuZ2V0QmxvY2tCeUluZGV4KGUpLCBvLnNlbGVjdGVkID0gITEsIHRoaXMuY2xlYXJDYWNoZSgpO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhciBzZWxlY3Rpb24gZnJvbSBCbG9ja3NcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gcmVhc29uIC0gZXZlbnQgY2F1c2VkIGNsZWFyIG9mIHNlbGVjdGlvblxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlc3RvcmVTZWxlY3Rpb24gLSBpZiB0cnVlLCByZXN0b3JlIHNhdmVkIHNlbGVjdGlvblxuICAgKi9cbiAgY2xlYXJTZWxlY3Rpb24oZSwgdCA9ICExKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IG8sIENhcmV0OiBpLCBSZWN0YW5nbGVTZWxlY3Rpb246IG4gfSA9IHRoaXMuRWRpdG9yO1xuICAgIHRoaXMubmVlZFRvU2VsZWN0QWxsID0gITEsIHRoaXMubmF0aXZlSW5wdXRTZWxlY3RlZCA9ICExLCB0aGlzLnJlYWR5VG9CbG9ja1NlbGVjdGlvbiA9ICExO1xuICAgIGNvbnN0IHIgPSBlICYmIGUgaW5zdGFuY2VvZiBLZXlib2FyZEV2ZW50LCBhID0gciAmJiBudChlLmtleUNvZGUpO1xuICAgIGlmICh0aGlzLmFueUJsb2NrU2VsZWN0ZWQgJiYgciAmJiBhICYmICFtLmlzU2VsZWN0aW9uRXhpc3RzKSB7XG4gICAgICBjb25zdCBsID0gby5yZW1vdmVTZWxlY3RlZEJsb2NrcygpO1xuICAgICAgby5pbnNlcnREZWZhdWx0QmxvY2tBdEluZGV4KGwsICEwKSwgaS5zZXRUb0Jsb2NrKG8uY3VycmVudEJsb2NrKSwgcmUoKCkgPT4ge1xuICAgICAgICBjb25zdCBjID0gZS5rZXk7XG4gICAgICAgIGkuaW5zZXJ0Q29udGVudEF0Q2FyZXRQb3NpdGlvbihjLmxlbmd0aCA+IDEgPyBcIlwiIDogYyk7XG4gICAgICB9LCAyMCkoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuRWRpdG9yLkNyb3NzQmxvY2tTZWxlY3Rpb24uY2xlYXIoZSksICF0aGlzLmFueUJsb2NrU2VsZWN0ZWQgfHwgbi5pc1JlY3RBY3RpdmF0ZWQoKSkge1xuICAgICAgdGhpcy5FZGl0b3IuUmVjdGFuZ2xlU2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHQgJiYgdGhpcy5zZWxlY3Rpb24ucmVzdG9yZSgpLCB0aGlzLmFsbEJsb2Nrc1NlbGVjdGVkID0gITE7XG4gIH1cbiAgLyoqXG4gICAqIFJlZHVjZSBlYWNoIEJsb2NrIGFuZCBjb3B5IGl0cyBjb250ZW50XG4gICAqXG4gICAqIEBwYXJhbSB7Q2xpcGJvYXJkRXZlbnR9IGUgLSBjb3B5L2N1dCBldmVudFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICovXG4gIGNvcHlTZWxlY3RlZEJsb2NrcyhlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHQgPSBkLm1ha2UoXCJkaXZcIik7XG4gICAgdGhpcy5zZWxlY3RlZEJsb2Nrcy5mb3JFYWNoKChuKSA9PiB7XG4gICAgICBjb25zdCByID0gWihuLmhvbGRlci5pbm5lckhUTUwsIHRoaXMuc2FuaXRpemVyQ29uZmlnKSwgYSA9IGQubWFrZShcInBcIik7XG4gICAgICBhLmlubmVySFRNTCA9IHIsIHQuYXBwZW5kQ2hpbGQoYSk7XG4gICAgfSk7XG4gICAgY29uc3QgbyA9IEFycmF5LmZyb20odC5jaGlsZE5vZGVzKS5tYXAoKG4pID0+IG4udGV4dENvbnRlbnQpLmpvaW4oYFxuXG5gKSwgaSA9IHQuaW5uZXJIVE1MO1xuICAgIHJldHVybiBlLmNsaXBib2FyZERhdGEuc2V0RGF0YShcInRleHQvcGxhaW5cIiwgbyksIGUuY2xpcGJvYXJkRGF0YS5zZXREYXRhKFwidGV4dC9odG1sXCIsIGkpLCBQcm9taXNlLmFsbCh0aGlzLnNlbGVjdGVkQmxvY2tzLm1hcCgobikgPT4gbi5zYXZlKCkpKS50aGVuKChuKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBlLmNsaXBib2FyZERhdGEuc2V0RGF0YSh0aGlzLkVkaXRvci5QYXN0ZS5NSU1FX1RZUEUsIEpTT04uc3RyaW5naWZ5KG4pKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBzZWxlY3QgQmxvY2tcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXI/fSBpbmRleCAtIEJsb2NrIGluZGV4IGFjY29yZGluZyB0byB0aGUgQmxvY2tNYW5hZ2VyJ3MgaW5kZXhlc1xuICAgKi9cbiAgc2VsZWN0QmxvY2tCeUluZGV4KGUpIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogdCB9ID0gdGhpcy5FZGl0b3I7XG4gICAgdC5jbGVhckZvY3VzZWQoKTtcbiAgICBsZXQgbztcbiAgICBpc05hTihlKSA/IG8gPSB0LmN1cnJlbnRCbG9jayA6IG8gPSB0LmdldEJsb2NrQnlJbmRleChlKSwgdGhpcy5zZWxlY3Rpb24uc2F2ZSgpLCBtLmdldCgpLnJlbW92ZUFsbFJhbmdlcygpLCBvLnNlbGVjdGVkID0gITAsIHRoaXMuY2xlYXJDYWNoZSgpLCB0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyLmNsb3NlKCk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFyIGFueUJsb2NrU2VsZWN0ZWQgY2FjaGVcbiAgICovXG4gIGNsZWFyQ2FjaGUoKSB7XG4gICAgdGhpcy5hbnlCbG9ja1NlbGVjdGVkQ2FjaGUgPSBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBNb2R1bGUgZGVzdHJ1Y3Rpb25cbiAgICogRGUtcmVnaXN0ZXJzIFNob3J0Y3V0IENNRCtBXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIGxlLnJlbW92ZSh0aGlzLkVkaXRvci5VSS5ub2Rlcy5yZWRhY3RvciwgXCJDTUQrQVwiKTtcbiAgfVxuICAvKipcbiAgICogRmlyc3QgQ01EK0Egc2VsZWN0cyBhbGwgaW5wdXQgY29udGVudCBieSBuYXRpdmUgYmVoYXZpb3VyLFxuICAgKiBuZXh0IENNRCtBIGtleXByZXNzIHNlbGVjdHMgYWxsIGJsb2Nrc1xuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0ga2V5Ym9hcmQgZXZlbnRcbiAgICovXG4gIGhhbmRsZUNvbW1hbmRBKGUpIHtcbiAgICBpZiAodGhpcy5FZGl0b3IuUmVjdGFuZ2xlU2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKCksIGQuaXNOYXRpdmVJbnB1dChlLnRhcmdldCkgJiYgIXRoaXMucmVhZHlUb0Jsb2NrU2VsZWN0aW9uKSB7XG4gICAgICB0aGlzLnJlYWR5VG9CbG9ja1NlbGVjdGlvbiA9ICEwO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBvID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmdldEJsb2NrKGUudGFyZ2V0KS5pbnB1dHM7XG4gICAgaWYgKG8ubGVuZ3RoID4gMSAmJiAhdGhpcy5yZWFkeVRvQmxvY2tTZWxlY3Rpb24pIHtcbiAgICAgIHRoaXMucmVhZHlUb0Jsb2NrU2VsZWN0aW9uID0gITA7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChvLmxlbmd0aCA9PT0gMSAmJiAhdGhpcy5uZWVkVG9TZWxlY3RBbGwpIHtcbiAgICAgIHRoaXMubmVlZFRvU2VsZWN0QWxsID0gITA7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMubmVlZFRvU2VsZWN0QWxsID8gKGUucHJldmVudERlZmF1bHQoKSwgdGhpcy5zZWxlY3RBbGxCbG9ja3MoKSwgdGhpcy5uZWVkVG9TZWxlY3RBbGwgPSAhMSwgdGhpcy5yZWFkeVRvQmxvY2tTZWxlY3Rpb24gPSAhMSwgdGhpcy5FZGl0b3IuQ29udmVyc2lvblRvb2xiYXIuY2xvc2UoKSkgOiB0aGlzLnJlYWR5VG9CbG9ja1NlbGVjdGlvbiAmJiAoZS5wcmV2ZW50RGVmYXVsdCgpLCB0aGlzLnNlbGVjdEJsb2NrQnlJbmRleCgpLCB0aGlzLm5lZWRUb1NlbGVjdEFsbCA9ICEwKTtcbiAgfVxuICAvKipcbiAgICogU2VsZWN0IEFsbCBCbG9ja3NcbiAgICogRWFjaCBCbG9jayBoYXMgc2VsZWN0ZWQgc2V0dGVyIHRoYXQgbWFrZXMgQmxvY2sgY29weWFibGVcbiAgICovXG4gIHNlbGVjdEFsbEJsb2NrcygpIHtcbiAgICB0aGlzLnNlbGVjdGlvbi5zYXZlKCksIG0uZ2V0KCkucmVtb3ZlQWxsUmFuZ2VzKCksIHRoaXMuYWxsQmxvY2tzU2VsZWN0ZWQgPSAhMCwgdGhpcy5FZGl0b3IuSW5saW5lVG9vbGJhci5jbG9zZSgpO1xuICB9XG59XG5jbGFzcyB2ZSBleHRlbmRzIEMge1xuICAvKipcbiAgICogQWxsb3dlZCBjYXJldCBwb3NpdGlvbnMgaW4gaW5wdXRcbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAcmV0dXJucyB7e1NUQVJUOiBzdHJpbmcsIEVORDogc3RyaW5nLCBERUZBVUxUOiBzdHJpbmd9fVxuICAgKi9cbiAgZ2V0IHBvc2l0aW9ucygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgU1RBUlQ6IFwic3RhcnRcIixcbiAgICAgIEVORDogXCJlbmRcIixcbiAgICAgIERFRkFVTFQ6IFwiZGVmYXVsdFwiXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogRWxlbWVudHMgc3R5bGVzIHRoYXQgY2FuIGJlIHVzZWZ1bCBmb3IgQ2FyZXQgTW9kdWxlXG4gICAqL1xuICBzdGF0aWMgZ2V0IENTUygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2hhZG93Q2FyZXQ6IFwiY2R4LXNoYWRvdy1jYXJldFwiXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogR2V0J3MgZGVlcGVzdCBmaXJzdCBub2RlIGFuZCBjaGVja3MgaWYgb2Zmc2V0IGlzIHplcm9cbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBnZXQgaXNBdFN0YXJ0KCkge1xuICAgIGNvbnN0IGUgPSBtLmdldCgpLCB0ID0gZC5nZXREZWVwZXN0Tm9kZSh0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrLmN1cnJlbnRJbnB1dCk7XG4gICAgbGV0IG8gPSBlLmZvY3VzTm9kZTtcbiAgICBpZiAoZC5pc05hdGl2ZUlucHV0KHQpKVxuICAgICAgcmV0dXJuIHQuc2VsZWN0aW9uRW5kID09PSAwO1xuICAgIGlmICghZS5hbmNob3JOb2RlKVxuICAgICAgcmV0dXJuICExO1xuICAgIGxldCBpID0gby50ZXh0Q29udGVudC5zZWFyY2goL1xcUy8pO1xuICAgIGkgPT09IC0xICYmIChpID0gMCk7XG4gICAgbGV0IG4gPSBlLmZvY3VzT2Zmc2V0O1xuICAgIHJldHVybiBvLm5vZGVUeXBlICE9PSBOb2RlLlRFWFRfTk9ERSAmJiBvLmNoaWxkTm9kZXMubGVuZ3RoICYmIChvLmNoaWxkTm9kZXNbbl0gPyAobyA9IG8uY2hpbGROb2Rlc1tuXSwgbiA9IDApIDogKG8gPSBvLmNoaWxkTm9kZXNbbiAtIDFdLCBuID0gby50ZXh0Q29udGVudC5sZW5ndGgpKSwgKGQuaXNMaW5lQnJlYWtUYWcodCkgfHwgZC5pc0VtcHR5KHQpKSAmJiB0aGlzLmdldEhpZ2hlckxldmVsU2libGluZ3MobywgXCJsZWZ0XCIpLmV2ZXJ5KChsKSA9PiB7XG4gICAgICBjb25zdCBjID0gZC5pc0xpbmVCcmVha1RhZyhsKSwgdSA9IGwuY2hpbGRyZW4ubGVuZ3RoID09PSAxICYmIGQuaXNMaW5lQnJlYWtUYWcobC5jaGlsZHJlblswXSksIGggPSBjIHx8IHU7XG4gICAgICByZXR1cm4gZC5pc0VtcHR5KGwpICYmICFoO1xuICAgIH0pICYmIG4gPT09IGkgPyAhMCA6IHQgPT09IG51bGwgfHwgbyA9PT0gdCAmJiBuIDw9IGk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCdzIGRlZXBlc3QgbGFzdCBub2RlIGFuZCBjaGVja3MgaWYgb2Zmc2V0IGlzIGxhc3Qgbm9kZSB0ZXh0IGxlbmd0aFxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBpc0F0RW5kKCkge1xuICAgIGNvbnN0IGUgPSBtLmdldCgpO1xuICAgIGxldCB0ID0gZS5mb2N1c05vZGU7XG4gICAgY29uc3QgbyA9IGQuZ2V0RGVlcGVzdE5vZGUodGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9jay5jdXJyZW50SW5wdXQsICEwKTtcbiAgICBpZiAoZC5pc05hdGl2ZUlucHV0KG8pKVxuICAgICAgcmV0dXJuIG8uc2VsZWN0aW9uRW5kID09PSBvLnZhbHVlLmxlbmd0aDtcbiAgICBpZiAoIWUuZm9jdXNOb2RlKVxuICAgICAgcmV0dXJuICExO1xuICAgIGxldCBpID0gZS5mb2N1c09mZnNldDtcbiAgICBpZiAodC5ub2RlVHlwZSAhPT0gTm9kZS5URVhUX05PREUgJiYgdC5jaGlsZE5vZGVzLmxlbmd0aCAmJiAodC5jaGlsZE5vZGVzW2kgLSAxXSA/ICh0ID0gdC5jaGlsZE5vZGVzW2kgLSAxXSwgaSA9IHQudGV4dENvbnRlbnQubGVuZ3RoKSA6ICh0ID0gdC5jaGlsZE5vZGVzWzBdLCBpID0gMCkpLCBkLmlzTGluZUJyZWFrVGFnKG8pIHx8IGQuaXNFbXB0eShvKSkge1xuICAgICAgY29uc3QgciA9IHRoaXMuZ2V0SGlnaGVyTGV2ZWxTaWJsaW5ncyh0LCBcInJpZ2h0XCIpO1xuICAgICAgaWYgKHIuZXZlcnkoKGwsIGMpID0+IGMgPT09IHIubGVuZ3RoIC0gMSAmJiBkLmlzTGluZUJyZWFrVGFnKGwpIHx8IGQuaXNFbXB0eShsKSAmJiAhZC5pc0xpbmVCcmVha1RhZyhsKSkgJiYgaSA9PT0gdC50ZXh0Q29udGVudC5sZW5ndGgpXG4gICAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgY29uc3QgbiA9IG8udGV4dENvbnRlbnQucmVwbGFjZSgvXFxzKyQvLCBcIlwiKTtcbiAgICByZXR1cm4gdCA9PT0gbyAmJiBpID49IG4ubGVuZ3RoO1xuICB9XG4gIC8qKlxuICAgKiBNZXRob2QgZ2V0cyBCbG9jayBpbnN0YW5jZSBhbmQgcHV0cyBjYXJldCB0byB0aGUgdGV4dCBub2RlIHdpdGggb2Zmc2V0XG4gICAqIFRoZXJlIHR3byB3YXlzIHRoYXQgbWV0aG9kIGFwcGxpZXMgY2FyZXQgcG9zaXRpb246XG4gICAqICAgLSBmaXJzdCBmb3VuZCB0ZXh0IG5vZGU6IHNldHMgYXQgdGhlIGJlZ2lubmluZywgYnV0IHlvdSBjYW4gcGFzcyBhbiBvZmZzZXRcbiAgICogICAtIGxhc3QgZm91bmQgdGV4dCBub2RlOiBzZXRzIGF0IHRoZSBlbmQgb2YgdGhlIG5vZGUuIEFsc28sIHlvdSBjYW4gY3VzdG9taXplIHRoZSBiZWhhdmlvdXJcbiAgICpcbiAgICogQHBhcmFtIHtCbG9ja30gYmxvY2sgLSBCbG9jayBjbGFzc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gcG9zaXRpb24gLSBwb3NpdGlvbiB3aGVyZSB0byBzZXQgY2FyZXQuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIGRlZmF1bHQgLSBsZWF2ZSBkZWZhdWx0IGJlaGF2aW91ciBhbmQgYXBwbHkgb2Zmc2V0IGlmIGl0J3MgcGFzc2VkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBjYXJldCBvZmZzZXQgcmVnYXJkaW5nIHRvIHRoZSB0ZXh0IG5vZGVcbiAgICovXG4gIHNldFRvQmxvY2soZSwgdCA9IHRoaXMucG9zaXRpb25zLkRFRkFVTFQsIG8gPSAwKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IGkgfSA9IHRoaXMuRWRpdG9yO1xuICAgIGxldCBuO1xuICAgIHN3aXRjaCAodCkge1xuICAgICAgY2FzZSB0aGlzLnBvc2l0aW9ucy5TVEFSVDpcbiAgICAgICAgbiA9IGUuZmlyc3RJbnB1dDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIHRoaXMucG9zaXRpb25zLkVORDpcbiAgICAgICAgbiA9IGUubGFzdElucHV0O1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIG4gPSBlLmN1cnJlbnRJbnB1dDtcbiAgICB9XG4gICAgaWYgKCFuKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHIgPSBkLmdldERlZXBlc3ROb2RlKG4sIHQgPT09IHRoaXMucG9zaXRpb25zLkVORCksIGEgPSBkLmdldENvbnRlbnRMZW5ndGgocik7XG4gICAgc3dpdGNoICghMCkge1xuICAgICAgY2FzZSB0ID09PSB0aGlzLnBvc2l0aW9ucy5TVEFSVDpcbiAgICAgICAgbyA9IDA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSB0ID09PSB0aGlzLnBvc2l0aW9ucy5FTkQ6XG4gICAgICBjYXNlIG8gPiBhOlxuICAgICAgICBvID0gYTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJlKCgpID0+IHtcbiAgICAgIHRoaXMuc2V0KHIsIG8pO1xuICAgIH0sIDIwKSgpLCBpLnNldEN1cnJlbnRCbG9ja0J5Q2hpbGROb2RlKGUuaG9sZGVyKSwgaS5jdXJyZW50QmxvY2suY3VycmVudElucHV0ID0gbjtcbiAgfVxuICAvKipcbiAgICogU2V0IGNhcmV0IHRvIHRoZSBjdXJyZW50IGlucHV0IG9mIGN1cnJlbnQgQmxvY2suXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGlucHV0IC0gaW5wdXQgd2hlcmUgY2FyZXQgc2hvdWxkIGJlIHNldFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcG9zaXRpb24gLSBwb3NpdGlvbiBvZiB0aGUgY2FyZXQuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIGRlZmF1bHQgLSBsZWF2ZSBkZWZhdWx0IGJlaGF2aW91ciBhbmQgYXBwbHkgb2Zmc2V0IGlmIGl0J3MgcGFzc2VkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBjYXJldCBvZmZzZXQgcmVnYXJkaW5nIHRvIHRoZSB0ZXh0IG5vZGVcbiAgICovXG4gIHNldFRvSW5wdXQoZSwgdCA9IHRoaXMucG9zaXRpb25zLkRFRkFVTFQsIG8gPSAwKSB7XG4gICAgY29uc3QgeyBjdXJyZW50QmxvY2s6IGkgfSA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlciwgbiA9IGQuZ2V0RGVlcGVzdE5vZGUoZSk7XG4gICAgc3dpdGNoICh0KSB7XG4gICAgICBjYXNlIHRoaXMucG9zaXRpb25zLlNUQVJUOlxuICAgICAgICB0aGlzLnNldChuLCAwKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIHRoaXMucG9zaXRpb25zLkVORDpcbiAgICAgICAgdGhpcy5zZXQobiwgZC5nZXRDb250ZW50TGVuZ3RoKG4pKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBvICYmIHRoaXMuc2V0KG4sIG8pO1xuICAgIH1cbiAgICBpLmN1cnJlbnRJbnB1dCA9IGU7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgRG9jdW1lbnQgUmFuZ2UgYW5kIHNldHMgY2FyZXQgdG8gdGhlIGVsZW1lbnQgd2l0aCBvZmZzZXRcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIHRhcmdldCBub2RlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gb2Zmc2V0XG4gICAqL1xuICBzZXQoZSwgdCA9IDApIHtcbiAgICBjb25zdCB7IHRvcDogbywgYm90dG9tOiBpIH0gPSBtLnNldEN1cnNvcihlLCB0KSwgeyBpbm5lckhlaWdodDogbiB9ID0gd2luZG93O1xuICAgIG8gPCAwICYmIHdpbmRvdy5zY3JvbGxCeSgwLCBvKSwgaSA+IG4gJiYgd2luZG93LnNjcm9sbEJ5KDAsIGkgLSBuKTtcbiAgfVxuICAvKipcbiAgICogU2V0IENhcmV0IHRvIHRoZSBsYXN0IEJsb2NrXG4gICAqIElmIGxhc3QgYmxvY2sgaXMgbm90IGVtcHR5LCBhcHBlbmQgYW5vdGhlciBlbXB0eSBibG9ja1xuICAgKi9cbiAgc2V0VG9UaGVMYXN0QmxvY2soKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5sYXN0QmxvY2s7XG4gICAgaWYgKGUpXG4gICAgICBpZiAoZS50b29sLmlzRGVmYXVsdCAmJiBlLmlzRW1wdHkpXG4gICAgICAgIHRoaXMuc2V0VG9CbG9jayhlKTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmluc2VydEF0RW5kKCk7XG4gICAgICAgIHRoaXMuc2V0VG9CbG9jayh0KTtcbiAgICAgIH1cbiAgfVxuICAvKipcbiAgICogRXh0cmFjdCBjb250ZW50IGZyYWdtZW50IG9mIGN1cnJlbnQgQmxvY2sgZnJvbSBDYXJldCBwb3NpdGlvbiB0byB0aGUgZW5kIG9mIHRoZSBCbG9ja1xuICAgKi9cbiAgZXh0cmFjdEZyYWdtZW50RnJvbUNhcmV0UG9zaXRpb24oKSB7XG4gICAgY29uc3QgZSA9IG0uZ2V0KCk7XG4gICAgaWYgKGUucmFuZ2VDb3VudCkge1xuICAgICAgY29uc3QgdCA9IGUuZ2V0UmFuZ2VBdCgwKSwgbyA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2suY3VycmVudElucHV0O1xuICAgICAgaWYgKHQuZGVsZXRlQ29udGVudHMoKSwgbylcbiAgICAgICAgaWYgKGQuaXNOYXRpdmVJbnB1dChvKSkge1xuICAgICAgICAgIGNvbnN0IGkgPSBvLCBuID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLCByID0gaS52YWx1ZS5zdWJzdHJpbmcoMCwgaS5zZWxlY3Rpb25TdGFydCksIGEgPSBpLnZhbHVlLnN1YnN0cmluZyhpLnNlbGVjdGlvblN0YXJ0KTtcbiAgICAgICAgICByZXR1cm4gbi50ZXh0Q29udGVudCA9IGEsIGkudmFsdWUgPSByLCBuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGkgPSB0LmNsb25lUmFuZ2UoKTtcbiAgICAgICAgICByZXR1cm4gaS5zZWxlY3ROb2RlQ29udGVudHMobyksIGkuc2V0U3RhcnQodC5lbmRDb250YWluZXIsIHQuZW5kT2Zmc2V0KSwgaS5leHRyYWN0Q29udGVudHMoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogU2V0J3MgY2FyZXQgdG8gdGhlIG5leHQgQmxvY2sgb3IgVG9vbGBzIGlucHV0XG4gICAqIEJlZm9yZSBtb3ZpbmcgY2FyZXQsIHdlIHNob3VsZCBjaGVjayBpZiBjYXJldCBwb3NpdGlvbiBpcyBhdCB0aGUgZW5kIG9mIFBsdWdpbnMgbm9kZVxuICAgKiBVc2luZyB7QGxpbmsgRG9tI2dldERlZXBlc3ROb2RlfSB0byBnZXQgYSBsYXN0IG5vZGUgYW5kIG1hdGNoIHdpdGggY3VycmVudCBzZWxlY3Rpb25cbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBuYXZpZ2F0ZU5leHQoKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IGUgfSA9IHRoaXMuRWRpdG9yLCB7IGN1cnJlbnRCbG9jazogdCwgbmV4dENvbnRlbnRmdWxCbG9jazogbyB9ID0gZSwgeyBuZXh0SW5wdXQ6IGkgfSA9IHQsIG4gPSB0aGlzLmlzQXRFbmQ7XG4gICAgbGV0IHIgPSBvO1xuICAgIGlmICghciAmJiAhaSkge1xuICAgICAgaWYgKHQudG9vbC5pc0RlZmF1bHQgfHwgIW4pXG4gICAgICAgIHJldHVybiAhMTtcbiAgICAgIHIgPSBlLmluc2VydEF0RW5kKCk7XG4gICAgfVxuICAgIHJldHVybiBuID8gKGkgPyB0aGlzLnNldFRvSW5wdXQoaSwgdGhpcy5wb3NpdGlvbnMuU1RBUlQpIDogdGhpcy5zZXRUb0Jsb2NrKHIsIHRoaXMucG9zaXRpb25zLlNUQVJUKSwgITApIDogITE7XG4gIH1cbiAgLyoqXG4gICAqIFNldCdzIGNhcmV0IHRvIHRoZSBwcmV2aW91cyBUb29sYHMgaW5wdXQgb3IgQmxvY2tcbiAgICogQmVmb3JlIG1vdmluZyBjYXJldCwgd2Ugc2hvdWxkIGNoZWNrIGlmIGNhcmV0IHBvc2l0aW9uIGlzIHN0YXJ0IG9mIHRoZSBQbHVnaW5zIG5vZGVcbiAgICogVXNpbmcge0BsaW5rIERvbSNnZXREZWVwZXN0Tm9kZX0gdG8gZ2V0IGEgbGFzdCBub2RlIGFuZCBtYXRjaCB3aXRoIGN1cnJlbnQgc2VsZWN0aW9uXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgbmF2aWdhdGVQcmV2aW91cygpIHtcbiAgICBjb25zdCB7IGN1cnJlbnRCbG9jazogZSwgcHJldmlvdXNDb250ZW50ZnVsQmxvY2s6IHQgfSA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlcjtcbiAgICBpZiAoIWUpXG4gICAgICByZXR1cm4gITE7XG4gICAgY29uc3QgeyBwcmV2aW91c0lucHV0OiBvIH0gPSBlO1xuICAgIHJldHVybiAhdCAmJiAhbyA/ICExIDogdGhpcy5pc0F0U3RhcnQgPyAobyA/IHRoaXMuc2V0VG9JbnB1dChvLCB0aGlzLnBvc2l0aW9ucy5FTkQpIDogdGhpcy5zZXRUb0Jsb2NrKHQsIHRoaXMucG9zaXRpb25zLkVORCksICEwKSA6ICExO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnRzIHNoYWRvdyBlbGVtZW50IGFmdGVyIHBhc3NlZCBlbGVtZW50IHdoZXJlIGNhcmV0IGNhbiBiZSBwbGFjZWRcbiAgICpcbiAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gZWxlbWVudCBhZnRlciB3aGljaCBzaGFkb3cgY2FyZXQgc2hvdWxkIGJlIGluc2VydGVkXG4gICAqL1xuICBjcmVhdGVTaGFkb3coZSkge1xuICAgIGNvbnN0IHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICB0LmNsYXNzTGlzdC5hZGQodmUuQ1NTLnNoYWRvd0NhcmV0KSwgZS5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJiZWZvcmVlbmRcIiwgdCk7XG4gIH1cbiAgLyoqXG4gICAqIFJlc3RvcmVzIGNhcmV0IHBvc2l0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBlbGVtZW50IHdoZXJlIGNhcmV0IHNob3VsZCBiZSByZXN0b3JlZFxuICAgKi9cbiAgcmVzdG9yZUNhcmV0KGUpIHtcbiAgICBjb25zdCB0ID0gZS5xdWVyeVNlbGVjdG9yKGAuJHt2ZS5DU1Muc2hhZG93Q2FyZXR9YCk7XG4gICAgaWYgKCF0KVxuICAgICAgcmV0dXJuO1xuICAgIG5ldyBtKCkuZXhwYW5kVG9UYWcodCk7XG4gICAgY29uc3QgaSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgaS5zZWxlY3ROb2RlKHQpLCBpLmV4dHJhY3RDb250ZW50cygpO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnRzIHBhc3NlZCBjb250ZW50IGF0IGNhcmV0IHBvc2l0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50IC0gY29udGVudCB0byBpbnNlcnRcbiAgICovXG4gIGluc2VydENvbnRlbnRBdENhcmV0UG9zaXRpb24oZSkge1xuICAgIGNvbnN0IHQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksIG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLCBpID0gbS5nZXQoKSwgbiA9IG0ucmFuZ2U7XG4gICAgby5pbm5lckhUTUwgPSBlLCBBcnJheS5mcm9tKG8uY2hpbGROb2RlcykuZm9yRWFjaCgoYykgPT4gdC5hcHBlbmRDaGlsZChjKSksIHQuY2hpbGROb2Rlcy5sZW5ndGggPT09IDAgJiYgdC5hcHBlbmRDaGlsZChuZXcgVGV4dCgpKTtcbiAgICBjb25zdCByID0gdC5sYXN0Q2hpbGQ7XG4gICAgbi5kZWxldGVDb250ZW50cygpLCBuLmluc2VydE5vZGUodCk7XG4gICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCksIGwgPSByLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSA/IHIgOiByLmZpcnN0Q2hpbGQ7XG4gICAgbCAhPT0gbnVsbCAmJiBsLnRleHRDb250ZW50ICE9PSBudWxsICYmIGEuc2V0U3RhcnQobCwgbC50ZXh0Q29udGVudC5sZW5ndGgpLCBpLnJlbW92ZUFsbFJhbmdlcygpLCBpLmFkZFJhbmdlKGEpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYWxsIGZpcnN0LWxldmVsIChmaXJzdCBjaGlsZCBvZiBbY29udGVudGVkaXRhYmxlXSkgc2libGluZ3MgZnJvbSBwYXNzZWQgbm9kZVxuICAgKiBUaGVuIHlvdSBjYW4gY2hlY2sgaXQgZm9yIGVtcHRpbmVzc1xuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiA8ZGl2IGNvbnRlbnRlZGl0YWJsZT5cbiAgICogPHA+PC9wPiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAqIDxwPjwvcD4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBsZWZ0IGZpcnN0LWxldmVsIHNpYmxpbmdzXG4gICAqIDxwPjwvcD4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgKiA8YmxvY2txdW90ZT48YT48Yj5hZGFkZGFkPC9iPjxhPjxibG9ja3F1b3RlPiAgICAgICA8LS0gcGFzc2VkIG5vZGUgZm9yIGV4YW1wbGUgPGI+XG4gICAqIDxwPjwvcD4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgKiA8cD48L3A+ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgcmlnaHQgZmlyc3QtbGV2ZWwgc2libGluZ3NcbiAgICogPHA+PC9wPiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAqIDwvZGl2PlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBmcm9tIC0gZWxlbWVudCBmcm9tIHdoaWNoIHNpYmxpbmdzIHNob3VsZCBiZSBzZWFyY2hlZFxuICAgKiBAcGFyYW0geydsZWZ0JyB8ICdyaWdodCd9IGRpcmVjdGlvbiAtIGRpcmVjdGlvbiBvZiBzZWFyY2hcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50W119XG4gICAqL1xuICBnZXRIaWdoZXJMZXZlbFNpYmxpbmdzKGUsIHQpIHtcbiAgICBsZXQgbyA9IGU7XG4gICAgY29uc3QgaSA9IFtdO1xuICAgIGZvciAoOyBvLnBhcmVudE5vZGUgJiYgby5wYXJlbnROb2RlLmNvbnRlbnRFZGl0YWJsZSAhPT0gXCJ0cnVlXCI7IClcbiAgICAgIG8gPSBvLnBhcmVudE5vZGU7XG4gICAgY29uc3QgbiA9IHQgPT09IFwibGVmdFwiID8gXCJwcmV2aW91c1NpYmxpbmdcIiA6IFwibmV4dFNpYmxpbmdcIjtcbiAgICBmb3IgKDsgb1tuXTsgKVxuICAgICAgbyA9IG9bbl0sIGkucHVzaChvKTtcbiAgICByZXR1cm4gaTtcbiAgfVxufVxuY2xhc3MgUW8gZXh0ZW5kcyBDIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKSwgdGhpcy5vbk1vdXNlVXAgPSAoKSA9PiB7XG4gICAgICB0aGlzLmxpc3RlbmVycy5vZmYoZG9jdW1lbnQsIFwibW91c2VvdmVyXCIsIHRoaXMub25Nb3VzZU92ZXIpLCB0aGlzLmxpc3RlbmVycy5vZmYoZG9jdW1lbnQsIFwibW91c2V1cFwiLCB0aGlzLm9uTW91c2VVcCk7XG4gICAgfSwgdGhpcy5vbk1vdXNlT3ZlciA9IChlKSA9PiB7XG4gICAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogdCwgQmxvY2tTZWxlY3Rpb246IG8gfSA9IHRoaXMuRWRpdG9yLCBpID0gdC5nZXRCbG9ja0J5Q2hpbGROb2RlKGUucmVsYXRlZFRhcmdldCkgfHwgdGhpcy5sYXN0U2VsZWN0ZWRCbG9jaywgbiA9IHQuZ2V0QmxvY2tCeUNoaWxkTm9kZShlLnRhcmdldCk7XG4gICAgICBpZiAoISghaSB8fCAhbikgJiYgbiAhPT0gaSkge1xuICAgICAgICBpZiAoaSA9PT0gdGhpcy5maXJzdFNlbGVjdGVkQmxvY2spIHtcbiAgICAgICAgICBtLmdldCgpLnJlbW92ZUFsbFJhbmdlcygpLCBpLnNlbGVjdGVkID0gITAsIG4uc2VsZWN0ZWQgPSAhMCwgby5jbGVhckNhY2hlKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuID09PSB0aGlzLmZpcnN0U2VsZWN0ZWRCbG9jaykge1xuICAgICAgICAgIGkuc2VsZWN0ZWQgPSAhMSwgbi5zZWxlY3RlZCA9ICExLCBvLmNsZWFyQ2FjaGUoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5FZGl0b3IuSW5saW5lVG9vbGJhci5jbG9zZSgpLCB0aGlzLnRvZ2dsZUJsb2Nrc1NlbGVjdGVkU3RhdGUoaSwgbiksIHRoaXMubGFzdFNlbGVjdGVkQmxvY2sgPSBuO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIE1vZHVsZSBwcmVwYXJhdGlvblxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICovXG4gIGFzeW5jIHByZXBhcmUoKSB7XG4gICAgdGhpcy5saXN0ZW5lcnMub24oZG9jdW1lbnQsIFwibW91c2Vkb3duXCIsIChlKSA9PiB7XG4gICAgICB0aGlzLmVuYWJsZUNyb3NzQmxvY2tTZWxlY3Rpb24oZSk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdXAgbGlzdGVuZXJzXG4gICAqXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgLSBtb3VzZSBkb3duIGV2ZW50XG4gICAqL1xuICB3YXRjaFNlbGVjdGlvbihlKSB7XG4gICAgaWYgKGUuYnV0dG9uICE9PSBfdC5MRUZUKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiB0IH0gPSB0aGlzLkVkaXRvcjtcbiAgICB0aGlzLmZpcnN0U2VsZWN0ZWRCbG9jayA9IHQuZ2V0QmxvY2soZS50YXJnZXQpLCB0aGlzLmxhc3RTZWxlY3RlZEJsb2NrID0gdGhpcy5maXJzdFNlbGVjdGVkQmxvY2ssIHRoaXMubGlzdGVuZXJzLm9uKGRvY3VtZW50LCBcIm1vdXNlb3ZlclwiLCB0aGlzLm9uTW91c2VPdmVyKSwgdGhpcy5saXN0ZW5lcnMub24oZG9jdW1lbnQsIFwibW91c2V1cFwiLCB0aGlzLm9uTW91c2VVcCk7XG4gIH1cbiAgLyoqXG4gICAqIHJldHVybiBib29sZWFuIGlzIGNyb3NzIGJsb2NrIHNlbGVjdGlvbiBzdGFydGVkXG4gICAqL1xuICBnZXQgaXNDcm9zc0Jsb2NrU2VsZWN0aW9uU3RhcnRlZCgpIHtcbiAgICByZXR1cm4gISF0aGlzLmZpcnN0U2VsZWN0ZWRCbG9jayAmJiAhIXRoaXMubGFzdFNlbGVjdGVkQmxvY2s7XG4gIH1cbiAgLyoqXG4gICAqIENoYW5nZSBzZWxlY3Rpb24gc3RhdGUgb2YgdGhlIG5leHQgQmxvY2tcbiAgICogVXNlZCBmb3IgQ0JTIHZpYSBTaGlmdCArIGFycm93IGtleXNcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBuZXh0IC0gaWYgdHJ1ZSwgdG9nZ2xlIG5leHQgYmxvY2suIFByZXZpb3VzIG90aGVyd2lzZVxuICAgKi9cbiAgdG9nZ2xlQmxvY2tTZWxlY3RlZFN0YXRlKGUgPSAhMCkge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiB0LCBCbG9ja1NlbGVjdGlvbjogbyB9ID0gdGhpcy5FZGl0b3I7XG4gICAgdGhpcy5sYXN0U2VsZWN0ZWRCbG9jayB8fCAodGhpcy5sYXN0U2VsZWN0ZWRCbG9jayA9IHRoaXMuZmlyc3RTZWxlY3RlZEJsb2NrID0gdC5jdXJyZW50QmxvY2spLCB0aGlzLmZpcnN0U2VsZWN0ZWRCbG9jayA9PT0gdGhpcy5sYXN0U2VsZWN0ZWRCbG9jayAmJiAodGhpcy5maXJzdFNlbGVjdGVkQmxvY2suc2VsZWN0ZWQgPSAhMCwgby5jbGVhckNhY2hlKCksIG0uZ2V0KCkucmVtb3ZlQWxsUmFuZ2VzKCkpO1xuICAgIGNvbnN0IGkgPSB0LmJsb2Nrcy5pbmRleE9mKHRoaXMubGFzdFNlbGVjdGVkQmxvY2spICsgKGUgPyAxIDogLTEpLCBuID0gdC5ibG9ja3NbaV07XG4gICAgbiAmJiAodGhpcy5sYXN0U2VsZWN0ZWRCbG9jay5zZWxlY3RlZCAhPT0gbi5zZWxlY3RlZCA/IChuLnNlbGVjdGVkID0gITAsIG8uY2xlYXJDYWNoZSgpKSA6ICh0aGlzLmxhc3RTZWxlY3RlZEJsb2NrLnNlbGVjdGVkID0gITEsIG8uY2xlYXJDYWNoZSgpKSwgdGhpcy5sYXN0U2VsZWN0ZWRCbG9jayA9IG4sIHRoaXMuRWRpdG9yLklubGluZVRvb2xiYXIuY2xvc2UoKSwgbi5ob2xkZXIuc2Nyb2xsSW50b1ZpZXcoe1xuICAgICAgYmxvY2s6IFwibmVhcmVzdFwiXG4gICAgfSkpO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhciBzYXZlZCBzdGF0ZVxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50fSByZWFzb24gLSBldmVudCBjYXVzZWQgY2xlYXIgb2Ygc2VsZWN0aW9uXG4gICAqL1xuICBjbGVhcihlKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IHQsIEJsb2NrU2VsZWN0aW9uOiBvLCBDYXJldDogaSB9ID0gdGhpcy5FZGl0b3IsIG4gPSB0LmJsb2Nrcy5pbmRleE9mKHRoaXMuZmlyc3RTZWxlY3RlZEJsb2NrKSwgciA9IHQuYmxvY2tzLmluZGV4T2YodGhpcy5sYXN0U2VsZWN0ZWRCbG9jayk7XG4gICAgaWYgKG8uYW55QmxvY2tTZWxlY3RlZCAmJiBuID4gLTEgJiYgciA+IC0xKVxuICAgICAgaWYgKGUgJiYgZSBpbnN0YW5jZW9mIEtleWJvYXJkRXZlbnQpXG4gICAgICAgIHN3aXRjaCAoZS5rZXlDb2RlKSB7XG4gICAgICAgICAgY2FzZSBCLkRPV046XG4gICAgICAgICAgY2FzZSBCLlJJR0hUOlxuICAgICAgICAgICAgaS5zZXRUb0Jsb2NrKHQuYmxvY2tzW01hdGgubWF4KG4sIHIpXSwgaS5wb3NpdGlvbnMuRU5EKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQi5VUDpcbiAgICAgICAgICBjYXNlIEIuTEVGVDpcbiAgICAgICAgICAgIGkuc2V0VG9CbG9jayh0LmJsb2Nrc1tNYXRoLm1pbihuLCByKV0sIGkucG9zaXRpb25zLlNUQVJUKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBpLnNldFRvQmxvY2sodC5ibG9ja3NbTWF0aC5tYXgobiwgcildLCBpLnBvc2l0aW9ucy5FTkQpO1xuICAgICAgICB9XG4gICAgICBlbHNlXG4gICAgICAgIGkuc2V0VG9CbG9jayh0LmJsb2Nrc1tNYXRoLm1heChuLCByKV0sIGkucG9zaXRpb25zLkVORCk7XG4gICAgdGhpcy5maXJzdFNlbGVjdGVkQmxvY2sgPSB0aGlzLmxhc3RTZWxlY3RlZEJsb2NrID0gbnVsbDtcbiAgfVxuICAvKipcbiAgICogRW5hYmxlcyBDcm9zcyBCbG9jayBTZWxlY3Rpb25cbiAgICpcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudCAtIG1vdXNlIGRvd24gZXZlbnRcbiAgICovXG4gIGVuYWJsZUNyb3NzQmxvY2tTZWxlY3Rpb24oZSkge1xuICAgIGNvbnN0IHsgVUk6IHQgfSA9IHRoaXMuRWRpdG9yO1xuICAgIG0uaXNDb2xsYXBzZWQgfHwgdGhpcy5FZGl0b3IuQmxvY2tTZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oZSksIHQubm9kZXMucmVkYWN0b3IuY29udGFpbnMoZS50YXJnZXQpID8gdGhpcy53YXRjaFNlbGVjdGlvbihlKSA6IHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKGUpO1xuICB9XG4gIC8qKlxuICAgKiBDaGFuZ2UgYmxvY2tzIHNlbGVjdGlvbiBzdGF0ZSBiZXR3ZWVuIHBhc3NlZCB0d28gYmxvY2tzLlxuICAgKlxuICAgKiBAcGFyYW0ge0Jsb2NrfSBmaXJzdEJsb2NrIC0gZmlyc3QgYmxvY2sgaW4gcmFuZ2VcbiAgICogQHBhcmFtIHtCbG9ja30gbGFzdEJsb2NrIC0gbGFzdCBibG9jayBpbiByYW5nZVxuICAgKi9cbiAgdG9nZ2xlQmxvY2tzU2VsZWN0ZWRTdGF0ZShlLCB0KSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IG8sIEJsb2NrU2VsZWN0aW9uOiBpIH0gPSB0aGlzLkVkaXRvciwgbiA9IG8uYmxvY2tzLmluZGV4T2YoZSksIHIgPSBvLmJsb2Nrcy5pbmRleE9mKHQpLCBhID0gZS5zZWxlY3RlZCAhPT0gdC5zZWxlY3RlZDtcbiAgICBmb3IgKGxldCBsID0gTWF0aC5taW4obiwgcik7IGwgPD0gTWF0aC5tYXgobiwgcik7IGwrKykge1xuICAgICAgY29uc3QgYyA9IG8uYmxvY2tzW2xdO1xuICAgICAgYyAhPT0gdGhpcy5maXJzdFNlbGVjdGVkQmxvY2sgJiYgYyAhPT0gKGEgPyBlIDogdCkgJiYgKG8uYmxvY2tzW2xdLnNlbGVjdGVkID0gIW8uYmxvY2tzW2xdLnNlbGVjdGVkLCBpLmNsZWFyQ2FjaGUoKSk7XG4gICAgfVxuICB9XG59XG5jbGFzcyBlaSBleHRlbmRzIEMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLmlzU3RhcnRlZEF0RWRpdG9yID0gITE7XG4gIH1cbiAgLyoqXG4gICAqIFRvZ2dsZSByZWFkLW9ubHkgc3RhdGVcbiAgICpcbiAgICogaWYgc3RhdGUgaXMgdHJ1ZTpcbiAgICogIC0gZGlzYWJsZSBhbGwgZHJhZy1uLWRyb3AgZXZlbnQgaGFuZGxlcnNcbiAgICpcbiAgICogaWYgc3RhdGUgaXMgZmFsc2U6XG4gICAqICAtIHJlc3RvcmUgZHJhZy1uLWRyb3AgZXZlbnQgaGFuZGxlcnNcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSByZWFkT25seUVuYWJsZWQgLSBcInJlYWQgb25seVwiIHN0YXRlXG4gICAqL1xuICB0b2dnbGVSZWFkT25seShlKSB7XG4gICAgZSA/IHRoaXMuZGlzYWJsZU1vZHVsZUJpbmRpbmdzKCkgOiB0aGlzLmVuYWJsZU1vZHVsZUJpbmRpbmdzKCk7XG4gIH1cbiAgLyoqXG4gICAqIEFkZCBkcmFnIGV2ZW50cyBsaXN0ZW5lcnMgdG8gZWRpdG9yIHpvbmVcbiAgICovXG4gIGVuYWJsZU1vZHVsZUJpbmRpbmdzKCkge1xuICAgIGNvbnN0IHsgVUk6IGUgfSA9IHRoaXMuRWRpdG9yO1xuICAgIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLm9uKGUubm9kZXMuaG9sZGVyLCBcImRyb3BcIiwgYXN5bmMgKHQpID0+IHtcbiAgICAgIGF3YWl0IHRoaXMucHJvY2Vzc0Ryb3AodCk7XG4gICAgfSwgITApLCB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5vbihlLm5vZGVzLmhvbGRlciwgXCJkcmFnc3RhcnRcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5wcm9jZXNzRHJhZ1N0YXJ0KCk7XG4gICAgfSksIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLm9uKGUubm9kZXMuaG9sZGVyLCBcImRyYWdvdmVyXCIsICh0KSA9PiB7XG4gICAgICB0aGlzLnByb2Nlc3NEcmFnT3Zlcih0KTtcbiAgICB9LCAhMCk7XG4gIH1cbiAgLyoqXG4gICAqIFVuYmluZCBkcmFnLW4tZHJvcCBldmVudCBoYW5kbGVyc1xuICAgKi9cbiAgZGlzYWJsZU1vZHVsZUJpbmRpbmdzKCkge1xuICAgIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLmNsZWFyQWxsKCk7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBkcm9wIGV2ZW50XG4gICAqXG4gICAqIEBwYXJhbSB7RHJhZ0V2ZW50fSBkcm9wRXZlbnQgLSBkcm9wIGV2ZW50XG4gICAqL1xuICBhc3luYyBwcm9jZXNzRHJvcChlKSB7XG4gICAgY29uc3Qge1xuICAgICAgQmxvY2tNYW5hZ2VyOiB0LFxuICAgICAgQ2FyZXQ6IG8sXG4gICAgICBQYXN0ZTogaVxuICAgIH0gPSB0aGlzLkVkaXRvcjtcbiAgICBlLnByZXZlbnREZWZhdWx0KCksIHQuYmxvY2tzLmZvckVhY2goKHIpID0+IHtcbiAgICAgIHIuZHJvcFRhcmdldCA9ICExO1xuICAgIH0pLCBtLmlzQXRFZGl0b3IgJiYgIW0uaXNDb2xsYXBzZWQgJiYgdGhpcy5pc1N0YXJ0ZWRBdEVkaXRvciAmJiBkb2N1bWVudC5leGVjQ29tbWFuZChcImRlbGV0ZVwiKSwgdGhpcy5pc1N0YXJ0ZWRBdEVkaXRvciA9ICExO1xuICAgIGNvbnN0IG4gPSB0LnNldEN1cnJlbnRCbG9ja0J5Q2hpbGROb2RlKGUudGFyZ2V0KTtcbiAgICBpZiAobilcbiAgICAgIHRoaXMuRWRpdG9yLkNhcmV0LnNldFRvQmxvY2sobiwgby5wb3NpdGlvbnMuRU5EKTtcbiAgICBlbHNlIHtcbiAgICAgIGNvbnN0IHIgPSB0LnNldEN1cnJlbnRCbG9ja0J5Q2hpbGROb2RlKHQubGFzdEJsb2NrLmhvbGRlcik7XG4gICAgICB0aGlzLkVkaXRvci5DYXJldC5zZXRUb0Jsb2NrKHIsIG8ucG9zaXRpb25zLkVORCk7XG4gICAgfVxuICAgIGF3YWl0IGkucHJvY2Vzc0RhdGFUcmFuc2ZlcihlLmRhdGFUcmFuc2ZlciwgITApO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgZHJhZyBzdGFydCBldmVudFxuICAgKi9cbiAgcHJvY2Vzc0RyYWdTdGFydCgpIHtcbiAgICBtLmlzQXRFZGl0b3IgJiYgIW0uaXNDb2xsYXBzZWQgJiYgKHRoaXMuaXNTdGFydGVkQXRFZGl0b3IgPSAhMCksIHRoaXMuRWRpdG9yLklubGluZVRvb2xiYXIuY2xvc2UoKTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtEcmFnRXZlbnR9IGRyYWdFdmVudCAtIGRyYWcgZXZlbnRcbiAgICovXG4gIHByb2Nlc3NEcmFnT3ZlcihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG59XG5jbGFzcyB0aSBleHRlbmRzIEMge1xuICAvKipcbiAgICogUHJlcGFyZSB0aGUgbW9kdWxlXG4gICAqXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gb3B0aW9ucyB1c2VkIGJ5IHRoZSBtb2RpZmljYXRpb24gb2JzZXJ2ZXIgbW9kdWxlXG4gICAqIEBwYXJhbSBvcHRpb25zLmNvbmZpZyAtIEVkaXRvciBjb25maWd1cmF0aW9uIG9iamVjdFxuICAgKiBAcGFyYW0gb3B0aW9ucy5ldmVudHNEaXNwYXRjaGVyIC0gY29tbW9uIEVkaXRvciBldmVudCBidXNcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgY29uZmlnOiBlLCBldmVudHNEaXNwYXRjaGVyOiB0IH0pIHtcbiAgICBzdXBlcih7XG4gICAgICBjb25maWc6IGUsXG4gICAgICBldmVudHNEaXNwYXRjaGVyOiB0XG4gICAgfSksIHRoaXMuZGlzYWJsZWQgPSAhMSwgdGhpcy5iYXRjaGluZ1RpbWVvdXQgPSBudWxsLCB0aGlzLmJhdGNoaW5nT25DaGFuZ2VRdWV1ZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksIHRoaXMuYmF0Y2hUaW1lID0gNDAwLCB0aGlzLm11dGF0aW9uT2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobykgPT4ge1xuICAgICAgdGhpcy5yZWRhY3RvckNoYW5nZWQobyk7XG4gICAgfSksIHRoaXMuZXZlbnRzRGlzcGF0Y2hlci5vbihjdCwgKG8pID0+IHtcbiAgICAgIHRoaXMucGFydGljdWxhckJsb2NrQ2hhbmdlZChvLmV2ZW50KTtcbiAgICB9KSwgdGhpcy5ldmVudHNEaXNwYXRjaGVyLm9uKGR0LCAoKSA9PiB7XG4gICAgICB0aGlzLmRpc2FibGUoKTtcbiAgICB9KSwgdGhpcy5ldmVudHNEaXNwYXRjaGVyLm9uKGh0LCAoKSA9PiB7XG4gICAgICB0aGlzLmVuYWJsZSgpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBFbmFibGVzIG9uQ2hhbmdlIGV2ZW50XG4gICAqL1xuICBlbmFibGUoKSB7XG4gICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyLm9ic2VydmUoXG4gICAgICB0aGlzLkVkaXRvci5VSS5ub2Rlcy5yZWRhY3RvcixcbiAgICAgIHtcbiAgICAgICAgY2hpbGRMaXN0OiAhMCxcbiAgICAgICAgc3VidHJlZTogITAsXG4gICAgICAgIGNoYXJhY3RlckRhdGE6ICEwLFxuICAgICAgICBhdHRyaWJ1dGVzOiAhMFxuICAgICAgfVxuICAgICksIHRoaXMuZGlzYWJsZWQgPSAhMTtcbiAgfVxuICAvKipcbiAgICogRGlzYWJsZXMgb25DaGFuZ2UgZXZlbnRcbiAgICovXG4gIGRpc2FibGUoKSB7XG4gICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyLmRpc2Nvbm5lY3QoKSwgdGhpcy5kaXNhYmxlZCA9ICEwO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsIG9uQ2hhbmdlIGV2ZW50IHBhc3NlZCB0byBFZGl0b3IuanMgY29uZmlndXJhdGlvblxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnQgLSBzb21lIG9mIG91ciBjdXN0b20gY2hhbmdlIGV2ZW50c1xuICAgKi9cbiAgcGFydGljdWxhckJsb2NrQ2hhbmdlZChlKSB7XG4gICAgdGhpcy5kaXNhYmxlZCB8fCAhRCh0aGlzLmNvbmZpZy5vbkNoYW5nZSkgfHwgKHRoaXMuYmF0Y2hpbmdPbkNoYW5nZVF1ZXVlLnNldChgYmxvY2s6JHtlLmRldGFpbC50YXJnZXQuaWR9OmV2ZW50OiR7ZS50eXBlfWAsIGUpLCB0aGlzLmJhdGNoaW5nVGltZW91dCAmJiBjbGVhclRpbWVvdXQodGhpcy5iYXRjaGluZ1RpbWVvdXQpLCB0aGlzLmJhdGNoaW5nVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgbGV0IHQ7XG4gICAgICB0aGlzLmJhdGNoaW5nT25DaGFuZ2VRdWV1ZS5zaXplID09PSAxID8gdCA9IHRoaXMuYmF0Y2hpbmdPbkNoYW5nZVF1ZXVlLnZhbHVlcygpLm5leHQoKS52YWx1ZSA6IHQgPSBBcnJheS5mcm9tKHRoaXMuYmF0Y2hpbmdPbkNoYW5nZVF1ZXVlLnZhbHVlcygpKSwgdGhpcy5jb25maWcub25DaGFuZ2UgJiYgdGhpcy5jb25maWcub25DaGFuZ2UodGhpcy5FZGl0b3IuQVBJLm1ldGhvZHMsIHQpLCB0aGlzLmJhdGNoaW5nT25DaGFuZ2VRdWV1ZS5jbGVhcigpO1xuICAgIH0sIHRoaXMuYmF0Y2hUaW1lKSk7XG4gIH1cbiAgLyoqXG4gICAqIEZpcmVkIG9uIGV2ZXJ5IGJsb2NrcyB3cmFwcGVyIGRvbSBjaGFuZ2VcbiAgICpcbiAgICogQHBhcmFtIG11dGF0aW9ucyAtIG11dGF0aW9ucyBoYXBwZW5lZFxuICAgKi9cbiAgcmVkYWN0b3JDaGFuZ2VkKGUpIHtcbiAgICB0aGlzLmV2ZW50c0Rpc3BhdGNoZXIuZW1pdChNZSwge1xuICAgICAgbXV0YXRpb25zOiBlXG4gICAgfSk7XG4gIH1cbn1cbmNvbnN0IHd0ID0gY2xhc3MgZXh0ZW5kcyBDIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKSwgdGhpcy5NSU1FX1RZUEUgPSBcImFwcGxpY2F0aW9uL3gtZWRpdG9yLWpzXCIsIHRoaXMudG9vbHNUYWdzID0ge30sIHRoaXMudGFnc0J5VG9vbCA9IHt9LCB0aGlzLnRvb2xzUGF0dGVybnMgPSBbXSwgdGhpcy50b29sc0ZpbGVzID0ge30sIHRoaXMuZXhjZXB0aW9uTGlzdCA9IFtdLCB0aGlzLnByb2Nlc3NUb29sID0gKHMpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGUgPSBzLmNyZWF0ZSh7fSwge30sICExKTtcbiAgICAgICAgaWYgKHMucGFzdGVDb25maWcgPT09ICExKSB7XG4gICAgICAgICAgdGhpcy5leGNlcHRpb25MaXN0LnB1c2gocy5uYW1lKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFEKGUub25QYXN0ZSkpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLmdldFRhZ3NDb25maWcocyksIHRoaXMuZ2V0RmlsZXNDb25maWcocyksIHRoaXMuZ2V0UGF0dGVybnNDb25maWcocyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIEwoXG4gICAgICAgICAgYFBhc3RlIGhhbmRsaW5nIGZvciDCqyR7cy5uYW1lfcK7IFRvb2wgaGFzbid0IGJlZW4gc2V0IHVwIGJlY2F1c2Ugb2YgdGhlIGVycm9yYCxcbiAgICAgICAgICBcIndhcm5cIixcbiAgICAgICAgICBlXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSwgdGhpcy5oYW5kbGVQYXN0ZUV2ZW50ID0gYXN5bmMgKHMpID0+IHtcbiAgICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiBlLCBUb29sYmFyOiB0IH0gPSB0aGlzLkVkaXRvciwgbyA9IGUuc2V0Q3VycmVudEJsb2NrQnlDaGlsZE5vZGUocy50YXJnZXQpO1xuICAgICAgIW8gfHwgdGhpcy5pc05hdGl2ZUJlaGF2aW91cihzLnRhcmdldCkgJiYgIXMuY2xpcGJvYXJkRGF0YS50eXBlcy5pbmNsdWRlcyhcIkZpbGVzXCIpIHx8IG8gJiYgdGhpcy5leGNlcHRpb25MaXN0LmluY2x1ZGVzKG8ubmFtZSkgfHwgKHMucHJldmVudERlZmF1bHQoKSwgdGhpcy5wcm9jZXNzRGF0YVRyYW5zZmVyKHMuY2xpcGJvYXJkRGF0YSksIGUuY2xlYXJGb2N1c2VkKCksIHQuY2xvc2UoKSk7XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogU2V0IG9uUGFzdGUgY2FsbGJhY2sgYW5kIGNvbGxlY3QgdG9vbHNgIHBhc3RlIGNvbmZpZ3VyYXRpb25zXG4gICAqL1xuICBhc3luYyBwcmVwYXJlKCkge1xuICAgIHRoaXMucHJvY2Vzc1Rvb2xzKCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldCByZWFkLW9ubHkgc3RhdGVcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSByZWFkT25seUVuYWJsZWQgLSByZWFkIG9ubHkgZmxhZyB2YWx1ZVxuICAgKi9cbiAgdG9nZ2xlUmVhZE9ubHkocykge1xuICAgIHMgPyB0aGlzLnVuc2V0Q2FsbGJhY2soKSA6IHRoaXMuc2V0Q2FsbGJhY2soKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIHBhc3RlZCBvciBkcm9wcGVkIGRhdGEgdHJhbnNmZXIgb2JqZWN0XG4gICAqXG4gICAqIEBwYXJhbSB7RGF0YVRyYW5zZmVyfSBkYXRhVHJhbnNmZXIgLSBwYXN0ZWQgb3IgZHJvcHBlZCBkYXRhIHRyYW5zZmVyIG9iamVjdFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzRHJhZ05Ecm9wIC0gdHJ1ZSBpZiBkYXRhIHRyYW5zZmVyIGNvbWVzIGZyb20gZHJhZyduJ2Ryb3AgZXZlbnRzXG4gICAqL1xuICBhc3luYyBwcm9jZXNzRGF0YVRyYW5zZmVyKHMsIGUgPSAhMSkge1xuICAgIGNvbnN0IHsgVG9vbHM6IHQgfSA9IHRoaXMuRWRpdG9yLCBvID0gcy50eXBlcztcbiAgICBpZiAoKG8uaW5jbHVkZXMgPyBvLmluY2x1ZGVzKFwiRmlsZXNcIikgOiBvLmNvbnRhaW5zKFwiRmlsZXNcIikpICYmICFWKHRoaXMudG9vbHNGaWxlcykpIHtcbiAgICAgIGF3YWl0IHRoaXMucHJvY2Vzc0ZpbGVzKHMuZmlsZXMpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBuID0gcy5nZXREYXRhKHRoaXMuTUlNRV9UWVBFKSwgciA9IHMuZ2V0RGF0YShcInRleHQvcGxhaW5cIik7XG4gICAgbGV0IGEgPSBzLmdldERhdGEoXCJ0ZXh0L2h0bWxcIik7XG4gICAgaWYgKG4pXG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLmluc2VydEVkaXRvckpTRGF0YShKU09OLnBhcnNlKG4pKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICB9XG4gICAgZSAmJiByLnRyaW0oKSAmJiBhLnRyaW0oKSAmJiAoYSA9IFwiPHA+XCIgKyAoYS50cmltKCkgPyBhIDogcikgKyBcIjwvcD5cIik7XG4gICAgY29uc3QgbCA9IE9iamVjdC5rZXlzKHRoaXMudG9vbHNUYWdzKS5yZWR1Y2UoKGgsIGYpID0+IChoW2YudG9Mb3dlckNhc2UoKV0gPSB0aGlzLnRvb2xzVGFnc1tmXS5zYW5pdGl6YXRpb25Db25maWcgPz8ge30sIGgpLCB7fSksIGMgPSBPYmplY3QuYXNzaWduKHt9LCBsLCB0LmdldEFsbElubGluZVRvb2xzU2FuaXRpemVDb25maWcoKSwgeyBicjoge30gfSksIHUgPSBaKGEsIGMpO1xuICAgICF1LnRyaW0oKSB8fCB1LnRyaW0oKSA9PT0gciB8fCAhZC5pc0hUTUxTdHJpbmcodSkgPyBhd2FpdCB0aGlzLnByb2Nlc3NUZXh0KHIpIDogYXdhaXQgdGhpcy5wcm9jZXNzVGV4dCh1LCAhMCk7XG4gIH1cbiAgLyoqXG4gICAqIFByb2Nlc3MgcGFzdGVkIHRleHQgYW5kIGRpdmlkZSB0aGVtIGludG8gQmxvY2tzXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhIC0gdGV4dCB0byBwcm9jZXNzLiBDYW4gYmUgSFRNTCBvciBwbGFpbi5cbiAgICogQHBhcmFtIHtib29sZWFufSBpc0hUTUwgLSBpZiBwYXNzZWQgc3RyaW5nIGlzIEhUTUwsIHRoaXMgcGFyYW1ldGVyIHNob3VsZCBiZSB0cnVlXG4gICAqL1xuICBhc3luYyBwcm9jZXNzVGV4dChzLCBlID0gITEpIHtcbiAgICBjb25zdCB7IENhcmV0OiB0LCBCbG9ja01hbmFnZXI6IG8gfSA9IHRoaXMuRWRpdG9yLCBpID0gZSA/IHRoaXMucHJvY2Vzc0hUTUwocykgOiB0aGlzLnByb2Nlc3NQbGFpbihzKTtcbiAgICBpZiAoIWkubGVuZ3RoKVxuICAgICAgcmV0dXJuO1xuICAgIGlmIChpLmxlbmd0aCA9PT0gMSkge1xuICAgICAgaVswXS5pc0Jsb2NrID8gdGhpcy5wcm9jZXNzU2luZ2xlQmxvY2soaS5wb3AoKSkgOiB0aGlzLnByb2Nlc3NJbmxpbmVQYXN0ZShpLnBvcCgpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgciA9IG8uY3VycmVudEJsb2NrICYmIG8uY3VycmVudEJsb2NrLnRvb2wuaXNEZWZhdWx0ICYmIG8uY3VycmVudEJsb2NrLmlzRW1wdHk7XG4gICAgaS5tYXAoXG4gICAgICBhc3luYyAoYSwgbCkgPT4gdGhpcy5pbnNlcnRCbG9jayhhLCBsID09PSAwICYmIHIpXG4gICAgKSwgby5jdXJyZW50QmxvY2sgJiYgdC5zZXRUb0Jsb2NrKG8uY3VycmVudEJsb2NrLCB0LnBvc2l0aW9ucy5FTkQpO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgb25QYXN0ZSBjYWxsYmFjayBoYW5kbGVyXG4gICAqL1xuICBzZXRDYWxsYmFjaygpIHtcbiAgICB0aGlzLmxpc3RlbmVycy5vbih0aGlzLkVkaXRvci5VSS5ub2Rlcy5ob2xkZXIsIFwicGFzdGVcIiwgdGhpcy5oYW5kbGVQYXN0ZUV2ZW50KTtcbiAgfVxuICAvKipcbiAgICogVW5zZXQgb25QYXN0ZSBjYWxsYmFjayBoYW5kbGVyXG4gICAqL1xuICB1bnNldENhbGxiYWNrKCkge1xuICAgIHRoaXMubGlzdGVuZXJzLm9mZih0aGlzLkVkaXRvci5VSS5ub2Rlcy5ob2xkZXIsIFwicGFzdGVcIiwgdGhpcy5oYW5kbGVQYXN0ZUV2ZW50KTtcbiAgfVxuICAvKipcbiAgICogR2V0IGFuZCBwcm9jZXNzIHRvb2xgcyBwYXN0ZSBjb25maWdzXG4gICAqL1xuICBwcm9jZXNzVG9vbHMoKSB7XG4gICAgY29uc3QgcyA9IHRoaXMuRWRpdG9yLlRvb2xzLmJsb2NrVG9vbHM7XG4gICAgQXJyYXkuZnJvbShzLnZhbHVlcygpKS5mb3JFYWNoKHRoaXMucHJvY2Vzc1Rvb2wpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGFncyBuYW1lIGxpc3QgZnJvbSBlaXRoZXIgdGFnIG5hbWUgb3Igc2FuaXRpemF0aW9uIGNvbmZpZy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBvYmplY3R9IHRhZ09yU2FuaXRpemVDb25maWcgLSB0YWcgbmFtZSBvciBzYW5pdGl6ZSBjb25maWcgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7c3RyaW5nW119IGFycmF5IG9mIHRhZ3MuXG4gICAqL1xuICBjb2xsZWN0VGFnTmFtZXMocykge1xuICAgIHJldHVybiBKKHMpID8gW3NdIDogeihzKSA/IE9iamVjdC5rZXlzKHMpIDogW107XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0YWdzIHRvIHN1YnN0aXR1dGUgYnkgVG9vbFxuICAgKlxuICAgKiBAcGFyYW0gdG9vbCAtIEJsb2NrVG9vbCBvYmplY3RcbiAgICovXG4gIGdldFRhZ3NDb25maWcocykge1xuICAgIGlmIChzLnBhc3RlQ29uZmlnID09PSAhMSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBlID0gcy5wYXN0ZUNvbmZpZy50YWdzIHx8IFtdLCB0ID0gW107XG4gICAgZS5mb3JFYWNoKChvKSA9PiB7XG4gICAgICBjb25zdCBpID0gdGhpcy5jb2xsZWN0VGFnTmFtZXMobyk7XG4gICAgICB0LnB1c2goLi4uaSksIGkuZm9yRWFjaCgobikgPT4ge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMudG9vbHNUYWdzLCBuKSkge1xuICAgICAgICAgIEwoXG4gICAgICAgICAgICBgUGFzdGUgaGFuZGxlciBmb3Igwqske3MubmFtZX3CuyBUb29sIG9uIMKrJHtufcK7IHRhZyBpcyBza2lwcGVkIGJlY2F1c2UgaXQgaXMgYWxyZWFkeSB1c2VkIGJ5IMKrJHt0aGlzLnRvb2xzVGFnc1tuXS50b29sLm5hbWV9wrsgVG9vbC5gLFxuICAgICAgICAgICAgXCJ3YXJuXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByID0geihvKSA/IG9bbl0gOiBudWxsO1xuICAgICAgICB0aGlzLnRvb2xzVGFnc1tuLnRvVXBwZXJDYXNlKCldID0ge1xuICAgICAgICAgIHRvb2w6IHMsXG4gICAgICAgICAgc2FuaXRpemF0aW9uQ29uZmlnOiByXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9KSwgdGhpcy50YWdzQnlUb29sW3MubmFtZV0gPSB0Lm1hcCgobykgPT4gby50b1VwcGVyQ2FzZSgpKTtcbiAgfVxuICAvKipcbiAgICogR2V0IGZpbGVzYCB0eXBlcyBhbmQgZXh0ZW5zaW9ucyB0byBzdWJzdGl0dXRlIGJ5IFRvb2xcbiAgICpcbiAgICogQHBhcmFtIHRvb2wgLSBCbG9ja1Rvb2wgb2JqZWN0XG4gICAqL1xuICBnZXRGaWxlc0NvbmZpZyhzKSB7XG4gICAgaWYgKHMucGFzdGVDb25maWcgPT09ICExKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHsgZmlsZXM6IGUgPSB7fSB9ID0gcy5wYXN0ZUNvbmZpZztcbiAgICBsZXQgeyBleHRlbnNpb25zOiB0LCBtaW1lVHlwZXM6IG8gfSA9IGU7XG4gICAgIXQgJiYgIW8gfHwgKHQgJiYgIUFycmF5LmlzQXJyYXkodCkgJiYgKEwoYMKrZXh0ZW5zaW9uc8K7IHByb3BlcnR5IG9mIHRoZSBvbkRyb3AgY29uZmlnIGZvciDCqyR7cy5uYW1lfcK7IFRvb2wgc2hvdWxkIGJlIGFuIGFycmF5YCksIHQgPSBbXSksIG8gJiYgIUFycmF5LmlzQXJyYXkobykgJiYgKEwoYMKrbWltZVR5cGVzwrsgcHJvcGVydHkgb2YgdGhlIG9uRHJvcCBjb25maWcgZm9yIMKrJHtzLm5hbWV9wrsgVG9vbCBzaG91bGQgYmUgYW4gYXJyYXlgKSwgbyA9IFtdKSwgbyAmJiAobyA9IG8uZmlsdGVyKChpKSA9PiBGdChpKSA/ICEwIDogKEwoYE1JTUUgdHlwZSB2YWx1ZSDCqyR7aX3CuyBmb3IgdGhlIMKrJHtzLm5hbWV9wrsgVG9vbCBpcyBub3QgYSB2YWxpZCBNSU1FIHR5cGVgLCBcIndhcm5cIiksICExKSkpLCB0aGlzLnRvb2xzRmlsZXNbcy5uYW1lXSA9IHtcbiAgICAgIGV4dGVuc2lvbnM6IHQgfHwgW10sXG4gICAgICBtaW1lVHlwZXM6IG8gfHwgW11cbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogR2V0IFJlZ0V4cCBwYXR0ZXJucyB0byBzdWJzdGl0dXRlIGJ5IFRvb2xcbiAgICpcbiAgICogQHBhcmFtIHRvb2wgLSBCbG9ja1Rvb2wgb2JqZWN0XG4gICAqL1xuICBnZXRQYXR0ZXJuc0NvbmZpZyhzKSB7XG4gICAgcy5wYXN0ZUNvbmZpZyA9PT0gITEgfHwgIXMucGFzdGVDb25maWcucGF0dGVybnMgfHwgVihzLnBhc3RlQ29uZmlnLnBhdHRlcm5zKSB8fCBPYmplY3QuZW50cmllcyhzLnBhc3RlQ29uZmlnLnBhdHRlcm5zKS5mb3JFYWNoKChbZSwgdF0pID0+IHtcbiAgICAgIHQgaW5zdGFuY2VvZiBSZWdFeHAgfHwgTChcbiAgICAgICAgYFBhdHRlcm4gJHt0fSBmb3Igwqske3MubmFtZX3CuyBUb29sIGlzIHNraXBwZWQgYmVjYXVzZSBpdCBzaG91bGQgYmUgYSBSZWdleHAgaW5zdGFuY2UuYCxcbiAgICAgICAgXCJ3YXJuXCJcbiAgICAgICksIHRoaXMudG9vbHNQYXR0ZXJucy5wdXNoKHtcbiAgICAgICAga2V5OiBlLFxuICAgICAgICBwYXR0ZXJuOiB0LFxuICAgICAgICB0b29sOiBzXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgYnJvd3NlciBiZWhhdmlvciBzdWl0cyBiZXR0ZXJcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH0gZWxlbWVudCAtIGVsZW1lbnQgd2hlcmUgY29udGVudCBoYXMgYmVlbiBwYXN0ZWRcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBpc05hdGl2ZUJlaGF2aW91cihzKSB7XG4gICAgcmV0dXJuIGQuaXNOYXRpdmVJbnB1dChzKTtcbiAgfVxuICAvKipcbiAgICogR2V0IGZpbGVzIGZyb20gZGF0YSB0cmFuc2ZlciBvYmplY3QgYW5kIGluc2VydCByZWxhdGVkIFRvb2xzXG4gICAqXG4gICAqIEBwYXJhbSB7RmlsZUxpc3R9IGl0ZW1zIC0gcGFzdGVkIG9yIGRyb3BwZWQgaXRlbXNcbiAgICovXG4gIGFzeW5jIHByb2Nlc3NGaWxlcyhzKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IGUgfSA9IHRoaXMuRWRpdG9yO1xuICAgIGxldCB0O1xuICAgIHQgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIEFycmF5LmZyb20ocykubWFwKChuKSA9PiB0aGlzLnByb2Nlc3NGaWxlKG4pKVxuICAgICksIHQgPSB0LmZpbHRlcigobikgPT4gISFuKTtcbiAgICBjb25zdCBpID0gZS5jdXJyZW50QmxvY2sudG9vbC5pc0RlZmF1bHQgJiYgZS5jdXJyZW50QmxvY2suaXNFbXB0eTtcbiAgICB0LmZvckVhY2goXG4gICAgICAobiwgcikgPT4ge1xuICAgICAgICBlLnBhc3RlKG4udHlwZSwgbi5ldmVudCwgciA9PT0gMCAmJiBpKTtcbiAgICAgIH1cbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgaW5mb3JtYXRpb24gYWJvdXQgZmlsZSBhbmQgZmluZCBUb29sIHRvIGhhbmRsZSBpdFxuICAgKlxuICAgKiBAcGFyYW0ge0ZpbGV9IGZpbGUgLSBmaWxlIHRvIHByb2Nlc3NcbiAgICovXG4gIGFzeW5jIHByb2Nlc3NGaWxlKHMpIHtcbiAgICBjb25zdCBlID0gUHQocyksIHQgPSBPYmplY3QuZW50cmllcyh0aGlzLnRvb2xzRmlsZXMpLmZpbmQoKFtuLCB7IG1pbWVUeXBlczogciwgZXh0ZW5zaW9uczogYSB9XSkgPT4ge1xuICAgICAgY29uc3QgW2wsIGNdID0gcy50eXBlLnNwbGl0KFwiL1wiKSwgdSA9IGEuZmluZCgoZikgPT4gZi50b0xvd2VyQ2FzZSgpID09PSBlLnRvTG93ZXJDYXNlKCkpLCBoID0gci5maW5kKChmKSA9PiB7XG4gICAgICAgIGNvbnN0IFtrLCBwXSA9IGYuc3BsaXQoXCIvXCIpO1xuICAgICAgICByZXR1cm4gayA9PT0gbCAmJiAocCA9PT0gYyB8fCBwID09PSBcIipcIik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiAhIXUgfHwgISFoO1xuICAgIH0pO1xuICAgIGlmICghdClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBbb10gPSB0O1xuICAgIHJldHVybiB7XG4gICAgICBldmVudDogdGhpcy5jb21wb3NlUGFzdGVFdmVudChcImZpbGVcIiwge1xuICAgICAgICBmaWxlOiBzXG4gICAgICB9KSxcbiAgICAgIHR5cGU6IG9cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBTcGxpdCBIVE1MIHN0cmluZyB0byBibG9ja3MgYW5kIHJldHVybiBpdCBhcyBhcnJheSBvZiBCbG9jayBkYXRhXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpbm5lckhUTUwgLSBodG1sIHN0cmluZyB0byBwcm9jZXNzXG4gICAqIEByZXR1cm5zIHtQYXN0ZURhdGFbXX1cbiAgICovXG4gIHByb2Nlc3NIVE1MKHMpIHtcbiAgICBjb25zdCB7IFRvb2xzOiBlIH0gPSB0aGlzLkVkaXRvciwgdCA9IGQubWFrZShcIkRJVlwiKTtcbiAgICByZXR1cm4gdC5pbm5lckhUTUwgPSBzLCB0aGlzLmdldE5vZGVzKHQpLm1hcCgoaSkgPT4ge1xuICAgICAgbGV0IG4sIHIgPSBlLmRlZmF1bHRUb29sLCBhID0gITE7XG4gICAgICBzd2l0Y2ggKGkubm9kZVR5cGUpIHtcbiAgICAgICAgY2FzZSBOb2RlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREU6XG4gICAgICAgICAgbiA9IGQubWFrZShcImRpdlwiKSwgbi5hcHBlbmRDaGlsZChpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBOb2RlLkVMRU1FTlRfTk9ERTpcbiAgICAgICAgICBuID0gaSwgYSA9ICEwLCB0aGlzLnRvb2xzVGFnc1tuLnRhZ05hbWVdICYmIChyID0gdGhpcy50b29sc1RhZ3Nbbi50YWdOYW1lXS50b29sKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNvbnN0IHsgdGFnczogbCB9ID0gci5wYXN0ZUNvbmZpZyB8fCB7IHRhZ3M6IFtdIH0sIGMgPSBsLnJlZHVjZSgoZiwgaykgPT4gKHRoaXMuY29sbGVjdFRhZ05hbWVzKGspLmZvckVhY2goKHYpID0+IHtcbiAgICAgICAgY29uc3QgQSA9IHooaykgPyBrW3ZdIDogbnVsbDtcbiAgICAgICAgZlt2LnRvTG93ZXJDYXNlKCldID0gQSB8fCB7fTtcbiAgICAgIH0pLCBmKSwge30pLCB1ID0gT2JqZWN0LmFzc2lnbih7fSwgYywgci5iYXNlU2FuaXRpemVDb25maWcpO1xuICAgICAgaWYgKG4udGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcInRhYmxlXCIpIHtcbiAgICAgICAgY29uc3QgZiA9IFoobi5vdXRlckhUTUwsIHUpO1xuICAgICAgICBuID0gZC5tYWtlKFwiZGl2XCIsIHZvaWQgMCwge1xuICAgICAgICAgIGlubmVySFRNTDogZlxuICAgICAgICB9KS5maXJzdENoaWxkO1xuICAgICAgfSBlbHNlXG4gICAgICAgIG4uaW5uZXJIVE1MID0gWihuLmlubmVySFRNTCwgdSk7XG4gICAgICBjb25zdCBoID0gdGhpcy5jb21wb3NlUGFzdGVFdmVudChcInRhZ1wiLCB7XG4gICAgICAgIGRhdGE6IG5cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29udGVudDogbixcbiAgICAgICAgaXNCbG9jazogYSxcbiAgICAgICAgdG9vbDogci5uYW1lLFxuICAgICAgICBldmVudDogaFxuICAgICAgfTtcbiAgICB9KS5maWx0ZXIoKGkpID0+IHtcbiAgICAgIGNvbnN0IG4gPSBkLmlzRW1wdHkoaS5jb250ZW50KSwgciA9IGQuaXNTaW5nbGVUYWcoaS5jb250ZW50KTtcbiAgICAgIHJldHVybiAhbiB8fCByO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBTcGxpdCBwbGFpbiB0ZXh0IGJ5IG5ldyBsaW5lIHN5bWJvbHMgYW5kIHJldHVybiBpdCBhcyBhcnJheSBvZiBCbG9jayBkYXRhXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwbGFpbiAtIHN0cmluZyB0byBwcm9jZXNzXG4gICAqIEByZXR1cm5zIHtQYXN0ZURhdGFbXX1cbiAgICovXG4gIHByb2Nlc3NQbGFpbihzKSB7XG4gICAgY29uc3QgeyBkZWZhdWx0QmxvY2s6IGUgfSA9IHRoaXMuY29uZmlnO1xuICAgIGlmICghcylcbiAgICAgIHJldHVybiBbXTtcbiAgICBjb25zdCB0ID0gZTtcbiAgICByZXR1cm4gcy5zcGxpdCgvXFxyP1xcbi8pLmZpbHRlcigobykgPT4gby50cmltKCkpLm1hcCgobykgPT4ge1xuICAgICAgY29uc3QgaSA9IGQubWFrZShcImRpdlwiKTtcbiAgICAgIGkudGV4dENvbnRlbnQgPSBvO1xuICAgICAgY29uc3QgbiA9IHRoaXMuY29tcG9zZVBhc3RlRXZlbnQoXCJ0YWdcIiwge1xuICAgICAgICBkYXRhOiBpXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbnRlbnQ6IGksXG4gICAgICAgIHRvb2w6IHQsXG4gICAgICAgIGlzQmxvY2s6ICExLFxuICAgICAgICBldmVudDogblxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUHJvY2VzcyBwYXN0ZSBvZiBzaW5nbGUgQmxvY2sgdG9vbCBjb250ZW50XG4gICAqXG4gICAqIEBwYXJhbSB7UGFzdGVEYXRhfSBkYXRhVG9JbnNlcnQgLSBkYXRhIG9mIEJsb2NrIHRvIGluc2VydFxuICAgKi9cbiAgYXN5bmMgcHJvY2Vzc1NpbmdsZUJsb2NrKHMpIHtcbiAgICBjb25zdCB7IENhcmV0OiBlLCBCbG9ja01hbmFnZXI6IHQgfSA9IHRoaXMuRWRpdG9yLCB7IGN1cnJlbnRCbG9jazogbyB9ID0gdDtcbiAgICBpZiAoIW8gfHwgcy50b29sICE9PSBvLm5hbWUgfHwgIWQuY29udGFpbnNPbmx5SW5saW5lRWxlbWVudHMocy5jb250ZW50LmlubmVySFRNTCkpIHtcbiAgICAgIHRoaXMuaW5zZXJ0QmxvY2socywgKG8gPT0gbnVsbCA/IHZvaWQgMCA6IG8udG9vbC5pc0RlZmF1bHQpICYmIG8uaXNFbXB0eSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGUuaW5zZXJ0Q29udGVudEF0Q2FyZXRQb3NpdGlvbihzLmNvbnRlbnQuaW5uZXJIVE1MKTtcbiAgfVxuICAvKipcbiAgICogUHJvY2VzcyBwYXN0ZSB0byBzaW5nbGUgQmxvY2s6XG4gICAqIDEuIEZpbmQgcGF0dGVybnNgIG1hdGNoZXNcbiAgICogMi4gSW5zZXJ0IG5ldyBibG9jayBpZiBpdCBpcyBub3QgdGhlIHNhbWUgdHlwZSBhcyBjdXJyZW50IG9uZVxuICAgKiAzLiBKdXN0IGluc2VydCB0ZXh0IGlmIHRoZXJlIGlzIG5vIHN1YnN0aXR1dGlvbnNcbiAgICpcbiAgICogQHBhcmFtIHtQYXN0ZURhdGF9IGRhdGFUb0luc2VydCAtIGRhdGEgb2YgQmxvY2sgdG8gaW5zZXJ0XG4gICAqL1xuICBhc3luYyBwcm9jZXNzSW5saW5lUGFzdGUocykge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiBlLCBDYXJldDogdCB9ID0gdGhpcy5FZGl0b3IsIHsgY29udGVudDogbyB9ID0gcztcbiAgICBpZiAoZS5jdXJyZW50QmxvY2sgJiYgZS5jdXJyZW50QmxvY2sudG9vbC5pc0RlZmF1bHQgJiYgby50ZXh0Q29udGVudC5sZW5ndGggPCB3dC5QQVRURVJOX1BST0NFU1NJTkdfTUFYX0xFTkdUSCkge1xuICAgICAgY29uc3QgbiA9IGF3YWl0IHRoaXMucHJvY2Vzc1BhdHRlcm4oby50ZXh0Q29udGVudCk7XG4gICAgICBpZiAobikge1xuICAgICAgICBjb25zdCByID0gZS5jdXJyZW50QmxvY2sgJiYgZS5jdXJyZW50QmxvY2sudG9vbC5pc0RlZmF1bHQgJiYgZS5jdXJyZW50QmxvY2suaXNFbXB0eSwgYSA9IGUucGFzdGUobi50b29sLCBuLmV2ZW50LCByKTtcbiAgICAgICAgdC5zZXRUb0Jsb2NrKGEsIHQucG9zaXRpb25zLkVORCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGUuY3VycmVudEJsb2NrICYmIGUuY3VycmVudEJsb2NrLmN1cnJlbnRJbnB1dCkge1xuICAgICAgY29uc3QgbiA9IGUuY3VycmVudEJsb2NrLnRvb2wuYmFzZVNhbml0aXplQ29uZmlnO1xuICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoXG4gICAgICAgIFwiaW5zZXJ0SFRNTFwiLFxuICAgICAgICAhMSxcbiAgICAgICAgWihvLmlubmVySFRNTCwgbilcbiAgICAgICk7XG4gICAgfSBlbHNlXG4gICAgICB0aGlzLmluc2VydEJsb2NrKHMpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgcGF0dGVybnNgIG1hdGNoZXNcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSB0ZXh0IHRvIHByb2Nlc3NcbiAgICogQHJldHVybnMge1Byb21pc2U8e2V2ZW50OiBQYXN0ZUV2ZW50LCB0b29sOiBzdHJpbmd9Pn1cbiAgICovXG4gIGFzeW5jIHByb2Nlc3NQYXR0ZXJuKHMpIHtcbiAgICBjb25zdCBlID0gdGhpcy50b29sc1BhdHRlcm5zLmZpbmQoKG8pID0+IHtcbiAgICAgIGNvbnN0IGkgPSBvLnBhdHRlcm4uZXhlYyhzKTtcbiAgICAgIHJldHVybiBpID8gcyA9PT0gaS5zaGlmdCgpIDogITE7XG4gICAgfSk7XG4gICAgcmV0dXJuIGUgPyB7XG4gICAgICBldmVudDogdGhpcy5jb21wb3NlUGFzdGVFdmVudChcInBhdHRlcm5cIiwge1xuICAgICAgICBrZXk6IGUua2V5LFxuICAgICAgICBkYXRhOiBzXG4gICAgICB9KSxcbiAgICAgIHRvb2w6IGUudG9vbC5uYW1lXG4gICAgfSA6IHZvaWQgMDtcbiAgfVxuICAvKipcbiAgICogSW5zZXJ0IHBhc3RlZCBCbG9jayBjb250ZW50IHRvIEVkaXRvclxuICAgKlxuICAgKiBAcGFyYW0ge1Bhc3RlRGF0YX0gZGF0YSAtIGRhdGEgdG8gaW5zZXJ0XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2FuUmVwbGFjZUN1cnJlbnRCbG9jayAtIGlmIHRydWUgYW5kIGlzIGN1cnJlbnQgQmxvY2sgaXMgZW1wdHksIHdpbGwgcmVwbGFjZSBjdXJyZW50IEJsb2NrXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgaW5zZXJ0QmxvY2socywgZSA9ICExKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IHQsIENhcmV0OiBvIH0gPSB0aGlzLkVkaXRvciwgeyBjdXJyZW50QmxvY2s6IGkgfSA9IHQ7XG4gICAgbGV0IG47XG4gICAgaWYgKGUgJiYgaSAmJiBpLmlzRW1wdHkpIHtcbiAgICAgIG4gPSB0LnBhc3RlKHMudG9vbCwgcy5ldmVudCwgITApLCBvLnNldFRvQmxvY2sobiwgby5wb3NpdGlvbnMuRU5EKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbiA9IHQucGFzdGUocy50b29sLCBzLmV2ZW50KSwgby5zZXRUb0Jsb2NrKG4sIG8ucG9zaXRpb25zLkVORCk7XG4gIH1cbiAgLyoqXG4gICAqIEluc2VydCBkYXRhIHBhc3NlZCBhcyBhcHBsaWNhdGlvbi94LWVkaXRvci1qcyBKU09OXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXl9IGJsb2NrcyDigJQgQmxvY2tzJyBkYXRhIHRvIGluc2VydFxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIGluc2VydEVkaXRvckpTRGF0YShzKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IGUsIENhcmV0OiB0LCBUb29sczogbyB9ID0gdGhpcy5FZGl0b3I7XG4gICAgdXQoXG4gICAgICBzLFxuICAgICAgKG4pID0+IG8uYmxvY2tUb29scy5nZXQobikuc2FuaXRpemVDb25maWdcbiAgICApLmZvckVhY2goKHsgdG9vbDogbiwgZGF0YTogciB9LCBhKSA9PiB7XG4gICAgICBsZXQgbCA9ICExO1xuICAgICAgYSA9PT0gMCAmJiAobCA9IGUuY3VycmVudEJsb2NrICYmIGUuY3VycmVudEJsb2NrLnRvb2wuaXNEZWZhdWx0ICYmIGUuY3VycmVudEJsb2NrLmlzRW1wdHkpO1xuICAgICAgY29uc3QgYyA9IGUuaW5zZXJ0KHtcbiAgICAgICAgdG9vbDogbixcbiAgICAgICAgZGF0YTogcixcbiAgICAgICAgcmVwbGFjZTogbFxuICAgICAgfSk7XG4gICAgICB0LnNldFRvQmxvY2soYywgdC5wb3NpdGlvbnMuRU5EKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggbm9kZXMgZnJvbSBFbGVtZW50IG5vZGVcbiAgICpcbiAgICogQHBhcmFtIHtOb2RlfSBub2RlIC0gY3VycmVudCBub2RlXG4gICAqIEBwYXJhbSB7Tm9kZVtdfSBub2RlcyAtIHByb2Nlc3NlZCBub2Rlc1xuICAgKiBAcGFyYW0ge05vZGV9IGRlc3ROb2RlIC0gZGVzdGluYXRpb24gbm9kZVxuICAgKi9cbiAgcHJvY2Vzc0VsZW1lbnROb2RlKHMsIGUsIHQpIHtcbiAgICBjb25zdCBvID0gT2JqZWN0LmtleXModGhpcy50b29sc1RhZ3MpLCBpID0gcywgeyB0b29sOiBuIH0gPSB0aGlzLnRvb2xzVGFnc1tpLnRhZ05hbWVdIHx8IHt9LCByID0gdGhpcy50YWdzQnlUb29sW24gPT0gbnVsbCA/IHZvaWQgMCA6IG4ubmFtZV0gfHwgW10sIGEgPSBvLmluY2x1ZGVzKGkudGFnTmFtZSksIGwgPSBkLmJsb2NrRWxlbWVudHMuaW5jbHVkZXMoaS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpLCBjID0gQXJyYXkuZnJvbShpLmNoaWxkcmVuKS5zb21lKFxuICAgICAgKHsgdGFnTmFtZTogaCB9KSA9PiBvLmluY2x1ZGVzKGgpICYmICFyLmluY2x1ZGVzKGgpXG4gICAgKSwgdSA9IEFycmF5LmZyb20oaS5jaGlsZHJlbikuc29tZShcbiAgICAgICh7IHRhZ05hbWU6IGggfSkgPT4gZC5ibG9ja0VsZW1lbnRzLmluY2x1ZGVzKGgudG9Mb3dlckNhc2UoKSlcbiAgICApO1xuICAgIGlmICghbCAmJiAhYSAmJiAhYylcbiAgICAgIHJldHVybiB0LmFwcGVuZENoaWxkKGkpLCBbLi4uZSwgdF07XG4gICAgaWYgKGEgJiYgIWMgfHwgbCAmJiAhdSAmJiAhYylcbiAgICAgIHJldHVybiBbLi4uZSwgdCwgaV07XG4gIH1cbiAgLyoqXG4gICAqIFJlY3Vyc2l2ZWx5IGRpdmlkZSBIVE1MIHN0cmluZyB0byB0d28gdHlwZXMgb2Ygbm9kZXM6XG4gICAqIDEuIEJsb2NrIGVsZW1lbnRcbiAgICogMi4gRG9jdW1lbnQgRnJhZ21lbnRzIGNvbnRhaW5lZCB0ZXh0IGFuZCBtYXJrdXAgdGFncyBsaWtlIGEsIGIsIGkgZXRjLlxuICAgKlxuICAgKiBAcGFyYW0ge05vZGV9IHdyYXBwZXIgLSB3cmFwcGVyIG9mIHBhc3RlciBIVE1MIGNvbnRlbnRcbiAgICogQHJldHVybnMge05vZGVbXX1cbiAgICovXG4gIGdldE5vZGVzKHMpIHtcbiAgICBjb25zdCBlID0gQXJyYXkuZnJvbShzLmNoaWxkTm9kZXMpO1xuICAgIGxldCB0O1xuICAgIGNvbnN0IG8gPSAoaSwgbikgPT4ge1xuICAgICAgaWYgKGQuaXNFbXB0eShuKSAmJiAhZC5pc1NpbmdsZVRhZyhuKSlcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICBjb25zdCByID0gaVtpLmxlbmd0aCAtIDFdO1xuICAgICAgbGV0IGEgPSBuZXcgRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgICAgc3dpdGNoIChyICYmIGQuaXNGcmFnbWVudChyKSAmJiAoYSA9IGkucG9wKCkpLCBuLm5vZGVUeXBlKSB7XG4gICAgICAgIGNhc2UgTm9kZS5FTEVNRU5UX05PREU6XG4gICAgICAgICAgaWYgKHQgPSB0aGlzLnByb2Nlc3NFbGVtZW50Tm9kZShuLCBpLCBhKSwgdClcbiAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIE5vZGUuVEVYVF9OT0RFOlxuICAgICAgICAgIHJldHVybiBhLmFwcGVuZENoaWxkKG4pLCBbLi4uaSwgYV07XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIFsuLi5pLCBhXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbLi4uaSwgLi4uQXJyYXkuZnJvbShuLmNoaWxkTm9kZXMpLnJlZHVjZShvLCBbXSldO1xuICAgIH07XG4gICAgcmV0dXJuIGUucmVkdWNlKG8sIFtdKTtcbiAgfVxuICAvKipcbiAgICogQ29tcG9zZSBwYXN0ZSBldmVudCB3aXRoIHBhc3NlZCB0eXBlIGFuZCBkZXRhaWxcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBldmVudCB0eXBlXG4gICAqIEBwYXJhbSB7UGFzdGVFdmVudERldGFpbH0gZGV0YWlsIC0gZXZlbnQgZGV0YWlsXG4gICAqL1xuICBjb21wb3NlUGFzdGVFdmVudChzLCBlKSB7XG4gICAgcmV0dXJuIG5ldyBDdXN0b21FdmVudChzLCB7XG4gICAgICBkZXRhaWw6IGVcbiAgICB9KTtcbiAgfVxufTtcbmxldCB5dCA9IHd0O1xueXQuUEFUVEVSTl9QUk9DRVNTSU5HX01BWF9MRU5HVEggPSA0NTA7XG5jbGFzcyBvaSBleHRlbmRzIEMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLnRvb2xzRG9udFN1cHBvcnRSZWFkT25seSA9IFtdLCB0aGlzLnJlYWRPbmx5RW5hYmxlZCA9ICExO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHN0YXRlIG9mIHJlYWQgb25seSBtb2RlXG4gICAqL1xuICBnZXQgaXNFbmFibGVkKCkge1xuICAgIHJldHVybiB0aGlzLnJlYWRPbmx5RW5hYmxlZDtcbiAgfVxuICAvKipcbiAgICogU2V0IGluaXRpYWwgc3RhdGVcbiAgICovXG4gIGFzeW5jIHByZXBhcmUoKSB7XG4gICAgY29uc3QgeyBUb29sczogZSB9ID0gdGhpcy5FZGl0b3IsIHsgYmxvY2tUb29sczogdCB9ID0gZSwgbyA9IFtdO1xuICAgIEFycmF5LmZyb20odC5lbnRyaWVzKCkpLmZvckVhY2goKFtpLCBuXSkgPT4ge1xuICAgICAgbi5pc1JlYWRPbmx5U3VwcG9ydGVkIHx8IG8ucHVzaChpKTtcbiAgICB9KSwgdGhpcy50b29sc0RvbnRTdXBwb3J0UmVhZE9ubHkgPSBvLCB0aGlzLmNvbmZpZy5yZWFkT25seSAmJiBvLmxlbmd0aCA+IDAgJiYgdGhpcy50aHJvd0NyaXRpY2FsRXJyb3IoKSwgdGhpcy50b2dnbGUodGhpcy5jb25maWcucmVhZE9ubHkpO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgcmVhZC1vbmx5IG1vZGUgb3IgdG9nZ2xlIGN1cnJlbnQgc3RhdGVcbiAgICogQ2FsbCBhbGwgTW9kdWxlcyBgdG9nZ2xlUmVhZE9ubHlgIG1ldGhvZCBhbmQgcmUtcmVuZGVyIEVkaXRvclxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHN0YXRlIC0gKG9wdGlvbmFsKSByZWFkLW9ubHkgc3RhdGUgb3IgdG9nZ2xlXG4gICAqL1xuICBhc3luYyB0b2dnbGUoZSA9ICF0aGlzLnJlYWRPbmx5RW5hYmxlZCkge1xuICAgIGUgJiYgdGhpcy50b29sc0RvbnRTdXBwb3J0UmVhZE9ubHkubGVuZ3RoID4gMCAmJiB0aGlzLnRocm93Q3JpdGljYWxFcnJvcigpO1xuICAgIGNvbnN0IHQgPSB0aGlzLnJlYWRPbmx5RW5hYmxlZDtcbiAgICB0aGlzLnJlYWRPbmx5RW5hYmxlZCA9IGU7XG4gICAgZm9yIChjb25zdCBpIGluIHRoaXMuRWRpdG9yKVxuICAgICAgdGhpcy5FZGl0b3JbaV0udG9nZ2xlUmVhZE9ubHkgJiYgdGhpcy5FZGl0b3JbaV0udG9nZ2xlUmVhZE9ubHkoZSk7XG4gICAgaWYgKHQgPT09IGUpXG4gICAgICByZXR1cm4gdGhpcy5yZWFkT25seUVuYWJsZWQ7XG4gICAgY29uc3QgbyA9IGF3YWl0IHRoaXMuRWRpdG9yLlNhdmVyLnNhdmUoKTtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmNsZWFyKCksIGF3YWl0IHRoaXMuRWRpdG9yLlJlbmRlcmVyLnJlbmRlcihvLmJsb2NrcyksIHRoaXMucmVhZE9ubHlFbmFibGVkO1xuICB9XG4gIC8qKlxuICAgKiBUaHJvd3MgYW4gZXJyb3IgYWJvdXQgdG9vbHMgd2hpY2ggZG9uJ3Qgc3VwcG9ydCByZWFkLW9ubHkgbW9kZVxuICAgKi9cbiAgdGhyb3dDcml0aWNhbEVycm9yKCkge1xuICAgIHRocm93IG5ldyBsdChcbiAgICAgIGBUbyBlbmFibGUgcmVhZC1vbmx5IG1vZGUgYWxsIGNvbm5lY3RlZCB0b29scyBzaG91bGQgc3VwcG9ydCBpdC4gVG9vbHMgJHt0aGlzLnRvb2xzRG9udFN1cHBvcnRSZWFkT25seS5qb2luKFwiLCBcIil9IGRvbid0IHN1cHBvcnQgcmVhZC1vbmx5IG1vZGUuYFxuICAgICk7XG4gIH1cbn1cbmNsYXNzIGZlIGV4dGVuZHMgQyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMuaXNSZWN0U2VsZWN0aW9uQWN0aXZhdGVkID0gITEsIHRoaXMuU0NST0xMX1NQRUVEID0gMywgdGhpcy5IRUlHSFRfT0ZfU0NST0xMX1pPTkUgPSA0MCwgdGhpcy5CT1RUT01fU0NST0xMX1pPTkUgPSAxLCB0aGlzLlRPUF9TQ1JPTExfWk9ORSA9IDIsIHRoaXMuTUFJTl9NT1VTRV9CVVRUT04gPSAwLCB0aGlzLm1vdXNlZG93biA9ICExLCB0aGlzLmlzU2Nyb2xsaW5nID0gITEsIHRoaXMuaW5TY3JvbGxab25lID0gbnVsbCwgdGhpcy5zdGFydFggPSAwLCB0aGlzLnN0YXJ0WSA9IDAsIHRoaXMubW91c2VYID0gMCwgdGhpcy5tb3VzZVkgPSAwLCB0aGlzLnN0YWNrT2ZTZWxlY3RlZCA9IFtdLCB0aGlzLmxpc3RlbmVySWRzID0gW107XG4gIH1cbiAgLyoqXG4gICAqIENTUyBjbGFzc2VzIGZvciB0aGUgQmxvY2tcbiAgICpcbiAgICogQHJldHVybnMge3t3cmFwcGVyOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZ319XG4gICAqL1xuICBzdGF0aWMgZ2V0IENTUygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb3ZlcmxheTogXCJjb2RleC1lZGl0b3Itb3ZlcmxheVwiLFxuICAgICAgb3ZlcmxheUNvbnRhaW5lcjogXCJjb2RleC1lZGl0b3Itb3ZlcmxheV9fY29udGFpbmVyXCIsXG4gICAgICByZWN0OiBcImNvZGV4LWVkaXRvci1vdmVybGF5X19yZWN0YW5nbGVcIixcbiAgICAgIHRvcFNjcm9sbFpvbmU6IFwiY29kZXgtZWRpdG9yLW92ZXJsYXlfX3Njcm9sbC16b25lLS10b3BcIixcbiAgICAgIGJvdHRvbVNjcm9sbFpvbmU6IFwiY29kZXgtZWRpdG9yLW92ZXJsYXlfX3Njcm9sbC16b25lLS1ib3R0b21cIlxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIE1vZHVsZSBQcmVwYXJhdGlvblxuICAgKiBDcmVhdGluZyByZWN0IGFuZCBoYW5nIGhhbmRsZXJzXG4gICAqL1xuICBwcmVwYXJlKCkge1xuICAgIHRoaXMuZW5hYmxlTW9kdWxlQmluZGluZ3MoKTtcbiAgfVxuICAvKipcbiAgICogSW5pdCByZWN0IHBhcmFtc1xuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGFnZVggLSBYIGNvb3JkIG9mIG1vdXNlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwYWdlWSAtIFkgY29vcmQgb2YgbW91c2VcbiAgICovXG4gIHN0YXJ0U2VsZWN0aW9uKGUsIHQpIHtcbiAgICBjb25zdCBvID0gZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludChlIC0gd2luZG93LnBhZ2VYT2Zmc2V0LCB0IC0gd2luZG93LnBhZ2VZT2Zmc2V0KTtcbiAgICBvLmNsb3Nlc3QoYC4ke3RoaXMuRWRpdG9yLlRvb2xiYXIuQ1NTLnRvb2xiYXJ9YCkgfHwgKHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLmFsbEJsb2Nrc1NlbGVjdGVkID0gITEsIHRoaXMuY2xlYXJTZWxlY3Rpb24oKSwgdGhpcy5zdGFja09mU2VsZWN0ZWQgPSBbXSk7XG4gICAgY29uc3QgbiA9IFtcbiAgICAgIGAuJHtGLkNTUy5jb250ZW50fWAsXG4gICAgICBgLiR7dGhpcy5FZGl0b3IuVG9vbGJhci5DU1MudG9vbGJhcn1gLFxuICAgICAgYC4ke3RoaXMuRWRpdG9yLklubGluZVRvb2xiYXIuQ1NTLmlubGluZVRvb2xiYXJ9YFxuICAgIF0sIHIgPSBvLmNsb3Nlc3QoXCIuXCIgKyB0aGlzLkVkaXRvci5VSS5DU1MuZWRpdG9yV3JhcHBlciksIGEgPSBuLnNvbWUoKGwpID0+ICEhby5jbG9zZXN0KGwpKTtcbiAgICAhciB8fCBhIHx8ICh0aGlzLm1vdXNlZG93biA9ICEwLCB0aGlzLnN0YXJ0WCA9IGUsIHRoaXMuc3RhcnRZID0gdCk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFyIGFsbCBwYXJhbXMgdG8gZW5kIHNlbGVjdGlvblxuICAgKi9cbiAgZW5kU2VsZWN0aW9uKCkge1xuICAgIHRoaXMubW91c2Vkb3duID0gITEsIHRoaXMuc3RhcnRYID0gMCwgdGhpcy5zdGFydFkgPSAwLCB0aGlzLm92ZXJsYXlSZWN0YW5nbGUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICB9XG4gIC8qKlxuICAgKiBpcyBSZWN0U2VsZWN0aW9uIEFjdGl2YXRlZFxuICAgKi9cbiAgaXNSZWN0QWN0aXZhdGVkKCkge1xuICAgIHJldHVybiB0aGlzLmlzUmVjdFNlbGVjdGlvbkFjdGl2YXRlZDtcbiAgfVxuICAvKipcbiAgICogTWFyayB0aGF0IHNlbGVjdGlvbiBpcyBlbmRcbiAgICovXG4gIGNsZWFyU2VsZWN0aW9uKCkge1xuICAgIHRoaXMuaXNSZWN0U2VsZWN0aW9uQWN0aXZhdGVkID0gITE7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgTW9kdWxlIG5lY2Vzc2FyeSBldmVudCBoYW5kbGVyc1xuICAgKi9cbiAgZW5hYmxlTW9kdWxlQmluZGluZ3MoKSB7XG4gICAgY29uc3QgeyBjb250YWluZXI6IGUgfSA9IHRoaXMuZ2VuSFRNTCgpO1xuICAgIHRoaXMubGlzdGVuZXJzLm9uKGUsIFwibW91c2Vkb3duXCIsICh0KSA9PiB7XG4gICAgICB0aGlzLnByb2Nlc3NNb3VzZURvd24odCk7XG4gICAgfSwgITEpLCB0aGlzLmxpc3RlbmVycy5vbihkb2N1bWVudC5ib2R5LCBcIm1vdXNlbW92ZVwiLCBDZSgodCkgPT4ge1xuICAgICAgdGhpcy5wcm9jZXNzTW91c2VNb3ZlKHQpO1xuICAgIH0sIDEwKSwge1xuICAgICAgcGFzc2l2ZTogITBcbiAgICB9KSwgdGhpcy5saXN0ZW5lcnMub24oZG9jdW1lbnQuYm9keSwgXCJtb3VzZWxlYXZlXCIsICgpID0+IHtcbiAgICAgIHRoaXMucHJvY2Vzc01vdXNlTGVhdmUoKTtcbiAgICB9KSwgdGhpcy5saXN0ZW5lcnMub24od2luZG93LCBcInNjcm9sbFwiLCBDZSgodCkgPT4ge1xuICAgICAgdGhpcy5wcm9jZXNzU2Nyb2xsKHQpO1xuICAgIH0sIDEwKSwge1xuICAgICAgcGFzc2l2ZTogITBcbiAgICB9KSwgdGhpcy5saXN0ZW5lcnMub24oZG9jdW1lbnQuYm9keSwgXCJtb3VzZXVwXCIsICgpID0+IHtcbiAgICAgIHRoaXMucHJvY2Vzc01vdXNlVXAoKTtcbiAgICB9LCAhMSk7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBtb3VzZSBkb3duIGV2ZW50c1xuICAgKlxuICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IG1vdXNlRXZlbnQgLSBtb3VzZSBldmVudCBwYXlsb2FkXG4gICAqL1xuICBwcm9jZXNzTW91c2VEb3duKGUpIHtcbiAgICBpZiAoZS5idXR0b24gIT09IHRoaXMuTUFJTl9NT1VTRV9CVVRUT04pXG4gICAgICByZXR1cm47XG4gICAgZS50YXJnZXQuY2xvc2VzdChkLmFsbElucHV0c1NlbGVjdG9yKSAhPT0gbnVsbCB8fCB0aGlzLnN0YXJ0U2VsZWN0aW9uKGUucGFnZVgsIGUucGFnZVkpO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgbW91c2UgbW92ZSBldmVudHNcbiAgICpcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBtb3VzZUV2ZW50IC0gbW91c2UgZXZlbnQgcGF5bG9hZFxuICAgKi9cbiAgcHJvY2Vzc01vdXNlTW92ZShlKSB7XG4gICAgdGhpcy5jaGFuZ2luZ1JlY3RhbmdsZShlKSwgdGhpcy5zY3JvbGxCeVpvbmVzKGUuY2xpZW50WSk7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBtb3VzZSBsZWF2ZVxuICAgKi9cbiAgcHJvY2Vzc01vdXNlTGVhdmUoKSB7XG4gICAgdGhpcy5jbGVhclNlbGVjdGlvbigpLCB0aGlzLmVuZFNlbGVjdGlvbigpO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IG1vdXNlRXZlbnQgLSBtb3VzZSBldmVudCBwYXlsb2FkXG4gICAqL1xuICBwcm9jZXNzU2Nyb2xsKGUpIHtcbiAgICB0aGlzLmNoYW5naW5nUmVjdGFuZ2xlKGUpO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgbW91c2UgdXBcbiAgICovXG4gIHByb2Nlc3NNb3VzZVVwKCkge1xuICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKSwgdGhpcy5lbmRTZWxlY3Rpb24oKTtcbiAgfVxuICAvKipcbiAgICogU2Nyb2xsIElmIG1vdXNlIGluIHNjcm9sbCB6b25lXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjbGllbnRZIC0gWSBjb29yZCBvZiBtb3VzZVxuICAgKi9cbiAgc2Nyb2xsQnlab25lcyhlKSB7XG4gICAgaWYgKHRoaXMuaW5TY3JvbGxab25lID0gbnVsbCwgZSA8PSB0aGlzLkhFSUdIVF9PRl9TQ1JPTExfWk9ORSAmJiAodGhpcy5pblNjcm9sbFpvbmUgPSB0aGlzLlRPUF9TQ1JPTExfWk9ORSksIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgLSBlIDw9IHRoaXMuSEVJR0hUX09GX1NDUk9MTF9aT05FICYmICh0aGlzLmluU2Nyb2xsWm9uZSA9IHRoaXMuQk9UVE9NX1NDUk9MTF9aT05FKSwgIXRoaXMuaW5TY3JvbGxab25lKSB7XG4gICAgICB0aGlzLmlzU2Nyb2xsaW5nID0gITE7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuaXNTY3JvbGxpbmcgfHwgKHRoaXMuc2Nyb2xsVmVydGljYWwodGhpcy5pblNjcm9sbFpvbmUgPT09IHRoaXMuVE9QX1NDUk9MTF9aT05FID8gLXRoaXMuU0NST0xMX1NQRUVEIDogdGhpcy5TQ1JPTExfU1BFRUQpLCB0aGlzLmlzU2Nyb2xsaW5nID0gITApO1xuICB9XG4gIC8qKlxuICAgKiBHZW5lcmF0ZXMgcmVxdWlyZWQgSFRNTCBlbGVtZW50c1xuICAgKlxuICAgKiBAcmV0dXJucyB7T2JqZWN0PHN0cmluZywgRWxlbWVudD59XG4gICAqL1xuICBnZW5IVE1MKCkge1xuICAgIGNvbnN0IHsgVUk6IGUgfSA9IHRoaXMuRWRpdG9yLCB0ID0gZS5ub2Rlcy5ob2xkZXIucXVlcnlTZWxlY3RvcihcIi5cIiArIGUuQ1NTLmVkaXRvcldyYXBwZXIpLCBvID0gZC5tYWtlKFwiZGl2XCIsIGZlLkNTUy5vdmVybGF5LCB7fSksIGkgPSBkLm1ha2UoXCJkaXZcIiwgZmUuQ1NTLm92ZXJsYXlDb250YWluZXIsIHt9KSwgbiA9IGQubWFrZShcImRpdlwiLCBmZS5DU1MucmVjdCwge30pO1xuICAgIHJldHVybiBpLmFwcGVuZENoaWxkKG4pLCBvLmFwcGVuZENoaWxkKGkpLCB0LmFwcGVuZENoaWxkKG8pLCB0aGlzLm92ZXJsYXlSZWN0YW5nbGUgPSBuLCB7XG4gICAgICBjb250YWluZXI6IHQsXG4gICAgICBvdmVybGF5OiBvXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQWN0aXZhdGVzIHNjcm9sbGluZyBpZiBibG9ja1NlbGVjdGlvbiBpcyBhY3RpdmUgYW5kIG1vdXNlIGlzIGluIHNjcm9sbCB6b25lXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzcGVlZCAtIHNwZWVkIG9mIHNjcm9sbGluZ1xuICAgKi9cbiAgc2Nyb2xsVmVydGljYWwoZSkge1xuICAgIGlmICghKHRoaXMuaW5TY3JvbGxab25lICYmIHRoaXMubW91c2Vkb3duKSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB0ID0gd2luZG93LnBhZ2VZT2Zmc2V0O1xuICAgIHdpbmRvdy5zY3JvbGxCeSgwLCBlKSwgdGhpcy5tb3VzZVkgKz0gd2luZG93LnBhZ2VZT2Zmc2V0IC0gdCwgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnNjcm9sbFZlcnRpY2FsKGUpO1xuICAgIH0sIDApO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGVzIHRoZSBjaGFuZ2UgaW4gdGhlIHJlY3RhbmdsZSBhbmQgaXRzIGVmZmVjdFxuICAgKlxuICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50IC0gbW91c2UgZXZlbnRcbiAgICovXG4gIGNoYW5naW5nUmVjdGFuZ2xlKGUpIHtcbiAgICBpZiAoIXRoaXMubW91c2Vkb3duKVxuICAgICAgcmV0dXJuO1xuICAgIGUucGFnZVkgIT09IHZvaWQgMCAmJiAodGhpcy5tb3VzZVggPSBlLnBhZ2VYLCB0aGlzLm1vdXNlWSA9IGUucGFnZVkpO1xuICAgIGNvbnN0IHsgcmlnaHRQb3M6IHQsIGxlZnRQb3M6IG8sIGluZGV4OiBpIH0gPSB0aGlzLmdlbkluZm9Gb3JNb3VzZVNlbGVjdGlvbigpLCBuID0gdGhpcy5zdGFydFggPiB0ICYmIHRoaXMubW91c2VYID4gdCwgciA9IHRoaXMuc3RhcnRYIDwgbyAmJiB0aGlzLm1vdXNlWCA8IG87XG4gICAgdGhpcy5yZWN0Q3Jvc3Nlc0Jsb2NrcyA9ICEobiB8fCByKSwgdGhpcy5pc1JlY3RTZWxlY3Rpb25BY3RpdmF0ZWQgfHwgKHRoaXMucmVjdENyb3NzZXNCbG9ja3MgPSAhMSwgdGhpcy5pc1JlY3RTZWxlY3Rpb25BY3RpdmF0ZWQgPSAhMCwgdGhpcy5zaHJpbmtSZWN0YW5nbGVUb1BvaW50KCksIHRoaXMub3ZlcmxheVJlY3RhbmdsZS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiKSwgdGhpcy51cGRhdGVSZWN0YW5nbGVTaXplKCksIHRoaXMuRWRpdG9yLlRvb2xiYXIuY2xvc2UoKSwgaSAhPT0gdm9pZCAwICYmICh0aGlzLnRyeVNlbGVjdE5leHRCbG9jayhpKSwgdGhpcy5pbnZlcnNlU2VsZWN0aW9uKCksIG0uZ2V0KCkucmVtb3ZlQWxsUmFuZ2VzKCkpO1xuICB9XG4gIC8qKlxuICAgKiBTaHJpbmsgcmVjdCB0byBzaW5ndWxhciBwb2ludFxuICAgKi9cbiAgc2hyaW5rUmVjdGFuZ2xlVG9Qb2ludCgpIHtcbiAgICB0aGlzLm92ZXJsYXlSZWN0YW5nbGUuc3R5bGUubGVmdCA9IGAke3RoaXMuc3RhcnRYIC0gd2luZG93LnBhZ2VYT2Zmc2V0fXB4YCwgdGhpcy5vdmVybGF5UmVjdGFuZ2xlLnN0eWxlLnRvcCA9IGAke3RoaXMuc3RhcnRZIC0gd2luZG93LnBhZ2VZT2Zmc2V0fXB4YCwgdGhpcy5vdmVybGF5UmVjdGFuZ2xlLnN0eWxlLmJvdHRvbSA9IGBjYWxjKDEwMCUgLSAke3RoaXMuc3RhcnRZIC0gd2luZG93LnBhZ2VZT2Zmc2V0fXB4YCwgdGhpcy5vdmVybGF5UmVjdGFuZ2xlLnN0eWxlLnJpZ2h0ID0gYGNhbGMoMTAwJSAtICR7dGhpcy5zdGFydFggLSB3aW5kb3cucGFnZVhPZmZzZXR9cHhgO1xuICB9XG4gIC8qKlxuICAgKiBTZWxlY3Qgb3IgdW5zZWxlY3QgYWxsIG9mIGJsb2NrcyBpbiBhcnJheSBpZiByZWN0IGlzIG91dCBvciBpbiBzZWxlY3RhYmxlIGFyZWFcbiAgICovXG4gIGludmVyc2VTZWxlY3Rpb24oKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5nZXRCbG9ja0J5SW5kZXgodGhpcy5zdGFja09mU2VsZWN0ZWRbMF0pLnNlbGVjdGVkO1xuICAgIGlmICh0aGlzLnJlY3RDcm9zc2VzQmxvY2tzICYmICF0KVxuICAgICAgZm9yIChjb25zdCBvIG9mIHRoaXMuc3RhY2tPZlNlbGVjdGVkKVxuICAgICAgICB0aGlzLkVkaXRvci5CbG9ja1NlbGVjdGlvbi5zZWxlY3RCbG9ja0J5SW5kZXgobyk7XG4gICAgaWYgKCF0aGlzLnJlY3RDcm9zc2VzQmxvY2tzICYmIHQpXG4gICAgICBmb3IgKGNvbnN0IG8gb2YgdGhpcy5zdGFja09mU2VsZWN0ZWQpXG4gICAgICAgIHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLnVuU2VsZWN0QmxvY2tCeUluZGV4KG8pO1xuICB9XG4gIC8qKlxuICAgKiBVcGRhdGVzIHNpemUgb2YgcmVjdGFuZ2xlXG4gICAqL1xuICB1cGRhdGVSZWN0YW5nbGVTaXplKCkge1xuICAgIHRoaXMubW91c2VZID49IHRoaXMuc3RhcnRZID8gKHRoaXMub3ZlcmxheVJlY3RhbmdsZS5zdHlsZS50b3AgPSBgJHt0aGlzLnN0YXJ0WSAtIHdpbmRvdy5wYWdlWU9mZnNldH1weGAsIHRoaXMub3ZlcmxheVJlY3RhbmdsZS5zdHlsZS5ib3R0b20gPSBgY2FsYygxMDAlIC0gJHt0aGlzLm1vdXNlWSAtIHdpbmRvdy5wYWdlWU9mZnNldH1weGApIDogKHRoaXMub3ZlcmxheVJlY3RhbmdsZS5zdHlsZS5ib3R0b20gPSBgY2FsYygxMDAlIC0gJHt0aGlzLnN0YXJ0WSAtIHdpbmRvdy5wYWdlWU9mZnNldH1weGAsIHRoaXMub3ZlcmxheVJlY3RhbmdsZS5zdHlsZS50b3AgPSBgJHt0aGlzLm1vdXNlWSAtIHdpbmRvdy5wYWdlWU9mZnNldH1weGApLCB0aGlzLm1vdXNlWCA+PSB0aGlzLnN0YXJ0WCA/ICh0aGlzLm92ZXJsYXlSZWN0YW5nbGUuc3R5bGUubGVmdCA9IGAke3RoaXMuc3RhcnRYIC0gd2luZG93LnBhZ2VYT2Zmc2V0fXB4YCwgdGhpcy5vdmVybGF5UmVjdGFuZ2xlLnN0eWxlLnJpZ2h0ID0gYGNhbGMoMTAwJSAtICR7dGhpcy5tb3VzZVggLSB3aW5kb3cucGFnZVhPZmZzZXR9cHhgKSA6ICh0aGlzLm92ZXJsYXlSZWN0YW5nbGUuc3R5bGUucmlnaHQgPSBgY2FsYygxMDAlIC0gJHt0aGlzLnN0YXJ0WCAtIHdpbmRvdy5wYWdlWE9mZnNldH1weGAsIHRoaXMub3ZlcmxheVJlY3RhbmdsZS5zdHlsZS5sZWZ0ID0gYCR7dGhpcy5tb3VzZVggLSB3aW5kb3cucGFnZVhPZmZzZXR9cHhgKTtcbiAgfVxuICAvKipcbiAgICogQ29sbGVjdHMgaW5mb3JtYXRpb24gbmVlZGVkIHRvIGRldGVybWluZSB0aGUgYmVoYXZpb3Igb2YgdGhlIHJlY3RhbmdsZVxuICAgKlxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSBpbmRleCAtIGluZGV4IG5leHQgQmxvY2ssIGxlZnRQb3MgLSBzdGFydCBvZiBsZWZ0IGJvcmRlciBvZiBCbG9jaywgcmlnaHRQb3MgLSByaWdodCBib3JkZXJcbiAgICovXG4gIGdlbkluZm9Gb3JNb3VzZVNlbGVjdGlvbigpIHtcbiAgICBjb25zdCB0ID0gZG9jdW1lbnQuYm9keS5vZmZzZXRXaWR0aCAvIDIsIG8gPSB0aGlzLm1vdXNlWSAtIHdpbmRvdy5wYWdlWU9mZnNldCwgaSA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQodCwgbyksIG4gPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuZ2V0QmxvY2tCeUNoaWxkTm9kZShpKTtcbiAgICBsZXQgcjtcbiAgICBuICE9PSB2b2lkIDAgJiYgKHIgPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuYmxvY2tzLmZpbmRJbmRleCgoaCkgPT4gaC5ob2xkZXIgPT09IG4uaG9sZGVyKSk7XG4gICAgY29uc3QgYSA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5sYXN0QmxvY2suaG9sZGVyLnF1ZXJ5U2VsZWN0b3IoXCIuXCIgKyBGLkNTUy5jb250ZW50KSwgbCA9IE51bWJlci5wYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShhKS53aWR0aCwgMTApIC8gMiwgYyA9IHQgLSBsLCB1ID0gdCArIGw7XG4gICAgcmV0dXJuIHtcbiAgICAgIGluZGV4OiByLFxuICAgICAgbGVmdFBvczogYyxcbiAgICAgIHJpZ2h0UG9zOiB1XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogU2VsZWN0IGJsb2NrIHdpdGggaW5kZXggaW5kZXhcbiAgICpcbiAgICogQHBhcmFtIGluZGV4IC0gaW5kZXggb2YgYmxvY2sgaW4gcmVkYWN0b3JcbiAgICovXG4gIGFkZEJsb2NrSW5TZWxlY3Rpb24oZSkge1xuICAgIHRoaXMucmVjdENyb3NzZXNCbG9ja3MgJiYgdGhpcy5FZGl0b3IuQmxvY2tTZWxlY3Rpb24uc2VsZWN0QmxvY2tCeUluZGV4KGUpLCB0aGlzLnN0YWNrT2ZTZWxlY3RlZC5wdXNoKGUpO1xuICB9XG4gIC8qKlxuICAgKiBBZGRzIGEgYmxvY2sgdG8gdGhlIHNlbGVjdGlvbiBhbmQgZGV0ZXJtaW5lcyB3aGljaCBibG9ja3Mgc2hvdWxkIGJlIHNlbGVjdGVkXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBpbmRleCAtIGluZGV4IG9mIG5ldyBibG9jayBpbiB0aGUgcmVhY3RvclxuICAgKi9cbiAgdHJ5U2VsZWN0TmV4dEJsb2NrKGUpIHtcbiAgICBjb25zdCB0ID0gdGhpcy5zdGFja09mU2VsZWN0ZWRbdGhpcy5zdGFja09mU2VsZWN0ZWQubGVuZ3RoIC0gMV0gPT09IGUsIG8gPSB0aGlzLnN0YWNrT2ZTZWxlY3RlZC5sZW5ndGgsIGkgPSAxLCBuID0gLTEsIHIgPSAwO1xuICAgIGlmICh0KVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGEgPSB0aGlzLnN0YWNrT2ZTZWxlY3RlZFtvIC0gMV0gLSB0aGlzLnN0YWNrT2ZTZWxlY3RlZFtvIC0gMl0gPiAwO1xuICAgIGxldCBsID0gcjtcbiAgICBvID4gMSAmJiAobCA9IGEgPyBpIDogbik7XG4gICAgY29uc3QgYyA9IGUgPiB0aGlzLnN0YWNrT2ZTZWxlY3RlZFtvIC0gMV0gJiYgbCA9PT0gaSwgdSA9IGUgPCB0aGlzLnN0YWNrT2ZTZWxlY3RlZFtvIC0gMV0gJiYgbCA9PT0gbiwgZiA9ICEoYyB8fCB1IHx8IGwgPT09IHIpO1xuICAgIGlmICghZiAmJiAoZSA+IHRoaXMuc3RhY2tPZlNlbGVjdGVkW28gLSAxXSB8fCB0aGlzLnN0YWNrT2ZTZWxlY3RlZFtvIC0gMV0gPT09IHZvaWQgMCkpIHtcbiAgICAgIGxldCB2ID0gdGhpcy5zdGFja09mU2VsZWN0ZWRbbyAtIDFdICsgMSB8fCBlO1xuICAgICAgZm9yICh2OyB2IDw9IGU7IHYrKylcbiAgICAgICAgdGhpcy5hZGRCbG9ja0luU2VsZWN0aW9uKHYpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWYgJiYgZSA8IHRoaXMuc3RhY2tPZlNlbGVjdGVkW28gLSAxXSkge1xuICAgICAgZm9yIChsZXQgdiA9IHRoaXMuc3RhY2tPZlNlbGVjdGVkW28gLSAxXSAtIDE7IHYgPj0gZTsgdi0tKVxuICAgICAgICB0aGlzLmFkZEJsb2NrSW5TZWxlY3Rpb24odik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghZilcbiAgICAgIHJldHVybjtcbiAgICBsZXQgayA9IG8gLSAxLCBwO1xuICAgIGZvciAoZSA+IHRoaXMuc3RhY2tPZlNlbGVjdGVkW28gLSAxXSA/IHAgPSAoKSA9PiBlID4gdGhpcy5zdGFja09mU2VsZWN0ZWRba10gOiBwID0gKCkgPT4gZSA8IHRoaXMuc3RhY2tPZlNlbGVjdGVkW2tdOyBwKCk7IClcbiAgICAgIHRoaXMucmVjdENyb3NzZXNCbG9ja3MgJiYgdGhpcy5FZGl0b3IuQmxvY2tTZWxlY3Rpb24udW5TZWxlY3RCbG9ja0J5SW5kZXgodGhpcy5zdGFja09mU2VsZWN0ZWRba10pLCB0aGlzLnN0YWNrT2ZTZWxlY3RlZC5wb3AoKSwgay0tO1xuICB9XG59XG5jbGFzcyBpaSBleHRlbmRzIEMge1xuICAvKipcbiAgICogUmVuZGVycyBwYXNzZWQgYmxvY2tzIGFzIG9uZSBiYXRjaFxuICAgKlxuICAgKiBAcGFyYW0gYmxvY2tzRGF0YSAtIGJsb2NrcyB0byByZW5kZXJcbiAgICovXG4gIGFzeW5jIHJlbmRlcihlKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKCh0KSA9PiB7XG4gICAgICBjb25zdCB7IFRvb2xzOiBvLCBCbG9ja01hbmFnZXI6IGkgfSA9IHRoaXMuRWRpdG9yLCBuID0gZS5tYXAoKHsgdHlwZTogciwgZGF0YTogYSwgdHVuZXM6IGwsIGlkOiBjIH0pID0+IHtcbiAgICAgICAgby5hdmFpbGFibGUuaGFzKHIpID09PSAhMSAmJiAoSyhgVG9vbCDCqyR7cn3CuyBpcyBub3QgZm91bmQuIENoZWNrICd0b29scycgcHJvcGVydHkgYXQgdGhlIEVkaXRvci5qcyBjb25maWcuYCwgXCJ3YXJuXCIpLCBhID0gdGhpcy5jb21wb3NlU3R1YkRhdGFGb3JUb29sKHIsIGEsIGMpLCByID0gby5zdHViVG9vbCk7XG4gICAgICAgIGxldCB1O1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHUgPSBpLmNvbXBvc2VCbG9jayh7XG4gICAgICAgICAgICBpZDogYyxcbiAgICAgICAgICAgIHRvb2w6IHIsXG4gICAgICAgICAgICBkYXRhOiBhLFxuICAgICAgICAgICAgdHVuZXM6IGxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoaCkge1xuICAgICAgICAgIEwoYEJsb2NrIMKrJHtyfcK7IHNraXBwZWQgYmVjYXVzZSBvZiBwbHVnaW5zIGVycm9yYCwgXCJlcnJvclwiLCB7XG4gICAgICAgICAgICBkYXRhOiBhLFxuICAgICAgICAgICAgZXJyb3I6IGhcbiAgICAgICAgICB9KSwgYSA9IHRoaXMuY29tcG9zZVN0dWJEYXRhRm9yVG9vbChyLCBhLCBjKSwgciA9IG8uc3R1YlRvb2wsIHUgPSBpLmNvbXBvc2VCbG9jayh7XG4gICAgICAgICAgICBpZDogYyxcbiAgICAgICAgICAgIHRvb2w6IHIsXG4gICAgICAgICAgICBkYXRhOiBhLFxuICAgICAgICAgICAgdHVuZXM6IGxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdTtcbiAgICAgIH0pO1xuICAgICAgaS5pbnNlcnRNYW55KG4pLCB3aW5kb3cucmVxdWVzdElkbGVDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIHQoKTtcbiAgICAgIH0sIHsgdGltZW91dDogMmUzIH0pO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgZGF0YSBmb3IgdGhlIFN0dWIgVG9vbCB0aGF0IHdpbGwgYmUgdXNlZCBpbnN0ZWFkIG9mIHVuYXZhaWxhYmxlIHRvb2xcbiAgICpcbiAgICogQHBhcmFtIHRvb2wgLSB1bmF2YWlsYWJsZSB0b29sIG5hbWUgdG8gc3R1YlxuICAgKiBAcGFyYW0gZGF0YSAtIGRhdGEgb2YgdW5hdmFpbGFibGUgYmxvY2tcbiAgICogQHBhcmFtIFtpZF0gLSBpZCBvZiB1bmF2YWlsYWJsZSBibG9ja1xuICAgKi9cbiAgY29tcG9zZVN0dWJEYXRhRm9yVG9vbChlLCB0LCBvKSB7XG4gICAgY29uc3QgeyBUb29sczogaSB9ID0gdGhpcy5FZGl0b3I7XG4gICAgbGV0IG4gPSBlO1xuICAgIGlmIChpLnVuYXZhaWxhYmxlLmhhcyhlKSkge1xuICAgICAgY29uc3QgciA9IGkudW5hdmFpbGFibGUuZ2V0KGUpLnRvb2xib3g7XG4gICAgICByICE9PSB2b2lkIDAgJiYgclswXS50aXRsZSAhPT0gdm9pZCAwICYmIChuID0gclswXS50aXRsZSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzYXZlZERhdGE6IHtcbiAgICAgICAgaWQ6IG8sXG4gICAgICAgIHR5cGU6IGUsXG4gICAgICAgIGRhdGE6IHRcbiAgICAgIH0sXG4gICAgICB0aXRsZTogblxuICAgIH07XG4gIH1cbn1cbmNsYXNzIG5pIGV4dGVuZHMgQyB7XG4gIC8qKlxuICAgKiBDb21wb3NlcyBuZXcgY2hhaW4gb2YgUHJvbWlzZXMgdG8gZmlyZSB0aGVtIGFsdGVybmF0ZWxseVxuICAgKlxuICAgKiBAcmV0dXJucyB7T3V0cHV0RGF0YX1cbiAgICovXG4gIGFzeW5jIHNhdmUoKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IGUsIFRvb2xzOiB0IH0gPSB0aGlzLkVkaXRvciwgbyA9IGUuYmxvY2tzLCBpID0gW107XG4gICAgdHJ5IHtcbiAgICAgIG8uZm9yRWFjaCgoYSkgPT4ge1xuICAgICAgICBpLnB1c2godGhpcy5nZXRTYXZlZERhdGEoYSkpO1xuICAgICAgfSk7XG4gICAgICBjb25zdCBuID0gYXdhaXQgUHJvbWlzZS5hbGwoaSksIHIgPSBhd2FpdCB1dChuLCAoYSkgPT4gdC5ibG9ja1Rvb2xzLmdldChhKS5zYW5pdGl6ZUNvbmZpZyk7XG4gICAgICByZXR1cm4gdGhpcy5tYWtlT3V0cHV0KHIpO1xuICAgIH0gY2F0Y2ggKG4pIHtcbiAgICAgIEsoXCJTYXZpbmcgZmFpbGVkIGR1ZSB0byB0aGUgRXJyb3IgJW9cIiwgXCJlcnJvclwiLCBuKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFNhdmVzIGFuZCB2YWxpZGF0ZXNcbiAgICpcbiAgICogQHBhcmFtIHtCbG9ja30gYmxvY2sgLSBFZGl0b3IncyBUb29sXG4gICAqIEByZXR1cm5zIHtWYWxpZGF0ZWREYXRhfSAtIFRvb2wncyB2YWxpZGF0ZWQgZGF0YVxuICAgKi9cbiAgYXN5bmMgZ2V0U2F2ZWREYXRhKGUpIHtcbiAgICBjb25zdCB0ID0gYXdhaXQgZS5zYXZlKCksIG8gPSB0ICYmIGF3YWl0IGUudmFsaWRhdGUodC5kYXRhKTtcbiAgICByZXR1cm4ge1xuICAgICAgLi4udCxcbiAgICAgIGlzVmFsaWQ6IG9cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIG91dHB1dCBvYmplY3Qgd2l0aCBzYXZlZCBkYXRhLCB0aW1lIGFuZCB2ZXJzaW9uIG9mIGVkaXRvclxuICAgKlxuICAgKiBAcGFyYW0ge1ZhbGlkYXRlZERhdGF9IGFsbEV4dHJhY3RlZERhdGEgLSBkYXRhIGV4dHJhY3RlZCBmcm9tIEJsb2Nrc1xuICAgKiBAcmV0dXJucyB7T3V0cHV0RGF0YX1cbiAgICovXG4gIG1ha2VPdXRwdXQoZSkge1xuICAgIGNvbnN0IHQgPSBbXTtcbiAgICByZXR1cm4gZS5mb3JFYWNoKCh7IGlkOiBvLCB0b29sOiBpLCBkYXRhOiBuLCB0dW5lczogciwgaXNWYWxpZDogYSB9KSA9PiB7XG4gICAgICBpZiAoIWEpIHtcbiAgICAgICAgTChgQmxvY2sgwqske2l9wrsgc2tpcHBlZCBiZWNhdXNlIHNhdmVkIGRhdGEgaXMgaW52YWxpZGApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoaSA9PT0gdGhpcy5FZGl0b3IuVG9vbHMuc3R1YlRvb2wpIHtcbiAgICAgICAgdC5wdXNoKG4pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBsID0ge1xuICAgICAgICBpZDogbyxcbiAgICAgICAgdHlwZTogaSxcbiAgICAgICAgZGF0YTogbixcbiAgICAgICAgLi4uIVYocikgJiYge1xuICAgICAgICAgIHR1bmVzOiByXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB0LnB1c2gobCk7XG4gICAgfSksIHtcbiAgICAgIHRpbWU6ICsvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSxcbiAgICAgIGJsb2NrczogdCxcbiAgICAgIHZlcnNpb246IFwiMi4yOC4yXCJcbiAgICB9O1xuICB9XG59XG52YXIgTmUgPSB7fSwgc2kgPSB7XG4gIGdldCBleHBvcnRzKCkge1xuICAgIHJldHVybiBOZTtcbiAgfSxcbiAgc2V0IGV4cG9ydHMocykge1xuICAgIE5lID0gcztcbiAgfVxufTtcbihmdW5jdGlvbihzLCBlKSB7XG4gIChmdW5jdGlvbih0LCBvKSB7XG4gICAgcy5leHBvcnRzID0gbygpO1xuICB9KSh3aW5kb3csIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgICB2YXIgbyA9IHt9O1xuICAgICAgZnVuY3Rpb24gaShuKSB7XG4gICAgICAgIGlmIChvW25dKVxuICAgICAgICAgIHJldHVybiBvW25dLmV4cG9ydHM7XG4gICAgICAgIHZhciByID0gb1tuXSA9IHsgaTogbiwgbDogITEsIGV4cG9ydHM6IHt9IH07XG4gICAgICAgIHJldHVybiB0W25dLmNhbGwoci5leHBvcnRzLCByLCByLmV4cG9ydHMsIGkpLCByLmwgPSAhMCwgci5leHBvcnRzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGkubSA9IHQsIGkuYyA9IG8sIGkuZCA9IGZ1bmN0aW9uKG4sIHIsIGEpIHtcbiAgICAgICAgaS5vKG4sIHIpIHx8IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCByLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGEgfSk7XG4gICAgICB9LCBpLnIgPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIHR5cGVvZiBTeW1ib2wgPCBcInVcIiAmJiBTeW1ib2wudG9TdHJpbmdUYWcgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogXCJNb2R1bGVcIiB9KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KTtcbiAgICAgIH0sIGkudCA9IGZ1bmN0aW9uKG4sIHIpIHtcbiAgICAgICAgaWYgKDEgJiByICYmIChuID0gaShuKSksIDggJiByIHx8IDQgJiByICYmIHR5cGVvZiBuID09IFwib2JqZWN0XCIgJiYgbiAmJiBuLl9fZXNNb2R1bGUpXG4gICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgIHZhciBhID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGlmIChpLnIoYSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiAhMCwgdmFsdWU6IG4gfSksIDIgJiByICYmIHR5cGVvZiBuICE9IFwic3RyaW5nXCIpXG4gICAgICAgICAgZm9yICh2YXIgbCBpbiBuKVxuICAgICAgICAgICAgaS5kKGEsIGwsIGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG5bY107XG4gICAgICAgICAgICB9LmJpbmQobnVsbCwgbCkpO1xuICAgICAgICByZXR1cm4gYTtcbiAgICAgIH0sIGkubiA9IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgdmFyIHIgPSBuICYmIG4uX19lc01vZHVsZSA/IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBuLmRlZmF1bHQ7XG4gICAgICAgIH0gOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGkuZChyLCBcImFcIiwgciksIHI7XG4gICAgICB9LCBpLm8gPSBmdW5jdGlvbihuLCByKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobiwgcik7XG4gICAgICB9LCBpLnAgPSBcIi9cIiwgaShpLnMgPSA0KTtcbiAgICB9KFtmdW5jdGlvbih0LCBvLCBpKSB7XG4gICAgICB2YXIgbiA9IGkoMSksIHIgPSBpKDIpO1xuICAgICAgdHlwZW9mIChyID0gci5fX2VzTW9kdWxlID8gci5kZWZhdWx0IDogcikgPT0gXCJzdHJpbmdcIiAmJiAociA9IFtbdC5pLCByLCBcIlwiXV0pO1xuICAgICAgdmFyIGEgPSB7IGluc2VydDogXCJoZWFkXCIsIHNpbmdsZXRvbjogITEgfTtcbiAgICAgIG4ociwgYSksIHQuZXhwb3J0cyA9IHIubG9jYWxzIHx8IHt9O1xuICAgIH0sIGZ1bmN0aW9uKHQsIG8sIGkpIHtcbiAgICAgIHZhciBuLCByID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBuID09PSB2b2lkIDAgJiYgKG4gPSAhISh3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYikpLCBuO1xuICAgICAgfSwgYSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgeSA9IHt9O1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oeCkge1xuICAgICAgICAgIGlmICh5W3hdID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHZhciB3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih4KTtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgdyBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudClcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB3ID0gdy5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAgICAgdyA9IG51bGw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHlbeF0gPSB3O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4geVt4XTtcbiAgICAgICAgfTtcbiAgICAgIH0oKSwgbCA9IFtdO1xuICAgICAgZnVuY3Rpb24gYyh5KSB7XG4gICAgICAgIGZvciAodmFyIHggPSAtMSwgdyA9IDA7IHcgPCBsLmxlbmd0aDsgdysrKVxuICAgICAgICAgIGlmIChsW3ddLmlkZW50aWZpZXIgPT09IHkpIHtcbiAgICAgICAgICAgIHggPSB3O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICByZXR1cm4geDtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHUoeSwgeCkge1xuICAgICAgICBmb3IgKHZhciB3ID0ge30sIEkgPSBbXSwgUiA9IDA7IFIgPCB5Lmxlbmd0aDsgUisrKSB7XG4gICAgICAgICAgdmFyIGIgPSB5W1JdLCBnID0geC5iYXNlID8gYlswXSArIHguYmFzZSA6IGJbMF0sIEUgPSB3W2ddIHx8IDAsIFQgPSBcIlwiLmNvbmNhdChnLCBcIiBcIikuY29uY2F0KEUpO1xuICAgICAgICAgIHdbZ10gPSBFICsgMTtcbiAgICAgICAgICB2YXIgTyA9IGMoVCksIFMgPSB7IGNzczogYlsxXSwgbWVkaWE6IGJbMl0sIHNvdXJjZU1hcDogYlszXSB9O1xuICAgICAgICAgIE8gIT09IC0xID8gKGxbT10ucmVmZXJlbmNlcysrLCBsW09dLnVwZGF0ZXIoUykpIDogbC5wdXNoKHsgaWRlbnRpZmllcjogVCwgdXBkYXRlcjogXyhTLCB4KSwgcmVmZXJlbmNlczogMSB9KSwgSS5wdXNoKFQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBJO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gaCh5KSB7XG4gICAgICAgIHZhciB4ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpLCB3ID0geS5hdHRyaWJ1dGVzIHx8IHt9O1xuICAgICAgICBpZiAody5ub25jZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgdmFyIEkgPSBpLm5jO1xuICAgICAgICAgIEkgJiYgKHcubm9uY2UgPSBJKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoT2JqZWN0LmtleXModykuZm9yRWFjaChmdW5jdGlvbihiKSB7XG4gICAgICAgICAgeC5zZXRBdHRyaWJ1dGUoYiwgd1tiXSk7XG4gICAgICAgIH0pLCB0eXBlb2YgeS5pbnNlcnQgPT0gXCJmdW5jdGlvblwiKVxuICAgICAgICAgIHkuaW5zZXJ0KHgpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgUiA9IGEoeS5pbnNlcnQgfHwgXCJoZWFkXCIpO1xuICAgICAgICAgIGlmICghUilcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgICAgICAgUi5hcHBlbmRDaGlsZCh4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geDtcbiAgICAgIH1cbiAgICAgIHZhciBmLCBrID0gKGYgPSBbXSwgZnVuY3Rpb24oeSwgeCkge1xuICAgICAgICByZXR1cm4gZlt5XSA9IHgsIGYuZmlsdGVyKEJvb2xlYW4pLmpvaW4oYFxuYCk7XG4gICAgICB9KTtcbiAgICAgIGZ1bmN0aW9uIHAoeSwgeCwgdywgSSkge1xuICAgICAgICB2YXIgUiA9IHcgPyBcIlwiIDogSS5tZWRpYSA/IFwiQG1lZGlhIFwiLmNvbmNhdChJLm1lZGlhLCBcIiB7XCIpLmNvbmNhdChJLmNzcywgXCJ9XCIpIDogSS5jc3M7XG4gICAgICAgIGlmICh5LnN0eWxlU2hlZXQpXG4gICAgICAgICAgeS5zdHlsZVNoZWV0LmNzc1RleHQgPSBrKHgsIFIpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgYiA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFIpLCBnID0geS5jaGlsZE5vZGVzO1xuICAgICAgICAgIGdbeF0gJiYgeS5yZW1vdmVDaGlsZChnW3hdKSwgZy5sZW5ndGggPyB5Lmluc2VydEJlZm9yZShiLCBnW3hdKSA6IHkuYXBwZW5kQ2hpbGQoYik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHYoeSwgeCwgdykge1xuICAgICAgICB2YXIgSSA9IHcuY3NzLCBSID0gdy5tZWRpYSwgYiA9IHcuc291cmNlTWFwO1xuICAgICAgICBpZiAoUiA/IHkuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgUikgOiB5LnJlbW92ZUF0dHJpYnV0ZShcIm1lZGlhXCIpLCBiICYmIGJ0b2EgJiYgKEkgKz0gYFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxgLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShiKSkpKSwgXCIgKi9cIikpLCB5LnN0eWxlU2hlZXQpXG4gICAgICAgICAgeS5zdHlsZVNoZWV0LmNzc1RleHQgPSBJO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBmb3IgKDsgeS5maXJzdENoaWxkOyApXG4gICAgICAgICAgICB5LnJlbW92ZUNoaWxkKHkuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgeS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShJKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBBID0gbnVsbCwgTiA9IDA7XG4gICAgICBmdW5jdGlvbiBfKHksIHgpIHtcbiAgICAgICAgdmFyIHcsIEksIFI7XG4gICAgICAgIGlmICh4LnNpbmdsZXRvbikge1xuICAgICAgICAgIHZhciBiID0gTisrO1xuICAgICAgICAgIHcgPSBBIHx8IChBID0gaCh4KSksIEkgPSBwLmJpbmQobnVsbCwgdywgYiwgITEpLCBSID0gcC5iaW5kKG51bGwsIHcsIGIsICEwKTtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgdyA9IGgoeCksIEkgPSB2LmJpbmQobnVsbCwgdywgeCksIFIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIChmdW5jdGlvbihnKSB7XG4gICAgICAgICAgICAgIGlmIChnLnBhcmVudE5vZGUgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICAgICAgICBnLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZyk7XG4gICAgICAgICAgICB9KSh3KTtcbiAgICAgICAgICB9O1xuICAgICAgICByZXR1cm4gSSh5KSwgZnVuY3Rpb24oZykge1xuICAgICAgICAgIGlmIChnKSB7XG4gICAgICAgICAgICBpZiAoZy5jc3MgPT09IHkuY3NzICYmIGcubWVkaWEgPT09IHkubWVkaWEgJiYgZy5zb3VyY2VNYXAgPT09IHkuc291cmNlTWFwKVxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBJKHkgPSBnKTtcbiAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgIFIoKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHQuZXhwb3J0cyA9IGZ1bmN0aW9uKHksIHgpIHtcbiAgICAgICAgKHggPSB4IHx8IHt9KS5zaW5nbGV0b24gfHwgdHlwZW9mIHguc2luZ2xldG9uID09IFwiYm9vbGVhblwiIHx8ICh4LnNpbmdsZXRvbiA9IHIoKSk7XG4gICAgICAgIHZhciB3ID0gdSh5ID0geSB8fCBbXSwgeCk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihJKSB7XG4gICAgICAgICAgaWYgKEkgPSBJIHx8IFtdLCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoSSkgPT09IFwiW29iamVjdCBBcnJheV1cIikge1xuICAgICAgICAgICAgZm9yICh2YXIgUiA9IDA7IFIgPCB3Lmxlbmd0aDsgUisrKSB7XG4gICAgICAgICAgICAgIHZhciBiID0gYyh3W1JdKTtcbiAgICAgICAgICAgICAgbFtiXS5yZWZlcmVuY2VzLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBnID0gdShJLCB4KSwgRSA9IDA7IEUgPCB3Lmxlbmd0aDsgRSsrKSB7XG4gICAgICAgICAgICAgIHZhciBUID0gYyh3W0VdKTtcbiAgICAgICAgICAgICAgbFtUXS5yZWZlcmVuY2VzID09PSAwICYmIChsW1RdLnVwZGF0ZXIoKSwgbC5zcGxpY2UoVCwgMSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdyA9IGc7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfTtcbiAgICB9LCBmdW5jdGlvbih0LCBvLCBpKSB7XG4gICAgICAobyA9IGkoMykoITEpKS5wdXNoKFt0LmksIGAuY2UtcGFyYWdyYXBoIHtcbiAgICBsaW5lLWhlaWdodDogMS42ZW07XG4gICAgb3V0bGluZTogbm9uZTtcbn1cblxuLmNlLXBhcmFncmFwaFtkYXRhLXBsYWNlaG9sZGVyXTplbXB0eTo6YmVmb3Jle1xuICBjb250ZW50OiBhdHRyKGRhdGEtcGxhY2Vob2xkZXIpO1xuICBjb2xvcjogIzcwNzY4NDtcbiAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbiAgb3BhY2l0eTogMDtcbn1cblxuLyoqIFNob3cgcGxhY2Vob2xkZXIgYXQgdGhlIGZpcnN0IHBhcmFncmFwaCBpZiBFZGl0b3IgaXMgZW1wdHkgKi9cbi5jb2RleC1lZGl0b3ItLWVtcHR5IC5jZS1ibG9jazpmaXJzdC1jaGlsZCAuY2UtcGFyYWdyYXBoW2RhdGEtcGxhY2Vob2xkZXJdOmVtcHR5OjpiZWZvcmUge1xuICBvcGFjaXR5OiAxO1xufVxuXG4uY29kZXgtZWRpdG9yLS10b29sYm94LW9wZW5lZCAuY2UtYmxvY2s6Zmlyc3QtY2hpbGQgLmNlLXBhcmFncmFwaFtkYXRhLXBsYWNlaG9sZGVyXTplbXB0eTo6YmVmb3JlLFxuLmNvZGV4LWVkaXRvci0tZW1wdHkgLmNlLWJsb2NrOmZpcnN0LWNoaWxkIC5jZS1wYXJhZ3JhcGhbZGF0YS1wbGFjZWhvbGRlcl06ZW1wdHk6Zm9jdXM6OmJlZm9yZSB7XG4gIG9wYWNpdHk6IDA7XG59XG5cbi5jZS1wYXJhZ3JhcGggcDpmaXJzdC1vZi10eXBle1xuICAgIG1hcmdpbi10b3A6IDA7XG59XG5cbi5jZS1wYXJhZ3JhcGggcDpsYXN0LW9mLXR5cGV7XG4gICAgbWFyZ2luLWJvdHRvbTogMDtcbn1cbmAsIFwiXCJdKSwgdC5leHBvcnRzID0gbztcbiAgICB9LCBmdW5jdGlvbih0LCBvLCBpKSB7XG4gICAgICB0LmV4cG9ydHMgPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIHZhciByID0gW107XG4gICAgICAgIHJldHVybiByLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgIHZhciBsID0gZnVuY3Rpb24oYywgdSkge1xuICAgICAgICAgICAgICB2YXIgaCA9IGNbMV0gfHwgXCJcIiwgZiA9IGNbM107XG4gICAgICAgICAgICAgIGlmICghZilcbiAgICAgICAgICAgICAgICByZXR1cm4gaDtcbiAgICAgICAgICAgICAgaWYgKHUgJiYgdHlwZW9mIGJ0b2EgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgdmFyIGsgPSAodiA9IGYsIEEgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeSh2KSkpKSwgTiA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KEEpLCBcIi8qIyBcIi5jb25jYXQoTiwgXCIgKi9cIikpLCBwID0gZi5zb3VyY2VzLm1hcChmdW5jdGlvbihfKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChmLnNvdXJjZVJvb3QgfHwgXCJcIikuY29uY2F0KF8sIFwiICovXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBbaF0uY29uY2F0KHApLmNvbmNhdChba10pLmpvaW4oYFxuYCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdmFyIHYsIEEsIE47XG4gICAgICAgICAgICAgIHJldHVybiBbaF0uam9pbihgXG5gKTtcbiAgICAgICAgICAgIH0oYSwgbik7XG4gICAgICAgICAgICByZXR1cm4gYVsyXSA/IFwiQG1lZGlhIFwiLmNvbmNhdChhWzJdLCBcIiB7XCIpLmNvbmNhdChsLCBcIn1cIikgOiBsO1xuICAgICAgICAgIH0pLmpvaW4oXCJcIik7XG4gICAgICAgIH0sIHIuaSA9IGZ1bmN0aW9uKGEsIGwsIGMpIHtcbiAgICAgICAgICB0eXBlb2YgYSA9PSBcInN0cmluZ1wiICYmIChhID0gW1tudWxsLCBhLCBcIlwiXV0pO1xuICAgICAgICAgIHZhciB1ID0ge307XG4gICAgICAgICAgaWYgKGMpXG4gICAgICAgICAgICBmb3IgKHZhciBoID0gMDsgaCA8IHRoaXMubGVuZ3RoOyBoKyspIHtcbiAgICAgICAgICAgICAgdmFyIGYgPSB0aGlzW2hdWzBdO1xuICAgICAgICAgICAgICBmICE9IG51bGwgJiYgKHVbZl0gPSAhMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBhLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICB2YXIgcCA9IFtdLmNvbmNhdChhW2tdKTtcbiAgICAgICAgICAgIGMgJiYgdVtwWzBdXSB8fCAobCAmJiAocFsyXSA/IHBbMl0gPSBcIlwiLmNvbmNhdChsLCBcIiBhbmQgXCIpLmNvbmNhdChwWzJdKSA6IHBbMl0gPSBsKSwgci5wdXNoKHApKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHI7XG4gICAgICB9O1xuICAgIH0sIGZ1bmN0aW9uKHQsIG8sIGkpIHtcbiAgICAgIGkucihvKSwgaS5kKG8sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgICB9KSwgaSgwKTtcbiAgICAgIGZ1bmN0aW9uIG4obCwgYykge1xuICAgICAgICBmb3IgKHZhciB1ID0gMDsgdSA8IGMubGVuZ3RoOyB1KyspIHtcbiAgICAgICAgICB2YXIgaCA9IGNbdV07XG4gICAgICAgICAgaC5lbnVtZXJhYmxlID0gaC5lbnVtZXJhYmxlIHx8ICExLCBoLmNvbmZpZ3VyYWJsZSA9ICEwLCBcInZhbHVlXCIgaW4gaCAmJiAoaC53cml0YWJsZSA9ICEwKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGwsIGgua2V5LCBoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZnVuY3Rpb24gcihsLCBjLCB1KSB7XG4gICAgICAgIHJldHVybiBjICYmIG4obC5wcm90b3R5cGUsIGMpLCB1ICYmIG4obCwgdSksIGw7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIEJhc2UgUGFyYWdyYXBoIEJsb2NrIGZvciB0aGUgRWRpdG9yLmpzLlxuICAgICAgICogUmVwcmVzZW50cyBhIHJlZ3VsYXIgdGV4dCBibG9ja1xuICAgICAgICpcbiAgICAgICAqIEBhdXRob3IgQ29kZVggKHRlYW1AY29kZXguc28pXG4gICAgICAgKiBAY29weXJpZ2h0IENvZGVYIDIwMThcbiAgICAgICAqIEBsaWNlbnNlIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxuICAgICAgICovXG4gICAgICB2YXIgYSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBmdW5jdGlvbiBsKGMpIHtcbiAgICAgICAgICB2YXIgdSA9IGMuZGF0YSwgaCA9IGMuY29uZmlnLCBmID0gYy5hcGksIGsgPSBjLnJlYWRPbmx5O1xuICAgICAgICAgIChmdW5jdGlvbihwLCB2KSB7XG4gICAgICAgICAgICBpZiAoIShwIGluc3RhbmNlb2YgdikpXG4gICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gICAgICAgICAgfSkodGhpcywgbCksIHRoaXMuYXBpID0gZiwgdGhpcy5yZWFkT25seSA9IGssIHRoaXMuX0NTUyA9IHsgYmxvY2s6IHRoaXMuYXBpLnN0eWxlcy5ibG9jaywgd3JhcHBlcjogXCJjZS1wYXJhZ3JhcGhcIiB9LCB0aGlzLnJlYWRPbmx5IHx8ICh0aGlzLm9uS2V5VXAgPSB0aGlzLm9uS2V5VXAuYmluZCh0aGlzKSksIHRoaXMuX3BsYWNlaG9sZGVyID0gaC5wbGFjZWhvbGRlciA/IGgucGxhY2Vob2xkZXIgOiBsLkRFRkFVTFRfUExBQ0VIT0xERVIsIHRoaXMuX2RhdGEgPSB7fSwgdGhpcy5fZWxlbWVudCA9IG51bGwsIHRoaXMuX3ByZXNlcnZlQmxhbmsgPSBoLnByZXNlcnZlQmxhbmsgIT09IHZvaWQgMCAmJiBoLnByZXNlcnZlQmxhbmssIHRoaXMuZGF0YSA9IHU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHIobCwgbnVsbCwgW3sga2V5OiBcIkRFRkFVTFRfUExBQ0VIT0xERVJcIiwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgfSB9XSksIHIobCwgW3sga2V5OiBcIm9uS2V5VXBcIiwgdmFsdWU6IGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgICBjLmNvZGUgIT09IFwiQmFja3NwYWNlXCIgJiYgYy5jb2RlICE9PSBcIkRlbGV0ZVwiIHx8IHRoaXMuX2VsZW1lbnQudGV4dENvbnRlbnQgPT09IFwiXCIgJiYgKHRoaXMuX2VsZW1lbnQuaW5uZXJIVE1MID0gXCJcIik7XG4gICAgICAgIH0gfSwgeyBrZXk6IFwiZHJhd1ZpZXdcIiwgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKTtcbiAgICAgICAgICByZXR1cm4gYy5jbGFzc0xpc3QuYWRkKHRoaXMuX0NTUy53cmFwcGVyLCB0aGlzLl9DU1MuYmxvY2spLCBjLmNvbnRlbnRFZGl0YWJsZSA9ICExLCBjLmRhdGFzZXQucGxhY2Vob2xkZXIgPSB0aGlzLmFwaS5pMThuLnQodGhpcy5fcGxhY2Vob2xkZXIpLCB0aGlzLnJlYWRPbmx5IHx8IChjLmNvbnRlbnRFZGl0YWJsZSA9ICEwLCBjLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLm9uS2V5VXApKSwgYztcbiAgICAgICAgfSB9LCB7IGtleTogXCJyZW5kZXJcIiwgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50ID09PSBudWxsICYmICh0aGlzLl9lbGVtZW50ID0gdGhpcy5kcmF3VmlldygpKSwgdGhpcy5oeWRyYXRlKCksIHRoaXMuX2VsZW1lbnQ7XG4gICAgICAgIH0gfSwgeyBrZXk6IFwibWVyZ2VcIiwgdmFsdWU6IGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgICB2YXIgdSA9IHsgdGV4dDogdGhpcy5kYXRhLnRleHQgKyBjLnRleHQgfTtcbiAgICAgICAgICB0aGlzLmRhdGEgPSB1O1xuICAgICAgICB9IH0sIHsga2V5OiBcInZhbGlkYXRlXCIsIHZhbHVlOiBmdW5jdGlvbihjKSB7XG4gICAgICAgICAgcmV0dXJuICEoYy50ZXh0LnRyaW0oKSA9PT0gXCJcIiAmJiAhdGhpcy5fcHJlc2VydmVCbGFuayk7XG4gICAgICAgIH0gfSwgeyBrZXk6IFwic2F2ZVwiLCB2YWx1ZTogZnVuY3Rpb24oYykge1xuICAgICAgICAgIHJldHVybiB7IHRleHQ6IGMuaW5uZXJIVE1MIH07XG4gICAgICAgIH0gfSwgeyBrZXk6IFwib25QYXN0ZVwiLCB2YWx1ZTogZnVuY3Rpb24oYykge1xuICAgICAgICAgIHZhciB1ID0geyB0ZXh0OiBjLmRldGFpbC5kYXRhLmlubmVySFRNTCB9O1xuICAgICAgICAgIHRoaXMuZGF0YSA9IHU7XG4gICAgICAgIH0gfSwgeyBrZXk6IFwiaHlkcmF0ZVwiLCB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGMgPSB0aGlzO1xuICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBjLl9lbGVtZW50LmlubmVySFRNTCA9IGMuX2RhdGEudGV4dCB8fCBcIlwiO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IH0sIHsga2V5OiBcImRhdGFcIiwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAodGhpcy5fZWxlbWVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGMgPSB0aGlzLl9lbGVtZW50LmlubmVySFRNTDtcbiAgICAgICAgICAgIHRoaXMuX2RhdGEudGV4dCA9IGM7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aGlzLl9kYXRhO1xuICAgICAgICB9LCBzZXQ6IGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgICB0aGlzLl9kYXRhID0gYyB8fCB7fSwgdGhpcy5fZWxlbWVudCAhPT0gbnVsbCAmJiB0aGlzLmh5ZHJhdGUoKTtcbiAgICAgICAgfSB9XSwgW3sga2V5OiBcImNvbnZlcnNpb25Db25maWdcIiwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4geyBleHBvcnQ6IFwidGV4dFwiLCBpbXBvcnQ6IFwidGV4dFwiIH07XG4gICAgICAgIH0gfSwgeyBrZXk6IFwic2FuaXRpemVcIiwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4geyB0ZXh0OiB7IGJyOiAhMCB9IH07XG4gICAgICAgIH0gfSwgeyBrZXk6IFwiaXNSZWFkT25seVN1cHBvcnRlZFwiLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgICAgfSB9LCB7IGtleTogXCJwYXN0ZUNvbmZpZ1wiLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiB7IHRhZ3M6IFtcIlBcIl0gfTtcbiAgICAgICAgfSB9LCB7IGtleTogXCJ0b29sYm94XCIsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHsgaWNvbjogJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk04IDlWNy4yQzggNy4wODk1NCA4LjA4OTU0IDcgOC4yIDdMMTIgN00xNiA5VjcuMkMxNiA3LjA4OTU0IDE1LjkxMDUgNyAxNS44IDdMMTIgN00xMiA3TDEyIDE3TTEyIDE3SDEwTTEyIDE3SDE0XCIvPjwvc3ZnPicsIHRpdGxlOiBcIlRleHRcIiB9O1xuICAgICAgICB9IH1dKSwgbDtcbiAgICAgIH0oKTtcbiAgICB9XSkuZGVmYXVsdDtcbiAgfSk7XG59KShzaSk7XG5jb25zdCByaSA9IC8qIEBfX1BVUkVfXyAqLyB4ZShOZSk7XG5jbGFzcyBXZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuY29tbWFuZE5hbWUgPSBcImJvbGRcIiwgdGhpcy5DU1MgPSB7XG4gICAgICBidXR0b246IFwiY2UtaW5saW5lLXRvb2xcIixcbiAgICAgIGJ1dHRvbkFjdGl2ZTogXCJjZS1pbmxpbmUtdG9vbC0tYWN0aXZlXCIsXG4gICAgICBidXR0b25Nb2RpZmllcjogXCJjZS1pbmxpbmUtdG9vbC0tYm9sZFwiXG4gICAgfSwgdGhpcy5ub2RlcyA9IHtcbiAgICAgIGJ1dHRvbjogdm9pZCAwXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogU2FuaXRpemVyIFJ1bGVcbiAgICogTGVhdmUgPGI+IHRhZ3NcbiAgICpcbiAgICogQHJldHVybnMge29iamVjdH1cbiAgICovXG4gIHN0YXRpYyBnZXQgc2FuaXRpemUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGI6IHt9XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGJ1dHRvbiBmb3IgSW5saW5lIFRvb2xiYXJcbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5ub2Rlcy5idXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpLCB0aGlzLm5vZGVzLmJ1dHRvbi50eXBlID0gXCJidXR0b25cIiwgdGhpcy5ub2Rlcy5idXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy5idXR0b24sIHRoaXMuQ1NTLmJ1dHRvbk1vZGlmaWVyKSwgdGhpcy5ub2Rlcy5idXR0b24uaW5uZXJIVE1MID0gU28sIHRoaXMubm9kZXMuYnV0dG9uO1xuICB9XG4gIC8qKlxuICAgKiBXcmFwIHJhbmdlIHdpdGggPGI+IHRhZ1xuICAgKi9cbiAgc3Vycm91bmQoKSB7XG4gICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQodGhpcy5jb21tYW5kTmFtZSk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIHNlbGVjdGlvbiBhbmQgc2V0IGFjdGl2YXRlZCBzdGF0ZSB0byBidXR0b24gaWYgdGhlcmUgYXJlIDxiPiB0YWdcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBjaGVja1N0YXRlKCkge1xuICAgIGNvbnN0IGUgPSBkb2N1bWVudC5xdWVyeUNvbW1hbmRTdGF0ZSh0aGlzLmNvbW1hbmROYW1lKTtcbiAgICByZXR1cm4gdGhpcy5ub2Rlcy5idXR0b24uY2xhc3NMaXN0LnRvZ2dsZSh0aGlzLkNTUy5idXR0b25BY3RpdmUsIGUpLCBlO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgYSBzaG9ydGN1dFxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBzaG9ydGN1dCgpIHtcbiAgICByZXR1cm4gXCJDTUQrQlwiO1xuICB9XG59XG5XZS5pc0lubGluZSA9ICEwO1xuV2UudGl0bGUgPSBcIkJvbGRcIjtcbmNsYXNzIFllIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jb21tYW5kTmFtZSA9IFwiaXRhbGljXCIsIHRoaXMuQ1NTID0ge1xuICAgICAgYnV0dG9uOiBcImNlLWlubGluZS10b29sXCIsXG4gICAgICBidXR0b25BY3RpdmU6IFwiY2UtaW5saW5lLXRvb2wtLWFjdGl2ZVwiLFxuICAgICAgYnV0dG9uTW9kaWZpZXI6IFwiY2UtaW5saW5lLXRvb2wtLWl0YWxpY1wiXG4gICAgfSwgdGhpcy5ub2RlcyA9IHtcbiAgICAgIGJ1dHRvbjogbnVsbFxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFNhbml0aXplciBSdWxlXG4gICAqIExlYXZlIDxpPiB0YWdzXG4gICAqXG4gICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAqL1xuICBzdGF0aWMgZ2V0IHNhbml0aXplKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpOiB7fVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBidXR0b24gZm9yIElubGluZSBUb29sYmFyXG4gICAqL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXMuYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKSwgdGhpcy5ub2Rlcy5idXR0b24udHlwZSA9IFwiYnV0dG9uXCIsIHRoaXMubm9kZXMuYnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5DU1MuYnV0dG9uLCB0aGlzLkNTUy5idXR0b25Nb2RpZmllciksIHRoaXMubm9kZXMuYnV0dG9uLmlubmVySFRNTCA9IE9vLCB0aGlzLm5vZGVzLmJ1dHRvbjtcbiAgfVxuICAvKipcbiAgICogV3JhcCByYW5nZSB3aXRoIDxpPiB0YWdcbiAgICovXG4gIHN1cnJvdW5kKCkge1xuICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKHRoaXMuY29tbWFuZE5hbWUpO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBzZWxlY3Rpb24gYW5kIHNldCBhY3RpdmF0ZWQgc3RhdGUgdG8gYnV0dG9uIGlmIHRoZXJlIGFyZSA8aT4gdGFnXG4gICAqL1xuICBjaGVja1N0YXRlKCkge1xuICAgIGNvbnN0IGUgPSBkb2N1bWVudC5xdWVyeUNvbW1hbmRTdGF0ZSh0aGlzLmNvbW1hbmROYW1lKTtcbiAgICByZXR1cm4gdGhpcy5ub2Rlcy5idXR0b24uY2xhc3NMaXN0LnRvZ2dsZSh0aGlzLkNTUy5idXR0b25BY3RpdmUsIGUpLCBlO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgYSBzaG9ydGN1dFxuICAgKi9cbiAgZ2V0IHNob3J0Y3V0KCkge1xuICAgIHJldHVybiBcIkNNRCtJXCI7XG4gIH1cbn1cblllLmlzSW5saW5lID0gITA7XG5ZZS50aXRsZSA9IFwiSXRhbGljXCI7XG5jbGFzcyBLZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0gYXBpIC0gRWRpdG9yLmpzIEFQSVxuICAgKi9cbiAgY29uc3RydWN0b3IoeyBhcGk6IGUgfSkge1xuICAgIHRoaXMuY29tbWFuZExpbmsgPSBcImNyZWF0ZUxpbmtcIiwgdGhpcy5jb21tYW5kVW5saW5rID0gXCJ1bmxpbmtcIiwgdGhpcy5FTlRFUl9LRVkgPSAxMywgdGhpcy5DU1MgPSB7XG4gICAgICBidXR0b246IFwiY2UtaW5saW5lLXRvb2xcIixcbiAgICAgIGJ1dHRvbkFjdGl2ZTogXCJjZS1pbmxpbmUtdG9vbC0tYWN0aXZlXCIsXG4gICAgICBidXR0b25Nb2RpZmllcjogXCJjZS1pbmxpbmUtdG9vbC0tbGlua1wiLFxuICAgICAgYnV0dG9uVW5saW5rOiBcImNlLWlubGluZS10b29sLS11bmxpbmtcIixcbiAgICAgIGlucHV0OiBcImNlLWlubGluZS10b29sLWlucHV0XCIsXG4gICAgICBpbnB1dFNob3dlZDogXCJjZS1pbmxpbmUtdG9vbC1pbnB1dC0tc2hvd2VkXCJcbiAgICB9LCB0aGlzLm5vZGVzID0ge1xuICAgICAgYnV0dG9uOiBudWxsLFxuICAgICAgaW5wdXQ6IG51bGxcbiAgICB9LCB0aGlzLmlucHV0T3BlbmVkID0gITEsIHRoaXMudG9vbGJhciA9IGUudG9vbGJhciwgdGhpcy5pbmxpbmVUb29sYmFyID0gZS5pbmxpbmVUb29sYmFyLCB0aGlzLm5vdGlmaWVyID0gZS5ub3RpZmllciwgdGhpcy5pMThuID0gZS5pMThuLCB0aGlzLnNlbGVjdGlvbiA9IG5ldyBtKCk7XG4gIH1cbiAgLyoqXG4gICAqIFNhbml0aXplciBSdWxlXG4gICAqIExlYXZlIDxhPiB0YWdzXG4gICAqXG4gICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAqL1xuICBzdGF0aWMgZ2V0IHNhbml0aXplKCkge1xuICAgIHJldHVybiB7XG4gICAgICBhOiB7XG4gICAgICAgIGhyZWY6ICEwLFxuICAgICAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgICAgIHJlbDogXCJub2ZvbGxvd1wiXG4gICAgICB9XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGJ1dHRvbiBmb3IgSW5saW5lIFRvb2xiYXJcbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5ub2Rlcy5idXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpLCB0aGlzLm5vZGVzLmJ1dHRvbi50eXBlID0gXCJidXR0b25cIiwgdGhpcy5ub2Rlcy5idXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy5idXR0b24sIHRoaXMuQ1NTLmJ1dHRvbk1vZGlmaWVyKSwgdGhpcy5ub2Rlcy5idXR0b24uaW5uZXJIVE1MID0gUWUsIHRoaXMubm9kZXMuYnV0dG9uO1xuICB9XG4gIC8qKlxuICAgKiBJbnB1dCBmb3IgdGhlIGxpbmtcbiAgICovXG4gIHJlbmRlckFjdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXMuaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksIHRoaXMubm9kZXMuaW5wdXQucGxhY2Vob2xkZXIgPSB0aGlzLmkxOG4udChcIkFkZCBhIGxpbmtcIiksIHRoaXMubm9kZXMuaW5wdXQuY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy5pbnB1dCksIHRoaXMubm9kZXMuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHtcbiAgICAgIGUua2V5Q29kZSA9PT0gdGhpcy5FTlRFUl9LRVkgJiYgdGhpcy5lbnRlclByZXNzZWQoZSk7XG4gICAgfSksIHRoaXMubm9kZXMuaW5wdXQ7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBjbGlja3Mgb24gdGhlIElubGluZSBUb29sYmFyIGljb25cbiAgICpcbiAgICogQHBhcmFtIHtSYW5nZX0gcmFuZ2UgLSByYW5nZSB0byB3cmFwIHdpdGggbGlua1xuICAgKi9cbiAgc3Vycm91bmQoZSkge1xuICAgIGlmIChlKSB7XG4gICAgICB0aGlzLmlucHV0T3BlbmVkID8gKHRoaXMuc2VsZWN0aW9uLnJlc3RvcmUoKSwgdGhpcy5zZWxlY3Rpb24ucmVtb3ZlRmFrZUJhY2tncm91bmQoKSkgOiAodGhpcy5zZWxlY3Rpb24uc2V0RmFrZUJhY2tncm91bmQoKSwgdGhpcy5zZWxlY3Rpb24uc2F2ZSgpKTtcbiAgICAgIGNvbnN0IHQgPSB0aGlzLnNlbGVjdGlvbi5maW5kUGFyZW50VGFnKFwiQVwiKTtcbiAgICAgIGlmICh0KSB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLmV4cGFuZFRvVGFnKHQpLCB0aGlzLnVubGluaygpLCB0aGlzLmNsb3NlQWN0aW9ucygpLCB0aGlzLmNoZWNrU3RhdGUoKSwgdGhpcy50b29sYmFyLmNsb3NlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy50b2dnbGVBY3Rpb25zKCk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIHNlbGVjdGlvbiBhbmQgc2V0IGFjdGl2YXRlZCBzdGF0ZSB0byBidXR0b24gaWYgdGhlcmUgYXJlIDxhPiB0YWdcbiAgICovXG4gIGNoZWNrU3RhdGUoKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuc2VsZWN0aW9uLmZpbmRQYXJlbnRUYWcoXCJBXCIpO1xuICAgIGlmIChlKSB7XG4gICAgICB0aGlzLm5vZGVzLmJ1dHRvbi5pbm5lckhUTUwgPSBSbywgdGhpcy5ub2Rlcy5idXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy5idXR0b25VbmxpbmspLCB0aGlzLm5vZGVzLmJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLmJ1dHRvbkFjdGl2ZSksIHRoaXMub3BlbkFjdGlvbnMoKTtcbiAgICAgIGNvbnN0IHQgPSBlLmdldEF0dHJpYnV0ZShcImhyZWZcIik7XG4gICAgICB0aGlzLm5vZGVzLmlucHV0LnZhbHVlID0gdCAhPT0gXCJudWxsXCIgPyB0IDogXCJcIiwgdGhpcy5zZWxlY3Rpb24uc2F2ZSgpO1xuICAgIH0gZWxzZVxuICAgICAgdGhpcy5ub2Rlcy5idXR0b24uaW5uZXJIVE1MID0gUWUsIHRoaXMubm9kZXMuYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5DU1MuYnV0dG9uVW5saW5rKSwgdGhpcy5ub2Rlcy5idXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNTUy5idXR0b25BY3RpdmUpO1xuICAgIHJldHVybiAhIWU7XG4gIH1cbiAgLyoqXG4gICAqIEZ1bmN0aW9uIGNhbGxlZCB3aXRoIElubGluZSBUb29sYmFyIGNsb3NpbmdcbiAgICovXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuY2xvc2VBY3Rpb25zKCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldCBhIHNob3J0Y3V0XG4gICAqL1xuICBnZXQgc2hvcnRjdXQoKSB7XG4gICAgcmV0dXJuIFwiQ01EK0tcIjtcbiAgfVxuICAvKipcbiAgICogU2hvdy9jbG9zZSBsaW5rIGlucHV0XG4gICAqL1xuICB0b2dnbGVBY3Rpb25zKCkge1xuICAgIHRoaXMuaW5wdXRPcGVuZWQgPyB0aGlzLmNsb3NlQWN0aW9ucyghMSkgOiB0aGlzLm9wZW5BY3Rpb25zKCEwKTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtib29sZWFufSBuZWVkRm9jdXMgLSBvbiBsaW5rIGNyZWF0aW9uIHdlIG5lZWQgdG8gZm9jdXMgaW5wdXQuIE9uIGVkaXRpbmcgLSBub3BlLlxuICAgKi9cbiAgb3BlbkFjdGlvbnMoZSA9ICExKSB7XG4gICAgdGhpcy5ub2Rlcy5pbnB1dC5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLmlucHV0U2hvd2VkKSwgZSAmJiB0aGlzLm5vZGVzLmlucHV0LmZvY3VzKCksIHRoaXMuaW5wdXRPcGVuZWQgPSAhMDtcbiAgfVxuICAvKipcbiAgICogQ2xvc2UgaW5wdXRcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBjbGVhclNhdmVkU2VsZWN0aW9uIOKAlCB3ZSBkb24ndCBuZWVkIHRvIGNsZWFyIHNhdmVkIHNlbGVjdGlvblxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbiB0b2dnbGUtY2xpY2tzIG9uIHRoZSBpY29uIG9mIG9wZW5lZCBUb29sYmFyXG4gICAqL1xuICBjbG9zZUFjdGlvbnMoZSA9ICEwKSB7XG4gICAgaWYgKHRoaXMuc2VsZWN0aW9uLmlzRmFrZUJhY2tncm91bmRFbmFibGVkKSB7XG4gICAgICBjb25zdCB0ID0gbmV3IG0oKTtcbiAgICAgIHQuc2F2ZSgpLCB0aGlzLnNlbGVjdGlvbi5yZXN0b3JlKCksIHRoaXMuc2VsZWN0aW9uLnJlbW92ZUZha2VCYWNrZ3JvdW5kKCksIHQucmVzdG9yZSgpO1xuICAgIH1cbiAgICB0aGlzLm5vZGVzLmlucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5DU1MuaW5wdXRTaG93ZWQpLCB0aGlzLm5vZGVzLmlucHV0LnZhbHVlID0gXCJcIiwgZSAmJiB0aGlzLnNlbGVjdGlvbi5jbGVhclNhdmVkKCksIHRoaXMuaW5wdXRPcGVuZWQgPSAhMTtcbiAgfVxuICAvKipcbiAgICogRW50ZXIgcHJlc3NlZCBvbiBpbnB1dFxuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0gZW50ZXIga2V5ZG93biBldmVudFxuICAgKi9cbiAgZW50ZXJQcmVzc2VkKGUpIHtcbiAgICBsZXQgdCA9IHRoaXMubm9kZXMuaW5wdXQudmFsdWUgfHwgXCJcIjtcbiAgICBpZiAoIXQudHJpbSgpKSB7XG4gICAgICB0aGlzLnNlbGVjdGlvbi5yZXN0b3JlKCksIHRoaXMudW5saW5rKCksIGUucHJldmVudERlZmF1bHQoKSwgdGhpcy5jbG9zZUFjdGlvbnMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCF0aGlzLnZhbGlkYXRlVVJMKHQpKSB7XG4gICAgICB0aGlzLm5vdGlmaWVyLnNob3coe1xuICAgICAgICBtZXNzYWdlOiBcIlBhc3RlZCBsaW5rIGlzIG5vdCB2YWxpZC5cIixcbiAgICAgICAgc3R5bGU6IFwiZXJyb3JcIlxuICAgICAgfSksIEwoXCJJbmNvcnJlY3QgTGluayBwYXN0ZWRcIiwgXCJ3YXJuXCIsIHQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0ID0gdGhpcy5wcmVwYXJlTGluayh0KSwgdGhpcy5zZWxlY3Rpb24ucmVzdG9yZSgpLCB0aGlzLnNlbGVjdGlvbi5yZW1vdmVGYWtlQmFja2dyb3VuZCgpLCB0aGlzLmluc2VydExpbmsodCksIGUucHJldmVudERlZmF1bHQoKSwgZS5zdG9wUHJvcGFnYXRpb24oKSwgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwgdGhpcy5zZWxlY3Rpb24uY29sbGFwc2VUb0VuZCgpLCB0aGlzLmlubGluZVRvb2xiYXIuY2xvc2UoKTtcbiAgfVxuICAvKipcbiAgICogRGV0ZWN0cyBpZiBwYXNzZWQgc3RyaW5nIGlzIFVSTFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gc3RyaW5nIHRvIHZhbGlkYXRlXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgdmFsaWRhdGVVUkwoZSkge1xuICAgIHJldHVybiAhL1xccy8udGVzdChlKTtcbiAgfVxuICAvKipcbiAgICogUHJvY2VzcyBsaW5rIGJlZm9yZSBpbmplY3Rpb25cbiAgICogLSBzYW5pdGl6ZVxuICAgKiAtIGFkZCBwcm90b2NvbCBmb3IgbGlua3MgbGlrZSAnZ29vZ2xlLmNvbSdcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxpbmsgLSByYXcgdXNlciBpbnB1dFxuICAgKi9cbiAgcHJlcGFyZUxpbmsoZSkge1xuICAgIHJldHVybiBlID0gZS50cmltKCksIGUgPSB0aGlzLmFkZFByb3RvY29sKGUpLCBlO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgJ2h0dHAnIHByb3RvY29sIHRvIHRoZSBsaW5rcyBsaWtlICd2Yy5ydScsICdnb29nbGUuY29tJ1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGluayAtIHN0cmluZyB0byBwcm9jZXNzXG4gICAqL1xuICBhZGRQcm90b2NvbChlKSB7XG4gICAgaWYgKC9eKFxcdyspOihcXC9cXC8pPy8udGVzdChlKSlcbiAgICAgIHJldHVybiBlO1xuICAgIGNvbnN0IHQgPSAvXlxcL1teL1xcc10vLnRlc3QoZSksIG8gPSBlLnN1YnN0cmluZygwLCAxKSA9PT0gXCIjXCIsIGkgPSAvXlxcL1xcL1teL1xcc10vLnRlc3QoZSk7XG4gICAgcmV0dXJuICF0ICYmICFvICYmICFpICYmIChlID0gXCJodHRwOi8vXCIgKyBlKSwgZTtcbiAgfVxuICAvKipcbiAgICogSW5zZXJ0cyA8YT4gdGFnIHdpdGggXCJocmVmXCJcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxpbmsgLSBcImhyZWZcIiB2YWx1ZVxuICAgKi9cbiAgaW5zZXJ0TGluayhlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuc2VsZWN0aW9uLmZpbmRQYXJlbnRUYWcoXCJBXCIpO1xuICAgIHQgJiYgdGhpcy5zZWxlY3Rpb24uZXhwYW5kVG9UYWcodCksIGRvY3VtZW50LmV4ZWNDb21tYW5kKHRoaXMuY29tbWFuZExpbmssICExLCBlKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyA8YT4gdGFnXG4gICAqL1xuICB1bmxpbmsoKSB7XG4gICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQodGhpcy5jb21tYW5kVW5saW5rKTtcbiAgfVxufVxuS2UuaXNJbmxpbmUgPSAhMDtcbktlLnRpdGxlID0gXCJMaW5rXCI7XG5jbGFzcyBFdCB7XG4gIC8qKlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIGNvbnN0cnVjdG9yIG9wdGlvbnNcbiAgICogQHBhcmFtIG9wdGlvbnMuZGF0YSAtIHN0dWIgdG9vbCBkYXRhXG4gICAqIEBwYXJhbSBvcHRpb25zLmFwaSAtIEVkaXRvci5qcyBBUElcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgZGF0YTogZSwgYXBpOiB0IH0pIHtcbiAgICB0aGlzLkNTUyA9IHtcbiAgICAgIHdyYXBwZXI6IFwiY2Utc3R1YlwiLFxuICAgICAgaW5mbzogXCJjZS1zdHViX19pbmZvXCIsXG4gICAgICB0aXRsZTogXCJjZS1zdHViX190aXRsZVwiLFxuICAgICAgc3VidGl0bGU6IFwiY2Utc3R1Yl9fc3VidGl0bGVcIlxuICAgIH0sIHRoaXMuYXBpID0gdCwgdGhpcy50aXRsZSA9IGUudGl0bGUgfHwgdGhpcy5hcGkuaTE4bi50KFwiRXJyb3JcIiksIHRoaXMuc3VidGl0bGUgPSB0aGlzLmFwaS5pMThuLnQoXCJUaGUgYmxvY2sgY2FuIG5vdCBiZSBkaXNwbGF5ZWQgY29ycmVjdGx5LlwiKSwgdGhpcy5zYXZlZERhdGEgPSBlLnNhdmVkRGF0YSwgdGhpcy53cmFwcGVyID0gdGhpcy5tYWtlKCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgc3R1YiBob2xkZXJcbiAgICpcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiB0aGlzLndyYXBwZXI7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBvcmlnaW5hbCBUb29sIGRhdGFcbiAgICpcbiAgICogQHJldHVybnMge0Jsb2NrVG9vbERhdGF9XG4gICAqL1xuICBzYXZlKCkge1xuICAgIHJldHVybiB0aGlzLnNhdmVkRGF0YTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIFRvb2wgaHRtbCBtYXJrdXBcbiAgICpcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgKi9cbiAgbWFrZSgpIHtcbiAgICBjb25zdCBlID0gZC5tYWtlKFwiZGl2XCIsIHRoaXMuQ1NTLndyYXBwZXIpLCB0ID0gRG8sIG8gPSBkLm1ha2UoXCJkaXZcIiwgdGhpcy5DU1MuaW5mbyksIGkgPSBkLm1ha2UoXCJkaXZcIiwgdGhpcy5DU1MudGl0bGUsIHtcbiAgICAgIHRleHRDb250ZW50OiB0aGlzLnRpdGxlXG4gICAgfSksIG4gPSBkLm1ha2UoXCJkaXZcIiwgdGhpcy5DU1Muc3VidGl0bGUsIHtcbiAgICAgIHRleHRDb250ZW50OiB0aGlzLnN1YnRpdGxlXG4gICAgfSk7XG4gICAgcmV0dXJuIGUuaW5uZXJIVE1MID0gdCwgby5hcHBlbmRDaGlsZChpKSwgby5hcHBlbmRDaGlsZChuKSwgZS5hcHBlbmRDaGlsZChvKSwgZTtcbiAgfVxufVxuRXQuaXNSZWFkT25seVN1cHBvcnRlZCA9ICEwO1xuY2xhc3MgYWkgZXh0ZW5kcyAkZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMudHlwZSA9IHllLklubGluZTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aXRsZSBmb3IgSW5saW5lIFRvb2wgaWYgc3BlY2lmaWVkIGJ5IHVzZXJcbiAgICovXG4gIGdldCB0aXRsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3RhYmxlW1VlLlRpdGxlXTtcbiAgfVxuICAvKipcbiAgICogQ29uc3RydWN0cyBuZXcgSW5saW5lVG9vbCBpbnN0YW5jZSBmcm9tIGNvbnN0cnVjdGFibGVcbiAgICovXG4gIGNyZWF0ZSgpIHtcbiAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0YWJsZSh7XG4gICAgICBhcGk6IHRoaXMuYXBpLmdldE1ldGhvZHNGb3JUb29sKHRoaXMpLFxuICAgICAgY29uZmlnOiB0aGlzLnNldHRpbmdzXG4gICAgfSk7XG4gIH1cbn1cbmNsYXNzIGxpIGV4dGVuZHMgJGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLnR5cGUgPSB5ZS5UdW5lO1xuICB9XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIG5ldyBCbG9ja1R1bmUgaW5zdGFuY2UgZnJvbSBjb25zdHJ1Y3RhYmxlXG4gICAqXG4gICAqIEBwYXJhbSBkYXRhIC0gVHVuZSBkYXRhXG4gICAqIEBwYXJhbSBibG9jayAtIEJsb2NrIEFQSSBvYmplY3RcbiAgICovXG4gIGNyZWF0ZShlLCB0KSB7XG4gICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdGFibGUoe1xuICAgICAgYXBpOiB0aGlzLmFwaS5nZXRNZXRob2RzRm9yVG9vbCh0aGlzKSxcbiAgICAgIGNvbmZpZzogdGhpcy5zZXR0aW5ncyxcbiAgICAgIGJsb2NrOiB0LFxuICAgICAgZGF0YTogZVxuICAgIH0pO1xuICB9XG59XG5jbGFzcyBVIGV4dGVuZHMgTWFwIHtcbiAgLyoqXG4gICAqIFJldHVybnMgQmxvY2sgVG9vbHMgY29sbGVjdGlvblxuICAgKi9cbiAgZ2V0IGJsb2NrVG9vbHMoKSB7XG4gICAgY29uc3QgZSA9IEFycmF5LmZyb20odGhpcy5lbnRyaWVzKCkpLmZpbHRlcigoWywgdF0pID0+IHQuaXNCbG9jaygpKTtcbiAgICByZXR1cm4gbmV3IFUoZSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgSW5saW5lIFRvb2xzIGNvbGxlY3Rpb25cbiAgICovXG4gIGdldCBpbmxpbmVUb29scygpIHtcbiAgICBjb25zdCBlID0gQXJyYXkuZnJvbSh0aGlzLmVudHJpZXMoKSkuZmlsdGVyKChbLCB0XSkgPT4gdC5pc0lubGluZSgpKTtcbiAgICByZXR1cm4gbmV3IFUoZSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgQmxvY2sgVHVuZXMgY29sbGVjdGlvblxuICAgKi9cbiAgZ2V0IGJsb2NrVHVuZXMoKSB7XG4gICAgY29uc3QgZSA9IEFycmF5LmZyb20odGhpcy5lbnRyaWVzKCkpLmZpbHRlcigoWywgdF0pID0+IHQuaXNUdW5lKCkpO1xuICAgIHJldHVybiBuZXcgVShlKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBpbnRlcm5hbCBUb29scyBjb2xsZWN0aW9uXG4gICAqL1xuICBnZXQgaW50ZXJuYWxUb29scygpIHtcbiAgICBjb25zdCBlID0gQXJyYXkuZnJvbSh0aGlzLmVudHJpZXMoKSkuZmlsdGVyKChbLCB0XSkgPT4gdC5pc0ludGVybmFsKTtcbiAgICByZXR1cm4gbmV3IFUoZSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgVG9vbHMgY29sbGVjdGlvbiBwcm92aWRlZCBieSB1c2VyXG4gICAqL1xuICBnZXQgZXh0ZXJuYWxUb29scygpIHtcbiAgICBjb25zdCBlID0gQXJyYXkuZnJvbSh0aGlzLmVudHJpZXMoKSkuZmlsdGVyKChbLCB0XSkgPT4gIXQuaXNJbnRlcm5hbCk7XG4gICAgcmV0dXJuIG5ldyBVKGUpO1xuICB9XG59XG52YXIgY2kgPSBPYmplY3QuZGVmaW5lUHJvcGVydHksIGRpID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciwgQnQgPSAocywgZSwgdCwgbykgPT4ge1xuICBmb3IgKHZhciBpID0gbyA+IDEgPyB2b2lkIDAgOiBvID8gZGkoZSwgdCkgOiBlLCBuID0gcy5sZW5ndGggLSAxLCByOyBuID49IDA7IG4tLSlcbiAgICAociA9IHNbbl0pICYmIChpID0gKG8gPyByKGUsIHQsIGkpIDogcihpKSkgfHwgaSk7XG4gIHJldHVybiBvICYmIGkgJiYgY2koZSwgdCwgaSksIGk7XG59O1xuY2xhc3MgWGUgZXh0ZW5kcyAkZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMudHlwZSA9IHllLkJsb2NrLCB0aGlzLmlubGluZVRvb2xzID0gbmV3IFUoKSwgdGhpcy50dW5lcyA9IG5ldyBVKCk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgbmV3IFRvb2wgaW5zdGFuY2VcbiAgICpcbiAgICogQHBhcmFtIGRhdGEgLSBUb29sIGRhdGFcbiAgICogQHBhcmFtIGJsb2NrIC0gQmxvY2tBUEkgZm9yIGN1cnJlbnQgQmxvY2tcbiAgICogQHBhcmFtIHJlYWRPbmx5IC0gVHJ1ZSBpZiBFZGl0b3IgaXMgaW4gcmVhZC1vbmx5IG1vZGVcbiAgICovXG4gIGNyZWF0ZShlLCB0LCBvKSB7XG4gICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdGFibGUoe1xuICAgICAgZGF0YTogZSxcbiAgICAgIGJsb2NrOiB0LFxuICAgICAgcmVhZE9ubHk6IG8sXG4gICAgICBhcGk6IHRoaXMuYXBpLmdldE1ldGhvZHNGb3JUb29sKHRoaXMpLFxuICAgICAgY29uZmlnOiB0aGlzLnNldHRpbmdzXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiByZWFkLW9ubHkgbW9kZSBpcyBzdXBwb3J0ZWQgYnkgVG9vbFxuICAgKi9cbiAgZ2V0IGlzUmVhZE9ubHlTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RydWN0YWJsZVtzZS5Jc1JlYWRPbmx5U3VwcG9ydGVkXSA9PT0gITA7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBUb29sIHN1cHBvcnRzIGxpbmVicmVha3NcbiAgICovXG4gIGdldCBpc0xpbmVCcmVha3NFbmFibGVkKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdGFibGVbc2UuSXNFbmFibGVkTGluZUJyZWFrc107XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgVG9vbCB0b29sYm94IGNvbmZpZ3VyYXRpb24gKGludGVybmFsIG9yIHVzZXItc3BlY2lmaWVkKS5cbiAgICpcbiAgICogTWVyZ2VzIGludGVybmFsIGFuZCB1c2VyLWRlZmluZWQgdG9vbGJveCBjb25maWdzIGJhc2VkIG9uIHRoZSBmb2xsb3dpbmcgcnVsZXM6XG4gICAqXG4gICAqIC0gSWYgYm90aCBpbnRlcm5hbCBhbmQgdXNlci1kZWZpbmVkIHRvb2xib3ggY29uZmlncyBhcmUgYXJyYXlzIHRoZWlyIGl0ZW1zIGFyZSBtZXJnZWQuXG4gICAqIExlbmd0aCBvZiB0aGUgc2Vjb25kIG9uZSBpcyBrZXB0LlxuICAgKlxuICAgKiAtIElmIGJvdGggYXJlIG9iamVjdHMgdGhlaXIgcHJvcGVydGllcyBhcmUgbWVyZ2VkLlxuICAgKlxuICAgKiAtIElmIG9uZSBpcyBhbiBvYmplY3QgYW5kIGFub3RoZXIgaXMgYW4gYXJyYXkgdGhhbiBpbnRlcm5hbCBjb25maWcgaXMgcmVwbGFjZWQgd2l0aCB1c2VyLWRlZmluZWRcbiAgICogY29uZmlnLiBUaGlzIGlzIG1hZGUgdG8gYWxsb3cgdXNlciB0byBvdmVycmlkZSBkZWZhdWx0IHRvb2wncyB0b29sYm94IHJlcHJlc2VudGF0aW9uIChzaW5nbGUvbXVsdGlwbGUgZW50cmllcylcbiAgICovXG4gIGdldCB0b29sYm94KCkge1xuICAgIGNvbnN0IGUgPSB0aGlzLmNvbnN0cnVjdGFibGVbc2UuVG9vbGJveF0sIHQgPSB0aGlzLmNvbmZpZ1trZS5Ub29sYm94XTtcbiAgICBpZiAoIVYoZSkgJiYgdCAhPT0gITEpXG4gICAgICByZXR1cm4gdCA/IEFycmF5LmlzQXJyYXkoZSkgPyBBcnJheS5pc0FycmF5KHQpID8gdC5tYXAoKG8sIGkpID0+IHtcbiAgICAgICAgY29uc3QgbiA9IGVbaV07XG4gICAgICAgIHJldHVybiBuID8ge1xuICAgICAgICAgIC4uLm4sXG4gICAgICAgICAgLi4ub1xuICAgICAgICB9IDogbztcbiAgICAgIH0pIDogW3RdIDogQXJyYXkuaXNBcnJheSh0KSA/IHQgOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAuLi5lLFxuICAgICAgICAgIC4uLnRcbiAgICAgICAgfVxuICAgICAgXSA6IEFycmF5LmlzQXJyYXkoZSkgPyBlIDogW2VdO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIFRvb2wgY29udmVyc2lvbiBjb25maWd1cmF0aW9uXG4gICAqL1xuICBnZXQgY29udmVyc2lvbkNvbmZpZygpIHtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3RhYmxlW3NlLkNvbnZlcnNpb25Db25maWddO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGVuYWJsZWQgaW5saW5lIHRvb2xzIGZvciBUb29sXG4gICAqL1xuICBnZXQgZW5hYmxlZElubGluZVRvb2xzKCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZ1trZS5FbmFibGVkSW5saW5lVG9vbHNdIHx8ICExO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGVuYWJsZWQgdHVuZXMgZm9yIFRvb2xcbiAgICovXG4gIGdldCBlbmFibGVkQmxvY2tUdW5lcygpIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWdba2UuRW5hYmxlZEJsb2NrVHVuZXNdO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIFRvb2wgcGFzdGUgY29uZmlndXJhdGlvblxuICAgKi9cbiAgZ2V0IHBhc3RlQ29uZmlnKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdGFibGVbc2UuUGFzdGVDb25maWddID8/IHt9O1xuICB9XG4gIGdldCBzYW5pdGl6ZUNvbmZpZygpIHtcbiAgICBjb25zdCBlID0gc3VwZXIuc2FuaXRpemVDb25maWcsIHQgPSB0aGlzLmJhc2VTYW5pdGl6ZUNvbmZpZztcbiAgICBpZiAoVihlKSlcbiAgICAgIHJldHVybiB0O1xuICAgIGNvbnN0IG8gPSB7fTtcbiAgICBmb3IgKGNvbnN0IGkgaW4gZSlcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSwgaSkpIHtcbiAgICAgICAgY29uc3QgbiA9IGVbaV07XG4gICAgICAgIHoobikgPyBvW2ldID0gT2JqZWN0LmFzc2lnbih7fSwgdCwgbikgOiBvW2ldID0gbjtcbiAgICAgIH1cbiAgICByZXR1cm4gbztcbiAgfVxuICBnZXQgYmFzZVNhbml0aXplQ29uZmlnKCkge1xuICAgIGNvbnN0IGUgPSB7fTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmlubGluZVRvb2xzLnZhbHVlcygpKS5mb3JFYWNoKCh0KSA9PiBPYmplY3QuYXNzaWduKGUsIHQuc2FuaXRpemVDb25maWcpKSwgQXJyYXkuZnJvbSh0aGlzLnR1bmVzLnZhbHVlcygpKS5mb3JFYWNoKCh0KSA9PiBPYmplY3QuYXNzaWduKGUsIHQuc2FuaXRpemVDb25maWcpKSwgZTtcbiAgfVxufVxuQnQoW1xuICBjZVxuXSwgWGUucHJvdG90eXBlLCBcInNhbml0aXplQ29uZmlnXCIsIDEpO1xuQnQoW1xuICBjZVxuXSwgWGUucHJvdG90eXBlLCBcImJhc2VTYW5pdGl6ZUNvbmZpZ1wiLCAxKTtcbmNsYXNzIGhpIHtcbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKiBAcGFyYW0gY29uZmlnIC0gdG9vbHMgY29uZmlnXG4gICAqIEBwYXJhbSBlZGl0b3JDb25maWcgLSBFZGl0b3JKUyBjb25maWdcbiAgICogQHBhcmFtIGFwaSAtIEVkaXRvckpTIEFQSSBtb2R1bGVcbiAgICovXG4gIGNvbnN0cnVjdG9yKGUsIHQsIG8pIHtcbiAgICB0aGlzLmFwaSA9IG8sIHRoaXMuY29uZmlnID0gZSwgdGhpcy5lZGl0b3JDb25maWcgPSB0O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIFRvb2wgb2JqZWN0IGJhc2VkIG9uIGl0J3MgdHlwZVxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIHRvb2wgbmFtZVxuICAgKi9cbiAgZ2V0KGUpIHtcbiAgICBjb25zdCB7IGNsYXNzOiB0LCBpc0ludGVybmFsOiBvID0gITEsIC4uLmkgfSA9IHRoaXMuY29uZmlnW2VdLCBuID0gdGhpcy5nZXRDb25zdHJ1Y3Rvcih0KTtcbiAgICByZXR1cm4gbmV3IG4oe1xuICAgICAgbmFtZTogZSxcbiAgICAgIGNvbnN0cnVjdGFibGU6IHQsXG4gICAgICBjb25maWc6IGksXG4gICAgICBhcGk6IHRoaXMuYXBpLFxuICAgICAgaXNEZWZhdWx0OiBlID09PSB0aGlzLmVkaXRvckNvbmZpZy5kZWZhdWx0QmxvY2ssXG4gICAgICBkZWZhdWx0UGxhY2Vob2xkZXI6IHRoaXMuZWRpdG9yQ29uZmlnLnBsYWNlaG9sZGVyLFxuICAgICAgaXNJbnRlcm5hbDogb1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBGaW5kIGFwcHJvcHJpYXRlIFRvb2wgb2JqZWN0IGNvbnN0cnVjdG9yIGZvciBUb29sIGNvbnN0cnVjdGFibGVcbiAgICpcbiAgICogQHBhcmFtIGNvbnN0cnVjdGFibGUgLSBUb29scyBjb25zdHJ1Y3RhYmxlXG4gICAqL1xuICBnZXRDb25zdHJ1Y3RvcihlKSB7XG4gICAgc3dpdGNoICghMCkge1xuICAgICAgY2FzZSBlW1VlLklzSW5saW5lXTpcbiAgICAgICAgcmV0dXJuIGFpO1xuICAgICAgY2FzZSBlW3h0LklzVHVuZV06XG4gICAgICAgIHJldHVybiBsaTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBYZTtcbiAgICB9XG4gIH1cbn1cbmNsYXNzIFR0IHtcbiAgLyoqXG4gICAqIE1vdmVEb3duVHVuZSBjb25zdHJ1Y3RvclxuICAgKlxuICAgKiBAcGFyYW0ge0FQSX0gYXBpIOKAlCBFZGl0b3IncyBBUElcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgYXBpOiBlIH0pIHtcbiAgICB0aGlzLkNTUyA9IHtcbiAgICAgIGFuaW1hdGlvbjogXCJ3b2JibGVcIlxuICAgIH0sIHRoaXMuYXBpID0gZTtcbiAgfVxuICAvKipcbiAgICogVHVuZSdzIGFwcGVhcmFuY2UgaW4gYmxvY2sgc2V0dGluZ3MgbWVudVxuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpY29uOiBmdCxcbiAgICAgIHRpdGxlOiB0aGlzLmFwaS5pMThuLnQoXCJNb3ZlIGRvd25cIiksXG4gICAgICBvbkFjdGl2YXRlOiAoKSA9PiB0aGlzLmhhbmRsZUNsaWNrKCksXG4gICAgICBuYW1lOiBcIm1vdmUtZG93blwiXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIGNsaWNrcyBvbiAnbW92ZSBkb3duJyBidXR0b25cbiAgICovXG4gIGhhbmRsZUNsaWNrKCkge1xuICAgIGNvbnN0IGUgPSB0aGlzLmFwaS5ibG9ja3MuZ2V0Q3VycmVudEJsb2NrSW5kZXgoKSwgdCA9IHRoaXMuYXBpLmJsb2Nrcy5nZXRCbG9ja0J5SW5kZXgoZSArIDEpO1xuICAgIGlmICghdClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBtb3ZlIEJsb2NrIGRvd24gc2luY2UgaXQgaXMgYWxyZWFkeSB0aGUgbGFzdFwiKTtcbiAgICBjb25zdCBvID0gdC5ob2xkZXIsIGkgPSBvLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGxldCBuID0gTWF0aC5hYnMod2luZG93LmlubmVySGVpZ2h0IC0gby5vZmZzZXRIZWlnaHQpO1xuICAgIGkudG9wIDwgd2luZG93LmlubmVySGVpZ2h0ICYmIChuID0gd2luZG93LnNjcm9sbFkgKyBvLm9mZnNldEhlaWdodCksIHdpbmRvdy5zY3JvbGxUbygwLCBuKSwgdGhpcy5hcGkuYmxvY2tzLm1vdmUoZSArIDEpLCB0aGlzLmFwaS50b29sYmFyLnRvZ2dsZUJsb2NrU2V0dGluZ3MoITApO1xuICB9XG59XG5UdC5pc1R1bmUgPSAhMDtcbmNsYXNzIEN0IHtcbiAgLyoqXG4gICAqIERlbGV0ZVR1bmUgY29uc3RydWN0b3JcbiAgICpcbiAgICogQHBhcmFtIHtBUEl9IGFwaSAtIEVkaXRvcidzIEFQSVxuICAgKi9cbiAgY29uc3RydWN0b3IoeyBhcGk6IGUgfSkge1xuICAgIHRoaXMuYXBpID0gZTtcbiAgfVxuICAvKipcbiAgICogVHVuZSdzIGFwcGVhcmFuY2UgaW4gYmxvY2sgc2V0dGluZ3MgbWVudVxuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpY29uOiBNbyxcbiAgICAgIHRpdGxlOiB0aGlzLmFwaS5pMThuLnQoXCJEZWxldGVcIiksXG4gICAgICBuYW1lOiBcImRlbGV0ZVwiLFxuICAgICAgY29uZmlybWF0aW9uOiB7XG4gICAgICAgIHRpdGxlOiB0aGlzLmFwaS5pMThuLnQoXCJDbGljayB0byBkZWxldGVcIiksXG4gICAgICAgIG9uQWN0aXZhdGU6ICgpID0+IHRoaXMuaGFuZGxlQ2xpY2soKVxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIERlbGV0ZSBibG9jayBjb25kaXRpb25zIHBhc3NlZFxuICAgKi9cbiAgaGFuZGxlQ2xpY2soKSB7XG4gICAgdGhpcy5hcGkuYmxvY2tzLmRlbGV0ZSgpO1xuICB9XG59XG5DdC5pc1R1bmUgPSAhMDtcbmNsYXNzIFN0IHtcbiAgLyoqXG4gICAqIE1vdmVVcFR1bmUgY29uc3RydWN0b3JcbiAgICpcbiAgICogQHBhcmFtIHtBUEl9IGFwaSAtIEVkaXRvcidzIEFQSVxuICAgKi9cbiAgY29uc3RydWN0b3IoeyBhcGk6IGUgfSkge1xuICAgIHRoaXMuQ1NTID0ge1xuICAgICAgYW5pbWF0aW9uOiBcIndvYmJsZVwiXG4gICAgfSwgdGhpcy5hcGkgPSBlO1xuICB9XG4gIC8qKlxuICAgKiBUdW5lJ3MgYXBwZWFyYW5jZSBpbiBibG9jayBzZXR0aW5ncyBtZW51XG4gICAqL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGljb246IElvLFxuICAgICAgdGl0bGU6IHRoaXMuYXBpLmkxOG4udChcIk1vdmUgdXBcIiksXG4gICAgICBvbkFjdGl2YXRlOiAoKSA9PiB0aGlzLmhhbmRsZUNsaWNrKCksXG4gICAgICBuYW1lOiBcIm1vdmUtdXBcIlxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIE1vdmUgY3VycmVudCBibG9jayB1cFxuICAgKi9cbiAgaGFuZGxlQ2xpY2soKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuYXBpLmJsb2Nrcy5nZXRDdXJyZW50QmxvY2tJbmRleCgpLCB0ID0gdGhpcy5hcGkuYmxvY2tzLmdldEJsb2NrQnlJbmRleChlKSwgbyA9IHRoaXMuYXBpLmJsb2Nrcy5nZXRCbG9ja0J5SW5kZXgoZSAtIDEpO1xuICAgIGlmIChlID09PSAwIHx8ICF0IHx8ICFvKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIG1vdmUgQmxvY2sgdXAgc2luY2UgaXQgaXMgYWxyZWFkeSB0aGUgZmlyc3RcIik7XG4gICAgY29uc3QgaSA9IHQuaG9sZGVyLCBuID0gby5ob2xkZXIsIHIgPSBpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBhID0gbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgbDtcbiAgICBhLnRvcCA+IDAgPyBsID0gTWF0aC5hYnMoci50b3ApIC0gTWF0aC5hYnMoYS50b3ApIDogbCA9IE1hdGguYWJzKHIudG9wKSArIGEuaGVpZ2h0LCB3aW5kb3cuc2Nyb2xsQnkoMCwgLTEgKiBsKSwgdGhpcy5hcGkuYmxvY2tzLm1vdmUoZSAtIDEpLCB0aGlzLmFwaS50b29sYmFyLnRvZ2dsZUJsb2NrU2V0dGluZ3MoITApO1xuICB9XG59XG5TdC5pc1R1bmUgPSAhMDtcbnZhciB1aSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwgcGkgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLCBmaSA9IChzLCBlLCB0LCBvKSA9PiB7XG4gIGZvciAodmFyIGkgPSBvID4gMSA/IHZvaWQgMCA6IG8gPyBwaShlLCB0KSA6IGUsIG4gPSBzLmxlbmd0aCAtIDEsIHI7IG4gPj0gMDsgbi0tKVxuICAgIChyID0gc1tuXSkgJiYgKGkgPSAobyA/IHIoZSwgdCwgaSkgOiByKGkpKSB8fCBpKTtcbiAgcmV0dXJuIG8gJiYgaSAmJiB1aShlLCB0LCBpKSwgaTtcbn07XG5jbGFzcyBJdCBleHRlbmRzIEMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLnN0dWJUb29sID0gXCJzdHViXCIsIHRoaXMudG9vbHNBdmFpbGFibGUgPSBuZXcgVSgpLCB0aGlzLnRvb2xzVW5hdmFpbGFibGUgPSBuZXcgVSgpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGF2YWlsYWJsZSBUb29sc1xuICAgKi9cbiAgZ2V0IGF2YWlsYWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy50b29sc0F2YWlsYWJsZTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB1bmF2YWlsYWJsZSBUb29sc1xuICAgKi9cbiAgZ2V0IHVuYXZhaWxhYmxlKCkge1xuICAgIHJldHVybiB0aGlzLnRvb2xzVW5hdmFpbGFibGU7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBUb29scyBmb3IgdGhlIElubGluZSBUb29sYmFyXG4gICAqL1xuICBnZXQgaW5saW5lVG9vbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXZhaWxhYmxlLmlubGluZVRvb2xzO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gZWRpdG9yIGJsb2NrIHRvb2xzXG4gICAqL1xuICBnZXQgYmxvY2tUb29scygpIHtcbiAgICByZXR1cm4gdGhpcy5hdmFpbGFibGUuYmxvY2tUb29scztcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGF2YWlsYWJsZSBCbG9jayBUdW5lc1xuICAgKlxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSAtIG9iamVjdCBvZiBJbmxpbmUgVG9vbCdzIGNsYXNzZXNcbiAgICovXG4gIGdldCBibG9ja1R1bmVzKCkge1xuICAgIHJldHVybiB0aGlzLmF2YWlsYWJsZS5ibG9ja1R1bmVzO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGRlZmF1bHQgVG9vbCBvYmplY3RcbiAgICovXG4gIGdldCBkZWZhdWx0VG9vbCgpIHtcbiAgICByZXR1cm4gdGhpcy5ibG9ja1Rvb2xzLmdldCh0aGlzLmNvbmZpZy5kZWZhdWx0QmxvY2spO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGludGVybmFsIHRvb2xzXG4gICAqL1xuICBnZXQgaW50ZXJuYWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXZhaWxhYmxlLmludGVybmFsVG9vbHM7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgaW5zdGFuY2VzIHZpYSBwYXNzZWQgb3IgZGVmYXVsdCBjb25maWd1cmF0aW9uXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgKi9cbiAgYXN5bmMgcHJlcGFyZSgpIHtcbiAgICBpZiAodGhpcy52YWxpZGF0ZVRvb2xzKCksIHRoaXMuY29uZmlnLnRvb2xzID0gU2Uoe30sIHRoaXMuaW50ZXJuYWxUb29scywgdGhpcy5jb25maWcudG9vbHMpLCAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuY29uZmlnLCBcInRvb2xzXCIpIHx8IE9iamVjdC5rZXlzKHRoaXMuY29uZmlnLnRvb2xzKS5sZW5ndGggPT09IDApXG4gICAgICB0aHJvdyBFcnJvcihcIkNhbid0IHN0YXJ0IHdpdGhvdXQgdG9vbHNcIik7XG4gICAgY29uc3QgZSA9IHRoaXMucHJlcGFyZUNvbmZpZygpO1xuICAgIHRoaXMuZmFjdG9yeSA9IG5ldyBoaShlLCB0aGlzLmNvbmZpZywgdGhpcy5FZGl0b3IuQVBJKTtcbiAgICBjb25zdCB0ID0gdGhpcy5nZXRMaXN0T2ZQcmVwYXJlRnVuY3Rpb25zKGUpO1xuICAgIGlmICh0Lmxlbmd0aCA9PT0gMClcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICBhd2FpdCBEdCh0LCAobykgPT4ge1xuICAgICAgdGhpcy50b29sUHJlcGFyZU1ldGhvZFN1Y2Nlc3Mobyk7XG4gICAgfSwgKG8pID0+IHtcbiAgICAgIHRoaXMudG9vbFByZXBhcmVNZXRob2RGYWxsYmFjayhvKTtcbiAgICB9KSwgdGhpcy5wcmVwYXJlQmxvY2tUb29scygpO1xuICB9XG4gIGdldEFsbElubGluZVRvb2xzU2FuaXRpemVDb25maWcoKSB7XG4gICAgY29uc3QgZSA9IHt9O1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuaW5saW5lVG9vbHMudmFsdWVzKCkpLmZvckVhY2goKHQpID0+IHtcbiAgICAgIE9iamVjdC5hc3NpZ24oZSwgdC5zYW5pdGl6ZUNvbmZpZyk7XG4gICAgfSksIGU7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxzIGVhY2ggVG9vbCByZXNldCBtZXRob2QgdG8gY2xlYW4gdXAgYW55dGhpbmcgc2V0IGJ5IFRvb2xcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgT2JqZWN0LnZhbHVlcyh0aGlzLmF2YWlsYWJsZSkuZm9yRWFjaChhc3luYyAoZSkgPT4ge1xuICAgICAgRChlLnJlc2V0KSAmJiBhd2FpdCBlLnJlc2V0KCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgaW50ZXJuYWwgdG9vbHNcbiAgICogSW5jbHVkZXMgQm9sZCwgSXRhbGljLCBMaW5rIGFuZCBQYXJhZ3JhcGhcbiAgICovXG4gIGdldCBpbnRlcm5hbFRvb2xzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBib2xkOiB7XG4gICAgICAgIGNsYXNzOiBXZSxcbiAgICAgICAgaXNJbnRlcm5hbDogITBcbiAgICAgIH0sXG4gICAgICBpdGFsaWM6IHtcbiAgICAgICAgY2xhc3M6IFllLFxuICAgICAgICBpc0ludGVybmFsOiAhMFxuICAgICAgfSxcbiAgICAgIGxpbms6IHtcbiAgICAgICAgY2xhc3M6IEtlLFxuICAgICAgICBpc0ludGVybmFsOiAhMFxuICAgICAgfSxcbiAgICAgIHBhcmFncmFwaDoge1xuICAgICAgICBjbGFzczogcmksXG4gICAgICAgIGlubGluZVRvb2xiYXI6ICEwLFxuICAgICAgICBpc0ludGVybmFsOiAhMFxuICAgICAgfSxcbiAgICAgIHN0dWI6IHtcbiAgICAgICAgY2xhc3M6IEV0LFxuICAgICAgICBpc0ludGVybmFsOiAhMFxuICAgICAgfSxcbiAgICAgIG1vdmVVcDoge1xuICAgICAgICBjbGFzczogU3QsXG4gICAgICAgIGlzSW50ZXJuYWw6ICEwXG4gICAgICB9LFxuICAgICAgZGVsZXRlOiB7XG4gICAgICAgIGNsYXNzOiBDdCxcbiAgICAgICAgaXNJbnRlcm5hbDogITBcbiAgICAgIH0sXG4gICAgICBtb3ZlRG93bjoge1xuICAgICAgICBjbGFzczogVHQsXG4gICAgICAgIGlzSW50ZXJuYWw6ICEwXG4gICAgICB9XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogVG9vbCBwcmVwYXJlIG1ldGhvZCBzdWNjZXNzIGNhbGxiYWNrXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIC0gYXBwZW5kIHRvb2wgdG8gYXZhaWxhYmxlIGxpc3RcbiAgICovXG4gIHRvb2xQcmVwYXJlTWV0aG9kU3VjY2VzcyhlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuZmFjdG9yeS5nZXQoZS50b29sTmFtZSk7XG4gICAgaWYgKHQuaXNJbmxpbmUoKSkge1xuICAgICAgY29uc3QgaSA9IFtcInJlbmRlclwiLCBcInN1cnJvdW5kXCIsIFwiY2hlY2tTdGF0ZVwiXS5maWx0ZXIoKG4pID0+ICF0LmNyZWF0ZSgpW25dKTtcbiAgICAgIGlmIChpLmxlbmd0aCkge1xuICAgICAgICBMKFxuICAgICAgICAgIGBJbmNvcnJlY3QgSW5saW5lIFRvb2w6ICR7dC5uYW1lfS4gU29tZSBvZiByZXF1aXJlZCBtZXRob2RzIGlzIG5vdCBpbXBsZW1lbnRlZCAlb2AsXG4gICAgICAgICAgXCJ3YXJuXCIsXG4gICAgICAgICAgaVxuICAgICAgICApLCB0aGlzLnRvb2xzVW5hdmFpbGFibGUuc2V0KHQubmFtZSwgdCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy50b29sc0F2YWlsYWJsZS5zZXQodC5uYW1lLCB0KTtcbiAgfVxuICAvKipcbiAgICogVG9vbCBwcmVwYXJlIG1ldGhvZCBmYWlsIGNhbGxiYWNrXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIC0gYXBwZW5kIHRvb2wgdG8gdW5hdmFpbGFibGUgbGlzdFxuICAgKi9cbiAgdG9vbFByZXBhcmVNZXRob2RGYWxsYmFjayhlKSB7XG4gICAgdGhpcy50b29sc1VuYXZhaWxhYmxlLnNldChlLnRvb2xOYW1lLCB0aGlzLmZhY3RvcnkuZ2V0KGUudG9vbE5hbWUpKTtcbiAgfVxuICAvKipcbiAgICogQmluZHMgcHJlcGFyZSBmdW5jdGlvbiBvZiBwbHVnaW5zIHdpdGggdXNlciBvciBkZWZhdWx0IGNvbmZpZ1xuICAgKlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IGxpc3Qgb2YgZnVuY3Rpb25zIHRoYXQgbmVlZHMgdG8gYmUgZmlyZWQgc2VxdWVudGlhbGx5XG4gICAqIEBwYXJhbSBjb25maWcgLSB0b29scyBjb25maWdcbiAgICovXG4gIGdldExpc3RPZlByZXBhcmVGdW5jdGlvbnMoZSkge1xuICAgIGNvbnN0IHQgPSBbXTtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMoZSkuZm9yRWFjaCgoW28sIGldKSA9PiB7XG4gICAgICB0LnB1c2goe1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWVtcHR5LWZ1bmN0aW9uXG4gICAgICAgIGZ1bmN0aW9uOiBEKGkuY2xhc3MucHJlcGFyZSkgPyBpLmNsYXNzLnByZXBhcmUgOiAoKSA9PiB7XG4gICAgICAgIH0sXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB0b29sTmFtZTogbyxcbiAgICAgICAgICBjb25maWc6IGkuY29uZmlnXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pLCB0O1xuICB9XG4gIC8qKlxuICAgKiBBc3NpZ24gZW5hYmxlZCBJbmxpbmUgVG9vbHMgYW5kIEJsb2NrIFR1bmVzIGZvciBCbG9jayBUb29sXG4gICAqL1xuICBwcmVwYXJlQmxvY2tUb29scygpIHtcbiAgICBBcnJheS5mcm9tKHRoaXMuYmxvY2tUb29scy52YWx1ZXMoKSkuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgdGhpcy5hc3NpZ25JbmxpbmVUb29sc1RvQmxvY2tUb29sKGUpLCB0aGlzLmFzc2lnbkJsb2NrVHVuZXNUb0Jsb2NrVG9vbChlKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQXNzaWduIGVuYWJsZWQgSW5saW5lIFRvb2xzIGZvciBCbG9jayBUb29sXG4gICAqXG4gICAqIEBwYXJhbSB0b29sIC0gQmxvY2sgVG9vbFxuICAgKi9cbiAgYXNzaWduSW5saW5lVG9vbHNUb0Jsb2NrVG9vbChlKSB7XG4gICAgaWYgKHRoaXMuY29uZmlnLmlubGluZVRvb2xiYXIgIT09ICExKSB7XG4gICAgICBpZiAoZS5lbmFibGVkSW5saW5lVG9vbHMgPT09ICEwKSB7XG4gICAgICAgIGUuaW5saW5lVG9vbHMgPSBuZXcgVShcbiAgICAgICAgICBBcnJheS5pc0FycmF5KHRoaXMuY29uZmlnLmlubGluZVRvb2xiYXIpID8gdGhpcy5jb25maWcuaW5saW5lVG9vbGJhci5tYXAoKHQpID0+IFt0LCB0aGlzLmlubGluZVRvb2xzLmdldCh0KV0pIDogQXJyYXkuZnJvbSh0aGlzLmlubGluZVRvb2xzLmVudHJpZXMoKSlcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgQXJyYXkuaXNBcnJheShlLmVuYWJsZWRJbmxpbmVUb29scykgJiYgKGUuaW5saW5lVG9vbHMgPSBuZXcgVShcbiAgICAgICAgZS5lbmFibGVkSW5saW5lVG9vbHMubWFwKCh0KSA9PiBbdCwgdGhpcy5pbmxpbmVUb29scy5nZXQodCldKVxuICAgICAgKSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBBc3NpZ24gZW5hYmxlZCBCbG9jayBUdW5lcyBmb3IgQmxvY2sgVG9vbFxuICAgKlxuICAgKiBAcGFyYW0gdG9vbCDigJQgQmxvY2sgVG9vbFxuICAgKi9cbiAgYXNzaWduQmxvY2tUdW5lc1RvQmxvY2tUb29sKGUpIHtcbiAgICBpZiAoZS5lbmFibGVkQmxvY2tUdW5lcyAhPT0gITEpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGUuZW5hYmxlZEJsb2NrVHVuZXMpKSB7XG4gICAgICAgIGNvbnN0IHQgPSBuZXcgVShcbiAgICAgICAgICBlLmVuYWJsZWRCbG9ja1R1bmVzLm1hcCgobykgPT4gW28sIHRoaXMuYmxvY2tUdW5lcy5nZXQobyldKVxuICAgICAgICApO1xuICAgICAgICBlLnR1bmVzID0gbmV3IFUoWy4uLnQsIC4uLnRoaXMuYmxvY2tUdW5lcy5pbnRlcm5hbFRvb2xzXSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuY29uZmlnLnR1bmVzKSkge1xuICAgICAgICBjb25zdCB0ID0gbmV3IFUoXG4gICAgICAgICAgdGhpcy5jb25maWcudHVuZXMubWFwKChvKSA9PiBbbywgdGhpcy5ibG9ja1R1bmVzLmdldChvKV0pXG4gICAgICAgICk7XG4gICAgICAgIGUudHVuZXMgPSBuZXcgVShbLi4udCwgLi4udGhpcy5ibG9ja1R1bmVzLmludGVybmFsVG9vbHNdKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZS50dW5lcyA9IHRoaXMuYmxvY2tUdW5lcy5pbnRlcm5hbFRvb2xzO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogVmFsaWRhdGUgVG9vbHMgY29uZmlndXJhdGlvbiBvYmplY3RzIGFuZCB0aHJvdyBFcnJvciBmb3IgdXNlciBpZiBpdCBpcyBpbnZhbGlkXG4gICAqL1xuICB2YWxpZGF0ZVRvb2xzKCkge1xuICAgIGZvciAoY29uc3QgZSBpbiB0aGlzLmNvbmZpZy50b29scylcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5jb25maWcudG9vbHMsIGUpKSB7XG4gICAgICAgIGlmIChlIGluIHRoaXMuaW50ZXJuYWxUb29scylcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLmNvbmZpZy50b29sc1tlXTtcbiAgICAgICAgaWYgKCFEKHQpICYmICFEKHQuY2xhc3MpKVxuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgYFRvb2wgwqske2V9wrsgbXVzdCBiZSBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIG9yIGFuIG9iamVjdCB3aXRoIGZ1bmN0aW9uIGluIHRoZSDCq2NsYXNzwrsgcHJvcGVydHlgXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgfVxuICAvKipcbiAgICogVW5pZnkgdG9vbHMgY29uZmlnXG4gICAqL1xuICBwcmVwYXJlQ29uZmlnKCkge1xuICAgIGNvbnN0IGUgPSB7fTtcbiAgICBmb3IgKGNvbnN0IHQgaW4gdGhpcy5jb25maWcudG9vbHMpXG4gICAgICB6KHRoaXMuY29uZmlnLnRvb2xzW3RdKSA/IGVbdF0gPSB0aGlzLmNvbmZpZy50b29sc1t0XSA6IGVbdF0gPSB7IGNsYXNzOiB0aGlzLmNvbmZpZy50b29sc1t0XSB9O1xuICAgIHJldHVybiBlO1xuICB9XG59XG5maShbXG4gIGNlXG5dLCBJdC5wcm90b3R5cGUsIFwiZ2V0QWxsSW5saW5lVG9vbHNTYW5pdGl6ZUNvbmZpZ1wiLCAxKTtcbmNvbnN0IGdpID0gYDpyb290ey0tc2VsZWN0aW9uQ29sb3I6ICNlMWYyZmY7LS1pbmxpbmVTZWxlY3Rpb25Db2xvcjogI2Q0ZWNmZjstLWJnLWxpZ2h0OiAjZWZmMmY1Oy0tZ3JheVRleHQ6ICM3MDc2ODQ7LS1jb2xvci1kYXJrOiAjMUQyMDJCOy0tY29sb3ItYWN0aXZlLWljb246ICMzODhBRTU7LS1jb2xvci1ncmF5LWJvcmRlcjogcmdiYSgyMDEsIDIwMSwgMjA0LCAuNDgpOy0tY29udGVudC13aWR0aDogNjUwcHg7LS1uYXJyb3ctbW9kZS1yaWdodC1wYWRkaW5nOiA1MHB4Oy0tdG9vbGJveC1idXR0b25zLXNpemU6IDI2cHg7LS10b29sYm94LWJ1dHRvbnMtc2l6ZS0tbW9iaWxlOiAzNnB4Oy0taWNvbi1zaXplOiAyMHB4Oy0taWNvbi1zaXplLS1tb2JpbGU6IDI4cHg7LS1ibG9jay1wYWRkaW5nLXZlcnRpY2FsOiAuNGVtOy0tY29sb3ItbGluZS1ncmF5OiAjRUZGMEYxIH0uY29kZXgtZWRpdG9ye3Bvc2l0aW9uOnJlbGF0aXZlOy13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDt6LWluZGV4OjF9LmNvZGV4LWVkaXRvciAuaGlkZXtkaXNwbGF5Om5vbmV9LmNvZGV4LWVkaXRvcl9fcmVkYWN0b3IgW2NvbnRlbnRlZGl0YWJsZV06ZW1wdHk6YWZ0ZXJ7Y29udGVudDpcIlxcXFxmZWZmXCJ9QG1lZGlhIChtaW4td2lkdGg6IDY1MXB4KXsuY29kZXgtZWRpdG9yLS1uYXJyb3cgLmNvZGV4LWVkaXRvcl9fcmVkYWN0b3J7bWFyZ2luLXJpZ2h0OjUwcHh9fUBtZWRpYSAobWluLXdpZHRoOiA2NTFweCl7LmNvZGV4LWVkaXRvci0tbmFycm93LmNvZGV4LWVkaXRvci0tcnRsIC5jb2RleC1lZGl0b3JfX3JlZGFjdG9ye21hcmdpbi1sZWZ0OjUwcHg7bWFyZ2luLXJpZ2h0OjB9fUBtZWRpYSAobWluLXdpZHRoOiA2NTFweCl7LmNvZGV4LWVkaXRvci0tbmFycm93IC5jZS10b29sYmFyX19hY3Rpb25ze3JpZ2h0Oi01cHh9fS5jb2RleC1lZGl0b3ItY29weWFibGV7cG9zaXRpb246YWJzb2x1dGU7aGVpZ2h0OjFweDt3aWR0aDoxcHg7dG9wOi00MDAlO29wYWNpdHk6LjAwMX0uY29kZXgtZWRpdG9yLW92ZXJsYXl7cG9zaXRpb246Zml4ZWQ7dG9wOjBweDtsZWZ0OjBweDtyaWdodDowcHg7Ym90dG9tOjBweDt6LWluZGV4Ojk5OTtwb2ludGVyLWV2ZW50czpub25lO292ZXJmbG93OmhpZGRlbn0uY29kZXgtZWRpdG9yLW92ZXJsYXlfX2NvbnRhaW5lcntwb3NpdGlvbjpyZWxhdGl2ZTtwb2ludGVyLWV2ZW50czphdXRvO3otaW5kZXg6MH0uY29kZXgtZWRpdG9yLW92ZXJsYXlfX3JlY3RhbmdsZXtwb3NpdGlvbjphYnNvbHV0ZTtwb2ludGVyLWV2ZW50czpub25lO2JhY2tncm91bmQtY29sb3I6IzJlYWFkYzMzO2JvcmRlcjoxcHggc29saWQgdHJhbnNwYXJlbnR9LmNvZGV4LWVkaXRvciBzdmd7bWF4LWhlaWdodDoxMDAlfS5jb2RleC1lZGl0b3IgcGF0aHtzdHJva2U6Y3VycmVudENvbG9yfS5jb2RleC1lZGl0b3IgOjotbW96LXNlbGVjdGlvbntiYWNrZ3JvdW5kLWNvbG9yOiNkNGVjZmZ9LmNvZGV4LWVkaXRvciA6OnNlbGVjdGlvbntiYWNrZ3JvdW5kLWNvbG9yOiNkNGVjZmZ9LmNvZGV4LWVkaXRvci0tdG9vbGJveC1vcGVuZWQgW2NvbnRlbnRFZGl0YWJsZT10cnVlXVtkYXRhLXBsYWNlaG9sZGVyXTpmb2N1czpiZWZvcmV7b3BhY2l0eTowIWltcG9ydGFudH0uY2Utc2Nyb2xsLWxvY2tlZHtvdmVyZmxvdzpoaWRkZW59LmNlLXNjcm9sbC1sb2NrZWQtLWhhcmR7b3ZlcmZsb3c6aGlkZGVuO3RvcDpjYWxjKC0xICogdmFyKC0td2luZG93LXNjcm9sbC1vZmZzZXQpKTtwb3NpdGlvbjpmaXhlZDt3aWR0aDoxMDAlfS5jZS10b29sYmFye3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDtyaWdodDowO3RvcDowOy13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IC4xcyBlYXNlO3RyYW5zaXRpb246b3BhY2l0eSAuMXMgZWFzZTt3aWxsLWNoYW5nZTpvcGFjaXR5LHRvcDtkaXNwbGF5Om5vbmV9LmNlLXRvb2xiYXItLW9wZW5lZHtkaXNwbGF5OmJsb2NrfS5jZS10b29sYmFyX19jb250ZW50e21heC13aWR0aDo2NTBweDttYXJnaW46MCBhdXRvO3Bvc2l0aW9uOnJlbGF0aXZlfS5jZS10b29sYmFyX19wbHVze2NvbG9yOiMxZDIwMmI7Y3Vyc29yOnBvaW50ZXI7d2lkdGg6MjZweDtoZWlnaHQ6MjZweDtib3JkZXItcmFkaXVzOjdweDtkaXNwbGF5Oi13ZWJraXQtaW5saW5lLWJveDtkaXNwbGF5Oi1tcy1pbmxpbmUtZmxleGJveDtkaXNwbGF5OmlubGluZS1mbGV4Oy13ZWJraXQtYm94LXBhY2s6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lOy1tcy1mbGV4LW5lZ2F0aXZlOjA7ZmxleC1zaHJpbms6MH1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS10b29sYmFyX19wbHVze3dpZHRoOjM2cHg7aGVpZ2h0OjM2cHh9fUBtZWRpYSAoaG92ZXI6IGhvdmVyKXsuY2UtdG9vbGJhcl9fcGx1czpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNlZmYyZjV9fS5jZS10b29sYmFyX19wbHVzLS1hY3RpdmV7YmFja2dyb3VuZC1jb2xvcjojZWZmMmY1Oy13ZWJraXQtYW5pbWF0aW9uOmJvdW5jZUluIC43NXMgMTthbmltYXRpb246Ym91bmNlSW4gLjc1cyAxOy13ZWJraXQtYW5pbWF0aW9uLWZpbGwtbW9kZTpmb3J3YXJkczthbmltYXRpb24tZmlsbC1tb2RlOmZvcndhcmRzfS5jZS10b29sYmFyX19wbHVzLXNob3J0Y3V0e29wYWNpdHk6LjY7d29yZC1zcGFjaW5nOi0ycHg7bWFyZ2luLXRvcDo1cHh9QG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KXsuY2UtdG9vbGJhcl9fcGx1c3twb3NpdGlvbjphYnNvbHV0ZTtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Ym9yZGVyOjFweCBzb2xpZCAjRThFOEVCOy13ZWJraXQtYm94LXNoYWRvdzowIDNweCAxNXB4IC0zcHggcmdiYSgxMywyMCwzMywuMTMpO2JveC1zaGFkb3c6MCAzcHggMTVweCAtM3B4ICMwZDE0MjEyMTtib3JkZXItcmFkaXVzOjZweDt6LWluZGV4OjI7cG9zaXRpb246c3RhdGljfS5jZS10b29sYmFyX19wbHVzLS1sZWZ0LW9yaWVudGVkOmJlZm9yZXtsZWZ0OjE1cHg7bWFyZ2luLWxlZnQ6MH0uY2UtdG9vbGJhcl9fcGx1cy0tcmlnaHQtb3JpZW50ZWQ6YmVmb3Jle2xlZnQ6YXV0bztyaWdodDoxNXB4O21hcmdpbi1sZWZ0OjB9fS5jZS10b29sYmFyX19hY3Rpb25ze3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjEwMCU7b3BhY2l0eTowO2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7cGFkZGluZy1yaWdodDo1cHh9LmNlLXRvb2xiYXJfX2FjdGlvbnMtLW9wZW5lZHtvcGFjaXR5OjF9QG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KXsuY2UtdG9vbGJhcl9fYWN0aW9uc3tyaWdodDphdXRvfX0uY2UtdG9vbGJhcl9fc2V0dGluZ3MtYnRue2NvbG9yOiMxZDIwMmI7d2lkdGg6MjZweDtoZWlnaHQ6MjZweDtib3JkZXItcmFkaXVzOjdweDtkaXNwbGF5Oi13ZWJraXQtaW5saW5lLWJveDtkaXNwbGF5Oi1tcy1pbmxpbmUtZmxleGJveDtkaXNwbGF5OmlubGluZS1mbGV4Oy13ZWJraXQtYm94LXBhY2s6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTttYXJnaW4tbGVmdDozcHg7Y3Vyc29yOnBvaW50ZXI7dXNlci1zZWxlY3Q6bm9uZX1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS10b29sYmFyX19zZXR0aW5ncy1idG57d2lkdGg6MzZweDtoZWlnaHQ6MzZweH19QG1lZGlhIChob3ZlcjogaG92ZXIpey5jZS10b29sYmFyX19zZXR0aW5ncy1idG46aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZWZmMmY1fX0uY2UtdG9vbGJhcl9fc2V0dGluZ3MtYnRuLS1hY3RpdmV7YmFja2dyb3VuZC1jb2xvcjojZWZmMmY1Oy13ZWJraXQtYW5pbWF0aW9uOmJvdW5jZUluIC43NXMgMTthbmltYXRpb246Ym91bmNlSW4gLjc1cyAxOy13ZWJraXQtYW5pbWF0aW9uLWZpbGwtbW9kZTpmb3J3YXJkczthbmltYXRpb24tZmlsbC1tb2RlOmZvcndhcmRzfUBtZWRpYSAobWluLXdpZHRoOiA2NTFweCl7LmNlLXRvb2xiYXJfX3NldHRpbmdzLWJ0bnt3aWR0aDoyNHB4fX0uY2UtdG9vbGJhcl9fc2V0dGluZ3MtYnRuLS1oaWRkZW57ZGlzcGxheTpub25lfUBtZWRpYSAobWF4LXdpZHRoOiA2NTBweCl7LmNlLXRvb2xiYXJfX3NldHRpbmdzLWJ0bntwb3NpdGlvbjphYnNvbHV0ZTtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Ym9yZGVyOjFweCBzb2xpZCAjRThFOEVCOy13ZWJraXQtYm94LXNoYWRvdzowIDNweCAxNXB4IC0zcHggcmdiYSgxMywyMCwzMywuMTMpO2JveC1zaGFkb3c6MCAzcHggMTVweCAtM3B4ICMwZDE0MjEyMTtib3JkZXItcmFkaXVzOjZweDt6LWluZGV4OjI7cG9zaXRpb246c3RhdGljfS5jZS10b29sYmFyX19zZXR0aW5ncy1idG4tLWxlZnQtb3JpZW50ZWQ6YmVmb3Jle2xlZnQ6MTVweDttYXJnaW4tbGVmdDowfS5jZS10b29sYmFyX19zZXR0aW5ncy1idG4tLXJpZ2h0LW9yaWVudGVkOmJlZm9yZXtsZWZ0OmF1dG87cmlnaHQ6MTVweDttYXJnaW4tbGVmdDowfX0uY2UtdG9vbGJhcl9fcGx1cyBzdmcsLmNlLXRvb2xiYXJfX3NldHRpbmdzLWJ0biBzdmd7d2lkdGg6MjRweDtoZWlnaHQ6MjRweH1AbWVkaWEgKG1pbi13aWR0aDogNjUxcHgpey5jb2RleC1lZGl0b3ItLW5hcnJvdyAuY2UtdG9vbGJhcl9fcGx1c3tsZWZ0OjVweH19QG1lZGlhIChtaW4td2lkdGg6IDY1MXB4KXsuY29kZXgtZWRpdG9yLS1uYXJyb3cgLmNlLXRvb2xib3ggLmNlLXBvcG92ZXJ7cmlnaHQ6MDtsZWZ0OmF1dG87bGVmdDppbml0aWFsfX0uY2UtaW5saW5lLXRvb2xiYXJ7LS15LW9mZnNldDogOHB4O3Bvc2l0aW9uOmFic29sdXRlO2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3JkZXI6MXB4IHNvbGlkICNFOEU4RUI7LXdlYmtpdC1ib3gtc2hhZG93OjAgM3B4IDE1cHggLTNweCByZ2JhKDEzLDIwLDMzLC4xMyk7Ym94LXNoYWRvdzowIDNweCAxNXB4IC0zcHggIzBkMTQyMTIxO2JvcmRlci1yYWRpdXM6NnB4O3otaW5kZXg6Mjstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpIHRyYW5zbGF0ZVkoOHB4KSBzY2FsZSguOTQpO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSkgdHJhbnNsYXRlWSg4cHgpIHNjYWxlKC45NCk7b3BhY2l0eTowO3Zpc2liaWxpdHk6aGlkZGVuOy13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IC4yNXMgZWFzZSwtd2Via2l0LXRyYW5zZm9ybSAuMTVzIGVhc2U7dHJhbnNpdGlvbjpvcGFjaXR5IC4yNXMgZWFzZSwtd2Via2l0LXRyYW5zZm9ybSAuMTVzIGVhc2U7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gLjE1cyBlYXNlLG9wYWNpdHkgLjI1cyBlYXNlO3RyYW5zaXRpb246dHJhbnNmb3JtIC4xNXMgZWFzZSxvcGFjaXR5IC4yNXMgZWFzZSwtd2Via2l0LXRyYW5zZm9ybSAuMTVzIGVhc2U7d2lsbC1jaGFuZ2U6dHJhbnNmb3JtLG9wYWNpdHk7dG9wOjA7bGVmdDowO3otaW5kZXg6M30uY2UtaW5saW5lLXRvb2xiYXItLWxlZnQtb3JpZW50ZWQ6YmVmb3Jle2xlZnQ6MTVweDttYXJnaW4tbGVmdDowfS5jZS1pbmxpbmUtdG9vbGJhci0tcmlnaHQtb3JpZW50ZWQ6YmVmb3Jle2xlZnQ6YXV0bztyaWdodDoxNXB4O21hcmdpbi1sZWZ0OjB9LmNlLWlubGluZS10b29sYmFyLS1zaG93ZWR7b3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSl9LmNlLWlubGluZS10b29sYmFyLS1sZWZ0LW9yaWVudGVkey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTIzcHgpIHRyYW5zbGF0ZVkoOHB4KSBzY2FsZSguOTQpO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTIzcHgpIHRyYW5zbGF0ZVkoOHB4KSBzY2FsZSguOTQpfS5jZS1pbmxpbmUtdG9vbGJhci0tbGVmdC1vcmllbnRlZC5jZS1pbmxpbmUtdG9vbGJhci0tc2hvd2Vkey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTIzcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTIzcHgpfS5jZS1pbmxpbmUtdG9vbGJhci0tcmlnaHQtb3JpZW50ZWR7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtMTAwJSkgdHJhbnNsYXRlWSg4cHgpIHNjYWxlKC45NCk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtMTAwJSkgdHJhbnNsYXRlWSg4cHgpIHNjYWxlKC45NCk7bWFyZ2luLWxlZnQ6MjNweH0uY2UtaW5saW5lLXRvb2xiYXItLXJpZ2h0LW9yaWVudGVkLmNlLWlubGluZS10b29sYmFyLS1zaG93ZWR7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtMTAwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtMTAwJSl9LmNlLWlubGluZS10b29sYmFyIFtoaWRkZW5de2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9LmNlLWlubGluZS10b29sYmFyX190b2dnbGVyLWFuZC1idXR0b24td3JhcHBlcntkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3dpZHRoOjEwMCU7cGFkZGluZzowIDZweH0uY2UtaW5saW5lLXRvb2xiYXJfX2J1dHRvbnN7ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleH0uY2UtaW5saW5lLXRvb2xiYXJfX2Ryb3Bkb3due2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7cGFkZGluZzo2cHg7bWFyZ2luOjAgNnB4IDAgLTZweDstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtjdXJzb3I6cG9pbnRlcjtib3JkZXItcmlnaHQ6MXB4IHNvbGlkIHJnYmEoMjAxLDIwMSwyMDQsLjQ4KTstd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2l6aW5nOmJvcmRlci1ib3h9QG1lZGlhIChob3ZlcjogaG92ZXIpey5jZS1pbmxpbmUtdG9vbGJhcl9fZHJvcGRvd246aG92ZXJ7YmFja2dyb3VuZDojZWZmMmY1fX0uY2UtaW5saW5lLXRvb2xiYXJfX2Ryb3Bkb3duLS1oaWRkZW57ZGlzcGxheTpub25lfS5jZS1pbmxpbmUtdG9vbGJhcl9fZHJvcGRvd24tY29udGVudCwuY2UtaW5saW5lLXRvb2xiYXJfX2Ryb3Bkb3duLWFycm93e2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXh9LmNlLWlubGluZS10b29sYmFyX19kcm9wZG93bi1jb250ZW50IHN2ZywuY2UtaW5saW5lLXRvb2xiYXJfX2Ryb3Bkb3duLWFycm93IHN2Z3t3aWR0aDoyMHB4O2hlaWdodDoyMHB4fS5jZS1pbmxpbmUtdG9vbGJhcl9fc2hvcnRjdXR7b3BhY2l0eTouNjt3b3JkLXNwYWNpbmc6LTNweDttYXJnaW4tdG9wOjNweH0uY2UtaW5saW5lLXRvb2x7ZGlzcGxheTotd2Via2l0LWlubGluZS1ib3g7ZGlzcGxheTotbXMtaW5saW5lLWZsZXhib3g7ZGlzcGxheTppbmxpbmUtZmxleDstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstd2Via2l0LWJveC1wYWNrOmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO3BhZGRpbmc6NnB4IDFweDtjdXJzb3I6cG9pbnRlcjtib3JkZXI6MDtvdXRsaW5lOm5vbmU7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDt2ZXJ0aWNhbC1hbGlnbjpib3R0b207Y29sb3I6aW5oZXJpdDttYXJnaW46MDtib3JkZXItcmFkaXVzOjA7bGluZS1oZWlnaHQ6bm9ybWFsfS5jZS1pbmxpbmUtdG9vbCBzdmd7d2lkdGg6MjBweDtoZWlnaHQ6MjBweH1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS1pbmxpbmUtdG9vbCBzdmd7d2lkdGg6MjhweDtoZWlnaHQ6MjhweH19QG1lZGlhIChob3ZlcjogaG92ZXIpey5jZS1pbmxpbmUtdG9vbDpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNlZmYyZjV9fS5jZS1pbmxpbmUtdG9vbC0tYWN0aXZle2NvbG9yOiMzODhhZTV9LmNlLWlubGluZS10b29sLS1mb2N1c2Vke2JhY2tncm91bmQ6cmdiYSgzNCwxODYsMjU1LC4wOCkhaW1wb3J0YW50fS5jZS1pbmxpbmUtdG9vbC0tZm9jdXNlZHstd2Via2l0LWJveC1zaGFkb3c6aW5zZXQgMCAwIDBweCAxcHggcmdiYSg3LDE2MSwyMjcsLjA4KTtib3gtc2hhZG93Omluc2V0IDAgMCAwIDFweCAjMDdhMWUzMTR9LmNlLWlubGluZS10b29sLS1mb2N1c2VkLWFuaW1hdGVkey13ZWJraXQtYW5pbWF0aW9uLW5hbWU6YnV0dG9uQ2xpY2tlZDthbmltYXRpb24tbmFtZTpidXR0b25DbGlja2VkOy13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOi4yNXM7YW5pbWF0aW9uLWR1cmF0aW9uOi4yNXN9LmNlLWlubGluZS10b29sLS1saW5rIC5pY29uLS11bmxpbmssLmNlLWlubGluZS10b29sLS11bmxpbmsgLmljb24tLWxpbmt7ZGlzcGxheTpub25lfS5jZS1pbmxpbmUtdG9vbC0tdW5saW5rIC5pY29uLS11bmxpbmt7ZGlzcGxheTppbmxpbmUtYmxvY2s7bWFyZ2luLWJvdHRvbTotMXB4fS5jZS1pbmxpbmUtdG9vbC1pbnB1dHtvdXRsaW5lOm5vbmU7Ym9yZGVyOjA7Ym9yZGVyLXJhZGl1czowIDAgNHB4IDRweDttYXJnaW46MDtmb250LXNpemU6MTNweDtwYWRkaW5nOjEwcHg7d2lkdGg6MTAwJTstd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2l6aW5nOmJvcmRlci1ib3g7ZGlzcGxheTpub25lO2ZvbnQtd2VpZ2h0OjUwMDtib3JkZXItdG9wOjFweCBzb2xpZCByZ2JhKDIwMSwyMDEsMjA0LC40OCk7LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmU7Zm9udC1mYW1pbHk6aW5oZXJpdH1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS1pbmxpbmUtdG9vbC1pbnB1dHtmb250LXNpemU6MTVweDtmb250LXdlaWdodDo1MDB9fS5jZS1pbmxpbmUtdG9vbC1pbnB1dDo6LXdlYmtpdC1pbnB1dC1wbGFjZWhvbGRlcntjb2xvcjojNzA3Njg0fS5jZS1pbmxpbmUtdG9vbC1pbnB1dDo6LW1vei1wbGFjZWhvbGRlcntjb2xvcjojNzA3Njg0fS5jZS1pbmxpbmUtdG9vbC1pbnB1dDotbXMtaW5wdXQtcGxhY2Vob2xkZXJ7Y29sb3I6IzcwNzY4NH0uY2UtaW5saW5lLXRvb2wtaW5wdXQ6Oi1tcy1pbnB1dC1wbGFjZWhvbGRlcntjb2xvcjojNzA3Njg0fS5jZS1pbmxpbmUtdG9vbC1pbnB1dDo6cGxhY2Vob2xkZXJ7Y29sb3I6IzcwNzY4NH0uY2UtaW5saW5lLXRvb2wtaW5wdXQtLXNob3dlZHtkaXNwbGF5OmJsb2NrfS5jZS1jb252ZXJzaW9uLXRvb2xiYXJ7cG9zaXRpb246YWJzb2x1dGU7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JvcmRlcjoxcHggc29saWQgI0U4RThFQjstd2Via2l0LWJveC1zaGFkb3c6MCAzcHggMTVweCAtM3B4IHJnYmEoMTMsMjAsMzMsLjEzKTtib3gtc2hhZG93OjAgM3B4IDE1cHggLTNweCAjMGQxNDIxMjE7Ym9yZGVyLXJhZGl1czo2cHg7ei1pbmRleDoyO29wYWNpdHk6MDt2aXNpYmlsaXR5OmhpZGRlbjt3aWxsLWNoYW5nZTp0cmFuc2Zvcm0sb3BhY2l0eTstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAuMXMgZWFzZSwtd2Via2l0LXRyYW5zZm9ybSAuMXMgZWFzZTt0cmFuc2l0aW9uOm9wYWNpdHkgLjFzIGVhc2UsLXdlYmtpdC10cmFuc2Zvcm0gLjFzIGVhc2U7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gLjFzIGVhc2Usb3BhY2l0eSAuMXMgZWFzZTt0cmFuc2l0aW9uOnRyYW5zZm9ybSAuMXMgZWFzZSxvcGFjaXR5IC4xcyBlYXNlLC13ZWJraXQtdHJhbnNmb3JtIC4xcyBlYXNlOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoLThweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLThweCk7bGVmdDotMXB4O3dpZHRoOjE5MHB4O21hcmdpbi10b3A6NXB4Oy13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDtib3gtc2l6aW5nOmNvbnRlbnQtYm94fS5jZS1jb252ZXJzaW9uLXRvb2xiYXItLWxlZnQtb3JpZW50ZWQ6YmVmb3Jle2xlZnQ6MTVweDttYXJnaW4tbGVmdDowfS5jZS1jb252ZXJzaW9uLXRvb2xiYXItLXJpZ2h0LW9yaWVudGVkOmJlZm9yZXtsZWZ0OmF1dG87cmlnaHQ6MTVweDttYXJnaW4tbGVmdDowfS5jZS1jb252ZXJzaW9uLXRvb2xiYXItLXNob3dlZHtvcGFjaXR5OjE7dmlzaWJpbGl0eTp2aXNpYmxlOy13ZWJraXQtdHJhbnNmb3JtOm5vbmU7dHJhbnNmb3JtOm5vbmV9LmNlLWNvbnZlcnNpb24tdG9vbGJhciBbaGlkZGVuXXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS5jZS1jb252ZXJzaW9uLXRvb2xiYXJfX2J1dHRvbnN7ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleH0uY2UtY29udmVyc2lvbi10b29sYmFyX19sYWJlbHtjb2xvcjojNzA3Njg0O2ZvbnQtc2l6ZToxMXB4O2ZvbnQtd2VpZ2h0OjUwMDtsZXR0ZXItc3BhY2luZzouMzNweDtwYWRkaW5nOjEwcHggMTBweCA1cHg7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlfS5jZS1jb252ZXJzaW9uLXRvb2x7ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtwYWRkaW5nOjVweCAxMHB4O2ZvbnQtc2l6ZToxNHB4O2xpbmUtaGVpZ2h0OjIwcHg7Zm9udC13ZWlnaHQ6NTAwO2N1cnNvcjpwb2ludGVyOy13ZWJraXQtYm94LWFsaWduOmNlbnRlcjstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyfS5jZS1jb252ZXJzaW9uLXRvb2wtLWhpZGRlbntkaXNwbGF5Om5vbmV9LmNlLWNvbnZlcnNpb24tdG9vbC0tZm9jdXNlZHtiYWNrZ3JvdW5kOnJnYmEoMzQsMTg2LDI1NSwuMDgpIWltcG9ydGFudH0uY2UtY29udmVyc2lvbi10b29sLS1mb2N1c2Vkey13ZWJraXQtYm94LXNoYWRvdzppbnNldCAwIDAgMHB4IDFweCByZ2JhKDcsMTYxLDIyNywuMDgpO2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgMXB4ICMwN2ExZTMxNH0uY2UtY29udmVyc2lvbi10b29sLS1mb2N1c2VkLWFuaW1hdGVkey13ZWJraXQtYW5pbWF0aW9uLW5hbWU6YnV0dG9uQ2xpY2tlZDthbmltYXRpb24tbmFtZTpidXR0b25DbGlja2VkOy13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOi4yNXM7YW5pbWF0aW9uLWR1cmF0aW9uOi4yNXN9LmNlLWNvbnZlcnNpb24tdG9vbDpob3ZlcntiYWNrZ3JvdW5kOiNlZmYyZjV9LmNlLWNvbnZlcnNpb24tdG9vbF9faWNvbntkaXNwbGF5Oi13ZWJraXQtaW5saW5lLWJveDtkaXNwbGF5Oi1tcy1pbmxpbmUtZmxleGJveDtkaXNwbGF5OmlubGluZS1mbGV4O3dpZHRoOjI2cHg7aGVpZ2h0OjI2cHg7LXdlYmtpdC1ib3gtc2hhZG93OjAgMCAwIDFweCByZ2JhKDIwMSwyMDEsMjA0LC40OCk7Ym94LXNoYWRvdzowIDAgMCAxcHggI2M5YzljYzdhO2JvcmRlci1yYWRpdXM6NXB4Oy13ZWJraXQtYm94LWFsaWduOmNlbnRlcjstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy13ZWJraXQtYm94LXBhY2s6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7YmFja2dyb3VuZDojZmZmOy13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDtib3gtc2l6aW5nOmNvbnRlbnQtYm94Oy1tcy1mbGV4LW5lZ2F0aXZlOjA7ZmxleC1zaHJpbms6MDttYXJnaW4tcmlnaHQ6MTBweH0uY2UtY29udmVyc2lvbi10b29sX19pY29uIHN2Z3t3aWR0aDoyMHB4O2hlaWdodDoyMHB4fUBtZWRpYSAobWF4LXdpZHRoOiA2NTBweCl7LmNlLWNvbnZlcnNpb24tdG9vbF9faWNvbnt3aWR0aDozNnB4O2hlaWdodDozNnB4O2JvcmRlci1yYWRpdXM6OHB4fS5jZS1jb252ZXJzaW9uLXRvb2xfX2ljb24gc3Zne3dpZHRoOjI4cHg7aGVpZ2h0OjI4cHh9fS5jZS1jb252ZXJzaW9uLXRvb2wtLWxhc3R7bWFyZ2luLXJpZ2h0OjAhaW1wb3J0YW50fS5jZS1jb252ZXJzaW9uLXRvb2wtLWFjdGl2ZXtjb2xvcjojMzg4YWU1IWltcG9ydGFudH0uY2UtY29udmVyc2lvbi10b29sLS1hY3RpdmV7LXdlYmtpdC1hbmltYXRpb246Ym91bmNlSW4gLjc1cyAxO2FuaW1hdGlvbjpib3VuY2VJbiAuNzVzIDE7LXdlYmtpdC1hbmltYXRpb24tZmlsbC1tb2RlOmZvcndhcmRzO2FuaW1hdGlvbi1maWxsLW1vZGU6Zm9yd2FyZHN9LmNlLWNvbnZlcnNpb24tdG9vbF9fc2Vjb25kYXJ5LWxhYmVse2NvbG9yOiM3MDc2ODQ7Zm9udC1zaXplOjEycHg7bWFyZ2luLWxlZnQ6YXV0bzt3aGl0ZS1zcGFjZTpub3dyYXA7bGV0dGVyLXNwYWNpbmc6LS4xZW07cGFkZGluZy1yaWdodDo1cHg7bWFyZ2luLWJvdHRvbTotMnB4O29wYWNpdHk6LjZ9QG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KXsuY2UtY29udmVyc2lvbi10b29sX19zZWNvbmRhcnktbGFiZWx7ZGlzcGxheTpub25lfX0uY2Utc2V0dGluZ3NfX2J1dHRvbntkaXNwbGF5Oi13ZWJraXQtaW5saW5lLWJveDtkaXNwbGF5Oi1tcy1pbmxpbmUtZmxleGJveDtkaXNwbGF5OmlubGluZS1mbGV4Oy13ZWJraXQtYm94LWFsaWduOmNlbnRlcjstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy13ZWJraXQtYm94LXBhY2s6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7cGFkZGluZzo2cHggMXB4O2JvcmRlci1yYWRpdXM6M3B4O2N1cnNvcjpwb2ludGVyO2JvcmRlcjowO291dGxpbmU6bm9uZTtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O3ZlcnRpY2FsLWFsaWduOmJvdHRvbTtjb2xvcjppbmhlcml0O21hcmdpbjowO2xpbmUtaGVpZ2h0OjMycHh9LmNlLXNldHRpbmdzX19idXR0b24gc3Zne3dpZHRoOjIwcHg7aGVpZ2h0OjIwcHh9QG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KXsuY2Utc2V0dGluZ3NfX2J1dHRvbiBzdmd7d2lkdGg6MjhweDtoZWlnaHQ6MjhweH19QG1lZGlhIChob3ZlcjogaG92ZXIpey5jZS1zZXR0aW5nc19fYnV0dG9uOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2VmZjJmNX19LmNlLXNldHRpbmdzX19idXR0b24tLWFjdGl2ZXtjb2xvcjojMzg4YWU1fS5jZS1zZXR0aW5nc19fYnV0dG9uLS1mb2N1c2Vke2JhY2tncm91bmQ6cmdiYSgzNCwxODYsMjU1LC4wOCkhaW1wb3J0YW50fS5jZS1zZXR0aW5nc19fYnV0dG9uLS1mb2N1c2Vkey13ZWJraXQtYm94LXNoYWRvdzppbnNldCAwIDAgMHB4IDFweCByZ2JhKDcsMTYxLDIyNywuMDgpO2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgMXB4ICMwN2ExZTMxNH0uY2Utc2V0dGluZ3NfX2J1dHRvbi0tZm9jdXNlZC1hbmltYXRlZHstd2Via2l0LWFuaW1hdGlvbi1uYW1lOmJ1dHRvbkNsaWNrZWQ7YW5pbWF0aW9uLW5hbWU6YnV0dG9uQ2xpY2tlZDstd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjouMjVzO2FuaW1hdGlvbi1kdXJhdGlvbjouMjVzfS5jZS1zZXR0aW5nc19fYnV0dG9uOm5vdCg6bnRoLWNoaWxkKDNuKzMpKXttYXJnaW4tcmlnaHQ6M3B4fS5jZS1zZXR0aW5nc19fYnV0dG9uOm50aC1jaGlsZChuKzQpe21hcmdpbi10b3A6M3B4fS5jZS1zZXR0aW5nc19fYnV0dG9uLS1kaXNhYmxlZHtjdXJzb3I6bm90LWFsbG93ZWQhaW1wb3J0YW50fS5jZS1zZXR0aW5nc19fYnV0dG9uLS1kaXNhYmxlZHtvcGFjaXR5Oi4zfS5jZS1zZXR0aW5nc19fYnV0dG9uLS1zZWxlY3RlZHtjb2xvcjojMzg4YWU1fUBtZWRpYSAobWluLXdpZHRoOiA2NTFweCl7LmNvZGV4LWVkaXRvci0tbmFycm93IC5jZS1zZXR0aW5ncyAuY2UtcG9wb3ZlcntyaWdodDowO2xlZnQ6YXV0bztsZWZ0OmluaXRpYWx9fUAtd2Via2l0LWtleWZyYW1lcyBmYWRlLWluezAle29wYWNpdHk6MH10b3tvcGFjaXR5OjF9fUBrZXlmcmFtZXMgZmFkZS1pbnswJXtvcGFjaXR5OjB9dG97b3BhY2l0eToxfX0uY2UtYmxvY2t7LXdlYmtpdC1hbmltYXRpb246ZmFkZS1pbiAuM3MgZWFzZTthbmltYXRpb246ZmFkZS1pbiAuM3MgZWFzZTstd2Via2l0LWFuaW1hdGlvbi1maWxsLW1vZGU6bm9uZTthbmltYXRpb24tZmlsbC1tb2RlOm5vbmU7LXdlYmtpdC1hbmltYXRpb24tZmlsbC1tb2RlOmluaXRpYWw7YW5pbWF0aW9uLWZpbGwtbW9kZTppbml0aWFsfS5jZS1ibG9jazpmaXJzdC1vZi10eXBle21hcmdpbi10b3A6MH0uY2UtYmxvY2stLXNlbGVjdGVkIC5jZS1ibG9ja19fY29udGVudHtiYWNrZ3JvdW5kOiNlMWYyZmZ9LmNlLWJsb2NrLS1zZWxlY3RlZCAuY2UtYmxvY2tfX2NvbnRlbnQgW2NvbnRlbnRlZGl0YWJsZV17LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lfS5jZS1ibG9jay0tc2VsZWN0ZWQgLmNlLWJsb2NrX19jb250ZW50IGltZywuY2UtYmxvY2stLXNlbGVjdGVkIC5jZS1ibG9ja19fY29udGVudCAuY2Utc3R1YntvcGFjaXR5Oi41NX0uY2UtYmxvY2stLXN0cmV0Y2hlZCAuY2UtYmxvY2tfX2NvbnRlbnR7bWF4LXdpZHRoOm5vbmV9LmNlLWJsb2NrX19jb250ZW50e3Bvc2l0aW9uOnJlbGF0aXZlO21heC13aWR0aDo2NTBweDttYXJnaW46MCBhdXRvOy13ZWJraXQtdHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIC4xNXMgZWFzZTt0cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgLjE1cyBlYXNlfS5jZS1ibG9jay0tZHJvcC10YXJnZXQgLmNlLWJsb2NrX19jb250ZW50OmJlZm9yZXtjb250ZW50OlwiXCI7cG9zaXRpb246YWJzb2x1dGU7dG9wOjEwMCU7bGVmdDotMjBweDttYXJnaW4tdG9wOi0xcHg7aGVpZ2h0OjhweDt3aWR0aDo4cHg7Ym9yZGVyOnNvbGlkICMzODhBRTU7Ym9yZGVyLXdpZHRoOjFweCAxcHggMCAwOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjpyaWdodDt0cmFuc2Zvcm0tb3JpZ2luOnJpZ2h0Oy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyl9LmNlLWJsb2NrLS1kcm9wLXRhcmdldCAuY2UtYmxvY2tfX2NvbnRlbnQ6YWZ0ZXJ7Y29udGVudDpcIlwiO3Bvc2l0aW9uOmFic29sdXRlO3RvcDoxMDAlO2hlaWdodDoxcHg7d2lkdGg6MTAwJTtjb2xvcjojMzg4YWU1O2JhY2tncm91bmQ6cmVwZWF0aW5nLWxpbmVhci1ncmFkaWVudCg5MGRlZywjMzg4QUU1LCMzODhBRTUgMXB4LCNmZmYgMXB4LCNmZmYgNnB4KX0uY2UtYmxvY2sgYXtjdXJzb3I6cG9pbnRlcjstd2Via2l0LXRleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmU7dGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZX0uY2UtYmxvY2sgYntmb250LXdlaWdodDo3MDB9LmNlLWJsb2NrIGl7Zm9udC1zdHlsZTppdGFsaWN9QG1lZGlhIChtaW4td2lkdGg6IDY1MXB4KXsuY29kZXgtZWRpdG9yLS1uYXJyb3cgLmNlLWJsb2NrLS1mb2N1c2Vke21hcmdpbi1yaWdodDotNTBweDtwYWRkaW5nLXJpZ2h0OjUwcHh9fUAtd2Via2l0LWtleWZyYW1lcyBib3VuY2VJbnswJSwyMCUsNDAlLDYwJSw4MCUsdG97LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSl9MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCguOSwuOSwuOSk7dHJhbnNmb3JtOnNjYWxlM2QoLjksLjksLjkpfTIwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEuMDMsMS4wMywxLjAzKTt0cmFuc2Zvcm06c2NhbGUzZCgxLjAzLDEuMDMsMS4wMyl9NjAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMSwxLDEpO3RyYW5zZm9ybTpzY2FsZVooMSl9fUBrZXlmcmFtZXMgYm91bmNlSW57MCUsMjAlLDQwJSw2MCUsODAlLHRvey13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjIxNSwuNjEsLjM1NSwxKTthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpfTAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoLjksLjksLjkpO3RyYW5zZm9ybTpzY2FsZTNkKC45LC45LC45KX0yMCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLjAzLDEuMDMsMS4wMyk7dHJhbnNmb3JtOnNjYWxlM2QoMS4wMywxLjAzLDEuMDMpfTYwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEsMSwxKTt0cmFuc2Zvcm06c2NhbGVaKDEpfX1ALXdlYmtpdC1rZXlmcmFtZXMgc2VsZWN0aW9uQm91bmNlezAlLDIwJSw0MCUsNjAlLDgwJSx0b3std2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSk7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjIxNSwuNjEsLjM1NSwxKX01MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLjAxLDEuMDEsMS4wMSk7dHJhbnNmb3JtOnNjYWxlM2QoMS4wMSwxLjAxLDEuMDEpfTcwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEsMSwxKTt0cmFuc2Zvcm06c2NhbGVaKDEpfX1Aa2V5ZnJhbWVzIHNlbGVjdGlvbkJvdW5jZXswJSwyMCUsNDAlLDYwJSw4MCUsdG97LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSl9NTAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMS4wMSwxLjAxLDEuMDEpO3RyYW5zZm9ybTpzY2FsZTNkKDEuMDEsMS4wMSwxLjAxKX03MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLDEsMSk7dHJhbnNmb3JtOnNjYWxlWigxKX19QC13ZWJraXQta2V5ZnJhbWVzIGJ1dHRvbkNsaWNrZWR7MCUsMjAlLDQwJSw2MCUsODAlLHRvey13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjIxNSwuNjEsLjM1NSwxKTthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpfTAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoLjk1LC45NSwuOTUpO3RyYW5zZm9ybTpzY2FsZTNkKC45NSwuOTUsLjk1KX02MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLjAyLDEuMDIsMS4wMik7dHJhbnNmb3JtOnNjYWxlM2QoMS4wMiwxLjAyLDEuMDIpfTgwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEsMSwxKTt0cmFuc2Zvcm06c2NhbGVaKDEpfX1Aa2V5ZnJhbWVzIGJ1dHRvbkNsaWNrZWR7MCUsMjAlLDQwJSw2MCUsODAlLHRvey13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjIxNSwuNjEsLjM1NSwxKTthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpfTAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoLjk1LC45NSwuOTUpO3RyYW5zZm9ybTpzY2FsZTNkKC45NSwuOTUsLjk1KX02MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLjAyLDEuMDIsMS4wMik7dHJhbnNmb3JtOnNjYWxlM2QoMS4wMiwxLjAyLDEuMDIpfTgwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEsMSwxKTt0cmFuc2Zvcm06c2NhbGVaKDEpfX0uY2R4LWJsb2Nre3BhZGRpbmc6LjRlbSAwfS5jZHgtYmxvY2s6Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXJ7bGluZS1oZWlnaHQ6bm9ybWFsIWltcG9ydGFudH0uY2R4LWlucHV0e2JvcmRlcjoxcHggc29saWQgcmdiYSgyMDEsMjAxLDIwNCwuNDgpOy13ZWJraXQtYm94LXNoYWRvdzppbnNldCAwIDFweCAycHggMCByZ2JhKDM1LDQ0LDcyLC4wNik7Ym94LXNoYWRvdzppbnNldCAwIDFweCAycHggIzIzMmM0ODBmO2JvcmRlci1yYWRpdXM6M3B4O3BhZGRpbmc6MTBweCAxMnB4O291dGxpbmU6bm9uZTt3aWR0aDoxMDAlOy13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveH0uY2R4LWlucHV0W2RhdGEtcGxhY2Vob2xkZXJdOmJlZm9yZXtwb3NpdGlvbjpzdGF0aWMhaW1wb3J0YW50fS5jZHgtaW5wdXRbZGF0YS1wbGFjZWhvbGRlcl06YmVmb3Jle2Rpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjA7d2hpdGUtc3BhY2U6bm93cmFwO3BvaW50ZXItZXZlbnRzOm5vbmV9LmNkeC1zZXR0aW5ncy1idXR0b257ZGlzcGxheTotd2Via2l0LWlubGluZS1ib3g7ZGlzcGxheTotbXMtaW5saW5lLWZsZXhib3g7ZGlzcGxheTppbmxpbmUtZmxleDstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstd2Via2l0LWJveC1wYWNrOmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO3BhZGRpbmc6NnB4IDFweDtib3JkZXItcmFkaXVzOjNweDtjdXJzb3I6cG9pbnRlcjtib3JkZXI6MDtvdXRsaW5lOm5vbmU7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDt2ZXJ0aWNhbC1hbGlnbjpib3R0b207Y29sb3I6aW5oZXJpdDttYXJnaW46MDttaW4td2lkdGg6MjZweDttaW4taGVpZ2h0OjI2cHh9LmNkeC1zZXR0aW5ncy1idXR0b24gc3Zne3dpZHRoOjIwcHg7aGVpZ2h0OjIwcHh9QG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KXsuY2R4LXNldHRpbmdzLWJ1dHRvbiBzdmd7d2lkdGg6MjhweDtoZWlnaHQ6MjhweH19QG1lZGlhIChob3ZlcjogaG92ZXIpey5jZHgtc2V0dGluZ3MtYnV0dG9uOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2VmZjJmNX19LmNkeC1zZXR0aW5ncy1idXR0b24tLWZvY3VzZWR7YmFja2dyb3VuZDpyZ2JhKDM0LDE4NiwyNTUsLjA4KSFpbXBvcnRhbnR9LmNkeC1zZXR0aW5ncy1idXR0b24tLWZvY3VzZWR7LXdlYmtpdC1ib3gtc2hhZG93Omluc2V0IDAgMCAwcHggMXB4IHJnYmEoNywxNjEsMjI3LC4wOCk7Ym94LXNoYWRvdzppbnNldCAwIDAgMCAxcHggIzA3YTFlMzE0fS5jZHgtc2V0dGluZ3MtYnV0dG9uLS1mb2N1c2VkLWFuaW1hdGVkey13ZWJraXQtYW5pbWF0aW9uLW5hbWU6YnV0dG9uQ2xpY2tlZDthbmltYXRpb24tbmFtZTpidXR0b25DbGlja2VkOy13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOi4yNXM7YW5pbWF0aW9uLWR1cmF0aW9uOi4yNXN9LmNkeC1zZXR0aW5ncy1idXR0b24tLWFjdGl2ZXtjb2xvcjojMzg4YWU1fS5jZHgtc2V0dGluZ3MtYnV0dG9uIHN2Z3t3aWR0aDphdXRvO2hlaWdodDphdXRvfUBtZWRpYSAobWF4LXdpZHRoOiA2NTBweCl7LmNkeC1zZXR0aW5ncy1idXR0b257d2lkdGg6MzZweDtoZWlnaHQ6MzZweDtib3JkZXItcmFkaXVzOjhweH19LmNkeC1sb2FkZXJ7cG9zaXRpb246cmVsYXRpdmU7Ym9yZGVyOjFweCBzb2xpZCByZ2JhKDIwMSwyMDEsMjA0LC40OCl9LmNkeC1sb2FkZXI6YmVmb3Jle2NvbnRlbnQ6XCJcIjtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjUwJTt0b3A6NTAlO3dpZHRoOjE4cHg7aGVpZ2h0OjE4cHg7bWFyZ2luOi0xMXB4IDAgMCAtMTFweDtib3JkZXI6MnB4IHNvbGlkIHJnYmEoMjAxLDIwMSwyMDQsLjQ4KTtib3JkZXItbGVmdC1jb2xvcjojMzg4YWU1O2JvcmRlci1yYWRpdXM6NTAlOy13ZWJraXQtYW5pbWF0aW9uOmNkeFJvdGF0aW9uIDEuMnMgaW5maW5pdGUgbGluZWFyO2FuaW1hdGlvbjpjZHhSb3RhdGlvbiAxLjJzIGluZmluaXRlIGxpbmVhcn1ALXdlYmtpdC1rZXlmcmFtZXMgY2R4Um90YXRpb257MCV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMCl9dG97LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDM2MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpfX1Aa2V5ZnJhbWVzIGNkeFJvdGF0aW9uezAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDApfXRvey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKX19LmNkeC1idXR0b257cGFkZGluZzoxM3B4O2JvcmRlci1yYWRpdXM6M3B4O2JvcmRlcjoxcHggc29saWQgcmdiYSgyMDEsMjAxLDIwNCwuNDgpO2ZvbnQtc2l6ZToxNC45cHg7YmFja2dyb3VuZDojZmZmOy13ZWJraXQtYm94LXNoYWRvdzowIDJweCAycHggMCByZ2JhKDE4LDMwLDU3LC4wNCk7Ym94LXNoYWRvdzowIDJweCAycHggIzEyMWUzOTBhO2NvbG9yOiM3MDc2ODQ7dGV4dC1hbGlnbjpjZW50ZXI7Y3Vyc29yOnBvaW50ZXJ9QG1lZGlhIChob3ZlcjogaG92ZXIpey5jZHgtYnV0dG9uOmhvdmVye2JhY2tncm91bmQ6I0ZCRkNGRTstd2Via2l0LWJveC1zaGFkb3c6MCAxcHggM3B4IDAgcmdiYSgxOCwzMCw1NywuMDgpO2JveC1zaGFkb3c6MCAxcHggM3B4ICMxMjFlMzkxNH19LmNkeC1idXR0b24gc3Zne2hlaWdodDoyMHB4O21hcmdpbi1yaWdodDouMmVtO21hcmdpbi10b3A6LTJweH0uY2Utc3R1YntkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy13ZWJraXQtYm94LWFsaWduOmNlbnRlcjstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO3BhZGRpbmc6MTJweCAxOHB4O21hcmdpbjoxMHB4IDA7Ym9yZGVyLXJhZGl1czoxMHB4O2JhY2tncm91bmQ6I2VmZjJmNTtib3JkZXI6MXB4IHNvbGlkICNFRkYwRjE7Y29sb3I6IzcwNzY4NDtmb250LXNpemU6MTRweH0uY2Utc3R1YiBzdmd7d2lkdGg6MjBweDtoZWlnaHQ6MjBweH0uY2Utc3R1Yl9faW5mb3ttYXJnaW4tbGVmdDoxNHB4fS5jZS1zdHViX190aXRsZXtmb250LXdlaWdodDo1MDA7dGV4dC10cmFuc2Zvcm06Y2FwaXRhbGl6ZX0uY29kZXgtZWRpdG9yLmNvZGV4LWVkaXRvci0tcnRse2RpcmVjdGlvbjpydGx9LmNvZGV4LWVkaXRvci5jb2RleC1lZGl0b3ItLXJ0bCAuY2R4LWxpc3R7cGFkZGluZy1sZWZ0OjA7cGFkZGluZy1yaWdodDo0MHB4fS5jb2RleC1lZGl0b3IuY29kZXgtZWRpdG9yLS1ydGwgLmNlLXRvb2xiYXJfX3BsdXN7cmlnaHQ6LTI2cHg7bGVmdDphdXRvfS5jb2RleC1lZGl0b3IuY29kZXgtZWRpdG9yLS1ydGwgLmNlLXRvb2xiYXJfX2FjdGlvbnN7cmlnaHQ6YXV0bztsZWZ0Oi0yNnB4fUBtZWRpYSAobWF4LXdpZHRoOiA2NTBweCl7LmNvZGV4LWVkaXRvci5jb2RleC1lZGl0b3ItLXJ0bCAuY2UtdG9vbGJhcl9fYWN0aW9uc3ttYXJnaW4tbGVmdDowO21hcmdpbi1yaWdodDphdXRvO3BhZGRpbmctcmlnaHQ6MDtwYWRkaW5nLWxlZnQ6MTBweH19LmNvZGV4LWVkaXRvci5jb2RleC1lZGl0b3ItLXJ0bCAuY2Utc2V0dGluZ3N7bGVmdDo1cHg7cmlnaHQ6YXV0b30uY29kZXgtZWRpdG9yLmNvZGV4LWVkaXRvci0tcnRsIC5jZS1zZXR0aW5nczpiZWZvcmV7cmlnaHQ6YXV0bztsZWZ0OjI1cHh9LmNvZGV4LWVkaXRvci5jb2RleC1lZGl0b3ItLXJ0bCAuY2Utc2V0dGluZ3NfX2J1dHRvbjpub3QoOm50aC1jaGlsZCgzbiszKSl7bWFyZ2luLWxlZnQ6M3B4O21hcmdpbi1yaWdodDowfS5jb2RleC1lZGl0b3IuY29kZXgtZWRpdG9yLS1ydGwgLmNlLWNvbnZlcnNpb24tdG9vbF9faWNvbnttYXJnaW4tcmlnaHQ6MDttYXJnaW4tbGVmdDoxMHB4fS5jb2RleC1lZGl0b3IuY29kZXgtZWRpdG9yLS1ydGwgLmNlLWlubGluZS10b29sYmFyX19kcm9wZG93bntib3JkZXItcmlnaHQ6MHB4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1sZWZ0OjFweCBzb2xpZCByZ2JhKDIwMSwyMDEsMjA0LC40OCk7bWFyZ2luOjAgLTZweCAwIDZweH0uY29kZXgtZWRpdG9yLmNvZGV4LWVkaXRvci0tcnRsIC5jZS1pbmxpbmUtdG9vbGJhcl9fZHJvcGRvd24gLmljb24tLXRvZ2dsZXItZG93bnttYXJnaW4tbGVmdDowO21hcmdpbi1yaWdodDo0cHh9QG1lZGlhIChtaW4td2lkdGg6IDY1MXB4KXsuY29kZXgtZWRpdG9yLS1uYXJyb3cuY29kZXgtZWRpdG9yLS1ydGwgLmNlLXRvb2xiYXJfX3BsdXN7bGVmdDowcHg7cmlnaHQ6NXB4fX1AbWVkaWEgKG1pbi13aWR0aDogNjUxcHgpey5jb2RleC1lZGl0b3ItLW5hcnJvdy5jb2RleC1lZGl0b3ItLXJ0bCAuY2UtdG9vbGJhcl9fYWN0aW9uc3tsZWZ0Oi01cHh9fS5jZHgtc2VhcmNoLWZpZWxkey0taWNvbi1tYXJnaW4tcmlnaHQ6IDEwcHg7YmFja2dyb3VuZDpyZ2JhKDIzMiwyMzIsMjM1LC40OSk7Ym9yZGVyOjFweCBzb2xpZCByZ2JhKDIyNiwyMjYsMjI5LC4yKTtib3JkZXItcmFkaXVzOjZweDtwYWRkaW5nOjJweDtkaXNwbGF5OmdyaWQ7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOmF1dG8gYXV0byAxZnI7Z3JpZC10ZW1wbGF0ZS1yb3dzOmF1dG99LmNkeC1zZWFyY2gtZmllbGRfX2ljb257d2lkdGg6MjZweDtoZWlnaHQ6MjZweDtkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy13ZWJraXQtYm94LWFsaWduOmNlbnRlcjstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy13ZWJraXQtYm94LXBhY2s6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7bWFyZ2luLXJpZ2h0OnZhcigtLWljb24tbWFyZ2luLXJpZ2h0KX0uY2R4LXNlYXJjaC1maWVsZF9faWNvbiBzdmd7d2lkdGg6MjBweDtoZWlnaHQ6MjBweDtjb2xvcjojNzA3Njg0fS5jZHgtc2VhcmNoLWZpZWxkX19pbnB1dHtmb250LXNpemU6MTRweDtvdXRsaW5lOm5vbmU7Zm9udC13ZWlnaHQ6NTAwO2ZvbnQtZmFtaWx5OmluaGVyaXQ7Ym9yZGVyOjA7YmFja2dyb3VuZDp0cmFuc3BhcmVudDttYXJnaW46MDtwYWRkaW5nOjA7bGluZS1oZWlnaHQ6MjJweDttaW4td2lkdGg6Y2FsYygxMDAlIC0gMjZweCAtIHZhcigtLWljb24tbWFyZ2luLXJpZ2h0KSl9LmNkeC1zZWFyY2gtZmllbGRfX2lucHV0Ojotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVye2NvbG9yOiM3MDc2ODQ7Zm9udC13ZWlnaHQ6NTAwfS5jZHgtc2VhcmNoLWZpZWxkX19pbnB1dDo6LW1vei1wbGFjZWhvbGRlcntjb2xvcjojNzA3Njg0O2ZvbnQtd2VpZ2h0OjUwMH0uY2R4LXNlYXJjaC1maWVsZF9faW5wdXQ6LW1zLWlucHV0LXBsYWNlaG9sZGVye2NvbG9yOiM3MDc2ODQ7Zm9udC13ZWlnaHQ6NTAwfS5jZHgtc2VhcmNoLWZpZWxkX19pbnB1dDo6LW1zLWlucHV0LXBsYWNlaG9sZGVye2NvbG9yOiM3MDc2ODQ7Zm9udC13ZWlnaHQ6NTAwfS5jZHgtc2VhcmNoLWZpZWxkX19pbnB1dDo6cGxhY2Vob2xkZXJ7Y29sb3I6IzcwNzY4NDtmb250LXdlaWdodDo1MDB9LmNlLXBvcG92ZXJ7LS1ib3JkZXItcmFkaXVzOiA2cHg7LS13aWR0aDogMjAwcHg7LS1tYXgtaGVpZ2h0OiAyNzBweDstLXBhZGRpbmc6IDZweDstLW9mZnNldC1mcm9tLXRhcmdldDogOHB4Oy0tY29sb3ItYm9yZGVyOiAjZThlOGViOy0tY29sb3Itc2hhZG93OiByZ2JhKDEzLDIwLDMzLC4xMyk7LS1jb2xvci1iYWNrZ3JvdW5kOiB3aGl0ZTstLWNvbG9yLXRleHQtcHJpbWFyeTogYmxhY2s7LS1jb2xvci10ZXh0LXNlY29uZGFyeTogIzcwNzY4NDstLWNvbG9yLWJvcmRlci1pY29uOiByZ2JhKDIwMSwgMjAxLCAyMDQsIC40OCk7LS1jb2xvci1ib3JkZXItaWNvbi1kaXNhYmxlZDogI0VGRjBGMTstLWNvbG9yLXRleHQtaWNvbi1hY3RpdmU6ICMzODhBRTU7LS1jb2xvci1iYWNrZ3JvdW5kLWljb24tYWN0aXZlOiByZ2JhKDU2LCAxMzgsIDIyOSwgLjEpOy0tY29sb3ItYmFja2dyb3VuZC1pdGVtLWZvY3VzOiByZ2JhKDM0LCAxODYsIDI1NSwgLjA4KTstLWNvbG9yLXNoYWRvdy1pdGVtLWZvY3VzOiByZ2JhKDcsIDE2MSwgMjI3LCAuMDgpOy0tY29sb3ItYmFja2dyb3VuZC1pdGVtLWhvdmVyOiAjZWZmMmY1Oy0tY29sb3ItYmFja2dyb3VuZC1pdGVtLWNvbmZpcm06ICNFMjRBNEE7LS1jb2xvci1iYWNrZ3JvdW5kLWl0ZW0tY29uZmlybS1ob3ZlcjogI0NFNDM0MzttaW4td2lkdGg6dmFyKC0td2lkdGgpO3dpZHRoOnZhcigtLXdpZHRoKTttYXgtaGVpZ2h0OnZhcigtLW1heC1oZWlnaHQpO2JvcmRlci1yYWRpdXM6dmFyKC0tYm9yZGVyLXJhZGl1cyk7b3ZlcmZsb3c6aGlkZGVuOy13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDstd2Via2l0LWJveC1zaGFkb3c6MCAzcHggMTVweCAtM3B4IHZhcigtLWNvbG9yLXNoYWRvdyk7Ym94LXNoYWRvdzowIDNweCAxNXB4IC0zcHggdmFyKC0tY29sb3Itc2hhZG93KTtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOmNhbGMoMTAwJSArIHZhcigtLW9mZnNldC1mcm9tLXRhcmdldCkpO2JhY2tncm91bmQ6dmFyKC0tY29sb3ItYmFja2dyb3VuZCk7ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstd2Via2l0LWJveC1vcmllbnQ6dmVydGljYWw7LXdlYmtpdC1ib3gtZGlyZWN0aW9uOm5vcm1hbDstbXMtZmxleC1kaXJlY3Rpb246Y29sdW1uO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjt6LWluZGV4OjQ7b3BhY2l0eTowO21heC1oZWlnaHQ6MDtwb2ludGVyLWV2ZW50czpub25lO3BhZGRpbmc6MDtib3JkZXI6bm9uZX0uY2UtcG9wb3Zlci0tb3BlbmVke29wYWNpdHk6MTtwYWRkaW5nOnZhcigtLXBhZGRpbmcpO21heC1oZWlnaHQ6dmFyKC0tbWF4LWhlaWdodCk7cG9pbnRlci1ldmVudHM6YXV0bzstd2Via2l0LWFuaW1hdGlvbjpwYW5lbFNob3dpbmcgLjFzIGVhc2U7YW5pbWF0aW9uOnBhbmVsU2hvd2luZyAuMXMgZWFzZTtib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNvbG9yLWJvcmRlcil9QG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KXsuY2UtcG9wb3Zlci0tb3BlbmVkey13ZWJraXQtYW5pbWF0aW9uOnBhbmVsU2hvd2luZ01vYmlsZSAuMjVzIGVhc2U7YW5pbWF0aW9uOnBhbmVsU2hvd2luZ01vYmlsZSAuMjVzIGVhc2V9fS5jZS1wb3BvdmVyX19pdGVtc3tvdmVyZmxvdy15OmF1dG87LW1zLXNjcm9sbC1jaGFpbmluZzpub25lO292ZXJzY3JvbGwtYmVoYXZpb3I6Y29udGFpbn1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS1wb3BvdmVyX19vdmVybGF5e3Bvc2l0aW9uOmZpeGVkO3RvcDowO2JvdHRvbTowO2xlZnQ6MDtyaWdodDowO2JhY2tncm91bmQ6IzFEMjAyQjt6LWluZGV4OjM7b3BhY2l0eTouNTstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAuMTJzIGVhc2UtaW47dHJhbnNpdGlvbjpvcGFjaXR5IC4xMnMgZWFzZS1pbjt3aWxsLWNoYW5nZTpvcGFjaXR5O3Zpc2liaWxpdHk6dmlzaWJsZX19LmNlLXBvcG92ZXJfX292ZXJsYXktLWhpZGRlbntkaXNwbGF5Om5vbmV9LmNlLXBvcG92ZXItLW9wZW4tdG9we3RvcDpjYWxjKC0xICogKHZhcigtLW9mZnNldC1mcm9tLXRhcmdldCkgKyB2YXIoLS1wb3BvdmVyLWhlaWdodCkpKX1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS1wb3BvdmVyey0tb2Zmc2V0OiA1cHg7cG9zaXRpb246Zml4ZWQ7bWF4LXdpZHRoOm5vbmU7bWluLXdpZHRoOmNhbGMoMTAwJSAtIHZhcigtLW9mZnNldCkgKiAyKTtsZWZ0OnZhcigtLW9mZnNldCk7cmlnaHQ6dmFyKC0tb2Zmc2V0KTtib3R0b206Y2FsYyh2YXIoLS1vZmZzZXQpICsgZW52KHNhZmUtYXJlYS1pbnNldC1ib3R0b20pKTt0b3A6YXV0bztib3JkZXItcmFkaXVzOjEwcHh9LmNlLXBvcG92ZXIgLmNlLXBvcG92ZXJfX3NlYXJjaHtkaXNwbGF5Om5vbmV9fS5jZS1wb3BvdmVyX19zZWFyY2gsLmNlLXBvcG92ZXJfX2N1c3RvbS1jb250ZW50Om5vdCg6ZW1wdHkpe21hcmdpbi1ib3R0b206NXB4fS5jZS1wb3BvdmVyX19ub3RoaW5nLWZvdW5kLW1lc3NhZ2V7Y29sb3I6IzcwNzY4NDtkaXNwbGF5Om5vbmU7Y3Vyc29yOmRlZmF1bHQ7cGFkZGluZzozcHg7Zm9udC1zaXplOjE0cHg7bGluZS1oZWlnaHQ6MjBweDtmb250LXdlaWdodDo1MDA7d2hpdGUtc3BhY2U6bm93cmFwO292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzfS5jZS1wb3BvdmVyX19ub3RoaW5nLWZvdW5kLW1lc3NhZ2UtLWRpc3BsYXllZHtkaXNwbGF5OmJsb2NrfS5jZS1wb3BvdmVyX19jdXN0b20tY29udGVudDpub3QoOmVtcHR5KXtwYWRkaW5nOjRweH1AbWVkaWEgKG1pbi13aWR0aDogNjUxcHgpey5jZS1wb3BvdmVyX19jdXN0b20tY29udGVudDpub3QoOmVtcHR5KXtwYWRkaW5nOjB9fS5jZS1wb3BvdmVyX19jdXN0b20tY29udGVudC0taGlkZGVue2Rpc3BsYXk6bm9uZX0uY2UtcG9wb3Zlci1pdGVtey0tYm9yZGVyLXJhZGl1czogNnB4Oy0taWNvbi1zaXplOiAyMHB4Oy0taWNvbi1zaXplLW1vYmlsZTogMjhweDtib3JkZXItcmFkaXVzOnZhcigtLWJvcmRlci1yYWRpdXMpO2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7cGFkZGluZzozcHg7Y29sb3I6dmFyKC0tY29sb3ItdGV4dC1wcmltYXJ5KTstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmV9QG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KXsuY2UtcG9wb3Zlci1pdGVte3BhZGRpbmc6NHB4fX0uY2UtcG9wb3Zlci1pdGVtOm5vdCg6bGFzdC1vZi10eXBlKXttYXJnaW4tYm90dG9tOjFweH0uY2UtcG9wb3Zlci1pdGVtX19pY29ue2JvcmRlci1yYWRpdXM6NXB4O3dpZHRoOjI2cHg7aGVpZ2h0OjI2cHg7LXdlYmtpdC1ib3gtc2hhZG93OjAgMCAwIDFweCB2YXIoLS1jb2xvci1ib3JkZXItaWNvbik7Ym94LXNoYWRvdzowIDAgMCAxcHggdmFyKC0tY29sb3ItYm9yZGVyLWljb24pO2JhY2tncm91bmQ6I2ZmZjtkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy13ZWJraXQtYm94LWFsaWduOmNlbnRlcjstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy13ZWJraXQtYm94LXBhY2s6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7bWFyZ2luLXJpZ2h0OjEwcHh9LmNlLXBvcG92ZXItaXRlbV9faWNvbiBzdmd7d2lkdGg6MjBweDtoZWlnaHQ6MjBweH1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS1wb3BvdmVyLWl0ZW1fX2ljb257d2lkdGg6MzZweDtoZWlnaHQ6MzZweDtib3JkZXItcmFkaXVzOjhweH0uY2UtcG9wb3Zlci1pdGVtX19pY29uIHN2Z3t3aWR0aDp2YXIoLS1pY29uLXNpemUtbW9iaWxlKTtoZWlnaHQ6dmFyKC0taWNvbi1zaXplLW1vYmlsZSl9fS5jZS1wb3BvdmVyLWl0ZW1fX3RpdGxle2ZvbnQtc2l6ZToxNHB4O2xpbmUtaGVpZ2h0OjIwcHg7Zm9udC13ZWlnaHQ6NTAwO292ZXJmbG93OmhpZGRlbjt3aGl0ZS1zcGFjZTpub3dyYXA7dGV4dC1vdmVyZmxvdzplbGxpcHNpc31AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS1wb3BvdmVyLWl0ZW1fX3RpdGxle2ZvbnQtc2l6ZToxNnB4fX0uY2UtcG9wb3Zlci1pdGVtX19zZWNvbmRhcnktdGl0bGV7Y29sb3I6dmFyKC0tY29sb3ItdGV4dC1zZWNvbmRhcnkpO2ZvbnQtc2l6ZToxMnB4O21hcmdpbi1sZWZ0OmF1dG87d2hpdGUtc3BhY2U6bm93cmFwO2xldHRlci1zcGFjaW5nOi0uMWVtO3BhZGRpbmctcmlnaHQ6NXB4O21hcmdpbi1ib3R0b206LTJweDtvcGFjaXR5Oi42fUBtZWRpYSAobWF4LXdpZHRoOiA2NTBweCl7LmNlLXBvcG92ZXItaXRlbV9fc2Vjb25kYXJ5LXRpdGxle2Rpc3BsYXk6bm9uZX19LmNlLXBvcG92ZXItaXRlbS0tYWN0aXZle2JhY2tncm91bmQ6dmFyKC0tY29sb3ItYmFja2dyb3VuZC1pY29uLWFjdGl2ZSk7Y29sb3I6dmFyKC0tY29sb3ItdGV4dC1pY29uLWFjdGl2ZSl9LmNlLXBvcG92ZXItaXRlbS0tYWN0aXZlIC5jZS1wb3BvdmVyLWl0ZW1fX2ljb257LXdlYmtpdC1ib3gtc2hhZG93Om5vbmU7Ym94LXNoYWRvdzpub25lfS5jZS1wb3BvdmVyLWl0ZW0tLWRpc2FibGVke2NvbG9yOnZhcigtLWNvbG9yLXRleHQtc2Vjb25kYXJ5KTtjdXJzb3I6ZGVmYXVsdDtwb2ludGVyLWV2ZW50czpub25lfS5jZS1wb3BvdmVyLWl0ZW0tLWRpc2FibGVkIC5jZS1wb3BvdmVyLWl0ZW1fX2ljb257LXdlYmtpdC1ib3gtc2hhZG93OjAgMCAwIDFweCB2YXIoLS1jb2xvci1ib3JkZXItaWNvbi1kaXNhYmxlZCk7Ym94LXNoYWRvdzowIDAgMCAxcHggdmFyKC0tY29sb3ItYm9yZGVyLWljb24tZGlzYWJsZWQpfS5jZS1wb3BvdmVyLWl0ZW0tLWZvY3VzZWQ6bm90KC5jZS1wb3BvdmVyLWl0ZW0tLW5vLWZvY3VzKXtiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLWJhY2tncm91bmQtaXRlbS1mb2N1cykhaW1wb3J0YW50fS5jZS1wb3BvdmVyLWl0ZW0tLWZvY3VzZWQ6bm90KC5jZS1wb3BvdmVyLWl0ZW0tLW5vLWZvY3VzKXstd2Via2l0LWJveC1zaGFkb3c6aW5zZXQgMCAwIDBweCAxcHggdmFyKC0tY29sb3Itc2hhZG93LWl0ZW0tZm9jdXMpO2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgMXB4IHZhcigtLWNvbG9yLXNoYWRvdy1pdGVtLWZvY3VzKX0uY2UtcG9wb3Zlci1pdGVtLS1oaWRkZW57ZGlzcGxheTpub25lfUBtZWRpYSAoaG92ZXI6IGhvdmVyKXsuY2UtcG9wb3Zlci1pdGVtOmhvdmVye2N1cnNvcjpwb2ludGVyfS5jZS1wb3BvdmVyLWl0ZW06aG92ZXI6bm90KC5jZS1wb3BvdmVyLWl0ZW0tLW5vLWhvdmVyKXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNvbG9yLWJhY2tncm91bmQtaXRlbS1ob3Zlcil9LmNlLXBvcG92ZXItaXRlbTpob3ZlciAuY2UtcG9wb3Zlci1pdGVtX19pY29uey13ZWJraXQtYm94LXNoYWRvdzpub25lO2JveC1zaGFkb3c6bm9uZX19LmNlLXBvcG92ZXItaXRlbS0tY29uZmlybWF0aW9ue2JhY2tncm91bmQ6dmFyKC0tY29sb3ItYmFja2dyb3VuZC1pdGVtLWNvbmZpcm0pfS5jZS1wb3BvdmVyLWl0ZW0tLWNvbmZpcm1hdGlvbiAuY2UtcG9wb3Zlci1pdGVtX19pY29ue2NvbG9yOnZhcigtLWNvbG9yLWJhY2tncm91bmQtaXRlbS1jb25maXJtKX0uY2UtcG9wb3Zlci1pdGVtLS1jb25maXJtYXRpb24gLmNlLXBvcG92ZXItaXRlbV9fdGl0bGV7Y29sb3I6I2ZmZn1AbWVkaWEgKGhvdmVyOiBob3Zlcil7LmNlLXBvcG92ZXItaXRlbS0tY29uZmlybWF0aW9uOm5vdCguY2UtcG9wb3Zlci1pdGVtLS1uby1ob3Zlcik6aG92ZXJ7YmFja2dyb3VuZDp2YXIoLS1jb2xvci1iYWNrZ3JvdW5kLWl0ZW0tY29uZmlybS1ob3Zlcil9fS5jZS1wb3BvdmVyLWl0ZW0tLWNvbmZpcm1hdGlvbjpub3QoLmNlLXBvcG92ZXItaXRlbS0tbm8tZm9jdXMpLmNlLXBvcG92ZXItaXRlbS0tZm9jdXNlZHtiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLWJhY2tncm91bmQtaXRlbS1jb25maXJtLWhvdmVyKSFpbXBvcnRhbnR9LmNlLXBvcG92ZXItaXRlbS0tY29uZmlybWF0aW9uIC5jZS1wb3BvdmVyLWl0ZW1fX2ljb24sLmNlLXBvcG92ZXItaXRlbS0tYWN0aXZlIC5jZS1wb3BvdmVyLWl0ZW1fX2ljb24sLmNlLXBvcG92ZXItaXRlbS0tZm9jdXNlZCAuY2UtcG9wb3Zlci1pdGVtX19pY29uey13ZWJraXQtYm94LXNoYWRvdzpub25lO2JveC1zaGFkb3c6bm9uZX1ALXdlYmtpdC1rZXlmcmFtZXMgcGFuZWxTaG93aW5nezAle29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKC04cHgpIHNjYWxlKC45KTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtOHB4KSBzY2FsZSguOSl9NzAle29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDJweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMnB4KX10b3std2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApfX1Aa2V5ZnJhbWVzIHBhbmVsU2hvd2luZ3swJXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgtOHB4KSBzY2FsZSguOSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLThweCkgc2NhbGUoLjkpfTcwJXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgycHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDJweCl9dG97LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKX19QC13ZWJraXQta2V5ZnJhbWVzIHBhbmVsU2hvd2luZ01vYmlsZXswJXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgxNHB4KSBzY2FsZSguOTgpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDE0cHgpIHNjYWxlKC45OCl9NzAle29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKC00cHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC00cHgpfXRvey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCl9fUBrZXlmcmFtZXMgcGFuZWxTaG93aW5nTW9iaWxlezAle29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDE0cHgpIHNjYWxlKC45OCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTRweCkgc2NhbGUoLjk4KX03MCV7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTRweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTRweCl9dG97LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKX19LndvYmJsZXstd2Via2l0LWFuaW1hdGlvbi1uYW1lOndvYmJsZTthbmltYXRpb24tbmFtZTp3b2JibGU7LXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb246LjRzO2FuaW1hdGlvbi1kdXJhdGlvbjouNHN9QC13ZWJraXQta2V5ZnJhbWVzIHdvYmJsZXswJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMCl9MTUley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC05JSwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgtOSUsMCwwKX0zMCV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoOSUsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoOSUsMCwwKX00NSV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTQlLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC00JSwwLDApfTYwJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCg0JSwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCg0JSwwLDApfTc1JXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgtMSUsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTElLDAsMCl9dG97LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGVaKDApfX1Aa2V5ZnJhbWVzIHdvYmJsZXswJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMCl9MTUley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC05JSwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgtOSUsMCwwKX0zMCV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoOSUsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoOSUsMCwwKX00NSV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTQlLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC00JSwwLDApfTYwJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCg0JSwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCg0JSwwLDApfTc1JXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgtMSUsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTElLDAsMCl9dG97LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGVaKDApfX1cbmA7XG5jbGFzcyBiaSBleHRlbmRzIEMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLmlzTW9iaWxlID0gITEsIHRoaXMuY29udGVudFJlY3RDYWNoZSA9IHZvaWQgMCwgdGhpcy5yZXNpemVEZWJvdW5jZXIgPSBIdCgoKSA9PiB7XG4gICAgICB0aGlzLndpbmRvd1Jlc2l6ZSgpO1xuICAgIH0sIDIwMCk7XG4gIH1cbiAgLyoqXG4gICAqIEVkaXRvci5qcyBVSSBDU1MgY2xhc3MgbmFtZXNcbiAgICpcbiAgICogQHJldHVybnMge3tlZGl0b3JXcmFwcGVyOiBzdHJpbmcsIGVkaXRvclpvbmU6IHN0cmluZ319XG4gICAqL1xuICBnZXQgQ1NTKCkge1xuICAgIHJldHVybiB7XG4gICAgICBlZGl0b3JXcmFwcGVyOiBcImNvZGV4LWVkaXRvclwiLFxuICAgICAgZWRpdG9yV3JhcHBlck5hcnJvdzogXCJjb2RleC1lZGl0b3ItLW5hcnJvd1wiLFxuICAgICAgZWRpdG9yWm9uZTogXCJjb2RleC1lZGl0b3JfX3JlZGFjdG9yXCIsXG4gICAgICBlZGl0b3Jab25lSGlkZGVuOiBcImNvZGV4LWVkaXRvcl9fcmVkYWN0b3ItLWhpZGRlblwiLFxuICAgICAgZWRpdG9yRW1wdHk6IFwiY29kZXgtZWRpdG9yLS1lbXB0eVwiLFxuICAgICAgZWRpdG9yUnRsRml4OiBcImNvZGV4LWVkaXRvci0tcnRsXCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gV2lkdGggb2YgY2VudGVyIGNvbHVtbiBvZiBFZGl0b3JcbiAgICpcbiAgICogQHJldHVybnMge0RPTVJlY3R9XG4gICAqL1xuICBnZXQgY29udGVudFJlY3QoKSB7XG4gICAgaWYgKHRoaXMuY29udGVudFJlY3RDYWNoZSlcbiAgICAgIHJldHVybiB0aGlzLmNvbnRlbnRSZWN0Q2FjaGU7XG4gICAgY29uc3QgZSA9IHRoaXMubm9kZXMud3JhcHBlci5xdWVyeVNlbGVjdG9yKGAuJHtGLkNTUy5jb250ZW50fWApO1xuICAgIHJldHVybiBlID8gKHRoaXMuY29udGVudFJlY3RDYWNoZSA9IGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHRoaXMuY29udGVudFJlY3RDYWNoZSkgOiB7XG4gICAgICB3aWR0aDogNjUwLFxuICAgICAgbGVmdDogMCxcbiAgICAgIHJpZ2h0OiAwXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogTWFraW5nIG1haW4gaW50ZXJmYWNlXG4gICAqL1xuICBhc3luYyBwcmVwYXJlKCkge1xuICAgIHRoaXMuY2hlY2tJc01vYmlsZSgpLCB0aGlzLm1ha2UoKSwgdGhpcy5sb2FkU3R5bGVzKCk7XG4gIH1cbiAgLyoqXG4gICAqIFRvZ2dsZSByZWFkLW9ubHkgc3RhdGVcbiAgICpcbiAgICogSWYgcmVhZE9ubHkgaXMgdHJ1ZTpcbiAgICogIC0gcmVtb3ZlcyBhbGwgbGlzdGVuZXJzIGZyb20gbWFpbiBVSSBtb2R1bGUgZWxlbWVudHNcbiAgICpcbiAgICogaWYgcmVhZE9ubHkgaXMgZmFsc2U6XG4gICAqICAtIGVuYWJsZXMgYWxsIGxpc3RlbmVycyB0byBVSSBtb2R1bGUgZWxlbWVudHNcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSByZWFkT25seUVuYWJsZWQgLSBcInJlYWQgb25seVwiIHN0YXRlXG4gICAqL1xuICB0b2dnbGVSZWFkT25seShlKSB7XG4gICAgZSA/IHRoaXMuZGlzYWJsZU1vZHVsZUJpbmRpbmdzKCkgOiB0aGlzLmVuYWJsZU1vZHVsZUJpbmRpbmdzKCk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIEVkaXRvciBpcyBlbXB0eSBhbmQgc2V0IENTUyBjbGFzcyB0byB3cmFwcGVyXG4gICAqL1xuICBjaGVja0VtcHRpbmVzcygpIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogZSB9ID0gdGhpcy5FZGl0b3I7XG4gICAgdGhpcy5ub2Rlcy53cmFwcGVyLmNsYXNzTGlzdC50b2dnbGUodGhpcy5DU1MuZWRpdG9yRW1wdHksIGUuaXNFZGl0b3JFbXB0eSk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIG9uZSBvZiBUb29sYmFyIGlzIG9wZW5lZFxuICAgKiBVc2VkIHRvIHByZXZlbnQgZ2xvYmFsIGtleWRvd25zIChmb3IgZXhhbXBsZSwgRW50ZXIpIGNvbmZsaWN0cyB3aXRoIEVudGVyLW9uLXRvb2xiYXJcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBnZXQgc29tZVRvb2xiYXJPcGVuZWQoKSB7XG4gICAgY29uc3QgeyBUb29sYmFyOiBlLCBCbG9ja1NldHRpbmdzOiB0LCBJbmxpbmVUb29sYmFyOiBvLCBDb252ZXJzaW9uVG9vbGJhcjogaSB9ID0gdGhpcy5FZGl0b3I7XG4gICAgcmV0dXJuIHQub3BlbmVkIHx8IG8ub3BlbmVkIHx8IGkub3BlbmVkIHx8IGUudG9vbGJveC5vcGVuZWQ7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGZvciBzb21lIEZsaXBwZXItYnV0dG9ucyBpcyB1bmRlciBmb2N1c1xuICAgKi9cbiAgZ2V0IHNvbWVGbGlwcGVyQnV0dG9uRm9jdXNlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5FZGl0b3IuVG9vbGJhci50b29sYm94Lmhhc0ZvY3VzKCkgPyAhMCA6IE9iamVjdC5lbnRyaWVzKHRoaXMuRWRpdG9yKS5maWx0ZXIoKFtlLCB0XSkgPT4gdC5mbGlwcGVyIGluc3RhbmNlb2YgRykuc29tZSgoW2UsIHRdKSA9PiB0LmZsaXBwZXIuaGFzRm9jdXMoKSk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFuIGVkaXRvcmBzIFVJXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMubm9kZXMuaG9sZGVyLmlubmVySFRNTCA9IFwiXCI7XG4gIH1cbiAgLyoqXG4gICAqIENsb3NlIGFsbCBFZGl0b3IncyB0b29sYmFyc1xuICAgKi9cbiAgY2xvc2VBbGxUb29sYmFycygpIHtcbiAgICBjb25zdCB7IFRvb2xiYXI6IGUsIEJsb2NrU2V0dGluZ3M6IHQsIElubGluZVRvb2xiYXI6IG8sIENvbnZlcnNpb25Ub29sYmFyOiBpIH0gPSB0aGlzLkVkaXRvcjtcbiAgICB0LmNsb3NlKCksIG8uY2xvc2UoKSwgaS5jbG9zZSgpLCBlLnRvb2xib3guY2xvc2UoKTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgZm9yIG1vYmlsZSBtb2RlIGFuZCBjYWNoZSBhIHJlc3VsdFxuICAgKi9cbiAgY2hlY2tJc01vYmlsZSgpIHtcbiAgICB0aGlzLmlzTW9iaWxlID0gd2luZG93LmlubmVyV2lkdGggPCBydDtcbiAgfVxuICAvKipcbiAgICogTWFrZXMgRWRpdG9yLmpzIGludGVyZmFjZVxuICAgKi9cbiAgbWFrZSgpIHtcbiAgICB0aGlzLm5vZGVzLmhvbGRlciA9IGQuZ2V0SG9sZGVyKHRoaXMuY29uZmlnLmhvbGRlciksIHRoaXMubm9kZXMud3JhcHBlciA9IGQubWFrZShcImRpdlwiLCBbXG4gICAgICB0aGlzLkNTUy5lZGl0b3JXcmFwcGVyLFxuICAgICAgLi4udGhpcy5pc1J0bCA/IFt0aGlzLkNTUy5lZGl0b3JSdGxGaXhdIDogW11cbiAgICBdKSwgdGhpcy5ub2Rlcy5yZWRhY3RvciA9IGQubWFrZShcImRpdlwiLCB0aGlzLkNTUy5lZGl0b3Jab25lKSwgdGhpcy5ub2Rlcy5ob2xkZXIub2Zmc2V0V2lkdGggPCB0aGlzLmNvbnRlbnRSZWN0LndpZHRoICYmIHRoaXMubm9kZXMud3JhcHBlci5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLmVkaXRvcldyYXBwZXJOYXJyb3cpLCB0aGlzLm5vZGVzLnJlZGFjdG9yLnN0eWxlLnBhZGRpbmdCb3R0b20gPSB0aGlzLmNvbmZpZy5taW5IZWlnaHQgKyBcInB4XCIsIHRoaXMubm9kZXMud3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLm5vZGVzLnJlZGFjdG9yKSwgdGhpcy5ub2Rlcy5ob2xkZXIuYXBwZW5kQ2hpbGQodGhpcy5ub2Rlcy53cmFwcGVyKTtcbiAgfVxuICAvKipcbiAgICogQXBwZW5kcyBDU1NcbiAgICovXG4gIGxvYWRTdHlsZXMoKSB7XG4gICAgY29uc3QgZSA9IFwiZWRpdG9yLWpzLXN0eWxlc1wiO1xuICAgIGlmIChkLmdldChlKSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB0ID0gZC5tYWtlKFwic3R5bGVcIiwgbnVsbCwge1xuICAgICAgaWQ6IGUsXG4gICAgICB0ZXh0Q29udGVudDogZ2kudG9TdHJpbmcoKVxuICAgIH0pO1xuICAgIGQucHJlcGVuZChkb2N1bWVudC5oZWFkLCB0KTtcbiAgfVxuICAvKipcbiAgICogQmluZCBldmVudHMgb24gdGhlIEVkaXRvci5qcyBpbnRlcmZhY2VcbiAgICovXG4gIGVuYWJsZU1vZHVsZUJpbmRpbmdzKCkge1xuICAgIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLm9uKHRoaXMubm9kZXMucmVkYWN0b3IsIFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgIHRoaXMucmVkYWN0b3JDbGlja2VkKGUpO1xuICAgIH0sICExKSwgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24odGhpcy5ub2Rlcy5yZWRhY3RvciwgXCJtb3VzZWRvd25cIiwgKGUpID0+IHtcbiAgICAgIHRoaXMuZG9jdW1lbnRUb3VjaGVkKGUpO1xuICAgIH0sICEwKSwgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24odGhpcy5ub2Rlcy5yZWRhY3RvciwgXCJ0b3VjaHN0YXJ0XCIsIChlKSA9PiB7XG4gICAgICB0aGlzLmRvY3VtZW50VG91Y2hlZChlKTtcbiAgICB9LCAhMCksIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLm9uKGRvY3VtZW50LCBcImtleWRvd25cIiwgKGUpID0+IHtcbiAgICAgIHRoaXMuZG9jdW1lbnRLZXlkb3duKGUpO1xuICAgIH0sICEwKSwgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24oZG9jdW1lbnQsIFwibW91c2Vkb3duXCIsIChlKSA9PiB7XG4gICAgICB0aGlzLmRvY3VtZW50Q2xpY2tlZChlKTtcbiAgICB9LCAhMCksIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLm9uKGRvY3VtZW50LCBcInNlbGVjdGlvbmNoYW5nZVwiLCAoKSA9PiB7XG4gICAgICB0aGlzLnNlbGVjdGlvbkNoYW5nZWQoKTtcbiAgICB9LCAhMCksIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLm9uKHdpbmRvdywgXCJyZXNpemVcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5yZXNpemVEZWJvdW5jZXIoKTtcbiAgICB9LCB7XG4gICAgICBwYXNzaXZlOiAhMFxuICAgIH0pLCB0aGlzLndhdGNoQmxvY2tIb3ZlcmVkRXZlbnRzKCk7XG4gIH1cbiAgLyoqXG4gICAqIExpc3RlbiByZWRhY3RvciBtb3VzZW1vdmUgdG8gZW1pdCAnYmxvY2staG92ZXJlZCcgZXZlbnRcbiAgICovXG4gIHdhdGNoQmxvY2tIb3ZlcmVkRXZlbnRzKCkge1xuICAgIGxldCBlO1xuICAgIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLm9uKHRoaXMubm9kZXMucmVkYWN0b3IsIFwibW91c2Vtb3ZlXCIsIENlKCh0KSA9PiB7XG4gICAgICBjb25zdCBvID0gdC50YXJnZXQuY2xvc2VzdChcIi5jZS1ibG9ja1wiKTtcbiAgICAgIHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLmFueUJsb2NrU2VsZWN0ZWQgfHwgbyAmJiBlICE9PSBvICYmIChlID0gbywgdGhpcy5ldmVudHNEaXNwYXRjaGVyLmVtaXQoa3QsIHtcbiAgICAgICAgYmxvY2s6IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5nZXRCbG9ja0J5Q2hpbGROb2RlKG8pXG4gICAgICB9KSk7XG4gICAgfSwgMjApLCB7XG4gICAgICBwYXNzaXZlOiAhMFxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBVbmJpbmQgZXZlbnRzIG9uIHRoZSBFZGl0b3IuanMgaW50ZXJmYWNlXG4gICAqL1xuICBkaXNhYmxlTW9kdWxlQmluZGluZ3MoKSB7XG4gICAgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMuY2xlYXJBbGwoKTtcbiAgfVxuICAvKipcbiAgICogUmVzaXplIHdpbmRvdyBoYW5kbGVyXG4gICAqL1xuICB3aW5kb3dSZXNpemUoKSB7XG4gICAgdGhpcy5jb250ZW50UmVjdENhY2hlID0gbnVsbCwgdGhpcy5jaGVja0lzTW9iaWxlKCk7XG4gIH1cbiAgLyoqXG4gICAqIEFsbCBrZXlkb3ducyBvbiBkb2N1bWVudFxuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0ga2V5Ym9hcmQgZXZlbnRcbiAgICovXG4gIGRvY3VtZW50S2V5ZG93bihlKSB7XG4gICAgc3dpdGNoIChlLmtleUNvZGUpIHtcbiAgICAgIGNhc2UgQi5FTlRFUjpcbiAgICAgICAgdGhpcy5lbnRlclByZXNzZWQoZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBCLkJBQ0tTUEFDRTpcbiAgICAgIGNhc2UgQi5ERUxFVEU6XG4gICAgICAgIHRoaXMuYmFja3NwYWNlUHJlc3NlZChlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEIuRVNDOlxuICAgICAgICB0aGlzLmVzY2FwZVByZXNzZWQoZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhpcy5kZWZhdWx0QmVoYXZpb3VyKGUpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIElnbm9yZSBhbGwgb3RoZXIgZG9jdW1lbnQncyBrZXlkb3duIGV2ZW50c1xuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0ga2V5Ym9hcmQgZXZlbnRcbiAgICovXG4gIGRlZmF1bHRCZWhhdmlvdXIoZSkge1xuICAgIGNvbnN0IHsgY3VycmVudEJsb2NrOiB0IH0gPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIsIG8gPSBlLnRhcmdldC5jbG9zZXN0KGAuJHt0aGlzLkNTUy5lZGl0b3JXcmFwcGVyfWApLCBpID0gZS5hbHRLZXkgfHwgZS5jdHJsS2V5IHx8IGUubWV0YUtleSB8fCBlLnNoaWZ0S2V5O1xuICAgIGlmICh0ICE9PSB2b2lkIDAgJiYgbyA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5FZGl0b3IuQmxvY2tFdmVudHMua2V5ZG93bihlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbyB8fCB0ICYmIGkgfHwgKHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5kcm9wUG9pbnRlcigpLCB0aGlzLkVkaXRvci5Ub29sYmFyLmNsb3NlKCkpO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0ga2V5Ym9hcmQgZXZlbnRcbiAgICovXG4gIGJhY2tzcGFjZVByZXNzZWQoZSkge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiB0LCBCbG9ja1NlbGVjdGlvbjogbywgQ2FyZXQ6IGkgfSA9IHRoaXMuRWRpdG9yO1xuICAgIGlmIChvLmFueUJsb2NrU2VsZWN0ZWQgJiYgIW0uaXNTZWxlY3Rpb25FeGlzdHMpIHtcbiAgICAgIGNvbnN0IG4gPSB0LnJlbW92ZVNlbGVjdGVkQmxvY2tzKCk7XG4gICAgICBpLnNldFRvQmxvY2sodC5pbnNlcnREZWZhdWx0QmxvY2tBdEluZGV4KG4sICEwKSwgaS5wb3NpdGlvbnMuU1RBUlQpLCBvLmNsZWFyU2VsZWN0aW9uKGUpLCBlLnByZXZlbnREZWZhdWx0KCksIGUuc3RvcFByb3BhZ2F0aW9uKCksIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBFc2NhcGUgcHJlc3NlZFxuICAgKiBJZiBzb21lIG9mIFRvb2xiYXIgY29tcG9uZW50cyBhcmUgb3BlbmVkLCB0aGVuIGNsb3NlIGl0IG90aGVyd2lzZSBjbG9zZSBUb29sYmFyXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gZXNjYXBlIGtleWRvd24gZXZlbnRcbiAgICovXG4gIGVzY2FwZVByZXNzZWQoZSkge1xuICAgIHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKGUpLCB0aGlzLkVkaXRvci5Ub29sYmFyLnRvb2xib3gub3BlbmVkID8gKHRoaXMuRWRpdG9yLlRvb2xiYXIudG9vbGJveC5jbG9zZSgpLCB0aGlzLkVkaXRvci5DYXJldC5zZXRUb0Jsb2NrKHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2spKSA6IHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3Mub3BlbmVkID8gdGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5jbG9zZSgpIDogdGhpcy5FZGl0b3IuQ29udmVyc2lvblRvb2xiYXIub3BlbmVkID8gdGhpcy5FZGl0b3IuQ29udmVyc2lvblRvb2xiYXIuY2xvc2UoKSA6IHRoaXMuRWRpdG9yLklubGluZVRvb2xiYXIub3BlbmVkID8gdGhpcy5FZGl0b3IuSW5saW5lVG9vbGJhci5jbG9zZSgpIDogdGhpcy5FZGl0b3IuVG9vbGJhci5jbG9zZSgpO1xuICB9XG4gIC8qKlxuICAgKiBFbnRlciBwcmVzc2VkIG9uIGRvY3VtZW50XG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgLSBrZXlib2FyZCBldmVudFxuICAgKi9cbiAgZW50ZXJQcmVzc2VkKGUpIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogdCwgQmxvY2tTZWxlY3Rpb246IG8gfSA9IHRoaXMuRWRpdG9yLCBpID0gdC5jdXJyZW50QmxvY2tJbmRleCA+PSAwO1xuICAgIGlmIChvLmFueUJsb2NrU2VsZWN0ZWQgJiYgIW0uaXNTZWxlY3Rpb25FeGlzdHMpIHtcbiAgICAgIG8uY2xlYXJTZWxlY3Rpb24oZSksIGUucHJldmVudERlZmF1bHQoKSwgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCF0aGlzLnNvbWVUb29sYmFyT3BlbmVkICYmIGkgJiYgZS50YXJnZXQudGFnTmFtZSA9PT0gXCJCT0RZXCIpIHtcbiAgICAgIGNvbnN0IG4gPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuaW5zZXJ0KCk7XG4gICAgICB0aGlzLkVkaXRvci5DYXJldC5zZXRUb0Jsb2NrKG4pLCB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuaGlnaGxpZ2h0Q3VycmVudE5vZGUoKSwgdGhpcy5FZGl0b3IuVG9vbGJhci5tb3ZlQW5kT3BlbihuKTtcbiAgICB9XG4gICAgdGhpcy5FZGl0b3IuQmxvY2tTZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oZSk7XG4gIH1cbiAgLyoqXG4gICAqIEFsbCBjbGlja3Mgb24gZG9jdW1lbnRcbiAgICpcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudCAtIENsaWNrIGV2ZW50XG4gICAqL1xuICBkb2N1bWVudENsaWNrZWQoZSkge1xuICAgIGlmICghZS5pc1RydXN0ZWQpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgdCA9IGUudGFyZ2V0O1xuICAgIHRoaXMubm9kZXMuaG9sZGVyLmNvbnRhaW5zKHQpIHx8IG0uaXNBdEVkaXRvciB8fCAodGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmRyb3BQb2ludGVyKCksIHRoaXMuRWRpdG9yLlRvb2xiYXIuY2xvc2UoKSk7XG4gICAgY29uc3QgaSA9IHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3Mubm9kZXMud3JhcHBlci5jb250YWlucyh0KSwgbiA9IHRoaXMuRWRpdG9yLlRvb2xiYXIubm9kZXMuc2V0dGluZ3NUb2dnbGVyLmNvbnRhaW5zKHQpLCByID0gaSB8fCBuO1xuICAgIGlmICh0aGlzLkVkaXRvci5CbG9ja1NldHRpbmdzLm9wZW5lZCAmJiAhcikge1xuICAgICAgdGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5jbG9zZSgpO1xuICAgICAgY29uc3QgYSA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5nZXRCbG9ja0J5Q2hpbGROb2RlKHQpO1xuICAgICAgdGhpcy5FZGl0b3IuVG9vbGJhci5tb3ZlQW5kT3BlbihhKTtcbiAgICB9XG4gICAgdGhpcy5FZGl0b3IuQmxvY2tTZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oZSk7XG4gIH1cbiAgLyoqXG4gICAqIEZpcnN0IHRvdWNoIG9uIGVkaXRvclxuICAgKiBGaXJlZCBiZWZvcmUgY2xpY2tcbiAgICpcbiAgICogVXNlZCB0byBjaGFuZ2UgY3VycmVudCBibG9jayDigJQgd2UgbmVlZCB0byBkbyBpdCBiZWZvcmUgJ3NlbGVjdGlvbkNoYW5nZScgZXZlbnQuXG4gICAqIEFsc286XG4gICAqIC0gTW92ZSBhbmQgc2hvdyB0aGUgVG9vbGJhclxuICAgKiAtIFNldCBhIENhcmV0XG4gICAqXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudCB8IFRvdWNoRXZlbnR9IGV2ZW50IC0gdG91Y2ggb3IgbW91c2UgZXZlbnRcbiAgICovXG4gIGRvY3VtZW50VG91Y2hlZChlKSB7XG4gICAgbGV0IHQgPSBlLnRhcmdldDtcbiAgICBpZiAodCA9PT0gdGhpcy5ub2Rlcy5yZWRhY3Rvcikge1xuICAgICAgY29uc3QgbyA9IGUgaW5zdGFuY2VvZiBNb3VzZUV2ZW50ID8gZS5jbGllbnRYIDogZS50b3VjaGVzWzBdLmNsaWVudFgsIGkgPSBlIGluc3RhbmNlb2YgTW91c2VFdmVudCA/IGUuY2xpZW50WSA6IGUudG91Y2hlc1swXS5jbGllbnRZO1xuICAgICAgdCA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQobywgaSk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuc2V0Q3VycmVudEJsb2NrQnlDaGlsZE5vZGUodCksIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5oaWdobGlnaHRDdXJyZW50Tm9kZSgpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgdGhpcy5FZGl0b3IuUmVjdGFuZ2xlU2VsZWN0aW9uLmlzUmVjdEFjdGl2YXRlZCgpIHx8IHRoaXMuRWRpdG9yLkNhcmV0LnNldFRvVGhlTGFzdEJsb2NrKCk7XG4gICAgfVxuICAgIHRoaXMuRWRpdG9yLlRvb2xiYXIubW92ZUFuZE9wZW4oKTtcbiAgfVxuICAvKipcbiAgICogQWxsIGNsaWNrcyBvbiB0aGUgcmVkYWN0b3Igem9uZVxuICAgKlxuICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50IC0gY2xpY2sgZXZlbnRcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIC0gQnkgY2xpY2tzIG9uIHRoZSBFZGl0b3IncyBib3R0b20gem9uZTpcbiAgICogICAgICAtIGlmIGxhc3QgQmxvY2sgaXMgZW1wdHksIHNldCBhIENhcmV0IHRvIHRoaXNcbiAgICogICAgICAtIG90aGVyd2lzZSwgYWRkIGEgbmV3IGVtcHR5IEJsb2NrIGFuZCBzZXQgYSBDYXJldCB0byB0aGF0XG4gICAqL1xuICByZWRhY3RvckNsaWNrZWQoZSkge1xuICAgIGNvbnN0IHsgQmxvY2tTZWxlY3Rpb246IHQgfSA9IHRoaXMuRWRpdG9yO1xuICAgIGlmICghbS5pc0NvbGxhcHNlZClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBvID0gKCkgPT4ge1xuICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9LCBpID0gZS50YXJnZXQsIG4gPSBlLm1ldGFLZXkgfHwgZS5jdHJsS2V5O1xuICAgIGlmIChkLmlzQW5jaG9yKGkpICYmIG4pIHtcbiAgICAgIG8oKTtcbiAgICAgIGNvbnN0IHUgPSBpLmdldEF0dHJpYnV0ZShcImhyZWZcIiksIGggPSB6dCh1KTtcbiAgICAgICR0KGgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCByID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmdldEJsb2NrQnlJbmRleCgtMSksIGEgPSBkLm9mZnNldChyLmhvbGRlcikuYm90dG9tLCBsID0gZS5wYWdlWTtcbiAgICBpZiAoZS50YXJnZXQgaW5zdGFuY2VvZiBFbGVtZW50ICYmIGUudGFyZ2V0LmlzRXF1YWxOb2RlKHRoaXMubm9kZXMucmVkYWN0b3IpICYmIC8qKlxuICAgICogSWYgdGhlcmUgaXMgY3Jvc3MgYmxvY2sgc2VsZWN0aW9uIHN0YXJ0ZWQsIHRhcmdldCB3aWxsIGJlIGVxdWFsIHRvIHJlZGFjdG9yIHNvIHdlIG5lZWQgYWRkaXRpb25hbCBjaGVja1xuICAgICovXG4gICAgIXQuYW55QmxvY2tTZWxlY3RlZCAmJiAvKipcbiAgICAqIFByZXZlbnQgY2FyZXQganVtcGluZyAodG8gbGFzdCBibG9jaykgd2hlbiBjbGlja2luZyBiZXR3ZWVuIGJsb2Nrc1xuICAgICovXG4gICAgYSA8IGwpIHtcbiAgICAgIG8oKTtcbiAgICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiB1LCBDYXJldDogaCwgVG9vbGJhcjogZiB9ID0gdGhpcy5FZGl0b3I7XG4gICAgICAoIXUubGFzdEJsb2NrLnRvb2wuaXNEZWZhdWx0IHx8ICF1Lmxhc3RCbG9jay5pc0VtcHR5KSAmJiB1Lmluc2VydEF0RW5kKCksIGguc2V0VG9UaGVMYXN0QmxvY2soKSwgZi5tb3ZlQW5kT3Blbih1Lmxhc3RCbG9jayk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgc2VsZWN0aW9uIGNoYW5nZXMgb24gbW9iaWxlIGRldmljZXNcbiAgICogVXNlcyBmb3Igc2hvd2luZyB0aGUgSW5saW5lIFRvb2xiYXJcbiAgICovXG4gIHNlbGVjdGlvbkNoYW5nZWQoKSB7XG4gICAgY29uc3QgeyBDcm9zc0Jsb2NrU2VsZWN0aW9uOiBlLCBCbG9ja1NlbGVjdGlvbjogdCB9ID0gdGhpcy5FZGl0b3IsIG8gPSBtLmFuY2hvckVsZW1lbnQ7XG4gICAgaWYgKGUuaXNDcm9zc0Jsb2NrU2VsZWN0aW9uU3RhcnRlZCAmJiB0LmFueUJsb2NrU2VsZWN0ZWQgJiYgbS5nZXQoKS5yZW1vdmVBbGxSYW5nZXMoKSwgIW8pIHtcbiAgICAgIG0ucmFuZ2UgfHwgdGhpcy5FZGl0b3IuSW5saW5lVG9vbGJhci5jbG9zZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpID0gby5jbG9zZXN0KGAuJHtGLkNTUy5jb250ZW50fWApID09PSBudWxsO1xuICAgIGlmIChpICYmICh0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyLmNvbnRhaW5zTm9kZShvKSB8fCB0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyLmNsb3NlKCksICEoby5kYXRhc2V0LmlubGluZVRvb2xiYXIgPT09IFwidHJ1ZVwiKSkpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9jayB8fCB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuc2V0Q3VycmVudEJsb2NrQnlDaGlsZE5vZGUobyk7XG4gICAgY29uc3QgbiA9IGkgIT09ICEwO1xuICAgIHRoaXMuRWRpdG9yLklubGluZVRvb2xiYXIudHJ5VG9TaG93KCEwLCBuKTtcbiAgfVxufVxuY29uc3QgbWkgPSB7XG4gIC8vIEFQSSBNb2R1bGVzXG4gIEJsb2Nrc0FQSTogUXQsXG4gIENhcmV0QVBJOiBlbyxcbiAgRXZlbnRzQVBJOiB0byxcbiAgSTE4bkFQSTogUGUsXG4gIEFQSTogb28sXG4gIElubGluZVRvb2xiYXJBUEk6IGlvLFxuICBMaXN0ZW5lcnNBUEk6IG5vLFxuICBOb3RpZmllckFQSTogbG8sXG4gIFJlYWRPbmx5QVBJOiBjbyxcbiAgU2FuaXRpemVyQVBJOiBtbyxcbiAgU2F2ZXJBUEk6IGtvLFxuICBTZWxlY3Rpb25BUEk6IHZvLFxuICBTdHlsZXNBUEk6IHhvLFxuICBUb29sYmFyQVBJOiB3byxcbiAgVG9vbHRpcEFQSTogQm8sXG4gIFVpQVBJOiBUbyxcbiAgLy8gVG9vbGJhciBNb2R1bGVzXG4gIEJsb2NrU2V0dGluZ3M6IGpvLFxuICBDb252ZXJzaW9uVG9vbGJhcjogWSxcbiAgVG9vbGJhcjogS28sXG4gIElubGluZVRvb2xiYXI6IFhvLFxuICAvLyBNb2R1bGVzXG4gIEJsb2NrRXZlbnRzOiBWbyxcbiAgQmxvY2tNYW5hZ2VyOiBHbyxcbiAgQmxvY2tTZWxlY3Rpb246IEpvLFxuICBDYXJldDogdmUsXG4gIENyb3NzQmxvY2tTZWxlY3Rpb246IFFvLFxuICBEcmFnTkRyb3A6IGVpLFxuICBNb2RpZmljYXRpb25zT2JzZXJ2ZXI6IHRpLFxuICBQYXN0ZTogeXQsXG4gIFJlYWRPbmx5OiBvaSxcbiAgUmVjdGFuZ2xlU2VsZWN0aW9uOiBmZSxcbiAgUmVuZGVyZXI6IGlpLFxuICBTYXZlcjogbmksXG4gIFRvb2xzOiBJdCxcbiAgVUk6IGJpXG59O1xuY2xhc3Mga2kge1xuICAvKipcbiAgICogQHBhcmFtIHtFZGl0b3JDb25maWd9IGNvbmZpZyAtIHVzZXIgY29uZmlndXJhdGlvblxuICAgKi9cbiAgY29uc3RydWN0b3IoZSkge1xuICAgIHRoaXMubW9kdWxlSW5zdGFuY2VzID0ge30sIHRoaXMuZXZlbnRzRGlzcGF0Y2hlciA9IG5ldyB3ZSgpO1xuICAgIGxldCB0LCBvO1xuICAgIHRoaXMuaXNSZWFkeSA9IG5ldyBQcm9taXNlKChpLCBuKSA9PiB7XG4gICAgICB0ID0gaSwgbyA9IG47XG4gICAgfSksIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oYXN5bmMgKCkgPT4ge1xuICAgICAgdGhpcy5jb25maWd1cmF0aW9uID0gZSwgdGhpcy52YWxpZGF0ZSgpLCB0aGlzLmluaXQoKSwgYXdhaXQgdGhpcy5zdGFydCgpLCBhd2FpdCB0aGlzLnJlbmRlcigpO1xuICAgICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IGksIENhcmV0OiBuLCBVSTogciwgTW9kaWZpY2F0aW9uc09ic2VydmVyOiBhIH0gPSB0aGlzLm1vZHVsZUluc3RhbmNlcztcbiAgICAgIHIuY2hlY2tFbXB0aW5lc3MoKSwgYS5lbmFibGUoKSwgdGhpcy5jb25maWd1cmF0aW9uLmF1dG9mb2N1cyAmJiAobi5zZXRUb0Jsb2NrKGkuYmxvY2tzWzBdLCBuLnBvc2l0aW9ucy5TVEFSVCksIGkuaGlnaGxpZ2h0Q3VycmVudE5vZGUoKSksIHQoKTtcbiAgICB9KS5jYXRjaCgoaSkgPT4ge1xuICAgICAgTChgRWRpdG9yLmpzIGlzIG5vdCByZWFkeSBiZWNhdXNlIG9mICR7aX1gLCBcImVycm9yXCIpLCBvKGkpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBTZXR0aW5nIGZvciBjb25maWd1cmF0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7RWRpdG9yQ29uZmlnfHN0cmluZ30gY29uZmlnIC0gRWRpdG9yJ3MgY29uZmlnIHRvIHNldFxuICAgKi9cbiAgc2V0IGNvbmZpZ3VyYXRpb24oZSkge1xuICAgIHZhciBvLCBpO1xuICAgIHooZSkgPyB0aGlzLmNvbmZpZyA9IHtcbiAgICAgIC4uLmVcbiAgICB9IDogdGhpcy5jb25maWcgPSB7XG4gICAgICBob2xkZXI6IGVcbiAgICB9LCBJZSghIXRoaXMuY29uZmlnLmhvbGRlcklkLCBcImNvbmZpZy5ob2xkZXJJZFwiLCBcImNvbmZpZy5ob2xkZXJcIiksIHRoaXMuY29uZmlnLmhvbGRlcklkICYmICF0aGlzLmNvbmZpZy5ob2xkZXIgJiYgKHRoaXMuY29uZmlnLmhvbGRlciA9IHRoaXMuY29uZmlnLmhvbGRlcklkLCB0aGlzLmNvbmZpZy5ob2xkZXJJZCA9IG51bGwpLCB0aGlzLmNvbmZpZy5ob2xkZXIgPT0gbnVsbCAmJiAodGhpcy5jb25maWcuaG9sZGVyID0gXCJlZGl0b3Jqc1wiKSwgdGhpcy5jb25maWcubG9nTGV2ZWwgfHwgKHRoaXMuY29uZmlnLmxvZ0xldmVsID0gaXQuVkVSQk9TRSksIE50KHRoaXMuY29uZmlnLmxvZ0xldmVsKSwgSWUoISF0aGlzLmNvbmZpZy5pbml0aWFsQmxvY2ssIFwiY29uZmlnLmluaXRpYWxCbG9ja1wiLCBcImNvbmZpZy5kZWZhdWx0QmxvY2tcIiksIHRoaXMuY29uZmlnLmRlZmF1bHRCbG9jayA9IHRoaXMuY29uZmlnLmRlZmF1bHRCbG9jayB8fCB0aGlzLmNvbmZpZy5pbml0aWFsQmxvY2sgfHwgXCJwYXJhZ3JhcGhcIiwgdGhpcy5jb25maWcubWluSGVpZ2h0ID0gdGhpcy5jb25maWcubWluSGVpZ2h0ICE9PSB2b2lkIDAgPyB0aGlzLmNvbmZpZy5taW5IZWlnaHQgOiAzMDA7XG4gICAgY29uc3QgdCA9IHtcbiAgICAgIHR5cGU6IHRoaXMuY29uZmlnLmRlZmF1bHRCbG9jayxcbiAgICAgIGRhdGE6IHt9XG4gICAgfTtcbiAgICB0aGlzLmNvbmZpZy5wbGFjZWhvbGRlciA9IHRoaXMuY29uZmlnLnBsYWNlaG9sZGVyIHx8ICExLCB0aGlzLmNvbmZpZy5zYW5pdGl6ZXIgPSB0aGlzLmNvbmZpZy5zYW5pdGl6ZXIgfHwge1xuICAgICAgcDogITAsXG4gICAgICBiOiAhMCxcbiAgICAgIGE6ICEwXG4gICAgfSwgdGhpcy5jb25maWcuaGlkZVRvb2xiYXIgPSB0aGlzLmNvbmZpZy5oaWRlVG9vbGJhciA/IHRoaXMuY29uZmlnLmhpZGVUb29sYmFyIDogITEsIHRoaXMuY29uZmlnLnRvb2xzID0gdGhpcy5jb25maWcudG9vbHMgfHwge30sIHRoaXMuY29uZmlnLmkxOG4gPSB0aGlzLmNvbmZpZy5pMThuIHx8IHt9LCB0aGlzLmNvbmZpZy5kYXRhID0gdGhpcy5jb25maWcuZGF0YSB8fCB7IGJsb2NrczogW10gfSwgdGhpcy5jb25maWcub25SZWFkeSA9IHRoaXMuY29uZmlnLm9uUmVhZHkgfHwgKCgpID0+IHtcbiAgICB9KSwgdGhpcy5jb25maWcub25DaGFuZ2UgPSB0aGlzLmNvbmZpZy5vbkNoYW5nZSB8fCAoKCkgPT4ge1xuICAgIH0pLCB0aGlzLmNvbmZpZy5pbmxpbmVUb29sYmFyID0gdGhpcy5jb25maWcuaW5saW5lVG9vbGJhciAhPT0gdm9pZCAwID8gdGhpcy5jb25maWcuaW5saW5lVG9vbGJhciA6ICEwLCAoVih0aGlzLmNvbmZpZy5kYXRhKSB8fCAhdGhpcy5jb25maWcuZGF0YS5ibG9ja3MgfHwgdGhpcy5jb25maWcuZGF0YS5ibG9ja3MubGVuZ3RoID09PSAwKSAmJiAodGhpcy5jb25maWcuZGF0YSA9IHsgYmxvY2tzOiBbdF0gfSksIHRoaXMuY29uZmlnLnJlYWRPbmx5ID0gdGhpcy5jb25maWcucmVhZE9ubHkgfHwgITEsIChvID0gdGhpcy5jb25maWcuaTE4bikgIT0gbnVsbCAmJiBvLm1lc3NhZ2VzICYmICQuc2V0RGljdGlvbmFyeSh0aGlzLmNvbmZpZy5pMThuLm1lc3NhZ2VzKSwgdGhpcy5jb25maWcuaTE4bi5kaXJlY3Rpb24gPSAoKGkgPSB0aGlzLmNvbmZpZy5pMThuKSA9PSBudWxsID8gdm9pZCAwIDogaS5kaXJlY3Rpb24pIHx8IFwibHRyXCI7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgcHJpdmF0ZSBwcm9wZXJ0eVxuICAgKlxuICAgKiBAcmV0dXJucyB7RWRpdG9yQ29uZmlnfVxuICAgKi9cbiAgZ2V0IGNvbmZpZ3VyYXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnO1xuICB9XG4gIC8qKlxuICAgKiBDaGVja3MgZm9yIHJlcXVpcmVkIGZpZWxkcyBpbiBFZGl0b3IncyBjb25maWdcbiAgICovXG4gIHZhbGlkYXRlKCkge1xuICAgIGNvbnN0IHsgaG9sZGVySWQ6IGUsIGhvbGRlcjogdCB9ID0gdGhpcy5jb25maWc7XG4gICAgaWYgKGUgJiYgdClcbiAgICAgIHRocm93IEVycm9yKFwiwqtob2xkZXJJZMK7IGFuZCDCq2hvbGRlcsK7IHBhcmFtIGNhbid0IGFzc2lnbiBhdCB0aGUgc2FtZSB0aW1lLlwiKTtcbiAgICBpZiAoSih0KSAmJiAhZC5nZXQodCkpXG4gICAgICB0aHJvdyBFcnJvcihgZWxlbWVudCB3aXRoIElEIMKrJHt0fcK7IGlzIG1pc3NpbmcuIFBhc3MgY29ycmVjdCBob2xkZXIncyBJRC5gKTtcbiAgICBpZiAodCAmJiB6KHQpICYmICFkLmlzRWxlbWVudCh0KSlcbiAgICAgIHRocm93IEVycm9yKFwiwqtob2xkZXLCuyB2YWx1ZSBtdXN0IGJlIGFuIEVsZW1lbnQgbm9kZVwiKTtcbiAgfVxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgbW9kdWxlczpcbiAgICogIC0gbWFrZSBhbmQgc2F2ZSBpbnN0YW5jZXNcbiAgICogIC0gY29uZmlndXJlXG4gICAqL1xuICBpbml0KCkge1xuICAgIHRoaXMuY29uc3RydWN0TW9kdWxlcygpLCB0aGlzLmNvbmZpZ3VyZU1vZHVsZXMoKTtcbiAgfVxuICAvKipcbiAgICogU3RhcnQgRWRpdG9yIVxuICAgKlxuICAgKiBHZXQgbGlzdCBvZiBtb2R1bGVzIHRoYXQgbmVlZHMgdG8gYmUgcHJlcGFyZWQgYW5kIHJldHVybiBhIHNlcXVlbmNlIChQcm9taXNlKVxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICovXG4gIGFzeW5jIHN0YXJ0KCkge1xuICAgIGF3YWl0IFtcbiAgICAgIFwiVG9vbHNcIixcbiAgICAgIFwiVUlcIixcbiAgICAgIFwiQmxvY2tNYW5hZ2VyXCIsXG4gICAgICBcIlBhc3RlXCIsXG4gICAgICBcIkJsb2NrU2VsZWN0aW9uXCIsXG4gICAgICBcIlJlY3RhbmdsZVNlbGVjdGlvblwiLFxuICAgICAgXCJDcm9zc0Jsb2NrU2VsZWN0aW9uXCIsXG4gICAgICBcIlJlYWRPbmx5XCJcbiAgICBdLnJlZHVjZShcbiAgICAgICh0LCBvKSA9PiB0LnRoZW4oYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IHRoaXMubW9kdWxlSW5zdGFuY2VzW29dLnByZXBhcmUoKTtcbiAgICAgICAgfSBjYXRjaCAoaSkge1xuICAgICAgICAgIGlmIChpIGluc3RhbmNlb2YgbHQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoaS5tZXNzYWdlKTtcbiAgICAgICAgICBMKGBNb2R1bGUgJHtvfSB3YXMgc2tpcHBlZCBiZWNhdXNlIG9mICVvYCwgXCJ3YXJuXCIsIGkpO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIFByb21pc2UucmVzb2x2ZSgpXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogUmVuZGVyIGluaXRpYWwgZGF0YVxuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiB0aGlzLm1vZHVsZUluc3RhbmNlcy5SZW5kZXJlci5yZW5kZXIodGhpcy5jb25maWcuZGF0YS5ibG9ja3MpO1xuICB9XG4gIC8qKlxuICAgKiBNYWtlIG1vZHVsZXMgaW5zdGFuY2VzIGFuZCBzYXZlIGl0IHRvIHRoZSBAcHJvcGVydHkgdGhpcy5tb2R1bGVJbnN0YW5jZXNcbiAgICovXG4gIGNvbnN0cnVjdE1vZHVsZXMoKSB7XG4gICAgT2JqZWN0LmVudHJpZXMobWkpLmZvckVhY2goKFtlLCB0XSkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5tb2R1bGVJbnN0YW5jZXNbZV0gPSBuZXcgdCh7XG4gICAgICAgICAgY29uZmlnOiB0aGlzLmNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgZXZlbnRzRGlzcGF0Y2hlcjogdGhpcy5ldmVudHNEaXNwYXRjaGVyXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAobykge1xuICAgICAgICBMKFwiW2NvbnN0cnVjdE1vZHVsZXNdXCIsIGBNb2R1bGUgJHtlfSBza2lwcGVkIGJlY2F1c2VgLCBcImVycm9yXCIsIG8pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBNb2R1bGVzIGluc3RhbmNlcyBjb25maWd1cmF0aW9uOlxuICAgKiAgLSBwYXNzIG90aGVyIG1vZHVsZXMgdG8gdGhlICdzdGF0ZScgcHJvcGVydHlcbiAgICogIC0gLi4uXG4gICAqL1xuICBjb25maWd1cmVNb2R1bGVzKCkge1xuICAgIGZvciAoY29uc3QgZSBpbiB0aGlzLm1vZHVsZUluc3RhbmNlcylcbiAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLm1vZHVsZUluc3RhbmNlcywgZSkgJiYgKHRoaXMubW9kdWxlSW5zdGFuY2VzW2VdLnN0YXRlID0gdGhpcy5nZXRNb2R1bGVzRGlmZihlKSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBtb2R1bGVzIHdpdGhvdXQgcGFzc2VkIG5hbWVcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBtb2R1bGUgZm9yIHdpdGNoIG1vZHVsZXMgZGlmZmVyZW5jZSBzaG91bGQgYmUgY2FsY3VsYXRlZFxuICAgKi9cbiAgZ2V0TW9kdWxlc0RpZmYoZSkge1xuICAgIGNvbnN0IHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IG8gaW4gdGhpcy5tb2R1bGVJbnN0YW5jZXMpXG4gICAgICBvICE9PSBlICYmICh0W29dID0gdGhpcy5tb2R1bGVJbnN0YW5jZXNbb10pO1xuICAgIHJldHVybiB0O1xuICB9XG59XG4vKipcbiAqIEVkaXRvci5qc1xuICpcbiAqIEBsaWNlbnNlIEFwYWNoZS0yLjBcbiAqIEBzZWUgRWRpdG9yLmpzIDxodHRwczovL2VkaXRvcmpzLmlvPlxuICogQGF1dGhvciBDb2RlWCBUZWFtIDxodHRwczovL2NvZGV4LnNvPlxuICovXG5jbGFzcyB2aSB7XG4gIC8qKiBFZGl0b3IgdmVyc2lvbiAqL1xuICBzdGF0aWMgZ2V0IHZlcnNpb24oKSB7XG4gICAgcmV0dXJuIFwiMi4yOC4yXCI7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7RWRpdG9yQ29uZmlnfHN0cmluZ3x1bmRlZmluZWR9IFtjb25maWd1cmF0aW9uXSAtIHVzZXIgY29uZmlndXJhdGlvblxuICAgKi9cbiAgY29uc3RydWN0b3IoZSkge1xuICAgIGxldCB0ID0gKCkgPT4ge1xuICAgIH07XG4gICAgeihlKSAmJiBEKGUub25SZWFkeSkgJiYgKHQgPSBlLm9uUmVhZHkpO1xuICAgIGNvbnN0IG8gPSBuZXcga2koZSk7XG4gICAgdGhpcy5pc1JlYWR5ID0gby5pc1JlYWR5LnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5leHBvcnRBUEkobyksIHQoKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogRXhwb3J0IGV4dGVybmFsIEFQSSBtZXRob2RzXG4gICAqXG4gICAqIEBwYXJhbSB7Q29yZX0gZWRpdG9yIOKAlCBFZGl0b3IncyBpbnN0YW5jZVxuICAgKi9cbiAgZXhwb3J0QVBJKGUpIHtcbiAgICBjb25zdCB0ID0gW1wiY29uZmlndXJhdGlvblwiXSwgbyA9ICgpID0+IHtcbiAgICAgIE9iamVjdC52YWx1ZXMoZS5tb2R1bGVJbnN0YW5jZXMpLmZvckVhY2goKG4pID0+IHtcbiAgICAgICAgRChuLmRlc3Ryb3kpICYmIG4uZGVzdHJveSgpLCBuLmxpc3RlbmVycy5yZW1vdmVBbGwoKTtcbiAgICAgIH0pLCBlID0gbnVsbDtcbiAgICAgIGZvciAoY29uc3QgbiBpbiB0aGlzKVxuICAgICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcywgbikgJiYgZGVsZXRlIHRoaXNbbl07XG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgbnVsbCk7XG4gICAgfTtcbiAgICB0LmZvckVhY2goKG4pID0+IHtcbiAgICAgIHRoaXNbbl0gPSBlW25dO1xuICAgIH0pLCB0aGlzLmRlc3Ryb3kgPSBvLCBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgZS5tb2R1bGVJbnN0YW5jZXMuQVBJLm1ldGhvZHMpLCBkZWxldGUgdGhpcy5leHBvcnRBUEksIE9iamVjdC5lbnRyaWVzKHtcbiAgICAgIGJsb2Nrczoge1xuICAgICAgICBjbGVhcjogXCJjbGVhclwiLFxuICAgICAgICByZW5kZXI6IFwicmVuZGVyXCJcbiAgICAgIH0sXG4gICAgICBjYXJldDoge1xuICAgICAgICBmb2N1czogXCJmb2N1c1wiXG4gICAgICB9LFxuICAgICAgZXZlbnRzOiB7XG4gICAgICAgIG9uOiBcIm9uXCIsXG4gICAgICAgIG9mZjogXCJvZmZcIixcbiAgICAgICAgZW1pdDogXCJlbWl0XCJcbiAgICAgIH0sXG4gICAgICBzYXZlcjoge1xuICAgICAgICBzYXZlOiBcInNhdmVcIlxuICAgICAgfVxuICAgIH0pLmZvckVhY2goKFtuLCByXSkgPT4ge1xuICAgICAgT2JqZWN0LmVudHJpZXMocikuZm9yRWFjaCgoW2EsIGxdKSA9PiB7XG4gICAgICAgIHRoaXNbbF0gPSBlLm1vZHVsZUluc3RhbmNlcy5BUEkubWV0aG9kc1tuXVthXTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG5leHBvcnQge1xuICB2aSBhcyBkZWZhdWx0XG59O1xuIiwiKGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dHJ5e2lmKHR5cGVvZiBkb2N1bWVudDxcInVcIil7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO2UuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCIuY2UtaGVhZGVye3BhZGRpbmc6LjZlbSAwIDNweDttYXJnaW46MDtsaW5lLWhlaWdodDoxLjI1ZW07b3V0bGluZTpub25lfS5jZS1oZWFkZXIgcCwuY2UtaGVhZGVyIGRpdntwYWRkaW5nOjAhaW1wb3J0YW50O21hcmdpbjowIWltcG9ydGFudH0uY2UtaGVhZGVyW2NvbnRlbnRFZGl0YWJsZT10cnVlXVtkYXRhLXBsYWNlaG9sZGVyXTpiZWZvcmV7cG9zaXRpb246YWJzb2x1dGU7Y29udGVudDphdHRyKGRhdGEtcGxhY2Vob2xkZXIpO2NvbG9yOiM3MDc2ODQ7Zm9udC13ZWlnaHQ6NDAwO2Rpc3BsYXk6bm9uZTtjdXJzb3I6dGV4dH0uY2UtaGVhZGVyW2NvbnRlbnRFZGl0YWJsZT10cnVlXVtkYXRhLXBsYWNlaG9sZGVyXTplbXB0eTpiZWZvcmV7ZGlzcGxheTpibG9ja30uY2UtaGVhZGVyW2NvbnRlbnRFZGl0YWJsZT10cnVlXVtkYXRhLXBsYWNlaG9sZGVyXTplbXB0eTpmb2N1czpiZWZvcmV7ZGlzcGxheTpub25lfVwiKSksZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChlKX19Y2F0Y2godCl7Y29uc29sZS5lcnJvcihcInZpdGUtcGx1Z2luLWNzcy1pbmplY3RlZC1ieS1qc1wiLHQpfX0pKCk7XG5jb25zdCBpID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk02IDdMNiAxMk02IDE3TDYgMTJNNiAxMkwxMiAxMk0xMiA3VjEyTTEyIDE3TDEyIDEyXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xOSAxN1YxMC4yMTM1QzE5IDEwLjEyODcgMTguOTAxMSAxMC4wODI0IDE4LjgzNiAxMC4xMzY3TDE2IDEyLjVcIi8+PC9zdmc+JywgYSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNiA3TDYgMTJNNiAxN0w2IDEyTTYgMTJMMTIgMTJNMTIgN1YxMk0xMiAxN0wxMiAxMlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTYgMTFDMTYgMTAgMTkgOS41IDE5IDEyQzE5IDEzLjk3NzEgMTYuMDY4NCAxMy45OTk3IDE2LjAwMTIgMTYuODk4MUMxNS45OTk5IDE2Ljk1MzMgMTYuMDQ0OCAxNyAxNi4xIDE3TDE5LjMgMTdcIi8+PC9zdmc+JywgbCA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNiA3TDYgMTJNNiAxN0w2IDEyTTYgMTJMMTIgMTJNMTIgN1YxMk0xMiAxN0wxMiAxMlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTYgMTFDMTYgMTAuNSAxNi44MzIzIDEwIDE3LjYgMTBDMTguMzY3NyAxMCAxOS41IDEwLjMxMSAxOS41IDExLjVDMTkuNSAxMi41MzE1IDE4Ljc0NzQgMTIuOTAyMiAxOC41NDggMTIuOTgyM0MxOC41Mzc4IDEyLjk4NjQgMTguNTM5NSAxMy4wMDQ3IDE4LjU1MDMgMTMuMDA2M0MxOC44MTE1IDEzLjA0NTYgMjAgMTMuMzA2NSAyMCAxNC44QzIwIDE2IDE5LjUgMTcgMTcuOCAxN0MxNy44IDE3IDE2IDE3IDE2IDE2LjNcIi8+PC9zdmc+JywgbyA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNiA3TDYgMTJNNiAxN0w2IDEyTTYgMTJMMTIgMTJNMTIgN1YxMk0xMiAxN0wxMiAxMlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTggMTBMMTUuMjgzNCAxNC44NTExQzE1LjI0NiAxNC45MTc4IDE1LjI5NCAxNSAxNS4zNzA0IDE1QzE2Ljg0ODkgMTUgMTguNzU2MSAxNSAyMC4yIDE1TTE5IDE3QzE5IDE1LjcxODcgMTkgMTQuODgxMyAxOSAxMy42XCIvPjwvc3ZnPicsIGggPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTYgN0w2IDEyTTYgMTdMNiAxMk02IDEyTDEyIDEyTTEyIDdWMTJNMTIgMTdMMTIgMTJcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE2IDE1LjlDMTYgMTUuOSAxNi4zNzY4IDE3IDE3LjggMTdDMTkuNSAxNyAyMCAxNS42MTk5IDIwIDE0LjdDMjAgMTIuNzMyMyAxNy42NzQ1IDEyLjA0ODYgMTYuMTYzNSAxMi45ODk0QzE2LjA5NCAxMy4wMzI3IDE2IDEyLjk4NDYgMTYgMTIuOTAyN1YxMC4xQzE2IDEwLjA0NDggMTYuMDQ0OCAxMCAxNi4xIDEwSDE5LjhcIi8+PC9zdmc+JywgZCA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNiA3TDYgMTJNNiAxN0w2IDEyTTYgMTJMMTIgMTJNMTIgN1YxMk0xMiAxN0wxMiAxMlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTkuNSAxMEMxNi41IDEwLjUgMTYgMTMuMzI4NSAxNiAxNU0xNiAxNVYxNUMxNiAxNi4xMDQ2IDE2Ljg5NTQgMTcgMTggMTdIMTguMzI0NkMxOS4zMjUxIDE3IDIwLjMxOTEgMTYuMzQ5MiAyMC4yNTIyIDE1LjM1MDlDMjAuMDYxMiAxMi40OTU4IDE2IDEyLjY2MTEgMTYgMTVaXCIvPjwvc3ZnPicsIHUgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTkgN0w5IDEyTTkgMTdWMTJNOSAxMkwxNSAxMk0xNSA3VjEyTTE1IDE3TDE1IDEyXCIvPjwvc3ZnPic7XG4vKipcbiAqIEhlYWRlciBibG9jayBmb3IgdGhlIEVkaXRvci5qcy5cbiAqXG4gKiBAYXV0aG9yIENvZGVYICh0ZWFtQGlmbW8uc3UpXG4gKiBAY29weXJpZ2h0IENvZGVYIDIwMThcbiAqIEBsaWNlbnNlIE1JVFxuICogQHZlcnNpb24gMi4wLjBcbiAqL1xuY2xhc3MgYyB7XG4gIC8qKlxuICAgKiBSZW5kZXIgcGx1Z2luYHMgbWFpbiBFbGVtZW50IGFuZCBmaWxsIGl0IHdpdGggc2F2ZWQgZGF0YVxuICAgKlxuICAgKiBAcGFyYW0ge3tkYXRhOiBIZWFkZXJEYXRhLCBjb25maWc6IEhlYWRlckNvbmZpZywgYXBpOiBvYmplY3R9fVxuICAgKiAgIGRhdGEg4oCUIHByZXZpb3VzbHkgc2F2ZWQgZGF0YVxuICAgKiAgIGNvbmZpZyAtIHVzZXIgY29uZmlnIGZvciBUb29sXG4gICAqICAgYXBpIC0gRWRpdG9yLmpzIEFQSVxuICAgKiAgIHJlYWRPbmx5IC0gcmVhZCBvbmx5IG1vZGUgZmxhZ1xuICAgKi9cbiAgY29uc3RydWN0b3IoeyBkYXRhOiBlLCBjb25maWc6IHQsIGFwaTogcywgcmVhZE9ubHk6IHIgfSkge1xuICAgIHRoaXMuYXBpID0gcywgdGhpcy5yZWFkT25seSA9IHIsIHRoaXMuX0NTUyA9IHtcbiAgICAgIGJsb2NrOiB0aGlzLmFwaS5zdHlsZXMuYmxvY2ssXG4gICAgICB3cmFwcGVyOiBcImNlLWhlYWRlclwiXG4gICAgfSwgdGhpcy5fc2V0dGluZ3MgPSB0LCB0aGlzLl9kYXRhID0gdGhpcy5ub3JtYWxpemVEYXRhKGUpLCB0aGlzLl9lbGVtZW50ID0gdGhpcy5nZXRUYWcoKTtcbiAgfVxuICAvKipcbiAgICogTm9ybWFsaXplIGlucHV0IGRhdGFcbiAgICpcbiAgICogQHBhcmFtIHtIZWFkZXJEYXRhfSBkYXRhIC0gc2F2ZWQgZGF0YSB0byBwcm9jZXNzXG4gICAqXG4gICAqIEByZXR1cm5zIHtIZWFkZXJEYXRhfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgbm9ybWFsaXplRGF0YShlKSB7XG4gICAgY29uc3QgdCA9IHt9O1xuICAgIHJldHVybiB0eXBlb2YgZSAhPSBcIm9iamVjdFwiICYmIChlID0ge30pLCB0LnRleHQgPSBlLnRleHQgfHwgXCJcIiwgdC5sZXZlbCA9IHBhcnNlSW50KGUubGV2ZWwpIHx8IHRoaXMuZGVmYXVsdExldmVsLm51bWJlciwgdDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIFRvb2wncyB2aWV3XG4gICAqXG4gICAqIEByZXR1cm5zIHtIVE1MSGVhZGluZ0VsZW1lbnR9XG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBoZWFkZXIgYmxvY2sgdHVuZXMgY29uZmlnXG4gICAqXG4gICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICovXG4gIHJlbmRlclNldHRpbmdzKCkge1xuICAgIHJldHVybiB0aGlzLmxldmVscy5tYXAoKGUpID0+ICh7XG4gICAgICBpY29uOiBlLnN2ZyxcbiAgICAgIGxhYmVsOiB0aGlzLmFwaS5pMThuLnQoYEhlYWRpbmcgJHtlLm51bWJlcn1gKSxcbiAgICAgIG9uQWN0aXZhdGU6ICgpID0+IHRoaXMuc2V0TGV2ZWwoZS5udW1iZXIpLFxuICAgICAgY2xvc2VPbkFjdGl2YXRlOiAhMCxcbiAgICAgIGlzQWN0aXZlOiB0aGlzLmN1cnJlbnRMZXZlbC5udW1iZXIgPT09IGUubnVtYmVyXG4gICAgfSkpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsYmFjayBmb3IgQmxvY2sncyBzZXR0aW5ncyBidXR0b25zXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsZXZlbCAtIGxldmVsIHRvIHNldFxuICAgKi9cbiAgc2V0TGV2ZWwoZSkge1xuICAgIHRoaXMuZGF0YSA9IHtcbiAgICAgIGxldmVsOiBlLFxuICAgICAgdGV4dDogdGhpcy5kYXRhLnRleHRcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBNZXRob2QgdGhhdCBzcGVjaWZpZWQgaG93IHRvIG1lcmdlIHR3byBUZXh0IGJsb2Nrcy5cbiAgICogQ2FsbGVkIGJ5IEVkaXRvci5qcyBieSBiYWNrc3BhY2UgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgQmxvY2tcbiAgICpcbiAgICogQHBhcmFtIHtIZWFkZXJEYXRhfSBkYXRhIC0gc2F2ZWQgZGF0YSB0byBtZXJnZXIgd2l0aCBjdXJyZW50IGJsb2NrXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIG1lcmdlKGUpIHtcbiAgICBjb25zdCB0ID0ge1xuICAgICAgdGV4dDogdGhpcy5kYXRhLnRleHQgKyBlLnRleHQsXG4gICAgICBsZXZlbDogdGhpcy5kYXRhLmxldmVsXG4gICAgfTtcbiAgICB0aGlzLmRhdGEgPSB0O1xuICB9XG4gIC8qKlxuICAgKiBWYWxpZGF0ZSBUZXh0IGJsb2NrIGRhdGE6XG4gICAqIC0gY2hlY2sgZm9yIGVtcHRpbmVzc1xuICAgKlxuICAgKiBAcGFyYW0ge0hlYWRlckRhdGF9IGJsb2NrRGF0YSDigJQgZGF0YSByZWNlaXZlZCBhZnRlciBzYXZpbmdcbiAgICogQHJldHVybnMge2Jvb2xlYW59IGZhbHNlIGlmIHNhdmVkIGRhdGEgaXMgbm90IGNvcnJlY3QsIG90aGVyd2lzZSB0cnVlXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHZhbGlkYXRlKGUpIHtcbiAgICByZXR1cm4gZS50ZXh0LnRyaW0oKSAhPT0gXCJcIjtcbiAgfVxuICAvKipcbiAgICogRXh0cmFjdCBUb29sJ3MgZGF0YSBmcm9tIHRoZSB2aWV3XG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEhlYWRpbmdFbGVtZW50fSB0b29sc0NvbnRlbnQgLSBUZXh0IHRvb2xzIHJlbmRlcmVkIHZpZXdcbiAgICogQHJldHVybnMge0hlYWRlckRhdGF9IC0gc2F2ZWQgZGF0YVxuICAgKiBAcHVibGljXG4gICAqL1xuICBzYXZlKGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdGV4dDogZS5pbm5lckhUTUwsXG4gICAgICBsZXZlbDogdGhpcy5jdXJyZW50TGV2ZWwubnVtYmVyXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQWxsb3cgSGVhZGVyIHRvIGJlIGNvbnZlcnRlZCB0by9mcm9tIG90aGVyIGJsb2Nrc1xuICAgKi9cbiAgc3RhdGljIGdldCBjb252ZXJzaW9uQ29uZmlnKCkge1xuICAgIHJldHVybiB7XG4gICAgICBleHBvcnQ6IFwidGV4dFwiLFxuICAgICAgLy8gdXNlICd0ZXh0JyBwcm9wZXJ0eSBmb3Igb3RoZXIgYmxvY2tzXG4gICAgICBpbXBvcnQ6IFwidGV4dFwiXG4gICAgICAvLyBmaWxsICd0ZXh0JyBwcm9wZXJ0eSBmcm9tIG90aGVyIGJsb2NrJ3MgZXhwb3J0IHN0cmluZ1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFNhbml0aXplciBSdWxlc1xuICAgKi9cbiAgc3RhdGljIGdldCBzYW5pdGl6ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGV2ZWw6ICExLFxuICAgICAgdGV4dDoge31cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgdG8gbm90aWZ5IGNvcmUgdGhhdCByZWFkLW9ubHkgaXMgc3VwcG9ydGVkXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGdldCBpc1JlYWRPbmx5U3VwcG9ydGVkKCkge1xuICAgIHJldHVybiAhMDtcbiAgfVxuICAvKipcbiAgICogR2V0IGN1cnJlbnQgVG9vbHNgcyBkYXRhXG4gICAqXG4gICAqIEByZXR1cm5zIHtIZWFkZXJEYXRhfSBDdXJyZW50IGRhdGFcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldCBkYXRhKCkge1xuICAgIHJldHVybiB0aGlzLl9kYXRhLnRleHQgPSB0aGlzLl9lbGVtZW50LmlubmVySFRNTCwgdGhpcy5fZGF0YS5sZXZlbCA9IHRoaXMuY3VycmVudExldmVsLm51bWJlciwgdGhpcy5fZGF0YTtcbiAgfVxuICAvKipcbiAgICogU3RvcmUgZGF0YSBpbiBwbHVnaW46XG4gICAqIC0gYXQgdGhlIHRoaXMuX2RhdGEgcHJvcGVydHlcbiAgICogLSBhdCB0aGUgSFRNTFxuICAgKlxuICAgKiBAcGFyYW0ge0hlYWRlckRhdGF9IGRhdGEg4oCUIGRhdGEgdG8gc2V0XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzZXQgZGF0YShlKSB7XG4gICAgaWYgKHRoaXMuX2RhdGEgPSB0aGlzLm5vcm1hbGl6ZURhdGEoZSksIGUubGV2ZWwgIT09IHZvaWQgMCAmJiB0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICAgIGNvbnN0IHQgPSB0aGlzLmdldFRhZygpO1xuICAgICAgdC5pbm5lckhUTUwgPSB0aGlzLl9lbGVtZW50LmlubmVySFRNTCwgdGhpcy5fZWxlbWVudC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh0LCB0aGlzLl9lbGVtZW50KSwgdGhpcy5fZWxlbWVudCA9IHQ7XG4gICAgfVxuICAgIGUudGV4dCAhPT0gdm9pZCAwICYmICh0aGlzLl9lbGVtZW50LmlubmVySFRNTCA9IHRoaXMuX2RhdGEudGV4dCB8fCBcIlwiKTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRhZyBmb3IgdGFyZ2V0IGxldmVsXG4gICAqIEJ5IGRlZmF1bHQgcmV0dXJucyBzZWNvbmQtbGV2ZWxlZCBoZWFkZXJcbiAgICpcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgKi9cbiAgZ2V0VGFnKCkge1xuICAgIGNvbnN0IGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRoaXMuY3VycmVudExldmVsLnRhZyk7XG4gICAgcmV0dXJuIGUuaW5uZXJIVE1MID0gdGhpcy5fZGF0YS50ZXh0IHx8IFwiXCIsIGUuY2xhc3NMaXN0LmFkZCh0aGlzLl9DU1Mud3JhcHBlciksIGUuY29udGVudEVkaXRhYmxlID0gdGhpcy5yZWFkT25seSA/IFwiZmFsc2VcIiA6IFwidHJ1ZVwiLCBlLmRhdGFzZXQucGxhY2Vob2xkZXIgPSB0aGlzLmFwaS5pMThuLnQodGhpcy5fc2V0dGluZ3MucGxhY2Vob2xkZXIgfHwgXCJcIiksIGU7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBjdXJyZW50IGxldmVsXG4gICAqXG4gICAqIEByZXR1cm5zIHtsZXZlbH1cbiAgICovXG4gIGdldCBjdXJyZW50TGV2ZWwoKSB7XG4gICAgbGV0IGUgPSB0aGlzLmxldmVscy5maW5kKCh0KSA9PiB0Lm51bWJlciA9PT0gdGhpcy5fZGF0YS5sZXZlbCk7XG4gICAgcmV0dXJuIGUgfHwgKGUgPSB0aGlzLmRlZmF1bHRMZXZlbCksIGU7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBkZWZhdWx0IGxldmVsXG4gICAqXG4gICAqIEByZXR1cm5zIHtsZXZlbH1cbiAgICovXG4gIGdldCBkZWZhdWx0TGV2ZWwoKSB7XG4gICAgaWYgKHRoaXMuX3NldHRpbmdzLmRlZmF1bHRMZXZlbCkge1xuICAgICAgY29uc3QgZSA9IHRoaXMubGV2ZWxzLmZpbmQoKHQpID0+IHQubnVtYmVyID09PSB0aGlzLl9zZXR0aW5ncy5kZWZhdWx0TGV2ZWwpO1xuICAgICAgaWYgKGUpXG4gICAgICAgIHJldHVybiBlO1xuICAgICAgY29uc29sZS53YXJuKFwiKOC4hyfMgC0nzIEp4LiHIEhlYWRpbmcgVG9vbDogdGhlIGRlZmF1bHQgbGV2ZWwgc3BlY2lmaWVkIHdhcyBub3QgZm91bmQgaW4gYXZhaWxhYmxlIGxldmVsc1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMubGV2ZWxzWzFdO1xuICB9XG4gIC8qKlxuICAgKiBAdHlwZWRlZiB7b2JqZWN0fSBsZXZlbFxuICAgKiBAcHJvcGVydHkge251bWJlcn0gbnVtYmVyIC0gbGV2ZWwgbnVtYmVyXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0YWcgLSB0YWcgY29ycmVzcG9uZHMgd2l0aCBsZXZlbCBudW1iZXJcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IHN2ZyAtIGljb25cbiAgICovXG4gIC8qKlxuICAgKiBBdmFpbGFibGUgaGVhZGVyIGxldmVsc1xuICAgKlxuICAgKiBAcmV0dXJucyB7bGV2ZWxbXX1cbiAgICovXG4gIGdldCBsZXZlbHMoKSB7XG4gICAgY29uc3QgZSA9IFtcbiAgICAgIHtcbiAgICAgICAgbnVtYmVyOiAxLFxuICAgICAgICB0YWc6IFwiSDFcIixcbiAgICAgICAgc3ZnOiBpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBudW1iZXI6IDIsXG4gICAgICAgIHRhZzogXCJIMlwiLFxuICAgICAgICBzdmc6IGFcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG51bWJlcjogMyxcbiAgICAgICAgdGFnOiBcIkgzXCIsXG4gICAgICAgIHN2ZzogbFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbnVtYmVyOiA0LFxuICAgICAgICB0YWc6IFwiSDRcIixcbiAgICAgICAgc3ZnOiBvXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBudW1iZXI6IDUsXG4gICAgICAgIHRhZzogXCJINVwiLFxuICAgICAgICBzdmc6IGhcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG51bWJlcjogNixcbiAgICAgICAgdGFnOiBcIkg2XCIsXG4gICAgICAgIHN2ZzogZFxuICAgICAgfVxuICAgIF07XG4gICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzLmxldmVscyA/IGUuZmlsdGVyKFxuICAgICAgKHQpID0+IHRoaXMuX3NldHRpbmdzLmxldmVscy5pbmNsdWRlcyh0Lm51bWJlcilcbiAgICApIDogZTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIEgxLUg2IHRhZ3Mgb24gcGFzdGUgdG8gc3Vic3RpdHV0ZSBpdCB3aXRoIGhlYWRlciBUb29sXG4gICAqXG4gICAqIEBwYXJhbSB7UGFzdGVFdmVudH0gZXZlbnQgLSBldmVudCB3aXRoIHBhc3RlZCBjb250ZW50XG4gICAqL1xuICBvblBhc3RlKGUpIHtcbiAgICBjb25zdCB0ID0gZS5kZXRhaWwuZGF0YTtcbiAgICBsZXQgcyA9IHRoaXMuZGVmYXVsdExldmVsLm51bWJlcjtcbiAgICBzd2l0Y2ggKHQudGFnTmFtZSkge1xuICAgICAgY2FzZSBcIkgxXCI6XG4gICAgICAgIHMgPSAxO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJIMlwiOlxuICAgICAgICBzID0gMjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiSDNcIjpcbiAgICAgICAgcyA9IDM7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIkg0XCI6XG4gICAgICAgIHMgPSA0O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJINVwiOlxuICAgICAgICBzID0gNTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiSDZcIjpcbiAgICAgICAgcyA9IDY7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB0aGlzLl9zZXR0aW5ncy5sZXZlbHMgJiYgKHMgPSB0aGlzLl9zZXR0aW5ncy5sZXZlbHMucmVkdWNlKChyLCBuKSA9PiBNYXRoLmFicyhuIC0gcykgPCBNYXRoLmFicyhyIC0gcykgPyBuIDogcikpLCB0aGlzLmRhdGEgPSB7XG4gICAgICBsZXZlbDogcyxcbiAgICAgIHRleHQ6IHQuaW5uZXJIVE1MXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogVXNlZCBieSBFZGl0b3IuanMgcGFzdGUgaGFuZGxpbmcgQVBJLlxuICAgKiBQcm92aWRlcyBjb25maWd1cmF0aW9uIHRvIGhhbmRsZSBIMS1INiB0YWdzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7e2hhbmRsZXI6IChmdW5jdGlvbihIVE1MRWxlbWVudCk6IHt0ZXh0OiBzdHJpbmd9KSwgdGFnczogc3RyaW5nW119fVxuICAgKi9cbiAgc3RhdGljIGdldCBwYXN0ZUNvbmZpZygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdGFnczogW1wiSDFcIiwgXCJIMlwiLCBcIkgzXCIsIFwiSDRcIiwgXCJINVwiLCBcIkg2XCJdXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogR2V0IFRvb2wgdG9vbGJveCBzZXR0aW5nc1xuICAgKiBpY29uIC0gVG9vbCBpY29uJ3MgU1ZHXG4gICAqIHRpdGxlIC0gdGl0bGUgdG8gc2hvdyBpbiB0b29sYm94XG4gICAqXG4gICAqIEByZXR1cm5zIHt7aWNvbjogc3RyaW5nLCB0aXRsZTogc3RyaW5nfX1cbiAgICovXG4gIHN0YXRpYyBnZXQgdG9vbGJveCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWNvbjogdSxcbiAgICAgIHRpdGxlOiBcIkhlYWRpbmdcIlxuICAgIH07XG4gIH1cbn1cbmV4cG9ydCB7XG4gIGMgYXMgZGVmYXVsdFxufTtcbiIsIihmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3RyeXtpZih0eXBlb2YgZG9jdW1lbnQ8XCJ1XCIpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiLmNkeC1saXN0e21hcmdpbjowO3BhZGRpbmctbGVmdDo0MHB4O291dGxpbmU6bm9uZX0uY2R4LWxpc3RfX2l0ZW17cGFkZGluZzo1LjVweCAwIDUuNXB4IDNweDtsaW5lLWhlaWdodDoxLjZlbX0uY2R4LWxpc3QtLXVub3JkZXJlZHtsaXN0LXN0eWxlOmRpc2N9LmNkeC1saXN0LS1vcmRlcmVke2xpc3Qtc3R5bGU6ZGVjaW1hbH0uY2R4LWxpc3Qtc2V0dGluZ3N7ZGlzcGxheTpmbGV4fS5jZHgtbGlzdC1zZXR0aW5ncyAuY2R4LXNldHRpbmdzLWJ1dHRvbnt3aWR0aDo1MCV9XCIpKSxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGUpfX1jYXRjaCh0KXtjb25zb2xlLmVycm9yKFwidml0ZS1wbHVnaW4tY3NzLWluamVjdGVkLWJ5LWpzXCIsdCl9fSkoKTtcbmNvbnN0IGEgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PGxpbmUgeDE9XCI5XCIgeDI9XCIxOVwiIHkxPVwiN1wiIHkyPVwiN1wiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIvPjxsaW5lIHgxPVwiOVwiIHgyPVwiMTlcIiB5MT1cIjEyXCIgeTI9XCIxMlwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIvPjxsaW5lIHgxPVwiOVwiIHgyPVwiMTlcIiB5MT1cIjE3XCIgeTI9XCIxN1wiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01LjAwMDAxIDE3SDQuOTkwMDJcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUuMDAwMDEgMTJINC45OTAwMlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNS4wMDAwMSA3SDQuOTkwMDJcIi8+PC9zdmc+JywgbyA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48bGluZSB4MT1cIjEyXCIgeDI9XCIxOVwiIHkxPVwiN1wiIHkyPVwiN1wiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIvPjxsaW5lIHgxPVwiMTJcIiB4Mj1cIjE5XCIgeTE9XCIxMlwiIHkyPVwiMTJcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz48bGluZSB4MT1cIjEyXCIgeDI9XCIxOVwiIHkxPVwiMTdcIiB5Mj1cIjE3XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTcuNzk5OTkgMTRMNy43OTk5OSA3LjIxMzVDNy43OTk5OSA3LjEyODcyIDcuNzAxMSA3LjA4MjQgNy42MzU5NyA3LjEzNjY4TDQuNzk5OTkgOS41XCIvPjwvc3ZnPic7XG5jbGFzcyBkIHtcbiAgLyoqXG4gICAqIE5vdGlmeSBjb3JlIHRoYXQgcmVhZC1vbmx5IG1vZGUgaXMgc3VwcG9ydGVkXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGdldCBpc1JlYWRPbmx5U3VwcG9ydGVkKCkge1xuICAgIHJldHVybiAhMDtcbiAgfVxuICAvKipcbiAgICogQWxsb3cgdG8gdXNlIG5hdGl2ZSBFbnRlciBiZWhhdmlvdXJcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHN0YXRpYyBnZXQgZW5hYmxlTGluZUJyZWFrcygpIHtcbiAgICByZXR1cm4gITA7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBUb29sIHRvb2xib3ggc2V0dGluZ3NcbiAgICogaWNvbiAtIFRvb2wgaWNvbidzIFNWR1xuICAgKiB0aXRsZSAtIHRpdGxlIHRvIHNob3cgaW4gdG9vbGJveFxuICAgKlxuICAgKiBAcmV0dXJucyB7e2ljb246IHN0cmluZywgdGl0bGU6IHN0cmluZ319XG4gICAqL1xuICBzdGF0aWMgZ2V0IHRvb2xib3goKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGljb246IGEsXG4gICAgICB0aXRsZTogXCJMaXN0XCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBSZW5kZXIgcGx1Z2luYHMgbWFpbiBFbGVtZW50IGFuZCBmaWxsIGl0IHdpdGggc2F2ZWQgZGF0YVxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gcGFyYW1zIC0gdG9vbCBjb25zdHJ1Y3RvciBvcHRpb25zXG4gICAqIEBwYXJhbSB7TGlzdERhdGF9IHBhcmFtcy5kYXRhIC0gcHJldmlvdXNseSBzYXZlZCBkYXRhXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbXMuY29uZmlnIC0gdXNlciBjb25maWcgZm9yIFRvb2xcbiAgICogQHBhcmFtIHtvYmplY3R9IHBhcmFtcy5hcGkgLSBFZGl0b3IuanMgQVBJXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcGFyYW1zLnJlYWRPbmx5IC0gcmVhZC1vbmx5IG1vZGUgZmxhZ1xuICAgKi9cbiAgY29uc3RydWN0b3IoeyBkYXRhOiBlLCBjb25maWc6IHQsIGFwaTogciwgcmVhZE9ubHk6IHMgfSkge1xuICAgIHRoaXMuX2VsZW1lbnRzID0ge1xuICAgICAgd3JhcHBlcjogbnVsbFxuICAgIH0sIHRoaXMuYXBpID0gciwgdGhpcy5yZWFkT25seSA9IHMsIHRoaXMuc2V0dGluZ3MgPSBbXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwidW5vcmRlcmVkXCIsXG4gICAgICAgIGxhYmVsOiB0aGlzLmFwaS5pMThuLnQoXCJVbm9yZGVyZWRcIiksXG4gICAgICAgIGljb246IGEsXG4gICAgICAgIGRlZmF1bHQ6IHQuZGVmYXVsdFN0eWxlID09PSBcInVub3JkZXJlZFwiIHx8ICExXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiBcIm9yZGVyZWRcIixcbiAgICAgICAgbGFiZWw6IHRoaXMuYXBpLmkxOG4udChcIk9yZGVyZWRcIiksXG4gICAgICAgIGljb246IG8sXG4gICAgICAgIGRlZmF1bHQ6IHQuZGVmYXVsdFN0eWxlID09PSBcIm9yZGVyZWRcIiB8fCAhMFxuICAgICAgfVxuICAgIF0sIHRoaXMuX2RhdGEgPSB7XG4gICAgICBzdHlsZTogdGhpcy5zZXR0aW5ncy5maW5kKChpKSA9PiBpLmRlZmF1bHQgPT09ICEwKS5uYW1lLFxuICAgICAgaXRlbXM6IFtdXG4gICAgfSwgdGhpcy5kYXRhID0gZTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBsaXN0IHRhZyB3aXRoIGl0ZW1zXG4gICAqXG4gICAqIEByZXR1cm5zIHtFbGVtZW50fVxuICAgKiBAcHVibGljXG4gICAqL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnRzLndyYXBwZXIgPSB0aGlzLm1ha2VNYWluVGFnKHRoaXMuX2RhdGEuc3R5bGUpLCB0aGlzLl9kYXRhLml0ZW1zLmxlbmd0aCA/IHRoaXMuX2RhdGEuaXRlbXMuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgdGhpcy5fZWxlbWVudHMud3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLl9tYWtlKFwibGlcIiwgdGhpcy5DU1MuaXRlbSwge1xuICAgICAgICBpbm5lckhUTUw6IGVcbiAgICAgIH0pKTtcbiAgICB9KSA6IHRoaXMuX2VsZW1lbnRzLndyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5fbWFrZShcImxpXCIsIHRoaXMuQ1NTLml0ZW0pKSwgdGhpcy5yZWFkT25seSB8fCB0aGlzLl9lbGVtZW50cy53cmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB7XG4gICAgICBjb25zdCBbdCwgcl0gPSBbMTMsIDhdO1xuICAgICAgc3dpdGNoIChlLmtleUNvZGUpIHtcbiAgICAgICAgY2FzZSB0OlxuICAgICAgICAgIHRoaXMuZ2V0T3V0b2ZMaXN0KGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIHI6XG4gICAgICAgICAgdGhpcy5iYWNrc3BhY2UoZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSwgITEpLCB0aGlzLl9lbGVtZW50cy53cmFwcGVyO1xuICB9XG4gIC8qKlxuICAgKiBAcmV0dXJucyB7TGlzdERhdGF9XG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHNhdmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YTtcbiAgfVxuICAvKipcbiAgICogQWxsb3cgTGlzdCBUb29sIHRvIGJlIGNvbnZlcnRlZCB0by9mcm9tIG90aGVyIGJsb2NrXG4gICAqXG4gICAqIEByZXR1cm5zIHt7ZXhwb3J0OiBGdW5jdGlvbiwgaW1wb3J0OiBGdW5jdGlvbn19XG4gICAqL1xuICBzdGF0aWMgZ2V0IGNvbnZlcnNpb25Db25maWcoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8qKlxuICAgICAgICogVG8gY3JlYXRlIGV4cG9ydGVkIHN0cmluZyBmcm9tIGxpc3QsIGNvbmNhdGVuYXRlIGl0ZW1zIGJ5IGRvdC1zeW1ib2wuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtMaXN0RGF0YX0gZGF0YSAtIGxpc3QgZGF0YSB0byBjcmVhdGUgYSBzdHJpbmcgZnJvbSB0aGF0c1xuICAgICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgICAqL1xuICAgICAgZXhwb3J0OiAoZSkgPT4gZS5pdGVtcy5qb2luKFwiLiBcIiksXG4gICAgICAvKipcbiAgICAgICAqIFRvIGNyZWF0ZSBhIGxpc3QgZnJvbSBvdGhlciBibG9jaydzIHN0cmluZywganVzdCBwdXQgaXQgYXQgdGhlIGZpcnN0IGl0ZW1cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIC0gc3RyaW5nIHRvIGNyZWF0ZSBsaXN0IHRvb2wgZGF0YSBmcm9tIHRoYXRcbiAgICAgICAqIEByZXR1cm5zIHtMaXN0RGF0YX1cbiAgICAgICAqL1xuICAgICAgaW1wb3J0OiAoZSkgPT4gKHtcbiAgICAgICAgaXRlbXM6IFtlXSxcbiAgICAgICAgc3R5bGU6IFwidW5vcmRlcmVkXCJcbiAgICAgIH0pXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogU2FuaXRpemVyIHJ1bGVzXG4gICAqXG4gICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAqL1xuICBzdGF0aWMgZ2V0IHNhbml0aXplKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzdHlsZToge30sXG4gICAgICBpdGVtczoge1xuICAgICAgICBicjogITBcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBTZXR0aW5nc1xuICAgKlxuICAgKiBAcHVibGljXG4gICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICovXG4gIHJlbmRlclNldHRpbmdzKCkge1xuICAgIHJldHVybiB0aGlzLnNldHRpbmdzLm1hcCgoZSkgPT4gKHtcbiAgICAgIC4uLmUsXG4gICAgICBpc0FjdGl2ZTogdGhpcy5fZGF0YS5zdHlsZSA9PT0gZS5uYW1lLFxuICAgICAgY2xvc2VPbkFjdGl2YXRlOiAhMCxcbiAgICAgIG9uQWN0aXZhdGU6ICgpID0+IHRoaXMudG9nZ2xlVHVuZShlLm5hbWUpXG4gICAgfSkpO1xuICB9XG4gIC8qKlxuICAgKiBPbiBwYXN0ZSBjYWxsYmFjayB0aGF0IGlzIGZpcmVkIGZyb20gRWRpdG9yXG4gICAqXG4gICAqIEBwYXJhbSB7UGFzdGVFdmVudH0gZXZlbnQgLSBldmVudCB3aXRoIHBhc3RlZCBkYXRhXG4gICAqL1xuICBvblBhc3RlKGUpIHtcbiAgICBjb25zdCB0ID0gZS5kZXRhaWwuZGF0YTtcbiAgICB0aGlzLmRhdGEgPSB0aGlzLnBhc3RlSGFuZGxlcih0KTtcbiAgfVxuICAvKipcbiAgICogTGlzdCBUb29sIG9uIHBhc3RlIGNvbmZpZ3VyYXRpb25cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgc3RhdGljIGdldCBwYXN0ZUNvbmZpZygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdGFnczogW1wiT0xcIiwgXCJVTFwiLCBcIkxJXCJdXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBtYWluIDx1bD4gb3IgPG9sPiB0YWcgZGVwZW5kZWQgb24gc3R5bGVcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0eWxlIC0gJ29yZGVyZWQnIG9yICd1bm9yZGVyZWQnXG4gICAqIEByZXR1cm5zIHtIVE1MT0xpc3RFbGVtZW50fEhUTUxVTGlzdEVsZW1lbnR9XG4gICAqL1xuICBtYWtlTWFpblRhZyhlKSB7XG4gICAgY29uc3QgdCA9IGUgPT09IFwib3JkZXJlZFwiID8gdGhpcy5DU1Mud3JhcHBlck9yZGVyZWQgOiB0aGlzLkNTUy53cmFwcGVyVW5vcmRlcmVkLCByID0gZSA9PT0gXCJvcmRlcmVkXCIgPyBcIm9sXCIgOiBcInVsXCI7XG4gICAgcmV0dXJuIHRoaXMuX21ha2UociwgW3RoaXMuQ1NTLmJhc2VCbG9jaywgdGhpcy5DU1Mud3JhcHBlciwgdF0sIHtcbiAgICAgIGNvbnRlbnRFZGl0YWJsZTogIXRoaXMucmVhZE9ubHlcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogVG9nZ2xlcyBMaXN0IHN0eWxlXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHlsZSAtICdvcmRlcmVkJ3wndW5vcmRlcmVkJ1xuICAgKi9cbiAgdG9nZ2xlVHVuZShlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMubWFrZU1haW5UYWcoZSk7XG4gICAgZm9yICg7IHRoaXMuX2VsZW1lbnRzLndyYXBwZXIuaGFzQ2hpbGROb2RlcygpOyApXG4gICAgICB0LmFwcGVuZENoaWxkKHRoaXMuX2VsZW1lbnRzLndyYXBwZXIuZmlyc3RDaGlsZCk7XG4gICAgdGhpcy5fZWxlbWVudHMud3JhcHBlci5yZXBsYWNlV2l0aCh0KSwgdGhpcy5fZWxlbWVudHMud3JhcHBlciA9IHQsIHRoaXMuX2RhdGEuc3R5bGUgPSBlO1xuICB9XG4gIC8qKlxuICAgKiBTdHlsZXNcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldCBDU1MoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJhc2VCbG9jazogdGhpcy5hcGkuc3R5bGVzLmJsb2NrLFxuICAgICAgd3JhcHBlcjogXCJjZHgtbGlzdFwiLFxuICAgICAgd3JhcHBlck9yZGVyZWQ6IFwiY2R4LWxpc3QtLW9yZGVyZWRcIixcbiAgICAgIHdyYXBwZXJVbm9yZGVyZWQ6IFwiY2R4LWxpc3QtLXVub3JkZXJlZFwiLFxuICAgICAgaXRlbTogXCJjZHgtbGlzdF9faXRlbVwiXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogTGlzdCBkYXRhIHNldHRlclxuICAgKlxuICAgKiBAcGFyYW0ge0xpc3REYXRhfSBsaXN0RGF0YVxuICAgKi9cbiAgc2V0IGRhdGEoZSkge1xuICAgIGUgfHwgKGUgPSB7fSksIHRoaXMuX2RhdGEuc3R5bGUgPSBlLnN0eWxlIHx8IHRoaXMuc2V0dGluZ3MuZmluZCgocikgPT4gci5kZWZhdWx0ID09PSAhMCkubmFtZSwgdGhpcy5fZGF0YS5pdGVtcyA9IGUuaXRlbXMgfHwgW107XG4gICAgY29uc3QgdCA9IHRoaXMuX2VsZW1lbnRzLndyYXBwZXI7XG4gICAgdCAmJiB0LnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHRoaXMucmVuZGVyKCksIHQpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gTGlzdCBkYXRhXG4gICAqXG4gICAqIEByZXR1cm5zIHtMaXN0RGF0YX1cbiAgICovXG4gIGdldCBkYXRhKCkge1xuICAgIHRoaXMuX2RhdGEuaXRlbXMgPSBbXTtcbiAgICBjb25zdCBlID0gdGhpcy5fZWxlbWVudHMud3JhcHBlci5xdWVyeVNlbGVjdG9yQWxsKGAuJHt0aGlzLkNTUy5pdGVtfWApO1xuICAgIGZvciAobGV0IHQgPSAwOyB0IDwgZS5sZW5ndGg7IHQrKylcbiAgICAgIGVbdF0uaW5uZXJIVE1MLnJlcGxhY2UoXCI8YnI+XCIsIFwiIFwiKS50cmltKCkgJiYgdGhpcy5fZGF0YS5pdGVtcy5wdXNoKGVbdF0uaW5uZXJIVE1MKTtcbiAgICByZXR1cm4gdGhpcy5fZGF0YTtcbiAgfVxuICAvKipcbiAgICogSGVscGVyIGZvciBtYWtpbmcgRWxlbWVudHMgd2l0aCBhdHRyaWJ1dGVzXG4gICAqXG4gICAqIEBwYXJhbSAge3N0cmluZ30gdGFnTmFtZSAgICAgICAgICAgLSBuZXcgRWxlbWVudCB0YWcgbmFtZVxuICAgKiBAcGFyYW0gIHtBcnJheXxzdHJpbmd9IGNsYXNzTmFtZXMgIC0gbGlzdCBvciBuYW1lIG9mIENTUyBjbGFzc25hbWUocylcbiAgICogQHBhcmFtICB7b2JqZWN0fSBhdHRyaWJ1dGVzICAgICAgICAtIGFueSBhdHRyaWJ1dGVzXG4gICAqIEByZXR1cm5zIHtFbGVtZW50fVxuICAgKi9cbiAgX21ha2UoZSwgdCA9IG51bGwsIHIgPSB7fSkge1xuICAgIGNvbnN0IHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGUpO1xuICAgIEFycmF5LmlzQXJyYXkodCkgPyBzLmNsYXNzTGlzdC5hZGQoLi4udCkgOiB0ICYmIHMuY2xhc3NMaXN0LmFkZCh0KTtcbiAgICBmb3IgKGNvbnN0IGkgaW4gcilcbiAgICAgIHNbaV0gPSByW2ldO1xuICAgIHJldHVybiBzO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGN1cnJlbnQgTGlzdCBpdGVtIGJ5IHRoZSBjYXJldCBwb3NpdGlvblxuICAgKlxuICAgKiBAcmV0dXJucyB7RWxlbWVudH1cbiAgICovXG4gIGdldCBjdXJyZW50SXRlbSgpIHtcbiAgICBsZXQgZSA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5hbmNob3JOb2RlO1xuICAgIHJldHVybiBlLm5vZGVUeXBlICE9PSBOb2RlLkVMRU1FTlRfTk9ERSAmJiAoZSA9IGUucGFyZW50Tm9kZSksIGUuY2xvc2VzdChgLiR7dGhpcy5DU1MuaXRlbX1gKTtcbiAgfVxuICAvKipcbiAgICogR2V0IG91dCBmcm9tIExpc3QgVG9vbFxuICAgKiBieSBFbnRlciBvbiB0aGUgZW1wdHkgbGFzdCBpdGVtXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnRcbiAgICovXG4gIGdldE91dG9mTGlzdChlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuX2VsZW1lbnRzLndyYXBwZXIucXVlcnlTZWxlY3RvckFsbChcIi5cIiArIHRoaXMuQ1NTLml0ZW0pO1xuICAgIGlmICh0Lmxlbmd0aCA8IDIpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgciA9IHRbdC5sZW5ndGggLSAxXSwgcyA9IHRoaXMuY3VycmVudEl0ZW07XG4gICAgcyA9PT0gciAmJiAhci50ZXh0Q29udGVudC50cmltKCkubGVuZ3RoICYmIChzLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQocyksIHRoaXMuYXBpLmJsb2Nrcy5pbnNlcnQoKSwgdGhpcy5hcGkuY2FyZXQuc2V0VG9CbG9jayh0aGlzLmFwaS5ibG9ja3MuZ2V0Q3VycmVudEJsb2NrSW5kZXgoKSksIGUucHJldmVudERlZmF1bHQoKSwgZS5zdG9wUHJvcGFnYXRpb24oKSk7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBiYWNrc3BhY2VcbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudFxuICAgKi9cbiAgYmFja3NwYWNlKGUpIHtcbiAgICBjb25zdCB0ID0gdGhpcy5fZWxlbWVudHMud3JhcHBlci5xdWVyeVNlbGVjdG9yQWxsKFwiLlwiICsgdGhpcy5DU1MuaXRlbSksIHIgPSB0WzBdO1xuICAgIHIgJiYgdC5sZW5ndGggPCAyICYmICFyLmlubmVySFRNTC5yZXBsYWNlKFwiPGJyPlwiLCBcIiBcIikudHJpbSgpICYmIGUucHJldmVudERlZmF1bHQoKTtcbiAgfVxuICAvKipcbiAgICogU2VsZWN0IExJIGNvbnRlbnQgYnkgQ01EK0FcbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudFxuICAgKi9cbiAgc2VsZWN0SXRlbShlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHQgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCksIHIgPSB0LmFuY2hvck5vZGUucGFyZW50Tm9kZSwgcyA9IHIuY2xvc2VzdChcIi5cIiArIHRoaXMuQ1NTLml0ZW0pLCBpID0gbmV3IFJhbmdlKCk7XG4gICAgaS5zZWxlY3ROb2RlQ29udGVudHMocyksIHQucmVtb3ZlQWxsUmFuZ2VzKCksIHQuYWRkUmFuZ2UoaSk7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBVTCwgT0wgYW5kIExJIHRhZ3MgcGFzdGUgYW5kIHJldHVybnMgTGlzdCBkYXRhXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTFVMaXN0RWxlbWVudHxIVE1MT0xpc3RFbGVtZW50fEhUTUxMSUVsZW1lbnR9IGVsZW1lbnRcbiAgICogQHJldHVybnMge0xpc3REYXRhfVxuICAgKi9cbiAgcGFzdGVIYW5kbGVyKGUpIHtcbiAgICBjb25zdCB7IHRhZ05hbWU6IHQgfSA9IGU7XG4gICAgbGV0IHI7XG4gICAgc3dpdGNoICh0KSB7XG4gICAgICBjYXNlIFwiT0xcIjpcbiAgICAgICAgciA9IFwib3JkZXJlZFwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJVTFwiOlxuICAgICAgY2FzZSBcIkxJXCI6XG4gICAgICAgIHIgPSBcInVub3JkZXJlZFwiO1xuICAgIH1cbiAgICBjb25zdCBzID0ge1xuICAgICAgc3R5bGU6IHIsXG4gICAgICBpdGVtczogW11cbiAgICB9O1xuICAgIGlmICh0ID09PSBcIkxJXCIpXG4gICAgICBzLml0ZW1zID0gW2UuaW5uZXJIVE1MXTtcbiAgICBlbHNlIHtcbiAgICAgIGNvbnN0IGkgPSBBcnJheS5mcm9tKGUucXVlcnlTZWxlY3RvckFsbChcIkxJXCIpKTtcbiAgICAgIHMuaXRlbXMgPSBpLm1hcCgobikgPT4gbi5pbm5lckhUTUwpLmZpbHRlcigobikgPT4gISFuLnRyaW0oKSk7XG4gICAgfVxuICAgIHJldHVybiBzO1xuICB9XG59XG5leHBvcnQge1xuICBkIGFzIGRlZmF1bHRcbn07XG4iLCIvKiBkZWZhdWx0cy5qc1xuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vIEdsb2JhbCBjb25maWd1cmF0aW9uXG52YXIgY29uZmlnID0ge1xuICBkb2N1bWVudFNlbGVjdG9yOiAnLmpzLWRvY3VtZW50JyxcbiAgZG9jdW1lbnREaXNhYmxlZENsYXNzOiAnaXMtZGlzYWJsZWQnLFxuICBvcGVuaW5nVHJpZ2dlckFjdGl2ZUNsYXNzOiAnaXMtYWN0aXZlJyxcbiAgZGVsYXk6IDIwMCxcbn07XG5cbi8qIGZvY3VzYWJsZUVsZW1lbnRzLmpzXG4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy8gS2V5Ym9hcmQgZm9jdXNhYmxlIGVsZW1lbnRzXG52YXIgZm9jdXNhYmxlRWxlbWVudHMgPSBbXG4gICdbaHJlZl06bm90KFt0YWJpbmRleF49XCItXCJdKScsXG4gICdpbnB1dDpub3QoW2Rpc2FibGVkXSk6bm90KFt0eXBlPVwiaGlkZGVuXCJdKTpub3QoW3RhYmluZGV4Xj1cIi1cIl0pOm5vdChbdHlwZT1cInJhZGlvXCJdKScsXG4gICdpbnB1dFt0eXBlPVwicmFkaW9cIl06Y2hlY2tlZCcsXG4gICdzZWxlY3Q6bm90KFtkaXNhYmxlZF0pOm5vdChbdGFiaW5kZXhePVwiLVwiXSknLFxuICAndGV4dGFyZWE6bm90KFtkaXNhYmxlZF0pOm5vdChbdGFiaW5kZXhePVwiLVwiXSknLFxuICAnYnV0dG9uOm5vdChbZGlzYWJsZWRdKTpub3QoW3RhYmluZGV4Xj1cIi1cIl0pJyxcbiAgJ1t0YWJpbmRleF06bm90KFt0YWJpbmRleF49XCItXCJdKScsXG4gICdbY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiXTpub3QoW3RhYmluZGV4Xj1cIi1cIl0pJyxcbl07XG5cbi8qIGtleUNvZGVzLmpzXG4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy8gS2V5Ym9hcmQgY29kZXNcbnZhciBrZXlDb2RlcyA9IHtcbiAgZXNjYXBlOiAnRXNjYXBlJyxcbiAgdGFiOiAnVGFiJyxcbiAgZjY6ICdGNicsXG59O1xuXG4vKiB1dGlscy5qc1xuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vIE9ubHkgZ2V0IHZpc2libGUgZWxlbWVudHNcbmZ1bmN0aW9uIGdldFZpc2libGVFbGVtZW50cyhlbGVtZW50cykge1xuICBjb25zdCB2aXNpYmxlRWxlbWVudHMgPSBbXTtcblxuICBlbGVtZW50cy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgY29uc3QgYm91bmRpbmcgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9IGJvdW5kaW5nLndpZHRoID4gMCB8fCBib3VuZGluZy5oZWlnaHQgPiAwO1xuXG4gICAgaWYgKGlzVmlzaWJsZSkgdmlzaWJsZUVsZW1lbnRzLnB1c2goZWxlbWVudCk7XG4gIH0pO1xuXG4gIHJldHVybiB2aXNpYmxlRWxlbWVudHM7XG59XG5cbi8vIE9ubHkgZ2V0IG5vIG5lc3RlZCBlbGVtZW50c1xuZnVuY3Rpb24gZ2V0Tm9OZXN0ZWRFbGVtZW50cyhjb250ZXh0LCBzZWxlY3RvciwgZWxlbWVudHMpIHtcbiAgY29uc3QgbmVzdGVkQ29tcG9uZW50cyA9IGNvbnRleHQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gIGNvbnN0IG5vTmVzdGVkRWxlbWVudHMgPSBbXTtcbiAgbGV0IGlzTmVzdGVkID0gZmFsc2U7XG5cbiAgaWYgKG5lc3RlZENvbXBvbmVudHMubGVuZ3RoID09PSAwKSByZXR1cm4gZWxlbWVudHM7XG5cbiAgZWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgIG5lc3RlZENvbXBvbmVudHMuZm9yRWFjaCgobmVzdGVkQ29tcG9uZW50KSA9PiB7XG4gICAgICBpZiAobmVzdGVkQ29tcG9uZW50LmNvbnRhaW5zKGVsZW1lbnQpKSBpc05lc3RlZCA9IHRydWU7XG4gICAgfSk7XG5cbiAgICBpZiAoIWlzTmVzdGVkKSBub05lc3RlZEVsZW1lbnRzLnB1c2goZWxlbWVudCk7XG5cbiAgICBpc05lc3RlZCA9IGZhbHNlO1xuICB9KTtcblxuICByZXR1cm4gbm9OZXN0ZWRFbGVtZW50cztcbn1cblxuLy8gQ2hlY2sgaWYgdGhlIHBhcmVudCBlbGVtZW50cyBtYXRjaCB0aGUgdGFyZ2V0XG5mdW5jdGlvbiBjbG9zZXN0KGVsZW1lbnQsIHRhcmdldCkge1xuICBsZXQgY3VycmVudEVsZW1lbnQgPSBlbGVtZW50O1xuXG4gIHdoaWxlIChjdXJyZW50RWxlbWVudCAhPT0gdGFyZ2V0ICYmIGN1cnJlbnRFbGVtZW50KSB7XG4gICAgY3VycmVudEVsZW1lbnQgPSBjdXJyZW50RWxlbWVudC5wYXJlbnROb2RlO1xuICB9XG5cbiAgcmV0dXJuICEhY3VycmVudEVsZW1lbnQ7XG59XG5cbi8qIGExMXktZGlhbG9nLWNvbXBvbmVudFxuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vIFVzZSBTeW1ib2xzIHRvIGNyZWF0ZSBwcml2YXRlIG1ldGhvZHNcbmNvbnN0IG9uQ2xpY2sgPSBTeW1ib2woJ29uQ2xpY2snKTtcbmNvbnN0IG9uS2V5ZG93biA9IFN5bWJvbCgnb25LZXlkb3duJyk7XG5jb25zdCBhZGRFdmVudERlbGVnYXRpb24gPSBTeW1ib2woJ2FkZEV2ZW50RGVsZWdhdGlvbicpO1xuY29uc3QgYWRkRXZlbnRMaXN0ZW5lcnMgPSBTeW1ib2woJ2FkZEV2ZW50TGlzdGVuZXJzJyk7XG5jb25zdCByZW1vdmVFdmVudExpc3RlbmVycyA9IFN5bWJvbCgncmVtb3ZlRXZlbnRMaXN0ZW5lcnMnKTtcbmNvbnN0IGFkZEF0dHJpYnV0ZXMgPSBTeW1ib2woJ2FkZEF0dHJpYnV0ZXMnKTtcbmNvbnN0IHJlbW92ZUF0dHJpYnV0ZXMgPSBTeW1ib2woJ3JlbW92ZUF0dHJpYnV0ZXMnKTtcbmNvbnN0IHNldEF0dHJpYnV0ZXMgPSBTeW1ib2woJ3NldEF0dHJpYnV0ZXMnKTtcbmNvbnN0IHNldEZvY3VzYWJsZUVsZW1lbnRzID0gU3ltYm9sKCdzZXRGb2N1c2FibGVFbGVtZW50cycpO1xuY29uc3Qgc2V0Rm9jdXMgPSBTeW1ib2woJ3NldEZvY3VzJyk7XG5jb25zdCByZXN0b3JlRm9jdXMgPSBTeW1ib2woJ3Jlc3RvcmVGb2N1cycpO1xuY29uc3Qgc3dpdGNoRm9jdXMgPSBTeW1ib2woJ3N3aXRjaEZvY3VzJyk7XG5jb25zdCBtYWludGFpbkZvY3VzID0gU3ltYm9sKCdtYWludGFpbkZvY3VzJyk7XG5jb25zdCBhZGRPYnNlcnZlciA9IFN5bWJvbCgnYWRkT2JzZXJ2ZXInKTtcbmNvbnN0IHJlbW92ZU9ic2VydmVyID0gU3ltYm9sKCdyZW1vdmVPYnNlcnZlcicpO1xuXG5sZXQgY3VzdG9tQ29uZmlnID0gY29uZmlnO1xuXG4vLyBVcGRhdGUgdGhlIGdsb2JhbCBjb25maWd1cmF0aW9uIGlmIG5lZWRlZFxuZnVuY3Rpb24gc2V0RGVmYXVsdHMoe1xuICBkb2N1bWVudFNlbGVjdG9yID0gY3VzdG9tQ29uZmlnLmRvY3VtZW50U2VsZWN0b3IsXG4gIGRvY3VtZW50RGlzYWJsZWRDbGFzcyA9IGN1c3RvbUNvbmZpZy5kb2N1bWVudERpc2FibGVkQ2xhc3MsXG4gIG9wZW5pbmdUcmlnZ2VyQWN0aXZlQ2xhc3MgPSBjdXN0b21Db25maWcub3BlbmluZ1RyaWdnZXJBY3RpdmVDbGFzcyxcbiAgZGVsYXkgPSBjdXN0b21Db25maWcuZGVsYXksXG59ID0ge30pIHtcbiAgY3VzdG9tQ29uZmlnID0ge1xuICAgIC4uLmNvbmZpZyxcbiAgICAuLi57XG4gICAgICBkb2N1bWVudFNlbGVjdG9yLFxuICAgICAgZG9jdW1lbnREaXNhYmxlZENsYXNzLFxuICAgICAgb3BlbmluZ1RyaWdnZXJBY3RpdmVDbGFzcyxcbiAgICAgIGRlbGF5LFxuICAgIH0sXG4gIH07XG59XG5cbi8vIEV4cG9ydCB0aGUgZGVmYXVsdCBEaWFsb2coKSBjbGFzc1xuY2xhc3MgRGlhbG9nIHtcbiAgY29uc3RydWN0b3IoXG4gICAgZGlhbG9nU2VsZWN0b3IsXG4gICAge1xuICAgICAgb25PcGVuID0gKCkgPT4ge30sXG4gICAgICBvbkNsb3NlID0gKCkgPT4ge30sXG4gICAgICBvcGVuaW5nU2VsZWN0b3IsXG4gICAgICBjbG9zaW5nU2VsZWN0b3IsXG4gICAgICBiYWNrZHJvcFNlbGVjdG9yLFxuICAgICAgaGVscGVyU2VsZWN0b3IsXG4gICAgICBsYWJlbGxlZGJ5LFxuICAgICAgZGVzY3JpYmVkYnksXG4gICAgICBpc01vZGFsID0gdHJ1ZSxcbiAgICAgIGlzVG9vbHRpcCA9IGZhbHNlLFxuICAgICAgaXNPcGVuID0gZmFsc2UsXG4gICAgICBpc0NyZWF0ZWQgPSB0cnVlLFxuICAgICAgZGlzYWJsZVNjcm9sbCA9IHRydWUsXG4gICAgICBlbmFibGVBdXRvRm9jdXMgPSB0cnVlLFxuICAgICAgb3BlbmluZ1RyaWdnZXJBY3RpdmVDbGFzcyA9IGN1c3RvbUNvbmZpZy5vcGVuaW5nVHJpZ2dlckFjdGl2ZUNsYXNzLFxuICAgICAgZGVsYXkgPSBjdXN0b21Db25maWcuZGVsYXksXG4gICAgfSA9IHt9LFxuICApIHtcbiAgICAvLyBDaGVjayBpZiB0aGUgZGlhbG9nIGV4aXN0cywgaWYgbm90LCBzZXQgYGlzSW5pdGlhbGl6ZWRgIHRvIGZhbHNlXG4gICAgaWYgKCFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRpYWxvZ1NlbGVjdG9yKSkge1xuICAgICAgdGhpcy5pc0luaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gU2F2ZSB0aGUgaW5pdGlhbCBjb25maWd1cmF0aW9uXG4gICAgdGhpcy5jb25maWcgPSB7XG4gICAgICBkaWFsb2dTZWxlY3RvcixcbiAgICAgIG9uT3BlbixcbiAgICAgIG9uQ2xvc2UsXG4gICAgICBvcGVuaW5nU2VsZWN0b3IsXG4gICAgICBjbG9zaW5nU2VsZWN0b3IsXG4gICAgICBiYWNrZHJvcFNlbGVjdG9yLFxuICAgICAgaGVscGVyU2VsZWN0b3IsXG4gICAgICBsYWJlbGxlZGJ5LFxuICAgICAgZGVzY3JpYmVkYnksXG4gICAgICBpc01vZGFsLFxuICAgICAgaXNUb29sdGlwLFxuICAgICAgaXNDcmVhdGVkLFxuICAgICAgaXNPcGVuLFxuICAgICAgZGlzYWJsZVNjcm9sbCxcbiAgICAgIGVuYWJsZUF1dG9Gb2N1cyxcbiAgICAgIGRvY3VtZW50U2VsZWN0b3I6IGN1c3RvbUNvbmZpZy5kb2N1bWVudFNlbGVjdG9yLFxuICAgICAgZG9jdW1lbnREaXNhYmxlZENsYXNzOiBjdXN0b21Db25maWcuZG9jdW1lbnREaXNhYmxlZENsYXNzLFxuICAgICAgb3BlbmluZ1RyaWdnZXJBY3RpdmVDbGFzcyxcbiAgICAgIGRlbGF5LFxuICAgIH07XG5cbiAgICB0aGlzLmRpYWxvZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGlhbG9nU2VsZWN0b3IpO1xuICAgIHRoaXMuZGlhbG9nQXJlYSA9IGAke2RpYWxvZ1NlbGVjdG9yfSwgJHtvcGVuaW5nU2VsZWN0b3J9YDtcbiAgICB0aGlzLm9wZW5pbmdUcmlnZ2VycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwob3BlbmluZ1NlbGVjdG9yKTtcbiAgICB0aGlzLmJhY2tkcm9wVHJpZ2dlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYmFja2Ryb3BTZWxlY3Rvcik7XG4gICAgdGhpcy5oZWxwZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChoZWxwZXJTZWxlY3Rvcik7XG5cbiAgICB0aGlzLmRvY3VtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLmNvbmZpZy5kb2N1bWVudFNlbGVjdG9yKSB8fCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdodG1sJyk7XG4gICAgdGhpcy5kb2N1bWVudElzQWxyZWFkeURpc2FibGVkID0gZmFsc2U7XG5cbiAgICB0aGlzLmZvY3VzYWJsZUVsZW1lbnRzID0gW107XG4gICAgdGhpcy5maXJzdEZvY3VzYWJsZUVsZW1lbnQgPSBudWxsO1xuICAgIHRoaXMubGFzdEZvY3VzYWJsZUVsZW1lbnQgPSBudWxsO1xuICAgIHRoaXMub3BlbmluZ1RyaWdnZXIgPSBudWxsO1xuICAgIHRoaXMuY2xvc2luZ1RyaWdnZXIgPSBudWxsO1xuXG4gICAgdGhpcy5pc0NyZWF0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuXG4gICAgdGhpcy5jbG9zZSA9IHRoaXMuY2xvc2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLnRvZ2dsZSA9IHRoaXMudG9nZ2xlLmJpbmQodGhpcyk7XG4gICAgdGhpc1tvbkNsaWNrXSA9IHRoaXNbb25DbGlja10uYmluZCh0aGlzKTtcbiAgICB0aGlzW29uS2V5ZG93bl0gPSB0aGlzW29uS2V5ZG93bl0uYmluZCh0aGlzKTtcbiAgICB0aGlzW2FkZEV2ZW50RGVsZWdhdGlvbl0gPSB0aGlzW2FkZEV2ZW50RGVsZWdhdGlvbl0uYmluZCh0aGlzKTtcbiAgICB0aGlzW3N3aXRjaEZvY3VzXSA9IHRoaXNbc3dpdGNoRm9jdXNdLmJpbmQodGhpcyk7XG5cbiAgICAvLyBBZGQgbXV0YXRpb24gb2JzZXJ2ZXIgdG8gdXBkYXRlIGZvY3VzYWJsZSBlbGVtZW50c1xuICAgIHRoaXMub2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zKSA9PiBtdXRhdGlvbnMuZm9yRWFjaCgoKSA9PiB0aGlzW3NldEZvY3VzYWJsZUVsZW1lbnRzXSgpKSk7XG5cbiAgICAvLyBpbml0aWFsaXplIHRoZSBkaWFsb2dcbiAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSBkaWFsb2dcbiAgICBpZiAoaXNDcmVhdGVkKSB0aGlzLmNyZWF0ZSgpO1xuICB9XG5cbiAgW29uQ2xpY2tdKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuY29uZmlnLmlzVG9vbHRpcCAmJiAhZXZlbnQudGFyZ2V0LmNsb3Nlc3QodGhpcy5kaWFsb2dBcmVhKSkge1xuICAgICAgdGhpcy5jbG9zZShldmVudCk7XG4gICAgfVxuICAgIGlmIChldmVudC50YXJnZXQgPT09IHRoaXMuYmFja2Ryb3BUcmlnZ2VyKSB0aGlzLmNsb3NlKGV2ZW50KTtcbiAgfVxuXG4gIFtvbktleWRvd25dKGV2ZW50KSB7XG4gICAgc3dpdGNoIChldmVudC5rZXkpIHtcbiAgICAgIGNhc2Uga2V5Q29kZXMuZXNjYXBlOlxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgdGhpcy5jbG9zZShldmVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBrZXlDb2Rlcy5mNjpcbiAgICAgICAgaWYgKCF0aGlzLmNvbmZpZy5pc01vZGFsKSAhdGhpcy5jb25maWcuaXNUb29sdGlwID8gdGhpc1tyZXN0b3JlRm9jdXNdKCkgOiB0aGlzLmNsb3NlKGV2ZW50KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGtleUNvZGVzLnRhYjpcbiAgICAgICAgdGhpc1ttYWludGFpbkZvY3VzXShldmVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIFthZGRFdmVudERlbGVnYXRpb25dKGV2ZW50KSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLmNvbmZpZy5vcGVuaW5nU2VsZWN0b3IpLmZvckVhY2goKG9wZW5pbmdUcmlnZ2VyKSA9PiB7XG4gICAgICBpZiAoY2xvc2VzdChldmVudC50YXJnZXQsIG9wZW5pbmdUcmlnZ2VyKSkge1xuICAgICAgICB0aGlzLm9wZW5pbmdUcmlnZ2VyID0gb3BlbmluZ1RyaWdnZXI7XG4gICAgICAgIHRoaXMudG9nZ2xlKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5jb25maWcuY2xvc2luZ1NlbGVjdG9yKS5mb3JFYWNoKChjbG9zaW5nVHJpZ2dlcikgPT4ge1xuICAgICAgaWYgKGNsb3Nlc3QoZXZlbnQudGFyZ2V0LCBjbG9zaW5nVHJpZ2dlcikpIHtcbiAgICAgICAgdGhpcy5jbG9zaW5nVHJpZ2dlciA9IGNsb3NpbmdUcmlnZ2VyO1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBbYWRkRXZlbnRMaXN0ZW5lcnNdKCkge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpc1tvbkNsaWNrXSwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIHRoaXMuZGlhbG9nLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzW29uS2V5ZG93bl0pO1xuICB9XG5cbiAgW3JlbW92ZUV2ZW50TGlzdGVuZXJzXSgpIHtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXNbb25DbGlja10sIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICB0aGlzLmRpYWxvZy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpc1tvbktleWRvd25dKTtcblxuICAgIGlmICh0aGlzLm9wZW5pbmdUcmlnZ2VyKSB0aGlzLm9wZW5pbmdUcmlnZ2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzW3N3aXRjaEZvY3VzXSk7XG4gIH1cblxuICBbYWRkQXR0cmlidXRlc10oKSB7XG4gICAgdGhpcy5kaWFsb2cuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2RpYWxvZycpO1xuICAgIHRoaXMuZGlhbG9nLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAtMSk7XG4gICAgdGhpcy5kaWFsb2cuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsIHRydWUpO1xuXG4gICAgaWYgKHRoaXMuY29uZmlnLmxhYmVsbGVkYnkpIHRoaXMuZGlhbG9nLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbGxlZGJ5JywgdGhpcy5jb25maWcubGFiZWxsZWRieSk7XG4gICAgaWYgKHRoaXMuY29uZmlnLmRlc2NyaWJlZGJ5KSB0aGlzLmRpYWxvZy5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGVzY3JpYmVkYnknLCB0aGlzLmNvbmZpZy5kZXNjcmliZWRieSk7XG5cbiAgICBpZiAodGhpcy5jb25maWcuaXNNb2RhbCkgdGhpcy5kaWFsb2cuc2V0QXR0cmlidXRlKCdhcmlhLW1vZGFsJywgdHJ1ZSk7XG5cbiAgICB0aGlzLm9wZW5pbmdUcmlnZ2Vycy5mb3JFYWNoKChvcGVuaW5nVHJpZ2dlcikgPT4gb3BlbmluZ1RyaWdnZXIuc2V0QXR0cmlidXRlKCdhcmlhLWhhc3BvcHVwJywgJ2RpYWxvZycpKTtcbiAgfVxuXG4gIFtyZW1vdmVBdHRyaWJ1dGVzXSgpIHtcbiAgICB0aGlzLmRpYWxvZy5yZW1vdmVBdHRyaWJ1dGUoJ3JvbGUnKTtcbiAgICB0aGlzLmRpYWxvZy5yZW1vdmVBdHRyaWJ1dGUoJ3RhYmluZGV4Jyk7XG4gICAgdGhpcy5kaWFsb2cucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWhpZGRlbicpO1xuICAgIHRoaXMuZGlhbG9nLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1sYWJlbGxlZGJ5Jyk7XG4gICAgdGhpcy5kaWFsb2cucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWRlc2NyaWJlZGJ5Jyk7XG4gICAgdGhpcy5kaWFsb2cucmVtb3ZlQXR0cmlidXRlKCdhcmlhLW1vZGFsJyk7XG5cbiAgICBpZiAodGhpcy5jb25maWcuZGlzYWJsZVNjcm9sbCAmJiB0aGlzLmlzT3BlbiAmJiAhdGhpcy5kb2N1bWVudElzQWxyZWFkeURpc2FibGVkKSB7XG4gICAgICB0aGlzLmRvY3VtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jb25maWcuZG9jdW1lbnREaXNhYmxlZENsYXNzKTtcbiAgICB9XG5cbiAgICB0aGlzLm9wZW5pbmdUcmlnZ2Vycy5mb3JFYWNoKChvcGVuaW5nVHJpZ2dlcikgPT4gb3BlbmluZ1RyaWdnZXIucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWhhc3BvcHVwJykpO1xuXG4gICAgaWYgKHRoaXMub3BlbmluZ1RyaWdnZXIpIHRoaXMub3BlbmluZ1RyaWdnZXIuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmNvbmZpZy5vcGVuaW5nVHJpZ2dlckFjdGl2ZUNsYXNzKTtcblxuICAgIHRoaXMuaGVscGVycy5mb3JFYWNoKChoZWxwZXIpID0+IGhlbHBlci5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuY29uZmlnLm9wZW5pbmdUcmlnZ2VyQWN0aXZlQ2xhc3MpKTtcbiAgfVxuXG4gIFtzZXRBdHRyaWJ1dGVzXSgpIHtcbiAgICB0aGlzLmRpYWxvZy5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgIXRoaXMuaXNPcGVuKTtcblxuICAgIGlmICh0aGlzLmNvbmZpZy5kaXNhYmxlU2Nyb2xsICYmICF0aGlzLmRvY3VtZW50SXNBbHJlYWR5RGlzYWJsZWQpIHtcbiAgICAgIGlmICh0aGlzLmlzT3Blbikge1xuICAgICAgICB0aGlzLmRvY3VtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5jb25maWcuZG9jdW1lbnREaXNhYmxlZENsYXNzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZG9jdW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmNvbmZpZy5kb2N1bWVudERpc2FibGVkQ2xhc3MpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLm9wZW5pbmdUcmlnZ2VyKSB7XG4gICAgICBpZiAodGhpcy5pc09wZW4pIHtcbiAgICAgICAgdGhpcy5vcGVuaW5nVHJpZ2dlci5jbGFzc0xpc3QuYWRkKHRoaXMuY29uZmlnLm9wZW5pbmdUcmlnZ2VyQWN0aXZlQ2xhc3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vcGVuaW5nVHJpZ2dlci5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuY29uZmlnLm9wZW5pbmdUcmlnZ2VyQWN0aXZlQ2xhc3MpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuaGVscGVycy5mb3JFYWNoKChoZWxwZXIpID0+IHtcbiAgICAgIGlmICh0aGlzLmlzT3Blbikge1xuICAgICAgICBoZWxwZXIuY2xhc3NMaXN0LmFkZCh0aGlzLmNvbmZpZy5vcGVuaW5nVHJpZ2dlckFjdGl2ZUNsYXNzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhlbHBlci5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuY29uZmlnLm9wZW5pbmdUcmlnZ2VyQWN0aXZlQ2xhc3MpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgW3NldEZvY3VzYWJsZUVsZW1lbnRzXSgpIHtcbiAgICBjb25zdCB2aXNpYmxlRm9jdXNhYmxlRWxlbWVudHMgPSBnZXRWaXNpYmxlRWxlbWVudHModGhpcy5kaWFsb2cucXVlcnlTZWxlY3RvckFsbChmb2N1c2FibGVFbGVtZW50cykpO1xuICAgIGNvbnN0IGZpbHRlcmVkRm9jdXNhYmxlRWxlbWVudHMgPSBnZXROb05lc3RlZEVsZW1lbnRzKHRoaXMuZGlhbG9nLCAnW3JvbGU9XCJkaWFsb2dcIl0nLCB2aXNpYmxlRm9jdXNhYmxlRWxlbWVudHMpO1xuXG4gICAgdGhpcy5mb2N1c2FibGVFbGVtZW50cyA9IGZpbHRlcmVkRm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoID4gMCA/IGZpbHRlcmVkRm9jdXNhYmxlRWxlbWVudHMgOiBbdGhpcy5kaWFsb2ddO1xuICAgIFt0aGlzLmZpcnN0Rm9jdXNhYmxlRWxlbWVudF0gPSB0aGlzLmZvY3VzYWJsZUVsZW1lbnRzO1xuICAgIHRoaXMubGFzdEZvY3VzYWJsZUVsZW1lbnQgPSB0aGlzLmZvY3VzYWJsZUVsZW1lbnRzW3RoaXMuZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoIC0gMV07XG4gIH1cblxuICBbc2V0Rm9jdXNdKCkge1xuICAgIGlmICh0aGlzLmNvbmZpZy5lbmFibGVBdXRvRm9jdXMpIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHRoaXMuZmlyc3RGb2N1c2FibGVFbGVtZW50LmZvY3VzKCksIHRoaXMuY29uZmlnLmRlbGF5KTtcbiAgfVxuXG4gIFtyZXN0b3JlRm9jdXNdKCkge1xuICAgIGlmICh0aGlzLmNvbmZpZy5lbmFibGVBdXRvRm9jdXMpIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHRoaXMub3BlbmluZ1RyaWdnZXIuZm9jdXMoKSwgdGhpcy5jb25maWcuZGVsYXkpO1xuXG4gICAgLy8gU3dpdGNoIGZvY3VzIGJldHdlZW4gdGhlIGN1cnJlbnQgb3BlbmluZyB0cmlnZ2VyIGFuZCB0aGUgbm9uLW1vZGFsIGRpYWxvZ1xuICAgIGlmICh0aGlzLmlzT3BlbikgdGhpcy5vcGVuaW5nVHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpc1tzd2l0Y2hGb2N1c10pO1xuICB9XG5cbiAgW3N3aXRjaEZvY3VzXShldmVudCkge1xuICAgIGlmIChldmVudC5rZXkgPT09IGtleUNvZGVzLmY2KSB7XG4gICAgICB0aGlzLm9wZW5pbmdUcmlnZ2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzW3N3aXRjaEZvY3VzXSk7XG4gICAgICB0aGlzW3NldEZvY3VzXSgpO1xuICAgIH1cbiAgfVxuXG4gIFttYWludGFpbkZvY3VzXShldmVudCkge1xuICAgIGlmIChldmVudC5zaGlmdEtleSAmJiBldmVudC50YXJnZXQgPT09IHRoaXMuZmlyc3RGb2N1c2FibGVFbGVtZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5sYXN0Rm9jdXNhYmxlRWxlbWVudC5mb2N1cygpO1xuICAgIH1cblxuICAgIGlmICghZXZlbnQuc2hpZnRLZXkgJiYgZXZlbnQudGFyZ2V0ID09PSB0aGlzLmxhc3RGb2N1c2FibGVFbGVtZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5maXJzdEZvY3VzYWJsZUVsZW1lbnQuZm9jdXMoKTtcbiAgICB9XG4gIH1cblxuICBbYWRkT2JzZXJ2ZXJdKCkge1xuICAgIHRoaXMub2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLmRpYWxvZywgeyBjaGlsZExpc3Q6IHRydWUsIGF0dHJpYnV0ZXM6IHRydWUsIHN1YnRyZWU6IHRydWUgfSk7XG4gIH1cblxuICBbcmVtb3ZlT2JzZXJ2ZXJdKCkge1xuICAgIHRoaXMub2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICBpZiAoIXRoaXMuaXNJbml0aWFsaXplZCB8fCAhdGhpcy5pc0NyZWF0ZWQgfHwgdGhpcy5pc09wZW4pIHJldHVybjtcblxuICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcbiAgICB0aGlzLmRvY3VtZW50SXNBbHJlYWR5RGlzYWJsZWQgPSB0aGlzLmRvY3VtZW50LmNsYXNzTGlzdC5jb250YWlucyh0aGlzLmNvbmZpZy5kb2N1bWVudERpc2FibGVkQ2xhc3MpO1xuXG4gICAgdGhpc1tzZXRBdHRyaWJ1dGVzXSgpO1xuICAgIHRoaXNbYWRkRXZlbnRMaXN0ZW5lcnNdKCk7XG4gICAgdGhpc1tzZXRGb2N1c10oKTtcblxuICAgIHRoaXMuY29uZmlnLm9uT3Blbih0aGlzLmRpYWxvZywgdGhpcy5vcGVuaW5nVHJpZ2dlcik7XG4gIH1cblxuICBjbG9zZShldmVudCkge1xuICAgIGlmICghdGhpcy5pc0luaXRpYWxpemVkIHx8ICF0aGlzLmlzQ3JlYXRlZCB8fCAhdGhpcy5pc09wZW4pIHJldHVybjtcblxuICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG5cbiAgICBpZiAoZXZlbnQpIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICB0aGlzW3NldEF0dHJpYnV0ZXNdKCk7XG4gICAgdGhpc1tyZW1vdmVFdmVudExpc3RlbmVyc10oKTtcblxuICAgIC8vIFJlc3RvcmUgZm9jdXMgZXhjZXB0IGZvciB0b29sdGlwIGNsaWNrIGV2ZW50c1xuICAgIGlmICh0aGlzLm9wZW5pbmdUcmlnZ2VyICYmICghdGhpcy5jb25maWcuaXNUb29sdGlwIHx8ICh0aGlzLmNvbmZpZy5pc1Rvb2x0aXAgJiYgZXZlbnQgJiYgZXZlbnQudHlwZSAhPT0gJ2NsaWNrJykpKSB7XG4gICAgICB0aGlzW3Jlc3RvcmVGb2N1c10oKTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbmZpZy5vbkNsb3NlKHRoaXMuZGlhbG9nLCB0aGlzLmNsb3NpbmdUcmlnZ2VyKTtcbiAgfVxuXG4gIHRvZ2dsZShldmVudCkge1xuICAgIGlmICghdGhpcy5pc0luaXRpYWxpemVkIHx8ICF0aGlzLmlzQ3JlYXRlZCkgcmV0dXJuO1xuXG4gICAgaWYgKGV2ZW50KSBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgdGhpcy5pc09wZW4gPyB0aGlzLmNsb3NlKCkgOiB0aGlzLm9wZW4oKTtcbiAgfVxuXG4gIGNyZWF0ZSgpIHtcbiAgICBpZiAoIXRoaXMuaXNJbml0aWFsaXplZCB8fCB0aGlzLmlzQ3JlYXRlZCkgcmV0dXJuO1xuXG4gICAgdGhpcy5pc0NyZWF0ZWQgPSB0cnVlO1xuXG4gICAgdGhpc1thZGRBdHRyaWJ1dGVzXSgpO1xuICAgIHRoaXNbc2V0Rm9jdXNhYmxlRWxlbWVudHNdKCk7XG4gICAgdGhpc1thZGRPYnNlcnZlcl0oKTtcblxuICAgIGlmICh0aGlzLmNvbmZpZy5pc09wZW4pIHRoaXMub3BlbigpO1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzW2FkZEV2ZW50RGVsZWdhdGlvbl0sIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgaWYgKCF0aGlzLmlzSW5pdGlhbGl6ZWQgfHwgIXRoaXMuaXNDcmVhdGVkKSByZXR1cm47XG5cbiAgICB0aGlzLmNsb3NlKCk7XG5cbiAgICB0aGlzLmlzQ3JlYXRlZCA9IGZhbHNlO1xuXG4gICAgdGhpc1tyZW1vdmVBdHRyaWJ1dGVzXSgpO1xuICAgIHRoaXNbcmVtb3ZlRXZlbnRMaXN0ZW5lcnNdKCk7XG4gICAgdGhpc1tyZW1vdmVPYnNlcnZlcl0oKTtcblxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpc1thZGRFdmVudERlbGVnYXRpb25dLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGlhbG9nO1xuZXhwb3J0IHsgc2V0RGVmYXVsdHMgfTtcbiIsIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIkh5cGVybGlua1wiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJIeXBlcmxpbmtcIl0gPSBmYWN0b3J5KCk7XG59KSh3aW5kb3csIGZ1bmN0aW9uKCkge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4vKioqKioqLyBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4vKioqKioqLyBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbi8qKioqKiovIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuLyoqKioqKi8gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbi8qKioqKiovIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuLyoqKioqKi8gXHRcdHJldHVybiBucztcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvXCI7XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9zcmMvSHlwZXJsaW5rLmpzXCIpO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoe1xuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zcmMvSHlwZXJsaW5rLmNzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3NyYy9IeXBlcmxpbmsuY3NzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5ldmFsKFwiLy8gSW1wb3J0c1xcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzICovIFxcXCIuL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcXFwiKTtcXG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcXG4vLyBNb2R1bGVcXG5leHBvcnRzLnB1c2goW21vZHVsZS5pLCBcXFwiLmNlLWlubGluZS10b29sLWh5cGVybGluay13cmFwcGVyIHtcXFxcclxcXFxuICAgIG91dGxpbmU6IG5vbmU7XFxcXHJcXFxcbiAgICBib3JkZXI6IDA7XFxcXHJcXFxcbiAgICBib3JkZXItcmFkaXVzOiAwIDAgNHB4IDRweDtcXFxcclxcXFxuICAgIG1hcmdpbjogMDtcXFxcclxcXFxuICAgIGZvbnQtc2l6ZTogMTNweDtcXFxcclxcXFxuICAgIHBhZGRpbmc6IDEwcHg7XFxcXHJcXFxcbiAgICB3aWR0aDogMTAwJTtcXFxcclxcXFxuICAgIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXFxcclxcXFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxcXHJcXFxcbiAgICBkaXNwbGF5OiBub25lO1xcXFxyXFxcXG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcXFxcclxcXFxuICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCByZ2JhKDIwMSwyMDEsMjA0LC40OCk7XFxcXHJcXFxcbn1cXFxcclxcXFxuXFxcXHJcXFxcbi5jZS1pbmxpbmUtdG9vbC1oeXBlcmxpbmstd3JhcHBlci5jZS1pbmxpbmUtdG9vbC1oeXBlcmxpbmstd3JhcHBlci0tc2hvd2VkIHtcXFxcclxcXFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcXFxyXFxcXG59XFxcXHJcXFxcblxcXFxyXFxcXG4uY2UtaW5saW5lLXRvb2wtaHlwZXJsaW5rLS1pbnB1dCxcXFxcclxcXFxuLmNlLWlubGluZS10b29sLWh5cGVybGluay0tc2VsZWN0LXRhcmdldCxcXFxcclxcXFxuLmNlLWlubGluZS10b29sLWh5cGVybGluay0tc2VsZWN0LXJlbCB7XFxcXHJcXFxcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDIwMSwyMDEsMjA0LC40OCk7XFxcXHJcXFxcbiAgICAtd2Via2l0LWJveC1zaGFkb3c6IGluc2V0IDAgMXB4IDJweCAwIHJnYmEoMzUsNDQsNzIsLjA2KTtcXFxcclxcXFxuICAgIGJveC1zaGFkb3c6IGluc2V0IDAgMXB4IDJweCAwIHJnYmEoMzUsNDQsNzIsLjA2KTtcXFxcclxcXFxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcXFxcclxcXFxuICAgIHBhZGRpbmc6IDVweCA4cHg7XFxcXHJcXFxcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xcXFxyXFxcXG4gICAgb3V0bGluZTogbm9uZTtcXFxcclxcXFxuICAgIHdpZHRoOiAxMDAlO1xcXFxyXFxcXG4gICAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcXFxyXFxcXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXFxcclxcXFxufVxcXFxyXFxcXG5cXFxcclxcXFxuLmNlLWlubGluZS10b29sLWh5cGVybGluay0tc2VsZWN0LXRhcmdldCxcXFxcclxcXFxuLmNlLWlubGluZS10b29sLWh5cGVybGluay0tc2VsZWN0LXJlbCB7XFxcXHJcXFxcbiAgICB3aWR0aDogNDglO1xcXFxyXFxcXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcXFxyXFxcXG59XFxcXHJcXFxcbi5jZS1pbmxpbmUtdG9vbC1oeXBlcmxpbmstLXNlbGVjdC10YXJnZXQge1xcXFxyXFxcXG4gICAgbWFyZ2luLXJpZ2h0OiAyJTtcXFxcclxcXFxufVxcXFxyXFxcXG4uY2UtaW5saW5lLXRvb2wtaHlwZXJsaW5rLS1zZWxlY3QtcmVsIHtcXFxcclxcXFxuICAgIG1hcmdpbi1sZWZ0OiAyJTtcXFxcclxcXFxufVxcXFxyXFxcXG5cXFxcclxcXFxuLmNlLWlubGluZS10b29sLWh5cGVybGluay0tYnV0dG9uIHtcXFxcclxcXFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcXFxyXFxcXG4gICAgd2lkdGg6IDEwMCU7XFxcXHJcXFxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzRjMzhmO1xcXFxyXFxcXG4gICAgY29sb3I6ICNmZmY7XFxcXHJcXFxcbiAgICBwYWRkaW5nOiA3cHggMDtcXFxcclxcXFxuICAgIGJvcmRlcjogbm9uZTtcXFxcclxcXFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXFxcclxcXFxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXFxcclxcXFxuICAgIGZvbnQtc2l6ZTogMTZweDtcXFxcclxcXFxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcXFxcclxcXFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXFxcclxcXFxufVxcXFxyXFxcXG5cXFwiLCBcXFwiXFxcIl0pO1xcbi8vIEV4cG9ydHNcXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XFxuXFxuXFxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vSHlwZXJsaW5rLy4vc3JjL0h5cGVybGluay5jc3M/Li9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qc1wiKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuZXZhbChcIlxcblxcbi8qXFxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxcbiovXFxuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVzZVNvdXJjZU1hcCkge1xcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xcblxcbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcXG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcXG5cXG4gICAgICBpZiAoaXRlbVsyXSkge1xcbiAgICAgICAgcmV0dXJuIFxcXCJAbWVkaWEgXFxcIi5jb25jYXQoaXRlbVsyXSwgXFxcIiB7XFxcIikuY29uY2F0KGNvbnRlbnQsIFxcXCJ9XFxcIik7XFxuICAgICAgfVxcblxcbiAgICAgIHJldHVybiBjb250ZW50O1xcbiAgICB9KS5qb2luKCcnKTtcXG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xcblxcblxcbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnksIGRlZHVwZSkge1xcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09ICdzdHJpbmcnKSB7XFxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXFxuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcXG4gICAgfVxcblxcbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xcblxcbiAgICBpZiAoZGVkdXBlKSB7XFxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcXG4gICAgICAgIHZhciBpZCA9IHRoaXNbaV1bMF07XFxuXFxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XFxuICAgICAgICB9XFxuICAgICAgfVxcbiAgICB9XFxuXFxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBtb2R1bGVzLmxlbmd0aDsgX2krKykge1xcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2ldKTtcXG5cXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250aW51ZVxcbiAgICAgICAgY29udGludWU7XFxuICAgICAgfVxcblxcbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XFxuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcXG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhUXVlcnk7XFxuICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICBpdGVtWzJdID0gXFxcIlxcXCIuY29uY2F0KG1lZGlhUXVlcnksIFxcXCIgYW5kIFxcXCIpLmNvbmNhdChpdGVtWzJdKTtcXG4gICAgICAgIH1cXG4gICAgICB9XFxuXFxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xcbiAgICB9XFxuICB9O1xcblxcbiAgcmV0dXJuIGxpc3Q7XFxufTtcXG5cXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcXG5cXG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcXG5cXG4gIGlmICghY3NzTWFwcGluZykge1xcbiAgICByZXR1cm4gY29udGVudDtcXG4gIH1cXG5cXG4gIGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcXG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XFxuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XFxuICAgICAgcmV0dXJuIFxcXCIvKiMgc291cmNlVVJMPVxcXCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCB8fCAnJykuY29uY2F0KHNvdXJjZSwgXFxcIiAqL1xcXCIpO1xcbiAgICB9KTtcXG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxcXG4nKTtcXG4gIH1cXG5cXG4gIHJldHVybiBbY29udGVudF0uam9pbignXFxcXG4nKTtcXG59IC8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcXG5cXG5cXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcXG4gIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpO1xcbiAgdmFyIGRhdGEgPSBcXFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXFxcIi5jb25jYXQoYmFzZTY0KTtcXG4gIHJldHVybiBcXFwiLyojIFxcXCIuY29uY2F0KGRhdGEsIFxcXCIgKi9cXFwiKTtcXG59XFxuXFxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vSHlwZXJsaW5rLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcz9cIik7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuZXZhbChcIlxcblxcbnZhciBpc09sZElFID0gZnVuY3Rpb24gaXNPbGRJRSgpIHtcXG4gIHZhciBtZW1vO1xcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xcbiAgICBpZiAodHlwZW9mIG1lbW8gPT09ICd1bmRlZmluZWQnKSB7XFxuICAgICAgLy8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3NcXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XFxuICAgICAgLy8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxcbiAgICAgIC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xcbiAgICAgIG1lbW8gPSBCb29sZWFuKHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKTtcXG4gICAgfVxcblxcbiAgICByZXR1cm4gbWVtbztcXG4gIH07XFxufSgpO1xcblxcbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiBnZXRUYXJnZXQoKSB7XFxuICB2YXIgbWVtbyA9IHt9O1xcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKHRhcmdldCkge1xcbiAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gJ3VuZGVmaW5lZCcpIHtcXG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXFxuXFxuICAgICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcXG4gICAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcXG4gICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xcbiAgICAgICAgfVxcbiAgICAgIH1cXG5cXG4gICAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcXG4gICAgfVxcblxcbiAgICByZXR1cm4gbWVtb1t0YXJnZXRdO1xcbiAgfTtcXG59KCk7XFxuXFxudmFyIHN0eWxlc0luRG9tID0gW107XFxuXFxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xcbiAgdmFyIHJlc3VsdCA9IC0xO1xcblxcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRvbS5sZW5ndGg7IGkrKykge1xcbiAgICBpZiAoc3R5bGVzSW5Eb21baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xcbiAgICAgIHJlc3VsdCA9IGk7XFxuICAgICAgYnJlYWs7XFxuICAgIH1cXG4gIH1cXG5cXG4gIHJldHVybiByZXN1bHQ7XFxufVxcblxcbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XFxuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XFxuXFxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcXG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcXG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcXG4gICAgdmFyIGlkZW50aWZpZXIgPSBcXFwiXFxcIi5jb25jYXQoaWQsIFxcXCIgXFxcIikuY29uY2F0KGNvdW50KTtcXG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XFxuICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xcbiAgICB2YXIgb2JqID0ge1xcbiAgICAgIGNzczogaXRlbVsxXSxcXG4gICAgICBtZWRpYTogaXRlbVsyXSxcXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cXG4gICAgfTtcXG5cXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzKys7XFxuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnVwZGF0ZXIob2JqKTtcXG4gICAgfSBlbHNlIHtcXG4gICAgICBzdHlsZXNJbkRvbS5wdXNoKHtcXG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxcbiAgICAgICAgcmVmZXJlbmNlczogMVxcbiAgICAgIH0pO1xcbiAgICB9XFxuXFxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XFxuICB9XFxuXFxuICByZXR1cm4gaWRlbnRpZmllcnM7XFxufVxcblxcbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XFxuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xcbiAgdmFyIGF0dHJpYnV0ZXMgPSBvcHRpb25zLmF0dHJpYnV0ZXMgfHwge307XFxuXFxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XFxuICAgIHZhciBub25jZSA9ICB0cnVlID8gX193ZWJwYWNrX3JlcXVpcmVfXy5uYyA6IHVuZGVmaW5lZDtcXG5cXG4gICAgaWYgKG5vbmNlKSB7XFxuICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xcbiAgICB9XFxuICB9XFxuXFxuICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcXG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKGtleSwgYXR0cmlidXRlc1trZXldKTtcXG4gIH0pO1xcblxcbiAgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydCA9PT0gJ2Z1bmN0aW9uJykge1xcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XFxuICB9IGVsc2Uge1xcbiAgICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KG9wdGlvbnMuaW5zZXJ0IHx8ICdoZWFkJyk7XFxuXFxuICAgIGlmICghdGFyZ2V0KSB7XFxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxcXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXFxcIik7XFxuICAgIH1cXG5cXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcXG4gIH1cXG5cXG4gIHJldHVybiBzdHlsZTtcXG59XFxuXFxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XFxuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcXG4gIGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSB7XFxuICAgIHJldHVybiBmYWxzZTtcXG4gIH1cXG5cXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xcbn1cXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cXG5cXG5cXG52YXIgcmVwbGFjZVRleHQgPSBmdW5jdGlvbiByZXBsYWNlVGV4dCgpIHtcXG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcXG4gIHJldHVybiBmdW5jdGlvbiByZXBsYWNlKGluZGV4LCByZXBsYWNlbWVudCkge1xcbiAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XFxuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcXFxuJyk7XFxuICB9O1xcbn0oKTtcXG5cXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcXG4gIHZhciBjc3MgPSByZW1vdmUgPyAnJyA6IG9iai5tZWRpYSA/IFxcXCJAbWVkaWEgXFxcIi5jb25jYXQob2JqLm1lZGlhLCBcXFwiIHtcXFwiKS5jb25jYXQob2JqLmNzcywgXFxcIn1cXFwiKSA6IG9iai5jc3M7IC8vIEZvciBvbGQgSUVcXG5cXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cXG5cXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XFxuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xcbiAgfSBlbHNlIHtcXG4gICAgdmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XFxuXFxuICAgIGlmIChjaGlsZE5vZGVzW2luZGV4XSkge1xcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcXG4gICAgfVxcblxcbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcXG4gICAgICBzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xcbiAgICB9IGVsc2Uge1xcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xcbiAgICB9XFxuICB9XFxufVxcblxcbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGUsIG9wdGlvbnMsIG9iaikge1xcbiAgdmFyIGNzcyA9IG9iai5jc3M7XFxuICB2YXIgbWVkaWEgPSBvYmoubWVkaWE7XFxuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcXG5cXG4gIGlmIChtZWRpYSkge1xcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ21lZGlhJywgbWVkaWEpO1xcbiAgfSBlbHNlIHtcXG4gICAgc3R5bGUucmVtb3ZlQXR0cmlidXRlKCdtZWRpYScpO1xcbiAgfVxcblxcbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gJ3VuZGVmaW5lZCcpIHtcXG4gICAgY3NzICs9IFxcXCJcXFxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXFxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXFxcIiAqL1xcXCIpO1xcbiAgfSAvLyBGb3Igb2xkIElFXFxuXFxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXFxuXFxuXFxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XFxuICB9IGVsc2Uge1xcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xcbiAgICB9XFxuXFxuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xcbiAgfVxcbn1cXG5cXG52YXIgc2luZ2xldG9uID0gbnVsbDtcXG52YXIgc2luZ2xldG9uQ291bnRlciA9IDA7XFxuXFxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XFxuICB2YXIgc3R5bGU7XFxuICB2YXIgdXBkYXRlO1xcbiAgdmFyIHJlbW92ZTtcXG5cXG4gIGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcXG4gICAgc3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSk7XFxuICAgIHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xcbiAgfSBlbHNlIHtcXG4gICAgc3R5bGUgPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XFxuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XFxuXFxuICAgIHJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSgpIHtcXG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xcbiAgICB9O1xcbiAgfVxcblxcbiAgdXBkYXRlKG9iaik7XFxuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XFxuICAgIGlmIChuZXdPYmopIHtcXG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XFxuICAgICAgICByZXR1cm47XFxuICAgICAgfVxcblxcbiAgICAgIHVwZGF0ZShvYmogPSBuZXdPYmopO1xcbiAgICB9IGVsc2Uge1xcbiAgICAgIHJlbW92ZSgpO1xcbiAgICB9XFxuICB9O1xcbn1cXG5cXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XFxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XFxuICAvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXFxuXFxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XFxuICAgIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xcbiAgfVxcblxcbiAgbGlzdCA9IGxpc3QgfHwgW107XFxuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XFxuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xcblxcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0xpc3QpICE9PSAnW29iamVjdCBBcnJheV0nKSB7XFxuICAgICAgcmV0dXJuO1xcbiAgICB9XFxuXFxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XFxuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XFxuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XFxuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMtLTtcXG4gICAgfVxcblxcbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xcblxcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XFxuXFxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcXG5cXG4gICAgICBpZiAoc3R5bGVzSW5Eb21bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XFxuICAgICAgICBzdHlsZXNJbkRvbVtfaW5kZXhdLnVwZGF0ZXIoKTtcXG5cXG4gICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShfaW5kZXgsIDEpO1xcbiAgICAgIH1cXG4gICAgfVxcblxcbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XFxuICB9O1xcbn07XFxuXFxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vSHlwZXJsaW5rLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzP1wiKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvSHlwZXJsaW5rLmNzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL0h5cGVybGluay5jc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5ldmFsKFwidmFyIGFwaSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyAqLyBcXFwiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcXFwiKTtcXG4gICAgICAgICAgICB2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohICEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL0h5cGVybGluay5jc3MgKi8gXFxcIi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zcmMvSHlwZXJsaW5rLmNzc1xcXCIpO1xcblxcbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xcblxcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcXG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pLCBjb250ZW50LCAnJ11dO1xcbiAgICAgICAgICAgIH1cXG5cXG52YXIgb3B0aW9ucyA9IHt9O1xcblxcbm9wdGlvbnMuaW5zZXJ0ID0gXFxcImhlYWRcXFwiO1xcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XFxuXFxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcXG5cXG5cXG5cXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzIHx8IHt9O1xcblxcbi8vIyBzb3VyY2VVUkw9d2VicGFjazovL0h5cGVybGluay8uL3NyYy9IeXBlcmxpbmsuY3NzP1wiKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvSHlwZXJsaW5rLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9IeXBlcmxpbmsuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5ldmFsKFwiX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXFxcImRlZmF1bHRcXFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEh5cGVybGluazsgfSk7XFxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9TZWxlY3Rpb25VdGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9TZWxlY3Rpb25VdGlscyAqLyBcXFwiLi9zcmMvU2VsZWN0aW9uVXRpbHMuanNcXFwiKTtcXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX0h5cGVybGlua19jc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vSHlwZXJsaW5rLmNzcyAqLyBcXFwiLi9zcmMvSHlwZXJsaW5rLmNzc1xcXCIpO1xcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfSHlwZXJsaW5rX2Nzc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9IeXBlcmxpbmtfY3NzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18pO1xcbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXFxcIik7IH0gfVxcblxcbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFxcXCJ2YWx1ZVxcXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XFxuXFxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cXG5cXG5cXG5cXG5cXG52YXIgSHlwZXJsaW5rID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcXG4gIGZ1bmN0aW9uIEh5cGVybGluayhfcmVmKSB7XFxuICAgIHZhciBkYXRhID0gX3JlZi5kYXRhLFxcbiAgICAgICAgY29uZmlnID0gX3JlZi5jb25maWcsXFxuICAgICAgICBhcGkgPSBfcmVmLmFwaSxcXG4gICAgICAgIHJlYWRPbmx5ID0gX3JlZi5yZWFkT25seTtcXG5cXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEh5cGVybGluayk7XFxuXFxuICAgIHRoaXMudG9vbGJhciA9IGFwaS50b29sYmFyO1xcbiAgICB0aGlzLmlubGluZVRvb2xiYXIgPSBhcGkuaW5saW5lVG9vbGJhcjtcXG4gICAgdGhpcy50b29sdGlwID0gYXBpLnRvb2x0aXA7XFxuICAgIHRoaXMuaTE4biA9IGFwaS5pMThuO1xcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcXG4gICAgdGhpcy5zZWxlY3Rpb24gPSBuZXcgX1NlbGVjdGlvblV0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXFxcImRlZmF1bHRcXFwiXSgpO1xcbiAgICB0aGlzLmNvbW1hbmRMaW5rID0gJ2NyZWF0ZUxpbmsnO1xcbiAgICB0aGlzLmNvbW1hbmRVbmxpbmsgPSAndW5saW5rJztcXG4gICAgdGhpcy5DU1MgPSB7XFxuICAgICAgd3JhcHBlcjogJ2NlLWlubGluZS10b29sLWh5cGVybGluay13cmFwcGVyJyxcXG4gICAgICB3cmFwcGVyU2hvd2VkOiAnY2UtaW5saW5lLXRvb2wtaHlwZXJsaW5rLXdyYXBwZXItLXNob3dlZCcsXFxuICAgICAgYnV0dG9uOiAnY2UtaW5saW5lLXRvb2wnLFxcbiAgICAgIGJ1dHRvbkFjdGl2ZTogJ2NlLWlubGluZS10b29sLS1hY3RpdmUnLFxcbiAgICAgIGJ1dHRvbk1vZGlmaWVyOiAnY2UtaW5saW5lLXRvb2wtLWxpbmsnLFxcbiAgICAgIGJ1dHRvblVubGluazogJ2NlLWlubGluZS10b29sLS11bmxpbmsnLFxcbiAgICAgIGlucHV0OiAnY2UtaW5saW5lLXRvb2wtaHlwZXJsaW5rLS1pbnB1dCcsXFxuICAgICAgc2VsZWN0VGFyZ2V0OiAnY2UtaW5saW5lLXRvb2wtaHlwZXJsaW5rLS1zZWxlY3QtdGFyZ2V0JyxcXG4gICAgICBzZWxlY3RSZWw6ICdjZS1pbmxpbmUtdG9vbC1oeXBlcmxpbmstLXNlbGVjdC1yZWwnLFxcbiAgICAgIGJ1dHRvblNhdmU6ICdjZS1pbmxpbmUtdG9vbC1oeXBlcmxpbmstLWJ1dHRvbidcXG4gICAgfTtcXG4gICAgdGhpcy50YXJnZXRBdHRyaWJ1dGVzID0gdGhpcy5jb25maWcuYXZhaWxhYmxlVGFyZ2V0cyB8fCBbJ19ibGFuaycsIC8vIE9wZW5zIHRoZSBsaW5rZWQgZG9jdW1lbnQgaW4gYSBuZXcgd2luZG93IG9yIHRhYlxcbiAgICAnX3NlbGYnLCAvLyBPcGVucyB0aGUgbGlua2VkIGRvY3VtZW50IGluIHRoZSBzYW1lIGZyYW1lIGFzIGl0IHdhcyBjbGlja2VkICh0aGlzIGlzIGRlZmF1bHQpXFxuICAgICdfcGFyZW50JywgLy8gT3BlbnMgdGhlIGxpbmtlZCBkb2N1bWVudCBpbiB0aGUgcGFyZW50IGZyYW1lXFxuICAgICdfdG9wJyAvLyBPcGVucyB0aGUgbGlua2VkIGRvY3VtZW50IGluIHRoZSBmdWxsIGJvZHkgb2YgdGhlIHdpbmRvd1xcbiAgICBdO1xcbiAgICB0aGlzLnJlbEF0dHJpYnV0ZXMgPSB0aGlzLmNvbmZpZy5hdmFpbGFibGVSZWxzIHx8IFsnYWx0ZXJuYXRlJywgLy9Qcm92aWRlcyBhIGxpbmsgdG8gYW4gYWx0ZXJuYXRlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBkb2N1bWVudCAoaS5lLiBwcmludCBwYWdlLCB0cmFuc2xhdGVkIG9yIG1pcnJvcilcXG4gICAgJ2F1dGhvcicsIC8vUHJvdmlkZXMgYSBsaW5rIHRvIHRoZSBhdXRob3Igb2YgdGhlIGRvY3VtZW50XFxuICAgICdib29rbWFyaycsIC8vUGVybWFuZW50IFVSTCB1c2VkIGZvciBib29rbWFya2luZ1xcbiAgICAnZXh0ZXJuYWwnLCAvL0luZGljYXRlcyB0aGF0IHRoZSByZWZlcmVuY2VkIGRvY3VtZW50IGlzIG5vdCBwYXJ0IG9mIHRoZSBzYW1lIHNpdGUgYXMgdGhlIGN1cnJlbnQgZG9jdW1lbnRcXG4gICAgJ2hlbHAnLCAvL1Byb3ZpZGVzIGEgbGluayB0byBhIGhlbHAgZG9jdW1lbnRcXG4gICAgJ2xpY2Vuc2UnLCAvL1Byb3ZpZGVzIGEgbGluayB0byBsaWNlbnNpbmcgaW5mb3JtYXRpb24gZm9yIHRoZSBkb2N1bWVudFxcbiAgICAnbmV4dCcsIC8vUHJvdmlkZXMgYSBsaW5rIHRvIHRoZSBuZXh0IGRvY3VtZW50IGluIHRoZSBzZXJpZXNcXG4gICAgJ25vZm9sbG93JywgLy9MaW5rcyB0byBhbiB1bmVuZG9yc2VkIGRvY3VtZW50LCBsaWtlIGEgcGFpZCBsaW5rLiAoXFxcIm5vZm9sbG93XFxcIiBpcyB1c2VkIGJ5IEdvb2dsZSwgdG8gc3BlY2lmeSB0aGF0IHRoZSBHb29nbGUgc2VhcmNoIHNwaWRlciBzaG91bGQgbm90IGZvbGxvdyB0aGF0IGxpbmspXFxuICAgICdub3JlZmVycmVyJywgLy9SZXF1aXJlcyB0aGF0IHRoZSBicm93c2VyIHNob3VsZCBub3Qgc2VuZCBhbiBIVFRQIHJlZmVyZXIgaGVhZGVyIGlmIHRoZSB1c2VyIGZvbGxvd3MgdGhlIGh5cGVybGlua1xcbiAgICAnbm9vcGVuZXInLCAvL1JlcXVpcmVzIHRoYXQgYW55IGJyb3dzaW5nIGNvbnRleHQgY3JlYXRlZCBieSBmb2xsb3dpbmcgdGhlIGh5cGVybGluayBtdXN0IG5vdCBoYXZlIGFuIG9wZW5lciBicm93c2luZyBjb250ZXh0XFxuICAgICdwcmV2JywgLy9UaGUgcHJldmlvdXMgZG9jdW1lbnQgaW4gYSBzZWxlY3Rpb25cXG4gICAgJ3NlYXJjaCcsIC8vTGlua3MgdG8gYSBzZWFyY2ggdG9vbCBmb3IgdGhlIGRvY3VtZW50XFxuICAgICd0YWcnIC8vQSB0YWcgKGtleXdvcmQpIGZvciB0aGUgY3VycmVudCBkb2N1bWVudFxcbiAgICBdO1xcbiAgICB0aGlzLm5vZGVzID0ge1xcbiAgICAgIGJ1dHRvbjogbnVsbCxcXG4gICAgICB3cmFwcGVyOiBudWxsLFxcbiAgICAgIGlucHV0OiBudWxsLFxcbiAgICAgIHNlbGVjdFRhcmdldDogbnVsbCxcXG4gICAgICBzZWxlY3RSZWw6IG51bGwsXFxuICAgICAgYnV0dG9uU2F2ZTogbnVsbFxcbiAgICB9O1xcbiAgICB0aGlzLmlucHV0T3BlbmVkID0gZmFsc2U7XFxuICB9XFxuXFxuICBfY3JlYXRlQ2xhc3MoSHlwZXJsaW5rLCBbe1xcbiAgICBrZXk6IFxcXCJyZW5kZXJcXFwiLFxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xcbiAgICAgIHRoaXMubm9kZXMuYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XFxuICAgICAgdGhpcy5ub2Rlcy5idXR0b24udHlwZSA9ICdidXR0b24nO1xcbiAgICAgIHRoaXMubm9kZXMuYnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5DU1MuYnV0dG9uLCB0aGlzLkNTUy5idXR0b25Nb2RpZmllcik7XFxuICAgICAgdGhpcy5ub2Rlcy5idXR0b24uYXBwZW5kQ2hpbGQodGhpcy5pY29uU3ZnKCdsaW5rJywgMTQsIDEwKSk7XFxuICAgICAgdGhpcy5ub2Rlcy5idXR0b24uYXBwZW5kQ2hpbGQodGhpcy5pY29uU3ZnKCd1bmxpbmsnLCAxNSwgMTEpKTtcXG4gICAgICByZXR1cm4gdGhpcy5ub2Rlcy5idXR0b247XFxuICAgIH1cXG4gIH0sIHtcXG4gICAga2V5OiBcXFwicmVuZGVyQWN0aW9uc1xcXCIsXFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJBY3Rpb25zKCkge1xcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XFxuXFxuICAgICAgdGhpcy5ub2Rlcy53cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XFxuICAgICAgdGhpcy5ub2Rlcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQodGhpcy5DU1Mud3JhcHBlcik7IC8vIElucHV0XFxuXFxuICAgICAgdGhpcy5ub2Rlcy5pbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XFxuICAgICAgdGhpcy5ub2Rlcy5pbnB1dC5wbGFjZWhvbGRlciA9ICdodHRwczovLy4uLic7XFxuICAgICAgdGhpcy5ub2Rlcy5pbnB1dC5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLmlucHV0KTtcXG4gICAgICB2YXIgaTsgLy8gVGFyZ2V0XFxuXFxuICAgICAgdGhpcy5ub2Rlcy5zZWxlY3RUYXJnZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTtcXG4gICAgICB0aGlzLm5vZGVzLnNlbGVjdFRhcmdldC5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLnNlbGVjdFRhcmdldCk7XFxuICAgICAgdGhpcy5hZGRPcHRpb24odGhpcy5ub2Rlcy5zZWxlY3RUYXJnZXQsIHRoaXMuaTE4bi50KCdTZWxlY3QgdGFyZ2V0JyksICcnKTtcXG5cXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy50YXJnZXRBdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XFxuICAgICAgICB0aGlzLmFkZE9wdGlvbih0aGlzLm5vZGVzLnNlbGVjdFRhcmdldCwgdGhpcy50YXJnZXRBdHRyaWJ1dGVzW2ldLCB0aGlzLnRhcmdldEF0dHJpYnV0ZXNbaV0pO1xcbiAgICAgIH1cXG5cXG4gICAgICBpZiAoISF0aGlzLmNvbmZpZy50YXJnZXQpIHtcXG4gICAgICAgIHRoaXMubm9kZXMuc2VsZWN0VGFyZ2V0LnZhbHVlID0gdGhpcy5jb25maWcudGFyZ2V0O1xcbiAgICAgIH0gLy8gUmVsXFxuXFxuXFxuICAgICAgdGhpcy5ub2Rlcy5zZWxlY3RSZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTtcXG4gICAgICB0aGlzLm5vZGVzLnNlbGVjdFJlbC5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLnNlbGVjdFJlbCk7XFxuICAgICAgdGhpcy5hZGRPcHRpb24odGhpcy5ub2Rlcy5zZWxlY3RSZWwsIHRoaXMuaTE4bi50KCdTZWxlY3QgcmVsJyksICcnKTtcXG5cXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5yZWxBdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XFxuICAgICAgICB0aGlzLmFkZE9wdGlvbih0aGlzLm5vZGVzLnNlbGVjdFJlbCwgdGhpcy5yZWxBdHRyaWJ1dGVzW2ldLCB0aGlzLnJlbEF0dHJpYnV0ZXNbaV0pO1xcbiAgICAgIH1cXG5cXG4gICAgICBpZiAoISF0aGlzLmNvbmZpZy5yZWwpIHtcXG4gICAgICAgIHRoaXMubm9kZXMuc2VsZWN0UmVsLnZhbHVlID0gdGhpcy5jb25maWcucmVsO1xcbiAgICAgIH0gLy8gQnV0dG9uXFxuXFxuXFxuICAgICAgdGhpcy5ub2Rlcy5idXR0b25TYXZlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XFxuICAgICAgdGhpcy5ub2Rlcy5idXR0b25TYXZlLnR5cGUgPSAnYnV0dG9uJztcXG4gICAgICB0aGlzLm5vZGVzLmJ1dHRvblNhdmUuY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy5idXR0b25TYXZlKTtcXG4gICAgICB0aGlzLm5vZGVzLmJ1dHRvblNhdmUuaW5uZXJIVE1MID0gdGhpcy5pMThuLnQoJ1NhdmUnKTtcXG4gICAgICB0aGlzLm5vZGVzLmJ1dHRvblNhdmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcXG4gICAgICAgIF90aGlzLnNhdmVQcmVzc2VkKGV2ZW50KTtcXG4gICAgICB9KTsgLy8gYXBwZW5kXFxuXFxuICAgICAgdGhpcy5ub2Rlcy53cmFwcGVyLmFwcGVuZENoaWxkKHRoaXMubm9kZXMuaW5wdXQpO1xcbiAgICAgIHRoaXMubm9kZXMud3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLm5vZGVzLnNlbGVjdFRhcmdldCk7XFxuICAgICAgdGhpcy5ub2Rlcy53cmFwcGVyLmFwcGVuZENoaWxkKHRoaXMubm9kZXMuc2VsZWN0UmVsKTtcXG4gICAgICB0aGlzLm5vZGVzLndyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5ub2Rlcy5idXR0b25TYXZlKTtcXG4gICAgICByZXR1cm4gdGhpcy5ub2Rlcy53cmFwcGVyO1xcbiAgICB9XFxuICB9LCB7XFxuICAgIGtleTogXFxcInN1cnJvdW5kXFxcIixcXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN1cnJvdW5kKHJhbmdlKSB7XFxuICAgICAgaWYgKHJhbmdlKSB7XFxuICAgICAgICBpZiAoIXRoaXMuaW5wdXRPcGVuZWQpIHtcXG4gICAgICAgICAgdGhpcy5zZWxlY3Rpb24uc2V0RmFrZUJhY2tncm91bmQoKTtcXG4gICAgICAgICAgdGhpcy5zZWxlY3Rpb24uc2F2ZSgpO1xcbiAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgdGhpcy5zZWxlY3Rpb24ucmVzdG9yZSgpO1xcbiAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5yZW1vdmVGYWtlQmFja2dyb3VuZCgpO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgdmFyIHBhcmVudEFuY2hvciA9IHRoaXMuc2VsZWN0aW9uLmZpbmRQYXJlbnRUYWcoJ0EnKTtcXG5cXG4gICAgICAgIGlmIChwYXJlbnRBbmNob3IpIHtcXG4gICAgICAgICAgdGhpcy5zZWxlY3Rpb24uZXhwYW5kVG9UYWcocGFyZW50QW5jaG9yKTtcXG4gICAgICAgICAgdGhpcy51bmxpbmsoKTtcXG4gICAgICAgICAgdGhpcy5jbG9zZUFjdGlvbnMoKTtcXG4gICAgICAgICAgdGhpcy5jaGVja1N0YXRlKCk7XFxuICAgICAgICAgIHRoaXMudG9vbGJhci5jbG9zZSgpO1xcbiAgICAgICAgICByZXR1cm47XFxuICAgICAgICB9XFxuICAgICAgfVxcblxcbiAgICAgIHRoaXMudG9nZ2xlQWN0aW9ucygpO1xcbiAgICB9XFxuICB9LCB7XFxuICAgIGtleTogXFxcImNoZWNrU3RhdGVcXFwiLFxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tTdGF0ZSgpIHtcXG4gICAgICB2YXIgc2VsZWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBudWxsO1xcbiAgICAgIHZhciBhbmNob3JUYWcgPSB0aGlzLnNlbGVjdGlvbi5maW5kUGFyZW50VGFnKCdBJyk7XFxuXFxuICAgICAgaWYgKGFuY2hvclRhZykge1xcbiAgICAgICAgdGhpcy5ub2Rlcy5idXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy5idXR0b25VbmxpbmspO1xcbiAgICAgICAgdGhpcy5ub2Rlcy5idXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy5idXR0b25BY3RpdmUpO1xcbiAgICAgICAgdGhpcy5vcGVuQWN0aW9ucygpO1xcbiAgICAgICAgdmFyIGhyZWZBdHRyID0gYW5jaG9yVGFnLmdldEF0dHJpYnV0ZSgnaHJlZicpO1xcbiAgICAgICAgdmFyIHRhcmdldEF0dHIgPSBhbmNob3JUYWcuZ2V0QXR0cmlidXRlKCd0YXJnZXQnKTtcXG4gICAgICAgIHZhciByZWxBdHRyID0gYW5jaG9yVGFnLmdldEF0dHJpYnV0ZSgncmVsJyk7XFxuICAgICAgICB0aGlzLm5vZGVzLmlucHV0LnZhbHVlID0gISFocmVmQXR0ciA/IGhyZWZBdHRyIDogJyc7XFxuICAgICAgICB0aGlzLm5vZGVzLnNlbGVjdFRhcmdldC52YWx1ZSA9ICEhdGFyZ2V0QXR0ciA/IHRhcmdldEF0dHIgOiAnJztcXG4gICAgICAgIHRoaXMubm9kZXMuc2VsZWN0UmVsLnZhbHVlID0gISFyZWxBdHRyID8gcmVsQXR0ciA6ICcnO1xcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24uc2F2ZSgpO1xcbiAgICAgIH0gZWxzZSB7XFxuICAgICAgICB0aGlzLm5vZGVzLmJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ1NTLmJ1dHRvblVubGluayk7XFxuICAgICAgICB0aGlzLm5vZGVzLmJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ1NTLmJ1dHRvbkFjdGl2ZSk7XFxuICAgICAgfVxcblxcbiAgICAgIHJldHVybiAhIWFuY2hvclRhZztcXG4gICAgfVxcbiAgfSwge1xcbiAgICBrZXk6IFxcXCJjbGVhclxcXCIsXFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhcigpIHtcXG4gICAgICB0aGlzLmNsb3NlQWN0aW9ucygpO1xcbiAgICB9XFxuICB9LCB7XFxuICAgIGtleTogXFxcInRvZ2dsZUFjdGlvbnNcXFwiLFxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9nZ2xlQWN0aW9ucygpIHtcXG4gICAgICBpZiAoIXRoaXMuaW5wdXRPcGVuZWQpIHtcXG4gICAgICAgIHRoaXMub3BlbkFjdGlvbnModHJ1ZSk7XFxuICAgICAgfSBlbHNlIHtcXG4gICAgICAgIHRoaXMuY2xvc2VBY3Rpb25zKGZhbHNlKTtcXG4gICAgICB9XFxuICAgIH1cXG4gIH0sIHtcXG4gICAga2V5OiBcXFwib3BlbkFjdGlvbnNcXFwiLFxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb3BlbkFjdGlvbnMoKSB7XFxuICAgICAgdmFyIG5lZWRGb2N1cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7XFxuICAgICAgdGhpcy5ub2Rlcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQodGhpcy5DU1Mud3JhcHBlclNob3dlZCk7XFxuXFxuICAgICAgaWYgKG5lZWRGb2N1cykge1xcbiAgICAgICAgdGhpcy5ub2Rlcy5pbnB1dC5mb2N1cygpO1xcbiAgICAgIH1cXG5cXG4gICAgICB0aGlzLmlucHV0T3BlbmVkID0gdHJ1ZTtcXG4gICAgfVxcbiAgfSwge1xcbiAgICBrZXk6IFxcXCJjbG9zZUFjdGlvbnNcXFwiLFxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2VBY3Rpb25zKCkge1xcbiAgICAgIHZhciBjbGVhclNhdmVkU2VsZWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0cnVlO1xcblxcbiAgICAgIGlmICh0aGlzLnNlbGVjdGlvbi5pc0Zha2VCYWNrZ3JvdW5kRW5hYmxlZCkge1xcbiAgICAgICAgdmFyIGN1cnJlbnRTZWxlY3Rpb24gPSBuZXcgX1NlbGVjdGlvblV0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXFxcImRlZmF1bHRcXFwiXSgpO1xcbiAgICAgICAgY3VycmVudFNlbGVjdGlvbi5zYXZlKCk7XFxuICAgICAgICB0aGlzLnNlbGVjdGlvbi5yZXN0b3JlKCk7XFxuICAgICAgICB0aGlzLnNlbGVjdGlvbi5yZW1vdmVGYWtlQmFja2dyb3VuZCgpO1xcbiAgICAgICAgY3VycmVudFNlbGVjdGlvbi5yZXN0b3JlKCk7XFxuICAgICAgfVxcblxcbiAgICAgIHRoaXMubm9kZXMud3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ1NTLndyYXBwZXJTaG93ZWQpO1xcbiAgICAgIHRoaXMubm9kZXMuaW5wdXQudmFsdWUgPSAnJztcXG4gICAgICB0aGlzLm5vZGVzLnNlbGVjdFRhcmdldC52YWx1ZSA9ICcnO1xcbiAgICAgIHRoaXMubm9kZXMuc2VsZWN0UmVsLnZhbHVlID0gJyc7XFxuXFxuICAgICAgaWYgKGNsZWFyU2F2ZWRTZWxlY3Rpb24pIHtcXG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLmNsZWFyU2F2ZWQoKTtcXG4gICAgICB9XFxuXFxuICAgICAgdGhpcy5pbnB1dE9wZW5lZCA9IGZhbHNlO1xcbiAgICB9XFxuICB9LCB7XFxuICAgIGtleTogXFxcInNhdmVQcmVzc2VkXFxcIixcXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNhdmVQcmVzc2VkKGV2ZW50KSB7XFxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcXG4gICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcXG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLm5vZGVzLmlucHV0LnZhbHVlIHx8ICcnO1xcbiAgICAgIHZhciB0YXJnZXQgPSB0aGlzLm5vZGVzLnNlbGVjdFRhcmdldC52YWx1ZSB8fCAnJztcXG4gICAgICB2YXIgcmVsID0gdGhpcy5ub2Rlcy5zZWxlY3RSZWwudmFsdWUgfHwgJyc7XFxuXFxuICAgICAgaWYgKCF2YWx1ZS50cmltKCkpIHtcXG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLnJlc3RvcmUoKTtcXG4gICAgICAgIHRoaXMudW5saW5rKCk7XFxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xcbiAgICAgICAgdGhpcy5jbG9zZUFjdGlvbnMoKTtcXG4gICAgICB9IC8vIGlmICghdGhpcy52YWxpZGF0ZVVSTCh2YWx1ZSkpIHtcXG4gICAgICAvLyAgICAgdGhpcy50b29sdGlwLnNob3codGhpcy5ub2Rlcy5pbnB1dCwgJ1Bhc3RlZCBsaW5rIGlzIG5vdCB2YWxpZC4nLCB7XFxuICAgICAgLy8gICAgICAgICBwbGFjZW1lbnQ6ICd0b3AnLFxcbiAgICAgIC8vICAgICB9KTtcXG4gICAgICAvLyAgICAgc2V0VGltZW91dCgoKSA9PiB7XFxuICAgICAgLy8gICAgICAgICB0aGlzLnRvb2x0aXAuaGlkZSgpO1xcbiAgICAgIC8vICAgICB9LCAxMDAwKTtcXG4gICAgICAvLyAgICAgcmV0dXJuO1xcbiAgICAgIC8vIH1cXG5cXG5cXG4gICAgICB2YWx1ZSA9IHRoaXMucHJlcGFyZUxpbmsodmFsdWUpO1xcbiAgICAgIHRoaXMuc2VsZWN0aW9uLnJlc3RvcmUoKTtcXG4gICAgICB0aGlzLnNlbGVjdGlvbi5yZW1vdmVGYWtlQmFja2dyb3VuZCgpO1xcbiAgICAgIHRoaXMuaW5zZXJ0TGluayh2YWx1ZSwgdGFyZ2V0LCByZWwpO1xcbiAgICAgIHRoaXMuc2VsZWN0aW9uLmNvbGxhcHNlVG9FbmQoKTtcXG4gICAgICB0aGlzLmlubGluZVRvb2xiYXIuY2xvc2UoKTtcXG4gICAgfVxcbiAgfSwge1xcbiAgICBrZXk6IFxcXCJ2YWxpZGF0ZVVSTFxcXCIsXFxuICAgIHZhbHVlOiBmdW5jdGlvbiB2YWxpZGF0ZVVSTChzdHIpIHtcXG4gICAgICB2YXIgcGF0dGVybiA9IG5ldyBSZWdFeHAoJ14oaHR0cHM/OlxcXFxcXFxcL1xcXFxcXFxcLyk/JyArIC8vIHByb3RvY29sXFxuICAgICAgJygoKFthLXpcXFxcXFxcXGRdKFthLXpcXFxcXFxcXGQtXSpbYS16XFxcXFxcXFxkXSkqKVxcXFxcXFxcLikrW2Etel17Mix9fCcgKyAvLyBkb21haW4gbmFtZVxcbiAgICAgICcoKFxcXFxcXFxcZHsxLDN9XFxcXFxcXFwuKXszfVxcXFxcXFxcZHsxLDN9KSknICsgLy8gT1IgaXAgKHY0KSBhZGRyZXNzXFxuICAgICAgJyhcXFxcXFxcXDpcXFxcXFxcXGQrKT8oXFxcXFxcXFwvWy1hLXpcXFxcXFxcXGQlXy5+K10qKSonICsgLy8gcG9ydCBhbmQgcGF0aFxcbiAgICAgICcoXFxcXFxcXFw/WzsmYS16XFxcXFxcXFxkJV8ufis9LV0qKT8nICsgLy8gcXVlcnkgc3RyaW5nXFxuICAgICAgJyhcXFxcXFxcXCNbLWEtelxcXFxcXFxcZF9dKik/JCcsICdpJyk7IC8vIGZyYWdtZW50IGxvY2F0b3JcXG5cXG4gICAgICByZXR1cm4gISFwYXR0ZXJuLnRlc3Qoc3RyKTtcXG4gICAgfVxcbiAgfSwge1xcbiAgICBrZXk6IFxcXCJwcmVwYXJlTGlua1xcXCIsXFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwcmVwYXJlTGluayhsaW5rKSB7XFxuICAgICAgbGluayA9IGxpbmsudHJpbSgpO1xcbiAgICAgIGxpbmsgPSB0aGlzLmFkZFByb3RvY29sKGxpbmspO1xcbiAgICAgIHJldHVybiBsaW5rO1xcbiAgICB9XFxuICB9LCB7XFxuICAgIGtleTogXFxcImFkZFByb3RvY29sXFxcIixcXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFByb3RvY29sKGxpbmspIHtcXG4gICAgICBpZiAoL14oXFxcXHcrKTooXFxcXC9cXFxcLyk/Ly50ZXN0KGxpbmspKSB7XFxuICAgICAgICByZXR1cm4gbGluaztcXG4gICAgICB9XFxuXFxuICAgICAgdmFyIGlzSW50ZXJuYWwgPSAvXlxcXFwvW14vXFxcXHNdLy50ZXN0KGxpbmspLFxcbiAgICAgICAgICBpc0FuY2hvciA9IGxpbmsuc3Vic3RyaW5nKDAsIDEpID09PSAnIycsXFxuICAgICAgICAgIGlzUHJvdG9jb2xSZWxhdGl2ZSA9IC9eXFxcXC9cXFxcL1teL1xcXFxzXS8udGVzdChsaW5rKTtcXG5cXG4gICAgICBpZiAoIWlzSW50ZXJuYWwgJiYgIWlzQW5jaG9yICYmICFpc1Byb3RvY29sUmVsYXRpdmUpIHtcXG4gICAgICAgIGxpbmsgPSAnaHR0cDovLycgKyBsaW5rO1xcbiAgICAgIH1cXG5cXG4gICAgICByZXR1cm4gbGluaztcXG4gICAgfVxcbiAgfSwge1xcbiAgICBrZXk6IFxcXCJpbnNlcnRMaW5rXFxcIixcXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGluc2VydExpbmsobGluaykge1xcbiAgICAgIHZhciB0YXJnZXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcnO1xcbiAgICAgIHZhciByZWwgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICcnO1xcbiAgICAgIHZhciBhbmNob3JUYWcgPSB0aGlzLnNlbGVjdGlvbi5maW5kUGFyZW50VGFnKCdBJyk7XFxuXFxuICAgICAgaWYgKGFuY2hvclRhZykge1xcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24uZXhwYW5kVG9UYWcoYW5jaG9yVGFnKTtcXG4gICAgICB9IGVsc2Uge1xcbiAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQodGhpcy5jb21tYW5kTGluaywgZmFsc2UsIGxpbmspO1xcbiAgICAgICAgYW5jaG9yVGFnID0gdGhpcy5zZWxlY3Rpb24uZmluZFBhcmVudFRhZygnQScpO1xcbiAgICAgIH1cXG5cXG4gICAgICBpZiAoYW5jaG9yVGFnKSB7XFxuICAgICAgICBpZiAoISF0YXJnZXQpIHtcXG4gICAgICAgICAgYW5jaG9yVGFnWyd0YXJnZXQnXSA9IHRhcmdldDtcXG4gICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgIGFuY2hvclRhZy5yZW1vdmVBdHRyaWJ1dGUoJ3RhcmdldCcpO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgaWYgKCEhcmVsKSB7XFxuICAgICAgICAgIGFuY2hvclRhZ1sncmVsJ10gPSByZWw7XFxuICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICBhbmNob3JUYWcucmVtb3ZlQXR0cmlidXRlKCdyZWwnKTtcXG4gICAgICAgIH1cXG4gICAgICB9XFxuICAgIH1cXG4gIH0sIHtcXG4gICAga2V5OiBcXFwidW5saW5rXFxcIixcXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVubGluaygpIHtcXG4gICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCh0aGlzLmNvbW1hbmRVbmxpbmspO1xcbiAgICB9XFxuICB9LCB7XFxuICAgIGtleTogXFxcImljb25TdmdcXFwiLFxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaWNvblN2ZyhuYW1lKSB7XFxuICAgICAgdmFyIHdpZHRoID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAxNDtcXG4gICAgICB2YXIgaGVpZ2h0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAxNDtcXG4gICAgICB2YXIgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJyk7XFxuICAgICAgaWNvbi5jbGFzc0xpc3QuYWRkKCdpY29uJywgJ2ljb24tLScgKyBuYW1lKTtcXG4gICAgICBpY29uLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB3aWR0aCArICdweCcpO1xcbiAgICAgIGljb24uc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBoZWlnaHQgKyAncHgnKTtcXG4gICAgICBpY29uLmlubmVySFRNTCA9IFxcXCI8dXNlIHhtbG5zOnhsaW5rPVxcXFxcXFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1xcXFxcXFwiIHhsaW5rOmhyZWY9XFxcXFxcXCIjXFxcIi5jb25jYXQobmFtZSwgXFxcIlxcXFxcXFwiPjwvdXNlPlxcXCIpO1xcbiAgICAgIHJldHVybiBpY29uO1xcbiAgICB9XFxuICB9LCB7XFxuICAgIGtleTogXFxcImFkZE9wdGlvblxcXCIsXFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRPcHRpb24oZWxlbWVudCwgdGV4dCkge1xcbiAgICAgIHZhciB2YWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogbnVsbDtcXG4gICAgICB2YXIgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XFxuICAgICAgb3B0aW9uLnRleHQgPSB0ZXh0O1xcbiAgICAgIG9wdGlvbi52YWx1ZSA9IHZhbHVlO1xcbiAgICAgIGVsZW1lbnQuYWRkKG9wdGlvbik7XFxuICAgIH1cXG4gIH0sIHtcXG4gICAga2V5OiBcXFwic2hvcnRjdXRcXFwiLFxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcXG4gICAgICByZXR1cm4gdGhpcy5jb25maWcuc2hvcnRjdXQgfHwgJ0NNRCtMJztcXG4gICAgfVxcbiAgfSwge1xcbiAgICBrZXk6IFxcXCJ0aXRsZVxcXCIsXFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xcbiAgICAgIHJldHVybiAnSHlwZXJsaW5rJztcXG4gICAgfVxcbiAgfV0sIFt7XFxuICAgIGtleTogXFxcImlzSW5saW5lXFxcIixcXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XFxuICAgICAgcmV0dXJuIHRydWU7XFxuICAgIH1cXG4gIH0sIHtcXG4gICAga2V5OiBcXFwic2FuaXRpemVcXFwiLFxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcXG4gICAgICByZXR1cm4ge1xcbiAgICAgICAgYToge1xcbiAgICAgICAgICBocmVmOiB0cnVlLFxcbiAgICAgICAgICB0YXJnZXQ6IHRydWUsXFxuICAgICAgICAgIHJlbDogdHJ1ZVxcbiAgICAgICAgfVxcbiAgICAgIH07XFxuICAgIH1cXG4gIH1dKTtcXG5cXG4gIHJldHVybiBIeXBlcmxpbms7XFxufSgpO1xcblxcblxcblxcbi8vIyBzb3VyY2VVUkw9d2VicGFjazovL0h5cGVybGluay8uL3NyYy9IeXBlcmxpbmsuanM/XCIpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9TZWxlY3Rpb25VdGlscy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9TZWxlY3Rpb25VdGlscy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuZXZhbChcIl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcXG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFxcXCJkZWZhdWx0XFxcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBTZWxlY3Rpb25VdGlsczsgfSk7XFxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXFxcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXFxcIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFxcXCJmdW5jdGlvblxcXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXFxcInN5bWJvbFxcXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcXFwiZnVuY3Rpb25cXFwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFxcXCJzeW1ib2xcXFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XFxuXFxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cXFwiKTsgfSB9XFxuXFxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXFxcInZhbHVlXFxcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cXG5cXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxcblxcbnZhciBTZWxlY3Rpb25VdGlscyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XFxuICBmdW5jdGlvbiBTZWxlY3Rpb25VdGlscygpIHtcXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNlbGVjdGlvblV0aWxzKTtcXG5cXG4gICAgdGhpcy5zZWxlY3Rpb24gPSBudWxsO1xcbiAgICB0aGlzLnNhdmVkU2VsZWN0aW9uUmFuZ2UgPSBudWxsO1xcbiAgICB0aGlzLmlzRmFrZUJhY2tncm91bmRFbmFibGVkID0gZmFsc2U7XFxuICAgIHRoaXMuY29tbWFuZEJhY2tncm91bmQgPSAnYmFja0NvbG9yJztcXG4gICAgdGhpcy5jb21tYW5kUmVtb3ZlRm9ybWF0ID0gJ3JlbW92ZUZvcm1hdCc7XFxuICB9XFxuXFxuICBfY3JlYXRlQ2xhc3MoU2VsZWN0aW9uVXRpbHMsIFt7XFxuICAgIGtleTogXFxcImlzRWxlbWVudFxcXCIsXFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc0VsZW1lbnQobm9kZSkge1xcbiAgICAgIHJldHVybiBub2RlICYmIF90eXBlb2Yobm9kZSkgPT09ICdvYmplY3QnICYmIG5vZGUubm9kZVR5cGUgJiYgbm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREU7XFxuICAgIH1cXG4gIH0sIHtcXG4gICAga2V5OiBcXFwiaXNDb250ZW50RWRpdGFibGVcXFwiLFxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNDb250ZW50RWRpdGFibGUoZWxlbWVudCkge1xcbiAgICAgIHJldHVybiBlbGVtZW50LmNvbnRlbnRFZGl0YWJsZSA9PT0gJ3RydWUnO1xcbiAgICB9XFxuICB9LCB7XFxuICAgIGtleTogXFxcImlzTmF0aXZlSW5wdXRcXFwiLFxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNOYXRpdmVJbnB1dCh0YXJnZXQpIHtcXG4gICAgICB2YXIgbmF0aXZlSW5wdXRzID0gWydJTlBVVCcsICdURVhUQVJFQSddO1xcbiAgICAgIHJldHVybiB0YXJnZXQgJiYgdGFyZ2V0LnRhZ05hbWUgPyBuYXRpdmVJbnB1dHMuaW5jbHVkZXModGFyZ2V0LnRhZ05hbWUpIDogZmFsc2U7XFxuICAgIH1cXG4gIH0sIHtcXG4gICAga2V5OiBcXFwiY2FuU2V0Q2FyZXRcXFwiLFxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2FuU2V0Q2FyZXQodGFyZ2V0KSB7XFxuICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XFxuXFxuICAgICAgaWYgKHRoaXMuaXNOYXRpdmVJbnB1dCh0YXJnZXQpKSB7XFxuICAgICAgICBzd2l0Y2ggKHRhcmdldC50eXBlKSB7XFxuICAgICAgICAgIGNhc2UgJ2ZpbGUnOlxcbiAgICAgICAgICBjYXNlICdjaGVja2JveCc6XFxuICAgICAgICAgIGNhc2UgJ3JhZGlvJzpcXG4gICAgICAgICAgY2FzZSAnaGlkZGVuJzpcXG4gICAgICAgICAgY2FzZSAnc3VibWl0JzpcXG4gICAgICAgICAgY2FzZSAnYnV0dG9uJzpcXG4gICAgICAgICAgY2FzZSAnaW1hZ2UnOlxcbiAgICAgICAgICBjYXNlICdyZXNldCc6XFxuICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XFxuICAgICAgICAgICAgYnJlYWs7XFxuXFxuICAgICAgICAgIGRlZmF1bHQ6XFxuICAgICAgICB9XFxuICAgICAgfSBlbHNlIHtcXG4gICAgICAgIHJlc3VsdCA9IHRoaXMuaXNDb250ZW50RWRpdGFibGUodGFyZ2V0KTtcXG4gICAgICB9XFxuXFxuICAgICAgcmV0dXJuIHJlc3VsdDtcXG4gICAgfVxcbiAgfSwge1xcbiAgICBrZXk6IFxcXCJDU1NcXFwiLFxcbiAgICB2YWx1ZTogZnVuY3Rpb24gQ1NTKCkge1xcbiAgICAgIHJldHVybiB7XFxuICAgICAgICBlZGl0b3JXcmFwcGVyOiAnY29kZXgtZWRpdG9yJyxcXG4gICAgICAgIGVkaXRvclpvbmU6ICdjb2RleC1lZGl0b3JfX3JlZGFjdG9yJ1xcbiAgICAgIH07XFxuICAgIH1cXG4gIH0sIHtcXG4gICAga2V5OiBcXFwiYW5jaG9yTm9kZVxcXCIsXFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhbmNob3JOb2RlKCkge1xcbiAgICAgIHZhciBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XFxuICAgICAgcmV0dXJuIHNlbGVjdGlvbiA/IHNlbGVjdGlvbi5hbmNob3JOb2RlIDogbnVsbDtcXG4gICAgfVxcbiAgfSwge1xcbiAgICBrZXk6IFxcXCJhbmNob3JFbGVtZW50XFxcIixcXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFuY2hvckVsZW1lbnQoKSB7XFxuICAgICAgdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcXG5cXG4gICAgICBpZiAoIXNlbGVjdGlvbikge1xcbiAgICAgICAgcmV0dXJuIG51bGw7XFxuICAgICAgfVxcblxcbiAgICAgIHZhciBhbmNob3JOb2RlID0gc2VsZWN0aW9uLmFuY2hvck5vZGU7XFxuXFxuICAgICAgaWYgKCFhbmNob3JOb2RlKSB7XFxuICAgICAgICByZXR1cm4gbnVsbDtcXG4gICAgICB9XFxuXFxuICAgICAgaWYgKCF0aGlzLmlzRWxlbWVudChhbmNob3JOb2RlKSkge1xcbiAgICAgICAgcmV0dXJuIGFuY2hvck5vZGUucGFyZW50RWxlbWVudDtcXG4gICAgICB9IGVsc2Uge1xcbiAgICAgICAgcmV0dXJuIGFuY2hvck5vZGU7XFxuICAgICAgfVxcbiAgICB9XFxuICB9LCB7XFxuICAgIGtleTogXFxcImFuY2hvck9mZnNldFxcXCIsXFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhbmNob3JPZmZzZXQoKSB7XFxuICAgICAgdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcXG4gICAgICByZXR1cm4gc2VsZWN0aW9uID8gc2VsZWN0aW9uLmFuY2hvck9mZnNldCA6IG51bGw7XFxuICAgIH1cXG4gIH0sIHtcXG4gICAga2V5OiBcXFwiaXNDb2xsYXBzZWRcXFwiLFxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNDb2xsYXBzZWQoKSB7XFxuICAgICAgdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcXG4gICAgICByZXR1cm4gc2VsZWN0aW9uID8gc2VsZWN0aW9uLmlzQ29sbGFwc2VkIDogbnVsbDtcXG4gICAgfVxcbiAgfSwge1xcbiAgICBrZXk6IFxcXCJpc0F0RWRpdG9yXFxcIixcXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzQXRFZGl0b3IoKSB7XFxuICAgICAgdmFyIHNlbGVjdGlvbiA9IFNlbGVjdGlvblV0aWxzLmdldCgpO1xcbiAgICAgIHZhciBzZWxlY3RlZE5vZGUgPSBzZWxlY3Rpb24uYW5jaG9yTm9kZSB8fCBzZWxlY3Rpb24uZm9jdXNOb2RlO1xcblxcbiAgICAgIGlmIChzZWxlY3RlZE5vZGUgJiYgc2VsZWN0ZWROb2RlLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSkge1xcbiAgICAgICAgc2VsZWN0ZWROb2RlID0gc2VsZWN0ZWROb2RlLnBhcmVudE5vZGU7XFxuICAgICAgfVxcblxcbiAgICAgIHZhciBlZGl0b3Jab25lID0gbnVsbDtcXG5cXG4gICAgICBpZiAoc2VsZWN0ZWROb2RlKSB7XFxuICAgICAgICBlZGl0b3Jab25lID0gc2VsZWN0ZWROb2RlLmNsb3Nlc3QoXFxcIi5cXFwiLmNvbmNhdChTZWxlY3Rpb25VdGlscy5DU1MuZWRpdG9yWm9uZSkpO1xcbiAgICAgIH1cXG5cXG4gICAgICByZXR1cm4gZWRpdG9yWm9uZSAmJiBlZGl0b3Jab25lLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERTtcXG4gICAgfVxcbiAgfSwge1xcbiAgICBrZXk6IFxcXCJpc1NlbGVjdGlvbkV4aXN0c1xcXCIsXFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc1NlbGVjdGlvbkV4aXN0cygpIHtcXG4gICAgICB2YXIgc2VsZWN0aW9uID0gU2VsZWN0aW9uVXRpbHMuZ2V0KCk7XFxuICAgICAgcmV0dXJuICEhc2VsZWN0aW9uLmFuY2hvck5vZGU7XFxuICAgIH1cXG4gIH0sIHtcXG4gICAga2V5OiBcXFwiZ2V0XFxcIixcXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldCgpIHtcXG4gICAgICByZXR1cm4gd2luZG93LmdldFNlbGVjdGlvbigpO1xcbiAgICB9XFxuICB9LCB7XFxuICAgIGtleTogXFxcInNldEN1cnNvclxcXCIsXFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDdXJzb3IoZWxlbWVudCkge1xcbiAgICAgIHZhciBvZmZzZXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XFxuICAgICAgdmFyIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcXG4gICAgICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xcblxcbiAgICAgIGlmICh0aGlzLmlzTmF0aXZlSW5wdXQoZWxlbWVudCkpIHtcXG4gICAgICAgIGlmICghdGhpcy5jYW5TZXRDYXJldChlbGVtZW50KSkge1xcbiAgICAgICAgICByZXR1cm47XFxuICAgICAgICB9XFxuXFxuICAgICAgICBlbGVtZW50LmZvY3VzKCk7XFxuICAgICAgICBlbGVtZW50LnNlbGVjdGlvblN0YXJ0ID0gZWxlbWVudC5zZWxlY3Rpb25FbmQgPSBvZmZzZXQ7XFxuICAgICAgICByZXR1cm4gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcXG4gICAgICB9XFxuXFxuICAgICAgcmFuZ2Uuc2V0U3RhcnQoZWxlbWVudCwgb2Zmc2V0KTtcXG4gICAgICByYW5nZS5zZXRFbmQoZWxlbWVudCwgb2Zmc2V0KTtcXG4gICAgICBzZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7XFxuICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcXG4gICAgICByZXR1cm4gcmFuZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XFxuICAgIH1cXG4gIH0sIHtcXG4gICAga2V5OiBcXFwicmVtb3ZlRmFrZUJhY2tncm91bmRcXFwiLFxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlRmFrZUJhY2tncm91bmQoKSB7XFxuICAgICAgaWYgKCF0aGlzLmlzRmFrZUJhY2tncm91bmRFbmFibGVkKSB7XFxuICAgICAgICByZXR1cm47XFxuICAgICAgfVxcblxcbiAgICAgIHRoaXMuaXNGYWtlQmFja2dyb3VuZEVuYWJsZWQgPSBmYWxzZTtcXG4gICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCh0aGlzLmNvbW1hbmRSZW1vdmVGb3JtYXQpO1xcbiAgICB9XFxuICB9LCB7XFxuICAgIGtleTogXFxcInNldEZha2VCYWNrZ3JvdW5kXFxcIixcXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldEZha2VCYWNrZ3JvdW5kKCkge1xcbiAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKHRoaXMuY29tbWFuZEJhY2tncm91bmQsIGZhbHNlLCAnI2E4ZDZmZicpO1xcbiAgICAgIHRoaXMuaXNGYWtlQmFja2dyb3VuZEVuYWJsZWQgPSB0cnVlO1xcbiAgICB9XFxuICB9LCB7XFxuICAgIGtleTogXFxcInNhdmVcXFwiLFxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZSgpIHtcXG4gICAgICB0aGlzLnNhdmVkU2VsZWN0aW9uUmFuZ2UgPSBTZWxlY3Rpb25VdGlscy5yYW5nZTtcXG4gICAgfVxcbiAgfSwge1xcbiAgICBrZXk6IFxcXCJyZXN0b3JlXFxcIixcXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc3RvcmUoKSB7XFxuICAgICAgaWYgKCF0aGlzLnNhdmVkU2VsZWN0aW9uUmFuZ2UpIHtcXG4gICAgICAgIHJldHVybjtcXG4gICAgICB9XFxuXFxuICAgICAgdmFyIHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcXG4gICAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7XFxuICAgICAgc2VsLmFkZFJhbmdlKHRoaXMuc2F2ZWRTZWxlY3Rpb25SYW5nZSk7XFxuICAgIH1cXG4gIH0sIHtcXG4gICAga2V5OiBcXFwiY2xlYXJTYXZlZFxcXCIsXFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhclNhdmVkKCkge1xcbiAgICAgIHRoaXMuc2F2ZWRTZWxlY3Rpb25SYW5nZSA9IG51bGw7XFxuICAgIH1cXG4gIH0sIHtcXG4gICAga2V5OiBcXFwiY29sbGFwc2VUb0VuZFxcXCIsXFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb2xsYXBzZVRvRW5kKCkge1xcbiAgICAgIHZhciBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XFxuICAgICAgdmFyIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcXG4gICAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHMoc2VsLmZvY3VzTm9kZSk7XFxuICAgICAgcmFuZ2UuY29sbGFwc2UoZmFsc2UpO1xcbiAgICAgIHNlbC5yZW1vdmVBbGxSYW5nZXMoKTtcXG4gICAgICBzZWwuYWRkUmFuZ2UocmFuZ2UpO1xcbiAgICB9XFxuICB9LCB7XFxuICAgIGtleTogXFxcImZpbmRQYXJlbnRUYWdcXFwiLFxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmluZFBhcmVudFRhZyh0YWdOYW1lKSB7XFxuICAgICAgdmFyIGNsYXNzTmFtZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogbnVsbDtcXG4gICAgICB2YXIgc2VhcmNoRGVwdGggPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDEwO1xcbiAgICAgIHZhciBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XFxuICAgICAgdmFyIHBhcmVudFRhZyA9IG51bGw7XFxuXFxuICAgICAgaWYgKCFzZWxlY3Rpb24gfHwgIXNlbGVjdGlvbi5hbmNob3JOb2RlIHx8ICFzZWxlY3Rpb24uZm9jdXNOb2RlKSB7XFxuICAgICAgICByZXR1cm4gbnVsbDtcXG4gICAgICB9XFxuXFxuICAgICAgdmFyIGJvdW5kTm9kZXMgPSBbc2VsZWN0aW9uLmFuY2hvck5vZGUsIHNlbGVjdGlvbi5mb2N1c05vZGVdO1xcbiAgICAgIGJvdW5kTm9kZXMuZm9yRWFjaChmdW5jdGlvbiAocGFyZW50KSB7XFxuICAgICAgICB2YXIgc2VhcmNoRGVwdGhJdGVyYWJsZSA9IHNlYXJjaERlcHRoO1xcblxcbiAgICAgICAgd2hpbGUgKHNlYXJjaERlcHRoSXRlcmFibGUgPiAwICYmIHBhcmVudC5wYXJlbnROb2RlKSB7XFxuICAgICAgICAgIGlmIChwYXJlbnQudGFnTmFtZSA9PT0gdGFnTmFtZSkge1xcbiAgICAgICAgICAgIHBhcmVudFRhZyA9IHBhcmVudDtcXG5cXG4gICAgICAgICAgICBpZiAoY2xhc3NOYW1lICYmIHBhcmVudC5jbGFzc0xpc3QgJiYgIXBhcmVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSkge1xcbiAgICAgICAgICAgICAgcGFyZW50VGFnID0gbnVsbDtcXG4gICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgaWYgKHBhcmVudFRhZykge1xcbiAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICB9XFxuXFxuICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xcbiAgICAgICAgICBzZWFyY2hEZXB0aEl0ZXJhYmxlLS07XFxuICAgICAgICB9XFxuICAgICAgfSk7XFxuICAgICAgcmV0dXJuIHBhcmVudFRhZztcXG4gICAgfVxcbiAgfSwge1xcbiAgICBrZXk6IFxcXCJleHBhbmRUb1RhZ1xcXCIsXFxuICAgIHZhbHVlOiBmdW5jdGlvbiBleHBhbmRUb1RhZyhlbGVtZW50KSB7XFxuICAgICAgdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcXG4gICAgICBzZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7XFxuICAgICAgdmFyIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcXG4gICAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHMoZWxlbWVudCk7XFxuICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcXG4gICAgfVxcbiAgfV0sIFt7XFxuICAgIGtleTogXFxcInJhbmdlXFxcIixcXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XFxuICAgICAgdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcXG4gICAgICByZXR1cm4gc2VsZWN0aW9uICYmIHNlbGVjdGlvbi5yYW5nZUNvdW50ID8gc2VsZWN0aW9uLmdldFJhbmdlQXQoMCkgOiBudWxsO1xcbiAgICB9XFxuICB9LCB7XFxuICAgIGtleTogXFxcInJlY3RcXFwiLFxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcXG4gICAgICB2YXIgc2VsID0gZG9jdW1lbnQuc2VsZWN0aW9uLFxcbiAgICAgICAgICByYW5nZTtcXG4gICAgICB2YXIgcmVjdCA9IHtcXG4gICAgICAgIHg6IDAsXFxuICAgICAgICB5OiAwLFxcbiAgICAgICAgd2lkdGg6IDAsXFxuICAgICAgICBoZWlnaHQ6IDBcXG4gICAgICB9O1xcblxcbiAgICAgIGlmIChzZWwgJiYgc2VsLnR5cGUgIT09ICdDb250cm9sJykge1xcbiAgICAgICAgcmFuZ2UgPSBzZWwuY3JlYXRlUmFuZ2UoKTtcXG4gICAgICAgIHJlY3QueCA9IHJhbmdlLmJvdW5kaW5nTGVmdDtcXG4gICAgICAgIHJlY3QueSA9IHJhbmdlLmJvdW5kaW5nVG9wO1xcbiAgICAgICAgcmVjdC53aWR0aCA9IHJhbmdlLmJvdW5kaW5nV2lkdGg7XFxuICAgICAgICByZWN0LmhlaWdodCA9IHJhbmdlLmJvdW5kaW5nSGVpZ2h0O1xcbiAgICAgICAgcmV0dXJuIHJlY3Q7XFxuICAgICAgfVxcblxcbiAgICAgIGlmICghd2luZG93LmdldFNlbGVjdGlvbikge1xcbiAgICAgICAgcmV0dXJuIHJlY3Q7XFxuICAgICAgfVxcblxcbiAgICAgIHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcXG5cXG4gICAgICBpZiAoc2VsLnJhbmdlQ291bnQgPT09IG51bGwgfHwgaXNOYU4oc2VsLnJhbmdlQ291bnQpKSB7XFxuICAgICAgICByZXR1cm4gcmVjdDtcXG4gICAgICB9XFxuXFxuICAgICAgaWYgKHNlbC5yYW5nZUNvdW50ID09PSAwKSB7XFxuICAgICAgICByZXR1cm4gcmVjdDtcXG4gICAgICB9XFxuXFxuICAgICAgcmFuZ2UgPSBzZWwuZ2V0UmFuZ2VBdCgwKS5jbG9uZVJhbmdlKCk7XFxuXFxuICAgICAgaWYgKHJhbmdlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCkge1xcbiAgICAgICAgcmVjdCA9IHJhbmdlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xcbiAgICAgIH1cXG5cXG4gICAgICBpZiAocmVjdC54ID09PSAwICYmIHJlY3QueSA9PT0gMCkge1xcbiAgICAgICAgdmFyIHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XFxuXFxuICAgICAgICBpZiAoc3Bhbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QpIHtcXG4gICAgICAgICAgc3Bhbi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcXFwiXFxcXHUyMDBCXFxcIikpO1xcbiAgICAgICAgICByYW5nZS5pbnNlcnROb2RlKHNwYW4pO1xcbiAgICAgICAgICByZWN0ID0gc3Bhbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcXG4gICAgICAgICAgdmFyIHNwYW5QYXJlbnQgPSBzcGFuLnBhcmVudE5vZGU7XFxuICAgICAgICAgIHNwYW5QYXJlbnQucmVtb3ZlQ2hpbGQoc3Bhbik7XFxuICAgICAgICAgIHNwYW5QYXJlbnQubm9ybWFsaXplKCk7XFxuICAgICAgICB9XFxuICAgICAgfVxcblxcbiAgICAgIHJldHVybiByZWN0O1xcbiAgICB9XFxuICB9LCB7XFxuICAgIGtleTogXFxcInRleHRcXFwiLFxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcXG4gICAgICByZXR1cm4gd2luZG93LmdldFNlbGVjdGlvbiA/IHdpbmRvdy5nZXRTZWxlY3Rpb24oKS50b1N0cmluZygpIDogJyc7XFxuICAgIH1cXG4gIH1dKTtcXG5cXG4gIHJldHVybiBTZWxlY3Rpb25VdGlscztcXG59KCk7XFxuXFxuXFxuXFxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vSHlwZXJsaW5rLy4vc3JjL1NlbGVjdGlvblV0aWxzLmpzP1wiKTtcblxuLyoqKi8gfSlcblxuLyoqKioqKi8gfSlbXCJkZWZhdWx0XCJdO1xufSk7IiwiZXhwb3J0IHsgZGVmYXVsdCB9IGZyb20gJy4vdG9vbCc7XG5leHBvcnQgeyBJdGFsaWNJbmxpbmVUb29sLCBTdHJvbmdJbmxpbmVUb29sLCBVbmRlcmxpbmVJbmxpbmVUb29sLCB9IGZyb20gJy4vaW5saW5lLXRvb2xzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsImltcG9ydCBjcmVhdGVHZW5lcmljSW5saW5lVG9vbCBmcm9tICcuL3Rvb2wnO1xuZXhwb3J0IHZhciBJdGFsaWNJbmxpbmVUb29sID0gY3JlYXRlR2VuZXJpY0lubGluZVRvb2woe1xuICAgIHNhbml0aXplOiB7XG4gICAgICAgIGVtOiB7fSxcbiAgICB9LFxuICAgIHNob3J0Y3V0OiAnQ01EK0knLFxuICAgIHRhZ05hbWU6ICdFTScsXG4gICAgdG9vbGJveEljb246IFxuICAgIC8vIGljb24gZWRpdG9yLWpzIHVzZXNcbiAgICAnPHN2ZyBjbGFzcz1cImljb24gaWNvbi0taXRhbGljXCIgd2lkdGg9XCIzNHB4XCIgaGVpZ2h0PVwiMzRweFwiPjx1c2UgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgeGxpbms6aHJlZj1cIiNpdGFsaWNcIj48L3VzZT48L3N2Zz4nLFxufSk7XG5leHBvcnQgdmFyIFN0cm9uZ0lubGluZVRvb2wgPSBjcmVhdGVHZW5lcmljSW5saW5lVG9vbCh7XG4gICAgc2FuaXRpemU6IHtcbiAgICAgICAgc3Ryb25nOiB7fSxcbiAgICB9LFxuICAgIHNob3J0Y3V0OiAnQ01EK0InLFxuICAgIHRhZ05hbWU6ICdTVFJPTkcnLFxuICAgIHRvb2xib3hJY29uOiAnPHN2ZyBjbGFzcz1cImljb24gaWNvbi0tYm9sZFwiIHdpZHRoPVwiMTJweFwiIGhlaWdodD1cIjE0cHhcIj48dXNlIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHhsaW5rOmhyZWY9XCIjYm9sZFwiPjwvdXNlPjwvc3ZnPicsXG59KTtcbmV4cG9ydCB2YXIgVW5kZXJsaW5lSW5saW5lVG9vbCA9IGNyZWF0ZUdlbmVyaWNJbmxpbmVUb29sKHtcbiAgICBzYW5pdGl6ZToge1xuICAgICAgICB1OiB7fSxcbiAgICB9LFxuICAgIHRhZ05hbWU6ICdVJyxcbiAgICAvLyBpY29uIHRha2VuIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL211aS1vcmcvbWF0ZXJpYWwtdWkvYmxvYi80ZmJhMGRhZmQzMGY2MDg5MzdlZmEzMjg4M2QxNTFiYTAxZmM5NjgxL3BhY2thZ2VzL21hdGVyaWFsLXVpLWljb25zL3NyYy9Gb3JtYXRVbmRlcmxpbmVkLmpzXG4gICAgdG9vbGJveEljb246ICc8c3ZnIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCItOCAwIDM4IDI0XCI+PHBhdGggZD1cIk0xMiAxN2MzLjMxIDAgNi0yLjY5IDYtNlYzaC0yLjV2OGMwIDEuOTMtMS41NyAzLjUtMy41IDMuNVM4LjUgMTIuOTMgOC41IDExVjNINnY4YzAgMy4zMSAyLjY5IDYgNiA2em0tNyAydjJoMTR2LTJINXpcIj48L3BhdGg+PC9zdmc+Jyxcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5saW5lLXRvb2xzLmpzLm1hcCIsIi8qKlxuICogR2VuZXJpY0lubGluZVRvb2wgcmV0dXJucyBhbiBFZGl0b3JKUy5JbmxpbmVUb29sIGNhcGFibGUgb2Ygd3JhcHBpbmcgYVxuICogc2VsZWN0ZWQgdGV4dCB3aXRoIGFueSBnaXZlbiBgdGFnTmFtZWAuXG4gKlxuICogaW5zcGlyZWQgYnlcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2VkaXRvci1qcy9tYXJrZXIvYmxvYi9jMzA2YmNiMzNjODhlYWEzYzE3MmVhZjM4N2ZiY2QwNmFlNmIyOTdmL3NyYy9pbmRleC5qc1xuICovXG52YXIgY3JlYXRlR2VuZXJpY0lubGluZVRvb2wgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgX2I7XG4gICAgdmFyIHNhbml0aXplID0gX2Euc2FuaXRpemUsIHNob3J0Y3V0ID0gX2Euc2hvcnRjdXQsIHRhZ05hbWUgPSBfYS50YWdOYW1lLCB0b29sYm94SWNvbiA9IF9hLnRvb2xib3hJY29uO1xuICAgIHJldHVybiBfYiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQHBhcmFtIHt7YXBpOiBvYmplY3R9fSAgLSBFZGl0b3IuanMgQVBJXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uIEdlbmVyaWNJbmxpbmVUb29sKF9hKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFwaSA9IF9hLmFwaTtcbiAgICAgICAgICAgICAgICB0aGlzLmFwaSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5idXR0b24gPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMudGFnID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLmljb25DbGFzc2VzID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLmFwaSA9IGFwaTtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBUb29sYmFyIEJ1dHRvblxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogQHR5cGUge0hUTUxFbGVtZW50fG51bGx9XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgdGhpcy5idXR0b24gPSBudWxsO1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRhZyB0aGF0IHNob3VsZCBpcyByZW5kZXJlZCBpbiB0aGUgZWRpdG9yXG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHRoaXMudGFnID0gdGFnTmFtZTtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDU1MgY2xhc3Nlc1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHRoaXMuaWNvbkNsYXNzZXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2U6IHRoaXMuYXBpLnN0eWxlcy5pbmxpbmVUb29sQnV0dG9uLFxuICAgICAgICAgICAgICAgICAgICBhY3RpdmU6IHRoaXMuYXBpLnN0eWxlcy5pbmxpbmVUb29sQnV0dG9uQWN0aXZlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENyZWF0ZSBidXR0b24gZWxlbWVudCBmb3IgVG9vbGJhclxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEByZXR1cm4ge0hUTUxCdXR0b25FbGVtZW50fVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBHZW5lcmljSW5saW5lVG9vbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5idXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICAgICAgICAgIHRoaXMuYnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5pY29uQ2xhc3Nlcy5iYXNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1dHRvbi5pbm5lckhUTUwgPSB0aGlzLnRvb2xib3hJY29uO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmJ1dHRvbjtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFdyYXAvVW53cmFwIHNlbGVjdGVkIGZyYWdtZW50XG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQHBhcmFtIHtSYW5nZX0gcmFuZ2UgLSBzZWxlY3RlZCBmcmFnbWVudFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBHZW5lcmljSW5saW5lVG9vbC5wcm90b3R5cGUuc3Vycm91bmQgPSBmdW5jdGlvbiAocmFuZ2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXJhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHRlcm1XcmFwcGVyID0gdGhpcy5hcGkuc2VsZWN0aW9uLmZpbmRQYXJlbnRUYWcodGhpcy50YWcpO1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIElmIHN0YXJ0IG9yIGVuZCBvZiBzZWxlY3Rpb24gaXMgaW4gdGhlIGhpZ2hsaWdodGVkIGJsb2NrXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaWYgKHRlcm1XcmFwcGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW53cmFwKHRlcm1XcmFwcGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3JhcChyYW5nZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogV3JhcCBzZWxlY3Rpb24gd2l0aCB0ZXJtLXRhZ1xuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBwYXJhbSB7UmFuZ2V9IHJhbmdlIC0gc2VsZWN0ZWQgZnJhZ21lbnRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgR2VuZXJpY0lubGluZVRvb2wucHJvdG90eXBlLndyYXAgPSBmdW5jdGlvbiAocmFuZ2UpIHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDcmVhdGUgYSB3cmFwcGVyIGZvciBnaXZlbiB0YWdOYW1lXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgdmFyIHN0cm9uZ0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRoaXMudGFnKTtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBTdXJyb3VuZENvbnRlbnQgdGhyb3dzIGFuIGVycm9yIGlmIHRoZSBSYW5nZSBzcGxpdHMgYSBub24tVGV4dCBub2RlIHdpdGggb25seSBvbmUgb2YgaXRzIGJvdW5kYXJ5IHBvaW50c1xuICAgICAgICAgICAgICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9SYW5nZS9zdXJyb3VuZENvbnRlbnRzfVxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogLy8gcmFuZ2Uuc3Vycm91bmRDb250ZW50cyhzcGFuKTtcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBzdHJvbmdFbGVtZW50LmFwcGVuZENoaWxkKHJhbmdlLmV4dHJhY3RDb250ZW50cygpKTtcbiAgICAgICAgICAgICAgICByYW5nZS5pbnNlcnROb2RlKHN0cm9uZ0VsZW1lbnQpO1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEV4cGFuZCAoYWRkKSBzZWxlY3Rpb24gdG8gaGlnaGxpZ2h0ZWQgYmxvY2tcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICB0aGlzLmFwaS5zZWxlY3Rpb24uZXhwYW5kVG9UYWcoc3Ryb25nRWxlbWVudCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBVbndyYXAgdGVybS10YWdcbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0ZXJtV3JhcHBlciAtIHRlcm0gd3JhcHBlciB0YWdcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgR2VuZXJpY0lubGluZVRvb2wucHJvdG90eXBlLnVud3JhcCA9IGZ1bmN0aW9uICh0ZXJtV3JhcHBlcikge1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEV4cGFuZCBzZWxlY3Rpb24gdG8gYWxsIHRlcm0tdGFnXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgdGhpcy5hcGkuc2VsZWN0aW9uLmV4cGFuZFRvVGFnKHRlcm1XcmFwcGVyKTtcbiAgICAgICAgICAgICAgICB2YXIgc2VsID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IHNlbC5nZXRSYW5nZUF0KDApO1xuICAgICAgICAgICAgICAgIHZhciB1bndyYXBwZWRDb250ZW50ID0gcmFuZ2UuZXh0cmFjdENvbnRlbnRzKCk7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUmVtb3ZlIGVtcHR5IHRlcm0tdGFnXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgdGVybVdyYXBwZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0ZXJtV3JhcHBlcik7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogSW5zZXJ0IGV4dHJhY3RlZCBjb250ZW50XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgcmFuZ2UuaW5zZXJ0Tm9kZSh1bndyYXBwZWRDb250ZW50KTtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBSZXN0b3JlIHNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHNlbC5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgICAgICAgICBzZWwuYWRkUmFuZ2UocmFuZ2UpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ2hlY2sgYW5kIGNoYW5nZSBUZXJtJ3Mgc3RhdGUgZm9yIGN1cnJlbnQgc2VsZWN0aW9uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIEdlbmVyaWNJbmxpbmVUb29sLnByb3RvdHlwZS5jaGVja1N0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciB0ZXJtVGFnID0gdGhpcy5hcGkuc2VsZWN0aW9uLmZpbmRQYXJlbnRUYWcodGhpcy50YWcpO1xuICAgICAgICAgICAgICAgIHRoaXMuYnV0dG9uLmNsYXNzTGlzdC50b2dnbGUodGhpcy5pY29uQ2xhc3Nlcy5hY3RpdmUsICEhdGVybVRhZyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhdGVybVRhZztcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoR2VuZXJpY0lubGluZVRvb2wucHJvdG90eXBlLCBcInRvb2xib3hJY29uXCIsIHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBHZXQgVG9vbCBpY29uJ3MgU1ZHXG4gICAgICAgICAgICAgICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9vbGJveEljb247XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEdlbmVyaWNJbmxpbmVUb29sLCBcInNhbml0aXplXCIsIHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBTYW5pdGl6ZXIgcnVsZVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm4ge09iamVjdC48c3RyaW5nPn0ge09iamVjdC48c3RyaW5nPn1cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNhbml0aXplO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHZW5lcmljSW5saW5lVG9vbC5wcm90b3R5cGUsIFwic2hvcnRjdXRcIiwge1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFNldCBhIHNob3J0Y3V0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzaG9ydGN1dDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gR2VuZXJpY0lubGluZVRvb2w7XG4gICAgICAgIH0oKSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcGVjaWZpZXMgVG9vbCBhcyBJbmxpbmUgVG9vbGJhciBUb29sXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfYi5pc0lubGluZSA9IHRydWUsXG4gICAgICAgIF9iO1xufTtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUdlbmVyaWNJbmxpbmVUb29sO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG9vbC5qcy5tYXAiLCIoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG4gIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4gIChnbG9iYWwgPSBnbG9iYWwgfHwgc2VsZiwgZ2xvYmFsLk11c3RhY2hlID0gZmFjdG9yeSgpKTtcbn0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qIVxuICAgKiBtdXN0YWNoZS5qcyAtIExvZ2ljLWxlc3Mge3ttdXN0YWNoZX19IHRlbXBsYXRlcyB3aXRoIEphdmFTY3JpcHRcbiAgICogaHR0cDovL2dpdGh1Yi5jb20vamFubC9tdXN0YWNoZS5qc1xuICAgKi9cblxuICB2YXIgb2JqZWN0VG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gaXNBcnJheVBvbHlmaWxsIChvYmplY3QpIHtcbiAgICByZXR1cm4gb2JqZWN0VG9TdHJpbmcuY2FsbChvYmplY3QpID09PSAnW29iamVjdCBBcnJheV0nO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGlzRnVuY3Rpb24gKG9iamVjdCkge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnZnVuY3Rpb24nO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vcmUgY29ycmVjdCB0eXBlb2Ygc3RyaW5nIGhhbmRsaW5nIGFycmF5XG4gICAqIHdoaWNoIG5vcm1hbGx5IHJldHVybnMgdHlwZW9mICdvYmplY3QnXG4gICAqL1xuICBmdW5jdGlvbiB0eXBlU3RyIChvYmopIHtcbiAgICByZXR1cm4gaXNBcnJheShvYmopID8gJ2FycmF5JyA6IHR5cGVvZiBvYmo7XG4gIH1cblxuICBmdW5jdGlvbiBlc2NhcGVSZWdFeHAgKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSgvW1xcLVxcW1xcXXt9KCkqKz8uLFxcXFxcXF4kfCNcXHNdL2csICdcXFxcJCYnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBOdWxsIHNhZmUgd2F5IG9mIGNoZWNraW5nIHdoZXRoZXIgb3Igbm90IGFuIG9iamVjdCxcbiAgICogaW5jbHVkaW5nIGl0cyBwcm90b3R5cGUsIGhhcyBhIGdpdmVuIHByb3BlcnR5XG4gICAqL1xuICBmdW5jdGlvbiBoYXNQcm9wZXJ0eSAob2JqLCBwcm9wTmFtZSkge1xuICAgIHJldHVybiBvYmogIT0gbnVsbCAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiAocHJvcE5hbWUgaW4gb2JqKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTYWZlIHdheSBvZiBkZXRlY3Rpbmcgd2hldGhlciBvciBub3QgdGhlIGdpdmVuIHRoaW5nIGlzIGEgcHJpbWl0aXZlIGFuZFxuICAgKiB3aGV0aGVyIGl0IGhhcyB0aGUgZ2l2ZW4gcHJvcGVydHlcbiAgICovXG4gIGZ1bmN0aW9uIHByaW1pdGl2ZUhhc093blByb3BlcnR5IChwcmltaXRpdmUsIHByb3BOYW1lKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHByaW1pdGl2ZSAhPSBudWxsXG4gICAgICAmJiB0eXBlb2YgcHJpbWl0aXZlICE9PSAnb2JqZWN0J1xuICAgICAgJiYgcHJpbWl0aXZlLmhhc093blByb3BlcnR5XG4gICAgICAmJiBwcmltaXRpdmUuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpXG4gICAgKTtcbiAgfVxuXG4gIC8vIFdvcmthcm91bmQgZm9yIGh0dHBzOi8vaXNzdWVzLmFwYWNoZS5vcmcvamlyYS9icm93c2UvQ09VQ0hEQi01NzdcbiAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qYW5sL211c3RhY2hlLmpzL2lzc3Vlcy8xODlcbiAgdmFyIHJlZ0V4cFRlc3QgPSBSZWdFeHAucHJvdG90eXBlLnRlc3Q7XG4gIGZ1bmN0aW9uIHRlc3RSZWdFeHAgKHJlLCBzdHJpbmcpIHtcbiAgICByZXR1cm4gcmVnRXhwVGVzdC5jYWxsKHJlLCBzdHJpbmcpO1xuICB9XG5cbiAgdmFyIG5vblNwYWNlUmUgPSAvXFxTLztcbiAgZnVuY3Rpb24gaXNXaGl0ZXNwYWNlIChzdHJpbmcpIHtcbiAgICByZXR1cm4gIXRlc3RSZWdFeHAobm9uU3BhY2VSZSwgc3RyaW5nKTtcbiAgfVxuXG4gIHZhciBlbnRpdHlNYXAgPSB7XG4gICAgJyYnOiAnJmFtcDsnLFxuICAgICc8JzogJyZsdDsnLFxuICAgICc+JzogJyZndDsnLFxuICAgICdcIic6ICcmcXVvdDsnLFxuICAgIFwiJ1wiOiAnJiMzOTsnLFxuICAgICcvJzogJyYjeDJGOycsXG4gICAgJ2AnOiAnJiN4NjA7JyxcbiAgICAnPSc6ICcmI3gzRDsnXG4gIH07XG5cbiAgZnVuY3Rpb24gZXNjYXBlSHRtbCAoc3RyaW5nKSB7XG4gICAgcmV0dXJuIFN0cmluZyhzdHJpbmcpLnJlcGxhY2UoL1smPD5cIidgPVxcL10vZywgZnVuY3Rpb24gZnJvbUVudGl0eU1hcCAocykge1xuICAgICAgcmV0dXJuIGVudGl0eU1hcFtzXTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhciB3aGl0ZVJlID0gL1xccyovO1xuICB2YXIgc3BhY2VSZSA9IC9cXHMrLztcbiAgdmFyIGVxdWFsc1JlID0gL1xccyo9LztcbiAgdmFyIGN1cmx5UmUgPSAvXFxzKlxcfS87XG4gIHZhciB0YWdSZSA9IC8jfFxcXnxcXC98PnxcXHt8Jnw9fCEvO1xuXG4gIC8qKlxuICAgKiBCcmVha3MgdXAgdGhlIGdpdmVuIGB0ZW1wbGF0ZWAgc3RyaW5nIGludG8gYSB0cmVlIG9mIHRva2Vucy4gSWYgdGhlIGB0YWdzYFxuICAgKiBhcmd1bWVudCBpcyBnaXZlbiBoZXJlIGl0IG11c3QgYmUgYW4gYXJyYXkgd2l0aCB0d28gc3RyaW5nIHZhbHVlczogdGhlXG4gICAqIG9wZW5pbmcgYW5kIGNsb3NpbmcgdGFncyB1c2VkIGluIHRoZSB0ZW1wbGF0ZSAoZS5nLiBbIFwiPCVcIiwgXCIlPlwiIF0pLiBPZlxuICAgKiBjb3Vyc2UsIHRoZSBkZWZhdWx0IGlzIHRvIHVzZSBtdXN0YWNoZXMgKGkuZS4gbXVzdGFjaGUudGFncykuXG4gICAqXG4gICAqIEEgdG9rZW4gaXMgYW4gYXJyYXkgd2l0aCBhdCBsZWFzdCA0IGVsZW1lbnRzLiBUaGUgZmlyc3QgZWxlbWVudCBpcyB0aGVcbiAgICogbXVzdGFjaGUgc3ltYm9sIHRoYXQgd2FzIHVzZWQgaW5zaWRlIHRoZSB0YWcsIGUuZy4gXCIjXCIgb3IgXCImXCIuIElmIHRoZSB0YWdcbiAgICogZGlkIG5vdCBjb250YWluIGEgc3ltYm9sIChpLmUuIHt7bXlWYWx1ZX19KSB0aGlzIGVsZW1lbnQgaXMgXCJuYW1lXCIuIEZvclxuICAgKiBhbGwgdGV4dCB0aGF0IGFwcGVhcnMgb3V0c2lkZSBhIHN5bWJvbCB0aGlzIGVsZW1lbnQgaXMgXCJ0ZXh0XCIuXG4gICAqXG4gICAqIFRoZSBzZWNvbmQgZWxlbWVudCBvZiBhIHRva2VuIGlzIGl0cyBcInZhbHVlXCIuIEZvciBtdXN0YWNoZSB0YWdzIHRoaXMgaXNcbiAgICogd2hhdGV2ZXIgZWxzZSB3YXMgaW5zaWRlIHRoZSB0YWcgYmVzaWRlcyB0aGUgb3BlbmluZyBzeW1ib2wuIEZvciB0ZXh0IHRva2Vuc1xuICAgKiB0aGlzIGlzIHRoZSB0ZXh0IGl0c2VsZi5cbiAgICpcbiAgICogVGhlIHRoaXJkIGFuZCBmb3VydGggZWxlbWVudHMgb2YgdGhlIHRva2VuIGFyZSB0aGUgc3RhcnQgYW5kIGVuZCBpbmRpY2VzLFxuICAgKiByZXNwZWN0aXZlbHksIG9mIHRoZSB0b2tlbiBpbiB0aGUgb3JpZ2luYWwgdGVtcGxhdGUuXG4gICAqXG4gICAqIFRva2VucyB0aGF0IGFyZSB0aGUgcm9vdCBub2RlIG9mIGEgc3VidHJlZSBjb250YWluIHR3byBtb3JlIGVsZW1lbnRzOiAxKSBhblxuICAgKiBhcnJheSBvZiB0b2tlbnMgaW4gdGhlIHN1YnRyZWUgYW5kIDIpIHRoZSBpbmRleCBpbiB0aGUgb3JpZ2luYWwgdGVtcGxhdGUgYXRcbiAgICogd2hpY2ggdGhlIGNsb3NpbmcgdGFnIGZvciB0aGF0IHNlY3Rpb24gYmVnaW5zLlxuICAgKlxuICAgKiBUb2tlbnMgZm9yIHBhcnRpYWxzIGFsc28gY29udGFpbiB0d28gbW9yZSBlbGVtZW50czogMSkgYSBzdHJpbmcgdmFsdWUgb2ZcbiAgICogaW5kZW5kYXRpb24gcHJpb3IgdG8gdGhhdCB0YWcgYW5kIDIpIHRoZSBpbmRleCBvZiB0aGF0IHRhZyBvbiB0aGF0IGxpbmUgLVxuICAgKiBlZyBhIHZhbHVlIG9mIDIgaW5kaWNhdGVzIHRoZSBwYXJ0aWFsIGlzIHRoZSB0aGlyZCB0YWcgb24gdGhpcyBsaW5lLlxuICAgKi9cbiAgZnVuY3Rpb24gcGFyc2VUZW1wbGF0ZSAodGVtcGxhdGUsIHRhZ3MpIHtcbiAgICBpZiAoIXRlbXBsYXRlKVxuICAgICAgcmV0dXJuIFtdO1xuICAgIHZhciBsaW5lSGFzTm9uU3BhY2UgPSBmYWxzZTtcbiAgICB2YXIgc2VjdGlvbnMgPSBbXTsgICAgIC8vIFN0YWNrIHRvIGhvbGQgc2VjdGlvbiB0b2tlbnNcbiAgICB2YXIgdG9rZW5zID0gW107ICAgICAgIC8vIEJ1ZmZlciB0byBob2xkIHRoZSB0b2tlbnNcbiAgICB2YXIgc3BhY2VzID0gW107ICAgICAgIC8vIEluZGljZXMgb2Ygd2hpdGVzcGFjZSB0b2tlbnMgb24gdGhlIGN1cnJlbnQgbGluZVxuICAgIHZhciBoYXNUYWcgPSBmYWxzZTsgICAgLy8gSXMgdGhlcmUgYSB7e3RhZ319IG9uIHRoZSBjdXJyZW50IGxpbmU/XG4gICAgdmFyIG5vblNwYWNlID0gZmFsc2U7ICAvLyBJcyB0aGVyZSBhIG5vbi1zcGFjZSBjaGFyIG9uIHRoZSBjdXJyZW50IGxpbmU/XG4gICAgdmFyIGluZGVudGF0aW9uID0gJyc7ICAvLyBUcmFja3MgaW5kZW50YXRpb24gZm9yIHRhZ3MgdGhhdCB1c2UgaXRcbiAgICB2YXIgdGFnSW5kZXggPSAwOyAgICAgIC8vIFN0b3JlcyBhIGNvdW50IG9mIG51bWJlciBvZiB0YWdzIGVuY291bnRlcmVkIG9uIGEgbGluZVxuXG4gICAgLy8gU3RyaXBzIGFsbCB3aGl0ZXNwYWNlIHRva2VucyBhcnJheSBmb3IgdGhlIGN1cnJlbnQgbGluZVxuICAgIC8vIGlmIHRoZXJlIHdhcyBhIHt7I3RhZ319IG9uIGl0IGFuZCBvdGhlcndpc2Ugb25seSBzcGFjZS5cbiAgICBmdW5jdGlvbiBzdHJpcFNwYWNlICgpIHtcbiAgICAgIGlmIChoYXNUYWcgJiYgIW5vblNwYWNlKSB7XG4gICAgICAgIHdoaWxlIChzcGFjZXMubGVuZ3RoKVxuICAgICAgICAgIGRlbGV0ZSB0b2tlbnNbc3BhY2VzLnBvcCgpXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNwYWNlcyA9IFtdO1xuICAgICAgfVxuXG4gICAgICBoYXNUYWcgPSBmYWxzZTtcbiAgICAgIG5vblNwYWNlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIG9wZW5pbmdUYWdSZSwgY2xvc2luZ1RhZ1JlLCBjbG9zaW5nQ3VybHlSZTtcbiAgICBmdW5jdGlvbiBjb21waWxlVGFncyAodGFnc1RvQ29tcGlsZSkge1xuICAgICAgaWYgKHR5cGVvZiB0YWdzVG9Db21waWxlID09PSAnc3RyaW5nJylcbiAgICAgICAgdGFnc1RvQ29tcGlsZSA9IHRhZ3NUb0NvbXBpbGUuc3BsaXQoc3BhY2VSZSwgMik7XG5cbiAgICAgIGlmICghaXNBcnJheSh0YWdzVG9Db21waWxlKSB8fCB0YWdzVG9Db21waWxlLmxlbmd0aCAhPT0gMilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHRhZ3M6ICcgKyB0YWdzVG9Db21waWxlKTtcblxuICAgICAgb3BlbmluZ1RhZ1JlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeHAodGFnc1RvQ29tcGlsZVswXSkgKyAnXFxcXHMqJyk7XG4gICAgICBjbG9zaW5nVGFnUmUgPSBuZXcgUmVnRXhwKCdcXFxccyonICsgZXNjYXBlUmVnRXhwKHRhZ3NUb0NvbXBpbGVbMV0pKTtcbiAgICAgIGNsb3NpbmdDdXJseVJlID0gbmV3IFJlZ0V4cCgnXFxcXHMqJyArIGVzY2FwZVJlZ0V4cCgnfScgKyB0YWdzVG9Db21waWxlWzFdKSk7XG4gICAgfVxuXG4gICAgY29tcGlsZVRhZ3ModGFncyB8fCBtdXN0YWNoZS50YWdzKTtcblxuICAgIHZhciBzY2FubmVyID0gbmV3IFNjYW5uZXIodGVtcGxhdGUpO1xuXG4gICAgdmFyIHN0YXJ0LCB0eXBlLCB2YWx1ZSwgY2hyLCB0b2tlbiwgb3BlblNlY3Rpb247XG4gICAgd2hpbGUgKCFzY2FubmVyLmVvcygpKSB7XG4gICAgICBzdGFydCA9IHNjYW5uZXIucG9zO1xuXG4gICAgICAvLyBNYXRjaCBhbnkgdGV4dCBiZXR3ZWVuIHRhZ3MuXG4gICAgICB2YWx1ZSA9IHNjYW5uZXIuc2NhblVudGlsKG9wZW5pbmdUYWdSZSk7XG5cbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgdmFsdWVMZW5ndGggPSB2YWx1ZS5sZW5ndGg7IGkgPCB2YWx1ZUxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgY2hyID0gdmFsdWUuY2hhckF0KGkpO1xuXG4gICAgICAgICAgaWYgKGlzV2hpdGVzcGFjZShjaHIpKSB7XG4gICAgICAgICAgICBzcGFjZXMucHVzaCh0b2tlbnMubGVuZ3RoKTtcbiAgICAgICAgICAgIGluZGVudGF0aW9uICs9IGNocjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbm9uU3BhY2UgPSB0cnVlO1xuICAgICAgICAgICAgbGluZUhhc05vblNwYWNlID0gdHJ1ZTtcbiAgICAgICAgICAgIGluZGVudGF0aW9uICs9ICcgJztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0b2tlbnMucHVzaChbICd0ZXh0JywgY2hyLCBzdGFydCwgc3RhcnQgKyAxIF0pO1xuICAgICAgICAgIHN0YXJ0ICs9IDE7XG5cbiAgICAgICAgICAvLyBDaGVjayBmb3Igd2hpdGVzcGFjZSBvbiB0aGUgY3VycmVudCBsaW5lLlxuICAgICAgICAgIGlmIChjaHIgPT09ICdcXG4nKSB7XG4gICAgICAgICAgICBzdHJpcFNwYWNlKCk7XG4gICAgICAgICAgICBpbmRlbnRhdGlvbiA9ICcnO1xuICAgICAgICAgICAgdGFnSW5kZXggPSAwO1xuICAgICAgICAgICAgbGluZUhhc05vblNwYWNlID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIE1hdGNoIHRoZSBvcGVuaW5nIHRhZy5cbiAgICAgIGlmICghc2Nhbm5lci5zY2FuKG9wZW5pbmdUYWdSZSkpXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBoYXNUYWcgPSB0cnVlO1xuXG4gICAgICAvLyBHZXQgdGhlIHRhZyB0eXBlLlxuICAgICAgdHlwZSA9IHNjYW5uZXIuc2Nhbih0YWdSZSkgfHwgJ25hbWUnO1xuICAgICAgc2Nhbm5lci5zY2FuKHdoaXRlUmUpO1xuXG4gICAgICAvLyBHZXQgdGhlIHRhZyB2YWx1ZS5cbiAgICAgIGlmICh0eXBlID09PSAnPScpIHtcbiAgICAgICAgdmFsdWUgPSBzY2FubmVyLnNjYW5VbnRpbChlcXVhbHNSZSk7XG4gICAgICAgIHNjYW5uZXIuc2NhbihlcXVhbHNSZSk7XG4gICAgICAgIHNjYW5uZXIuc2NhblVudGlsKGNsb3NpbmdUYWdSZSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICd7Jykge1xuICAgICAgICB2YWx1ZSA9IHNjYW5uZXIuc2NhblVudGlsKGNsb3NpbmdDdXJseVJlKTtcbiAgICAgICAgc2Nhbm5lci5zY2FuKGN1cmx5UmUpO1xuICAgICAgICBzY2FubmVyLnNjYW5VbnRpbChjbG9zaW5nVGFnUmUpO1xuICAgICAgICB0eXBlID0gJyYnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSBzY2FubmVyLnNjYW5VbnRpbChjbG9zaW5nVGFnUmUpO1xuICAgICAgfVxuXG4gICAgICAvLyBNYXRjaCB0aGUgY2xvc2luZyB0YWcuXG4gICAgICBpZiAoIXNjYW5uZXIuc2NhbihjbG9zaW5nVGFnUmUpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuY2xvc2VkIHRhZyBhdCAnICsgc2Nhbm5lci5wb3MpO1xuXG4gICAgICBpZiAodHlwZSA9PSAnPicpIHtcbiAgICAgICAgdG9rZW4gPSBbIHR5cGUsIHZhbHVlLCBzdGFydCwgc2Nhbm5lci5wb3MsIGluZGVudGF0aW9uLCB0YWdJbmRleCwgbGluZUhhc05vblNwYWNlIF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b2tlbiA9IFsgdHlwZSwgdmFsdWUsIHN0YXJ0LCBzY2FubmVyLnBvcyBdO1xuICAgICAgfVxuICAgICAgdGFnSW5kZXgrKztcbiAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcblxuICAgICAgaWYgKHR5cGUgPT09ICcjJyB8fCB0eXBlID09PSAnXicpIHtcbiAgICAgICAgc2VjdGlvbnMucHVzaCh0b2tlbik7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICcvJykge1xuICAgICAgICAvLyBDaGVjayBzZWN0aW9uIG5lc3RpbmcuXG4gICAgICAgIG9wZW5TZWN0aW9uID0gc2VjdGlvbnMucG9wKCk7XG5cbiAgICAgICAgaWYgKCFvcGVuU2VjdGlvbilcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vub3BlbmVkIHNlY3Rpb24gXCInICsgdmFsdWUgKyAnXCIgYXQgJyArIHN0YXJ0KTtcblxuICAgICAgICBpZiAob3BlblNlY3Rpb25bMV0gIT09IHZhbHVlKVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5jbG9zZWQgc2VjdGlvbiBcIicgKyBvcGVuU2VjdGlvblsxXSArICdcIiBhdCAnICsgc3RhcnQpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnbmFtZScgfHwgdHlwZSA9PT0gJ3snIHx8IHR5cGUgPT09ICcmJykge1xuICAgICAgICBub25TcGFjZSA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICc9Jykge1xuICAgICAgICAvLyBTZXQgdGhlIHRhZ3MgZm9yIHRoZSBuZXh0IHRpbWUgYXJvdW5kLlxuICAgICAgICBjb21waWxlVGFncyh2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc3RyaXBTcGFjZSgpO1xuXG4gICAgLy8gTWFrZSBzdXJlIHRoZXJlIGFyZSBubyBvcGVuIHNlY3Rpb25zIHdoZW4gd2UncmUgZG9uZS5cbiAgICBvcGVuU2VjdGlvbiA9IHNlY3Rpb25zLnBvcCgpO1xuXG4gICAgaWYgKG9wZW5TZWN0aW9uKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmNsb3NlZCBzZWN0aW9uIFwiJyArIG9wZW5TZWN0aW9uWzFdICsgJ1wiIGF0ICcgKyBzY2FubmVyLnBvcyk7XG5cbiAgICByZXR1cm4gbmVzdFRva2VucyhzcXVhc2hUb2tlbnModG9rZW5zKSk7XG4gIH1cblxuICAvKipcbiAgICogQ29tYmluZXMgdGhlIHZhbHVlcyBvZiBjb25zZWN1dGl2ZSB0ZXh0IHRva2VucyBpbiB0aGUgZ2l2ZW4gYHRva2Vuc2AgYXJyYXlcbiAgICogdG8gYSBzaW5nbGUgdG9rZW4uXG4gICAqL1xuICBmdW5jdGlvbiBzcXVhc2hUb2tlbnMgKHRva2Vucykge1xuICAgIHZhciBzcXVhc2hlZFRva2VucyA9IFtdO1xuXG4gICAgdmFyIHRva2VuLCBsYXN0VG9rZW47XG4gICAgZm9yICh2YXIgaSA9IDAsIG51bVRva2VucyA9IHRva2Vucy5sZW5ndGg7IGkgPCBudW1Ub2tlbnM7ICsraSkge1xuICAgICAgdG9rZW4gPSB0b2tlbnNbaV07XG5cbiAgICAgIGlmICh0b2tlbikge1xuICAgICAgICBpZiAodG9rZW5bMF0gPT09ICd0ZXh0JyAmJiBsYXN0VG9rZW4gJiYgbGFzdFRva2VuWzBdID09PSAndGV4dCcpIHtcbiAgICAgICAgICBsYXN0VG9rZW5bMV0gKz0gdG9rZW5bMV07XG4gICAgICAgICAgbGFzdFRva2VuWzNdID0gdG9rZW5bM107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3F1YXNoZWRUb2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgbGFzdFRva2VuID0gdG9rZW47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3F1YXNoZWRUb2tlbnM7XG4gIH1cblxuICAvKipcbiAgICogRm9ybXMgdGhlIGdpdmVuIGFycmF5IG9mIGB0b2tlbnNgIGludG8gYSBuZXN0ZWQgdHJlZSBzdHJ1Y3R1cmUgd2hlcmVcbiAgICogdG9rZW5zIHRoYXQgcmVwcmVzZW50IGEgc2VjdGlvbiBoYXZlIHR3byBhZGRpdGlvbmFsIGl0ZW1zOiAxKSBhbiBhcnJheSBvZlxuICAgKiBhbGwgdG9rZW5zIHRoYXQgYXBwZWFyIGluIHRoYXQgc2VjdGlvbiBhbmQgMikgdGhlIGluZGV4IGluIHRoZSBvcmlnaW5hbFxuICAgKiB0ZW1wbGF0ZSB0aGF0IHJlcHJlc2VudHMgdGhlIGVuZCBvZiB0aGF0IHNlY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBuZXN0VG9rZW5zICh0b2tlbnMpIHtcbiAgICB2YXIgbmVzdGVkVG9rZW5zID0gW107XG4gICAgdmFyIGNvbGxlY3RvciA9IG5lc3RlZFRva2VucztcbiAgICB2YXIgc2VjdGlvbnMgPSBbXTtcblxuICAgIHZhciB0b2tlbiwgc2VjdGlvbjtcbiAgICBmb3IgKHZhciBpID0gMCwgbnVtVG9rZW5zID0gdG9rZW5zLmxlbmd0aDsgaSA8IG51bVRva2VuczsgKytpKSB7XG4gICAgICB0b2tlbiA9IHRva2Vuc1tpXTtcblxuICAgICAgc3dpdGNoICh0b2tlblswXSkge1xuICAgICAgICBjYXNlICcjJzpcbiAgICAgICAgY2FzZSAnXic6XG4gICAgICAgICAgY29sbGVjdG9yLnB1c2godG9rZW4pO1xuICAgICAgICAgIHNlY3Rpb25zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGNvbGxlY3RvciA9IHRva2VuWzRdID0gW107XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJy8nOlxuICAgICAgICAgIHNlY3Rpb24gPSBzZWN0aW9ucy5wb3AoKTtcbiAgICAgICAgICBzZWN0aW9uWzVdID0gdG9rZW5bMl07XG4gICAgICAgICAgY29sbGVjdG9yID0gc2VjdGlvbnMubGVuZ3RoID4gMCA/IHNlY3Rpb25zW3NlY3Rpb25zLmxlbmd0aCAtIDFdWzRdIDogbmVzdGVkVG9rZW5zO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGNvbGxlY3Rvci5wdXNoKHRva2VuKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmVzdGVkVG9rZW5zO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc2ltcGxlIHN0cmluZyBzY2FubmVyIHRoYXQgaXMgdXNlZCBieSB0aGUgdGVtcGxhdGUgcGFyc2VyIHRvIGZpbmRcbiAgICogdG9rZW5zIGluIHRlbXBsYXRlIHN0cmluZ3MuXG4gICAqL1xuICBmdW5jdGlvbiBTY2FubmVyIChzdHJpbmcpIHtcbiAgICB0aGlzLnN0cmluZyA9IHN0cmluZztcbiAgICB0aGlzLnRhaWwgPSBzdHJpbmc7XG4gICAgdGhpcy5wb3MgPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYHRydWVgIGlmIHRoZSB0YWlsIGlzIGVtcHR5IChlbmQgb2Ygc3RyaW5nKS5cbiAgICovXG4gIFNjYW5uZXIucHJvdG90eXBlLmVvcyA9IGZ1bmN0aW9uIGVvcyAoKSB7XG4gICAgcmV0dXJuIHRoaXMudGFpbCA9PT0gJyc7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRyaWVzIHRvIG1hdGNoIHRoZSBnaXZlbiByZWd1bGFyIGV4cHJlc3Npb24gYXQgdGhlIGN1cnJlbnQgcG9zaXRpb24uXG4gICAqIFJldHVybnMgdGhlIG1hdGNoZWQgdGV4dCBpZiBpdCBjYW4gbWF0Y2gsIHRoZSBlbXB0eSBzdHJpbmcgb3RoZXJ3aXNlLlxuICAgKi9cbiAgU2Nhbm5lci5wcm90b3R5cGUuc2NhbiA9IGZ1bmN0aW9uIHNjYW4gKHJlKSB7XG4gICAgdmFyIG1hdGNoID0gdGhpcy50YWlsLm1hdGNoKHJlKTtcblxuICAgIGlmICghbWF0Y2ggfHwgbWF0Y2guaW5kZXggIT09IDApXG4gICAgICByZXR1cm4gJyc7XG5cbiAgICB2YXIgc3RyaW5nID0gbWF0Y2hbMF07XG5cbiAgICB0aGlzLnRhaWwgPSB0aGlzLnRhaWwuc3Vic3RyaW5nKHN0cmluZy5sZW5ndGgpO1xuICAgIHRoaXMucG9zICs9IHN0cmluZy5sZW5ndGg7XG5cbiAgICByZXR1cm4gc3RyaW5nO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTa2lwcyBhbGwgdGV4dCB1bnRpbCB0aGUgZ2l2ZW4gcmVndWxhciBleHByZXNzaW9uIGNhbiBiZSBtYXRjaGVkLiBSZXR1cm5zXG4gICAqIHRoZSBza2lwcGVkIHN0cmluZywgd2hpY2ggaXMgdGhlIGVudGlyZSB0YWlsIGlmIG5vIG1hdGNoIGNhbiBiZSBtYWRlLlxuICAgKi9cbiAgU2Nhbm5lci5wcm90b3R5cGUuc2NhblVudGlsID0gZnVuY3Rpb24gc2NhblVudGlsIChyZSkge1xuICAgIHZhciBpbmRleCA9IHRoaXMudGFpbC5zZWFyY2gocmUpLCBtYXRjaDtcblxuICAgIHN3aXRjaCAoaW5kZXgpIHtcbiAgICAgIGNhc2UgLTE6XG4gICAgICAgIG1hdGNoID0gdGhpcy50YWlsO1xuICAgICAgICB0aGlzLnRhaWwgPSAnJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIG1hdGNoID0gJyc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbWF0Y2ggPSB0aGlzLnRhaWwuc3Vic3RyaW5nKDAsIGluZGV4KTtcbiAgICAgICAgdGhpcy50YWlsID0gdGhpcy50YWlsLnN1YnN0cmluZyhpbmRleCk7XG4gICAgfVxuXG4gICAgdGhpcy5wb3MgKz0gbWF0Y2gubGVuZ3RoO1xuXG4gICAgcmV0dXJuIG1hdGNoO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXByZXNlbnRzIGEgcmVuZGVyaW5nIGNvbnRleHQgYnkgd3JhcHBpbmcgYSB2aWV3IG9iamVjdCBhbmRcbiAgICogbWFpbnRhaW5pbmcgYSByZWZlcmVuY2UgdG8gdGhlIHBhcmVudCBjb250ZXh0LlxuICAgKi9cbiAgZnVuY3Rpb24gQ29udGV4dCAodmlldywgcGFyZW50Q29udGV4dCkge1xuICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgdGhpcy5jYWNoZSA9IHsgJy4nOiB0aGlzLnZpZXcgfTtcbiAgICB0aGlzLnBhcmVudCA9IHBhcmVudENvbnRleHQ7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBjb250ZXh0IHVzaW5nIHRoZSBnaXZlbiB2aWV3IHdpdGggdGhpcyBjb250ZXh0XG4gICAqIGFzIHRoZSBwYXJlbnQuXG4gICAqL1xuICBDb250ZXh0LnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gcHVzaCAodmlldykge1xuICAgIHJldHVybiBuZXcgQ29udGV4dCh2aWV3LCB0aGlzKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIGdpdmVuIG5hbWUgaW4gdGhpcyBjb250ZXh0LCB0cmF2ZXJzaW5nXG4gICAqIHVwIHRoZSBjb250ZXh0IGhpZXJhcmNoeSBpZiB0aGUgdmFsdWUgaXMgYWJzZW50IGluIHRoaXMgY29udGV4dCdzIHZpZXcuXG4gICAqL1xuICBDb250ZXh0LnByb3RvdHlwZS5sb29rdXAgPSBmdW5jdGlvbiBsb29rdXAgKG5hbWUpIHtcbiAgICB2YXIgY2FjaGUgPSB0aGlzLmNhY2hlO1xuXG4gICAgdmFyIHZhbHVlO1xuICAgIGlmIChjYWNoZS5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgdmFsdWUgPSBjYWNoZVtuYW1lXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLCBpbnRlcm1lZGlhdGVWYWx1ZSwgbmFtZXMsIGluZGV4LCBsb29rdXBIaXQgPSBmYWxzZTtcblxuICAgICAgd2hpbGUgKGNvbnRleHQpIHtcbiAgICAgICAgaWYgKG5hbWUuaW5kZXhPZignLicpID4gMCkge1xuICAgICAgICAgIGludGVybWVkaWF0ZVZhbHVlID0gY29udGV4dC52aWV3O1xuICAgICAgICAgIG5hbWVzID0gbmFtZS5zcGxpdCgnLicpO1xuICAgICAgICAgIGluZGV4ID0gMDtcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIFVzaW5nIHRoZSBkb3Qgbm90aW9uIHBhdGggaW4gYG5hbWVgLCB3ZSBkZXNjZW5kIHRocm91Z2ggdGhlXG4gICAgICAgICAgICogbmVzdGVkIG9iamVjdHMuXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBUbyBiZSBjZXJ0YWluIHRoYXQgdGhlIGxvb2t1cCBoYXMgYmVlbiBzdWNjZXNzZnVsLCB3ZSBoYXZlIHRvXG4gICAgICAgICAgICogY2hlY2sgaWYgdGhlIGxhc3Qgb2JqZWN0IGluIHRoZSBwYXRoIGFjdHVhbGx5IGhhcyB0aGUgcHJvcGVydHlcbiAgICAgICAgICAgKiB3ZSBhcmUgbG9va2luZyBmb3IuIFdlIHN0b3JlIHRoZSByZXN1bHQgaW4gYGxvb2t1cEhpdGAuXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBUaGlzIGlzIHNwZWNpYWxseSBuZWNlc3NhcnkgZm9yIHdoZW4gdGhlIHZhbHVlIGhhcyBiZWVuIHNldCB0b1xuICAgICAgICAgICAqIGB1bmRlZmluZWRgIGFuZCB3ZSB3YW50IHRvIGF2b2lkIGxvb2tpbmcgdXAgcGFyZW50IGNvbnRleHRzLlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogSW4gdGhlIGNhc2Ugd2hlcmUgZG90IG5vdGF0aW9uIGlzIHVzZWQsIHdlIGNvbnNpZGVyIHRoZSBsb29rdXBcbiAgICAgICAgICAgKiB0byBiZSBzdWNjZXNzZnVsIGV2ZW4gaWYgdGhlIGxhc3QgXCJvYmplY3RcIiBpbiB0aGUgcGF0aCBpc1xuICAgICAgICAgICAqIG5vdCBhY3R1YWxseSBhbiBvYmplY3QgYnV0IGEgcHJpbWl0aXZlIChlLmcuLCBhIHN0cmluZywgb3IgYW5cbiAgICAgICAgICAgKiBpbnRlZ2VyKSwgYmVjYXVzZSBpdCBpcyBzb21ldGltZXMgdXNlZnVsIHRvIGFjY2VzcyBhIHByb3BlcnR5XG4gICAgICAgICAgICogb2YgYW4gYXV0b2JveGVkIHByaW1pdGl2ZSwgc3VjaCBhcyB0aGUgbGVuZ3RoIG9mIGEgc3RyaW5nLlxuICAgICAgICAgICAqKi9cbiAgICAgICAgICB3aGlsZSAoaW50ZXJtZWRpYXRlVmFsdWUgIT0gbnVsbCAmJiBpbmRleCA8IG5hbWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGluZGV4ID09PSBuYW1lcy5sZW5ndGggLSAxKVxuICAgICAgICAgICAgICBsb29rdXBIaXQgPSAoXG4gICAgICAgICAgICAgICAgaGFzUHJvcGVydHkoaW50ZXJtZWRpYXRlVmFsdWUsIG5hbWVzW2luZGV4XSlcbiAgICAgICAgICAgICAgICB8fCBwcmltaXRpdmVIYXNPd25Qcm9wZXJ0eShpbnRlcm1lZGlhdGVWYWx1ZSwgbmFtZXNbaW5kZXhdKVxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBpbnRlcm1lZGlhdGVWYWx1ZSA9IGludGVybWVkaWF0ZVZhbHVlW25hbWVzW2luZGV4KytdXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW50ZXJtZWRpYXRlVmFsdWUgPSBjb250ZXh0LnZpZXdbbmFtZV07XG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBPbmx5IGNoZWNraW5nIGFnYWluc3QgYGhhc1Byb3BlcnR5YCwgd2hpY2ggYWx3YXlzIHJldHVybnMgYGZhbHNlYCBpZlxuICAgICAgICAgICAqIGBjb250ZXh0LnZpZXdgIGlzIG5vdCBhbiBvYmplY3QuIERlbGliZXJhdGVseSBvbWl0dGluZyB0aGUgY2hlY2tcbiAgICAgICAgICAgKiBhZ2FpbnN0IGBwcmltaXRpdmVIYXNPd25Qcm9wZXJ0eWAgaWYgZG90IG5vdGF0aW9uIGlzIG5vdCB1c2VkLlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogQ29uc2lkZXIgdGhpcyBleGFtcGxlOlxuICAgICAgICAgICAqIGBgYFxuICAgICAgICAgICAqIE11c3RhY2hlLnJlbmRlcihcIlRoZSBsZW5ndGggb2YgYSBmb290YmFsbCBmaWVsZCBpcyB7eyNsZW5ndGh9fXt7bGVuZ3RofX17ey9sZW5ndGh9fS5cIiwge2xlbmd0aDogXCIxMDAgeWFyZHNcIn0pXG4gICAgICAgICAgICogYGBgXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBJZiB3ZSB3ZXJlIHRvIGNoZWNrIGFsc28gYWdhaW5zdCBgcHJpbWl0aXZlSGFzT3duUHJvcGVydHlgLCBhcyB3ZSBkb1xuICAgICAgICAgICAqIGluIHRoZSBkb3Qgbm90YXRpb24gY2FzZSwgdGhlbiByZW5kZXIgY2FsbCB3b3VsZCByZXR1cm46XG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBcIlRoZSBsZW5ndGggb2YgYSBmb290YmFsbCBmaWVsZCBpcyA5LlwiXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiByYXRoZXIgdGhhbiB0aGUgZXhwZWN0ZWQ6XG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBcIlRoZSBsZW5ndGggb2YgYSBmb290YmFsbCBmaWVsZCBpcyAxMDAgeWFyZHMuXCJcbiAgICAgICAgICAgKiovXG4gICAgICAgICAgbG9va3VwSGl0ID0gaGFzUHJvcGVydHkoY29udGV4dC52aWV3LCBuYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsb29rdXBIaXQpIHtcbiAgICAgICAgICB2YWx1ZSA9IGludGVybWVkaWF0ZVZhbHVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dCA9IGNvbnRleHQucGFyZW50O1xuICAgICAgfVxuXG4gICAgICBjYWNoZVtuYW1lXSA9IHZhbHVlO1xuICAgIH1cblxuICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSlcbiAgICAgIHZhbHVlID0gdmFsdWUuY2FsbCh0aGlzLnZpZXcpO1xuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBIFdyaXRlciBrbm93cyBob3cgdG8gdGFrZSBhIHN0cmVhbSBvZiB0b2tlbnMgYW5kIHJlbmRlciB0aGVtIHRvIGFcbiAgICogc3RyaW5nLCBnaXZlbiBhIGNvbnRleHQuIEl0IGFsc28gbWFpbnRhaW5zIGEgY2FjaGUgb2YgdGVtcGxhdGVzIHRvXG4gICAqIGF2b2lkIHRoZSBuZWVkIHRvIHBhcnNlIHRoZSBzYW1lIHRlbXBsYXRlIHR3aWNlLlxuICAgKi9cbiAgZnVuY3Rpb24gV3JpdGVyICgpIHtcbiAgICB0aGlzLnRlbXBsYXRlQ2FjaGUgPSB7XG4gICAgICBfY2FjaGU6IHt9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQgKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVba2V5XSA9IHZhbHVlO1xuICAgICAgfSxcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0IChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlW2tleV07XG4gICAgICB9LFxuICAgICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyICgpIHtcbiAgICAgICAgdGhpcy5fY2FjaGUgPSB7fTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFycyBhbGwgY2FjaGVkIHRlbXBsYXRlcyBpbiB0aGlzIHdyaXRlci5cbiAgICovXG4gIFdyaXRlci5wcm90b3R5cGUuY2xlYXJDYWNoZSA9IGZ1bmN0aW9uIGNsZWFyQ2FjaGUgKCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy50ZW1wbGF0ZUNhY2hlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy50ZW1wbGF0ZUNhY2hlLmNsZWFyKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBQYXJzZXMgYW5kIGNhY2hlcyB0aGUgZ2l2ZW4gYHRlbXBsYXRlYCBhY2NvcmRpbmcgdG8gdGhlIGdpdmVuIGB0YWdzYCBvclxuICAgKiBgbXVzdGFjaGUudGFnc2AgaWYgYHRhZ3NgIGlzIG9taXR0ZWQsICBhbmQgcmV0dXJucyB0aGUgYXJyYXkgb2YgdG9rZW5zXG4gICAqIHRoYXQgaXMgZ2VuZXJhdGVkIGZyb20gdGhlIHBhcnNlLlxuICAgKi9cbiAgV3JpdGVyLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uIHBhcnNlICh0ZW1wbGF0ZSwgdGFncykge1xuICAgIHZhciBjYWNoZSA9IHRoaXMudGVtcGxhdGVDYWNoZTtcbiAgICB2YXIgY2FjaGVLZXkgPSB0ZW1wbGF0ZSArICc6JyArICh0YWdzIHx8IG11c3RhY2hlLnRhZ3MpLmpvaW4oJzonKTtcbiAgICB2YXIgaXNDYWNoZUVuYWJsZWQgPSB0eXBlb2YgY2FjaGUgIT09ICd1bmRlZmluZWQnO1xuICAgIHZhciB0b2tlbnMgPSBpc0NhY2hlRW5hYmxlZCA/IGNhY2hlLmdldChjYWNoZUtleSkgOiB1bmRlZmluZWQ7XG5cbiAgICBpZiAodG9rZW5zID09IHVuZGVmaW5lZCkge1xuICAgICAgdG9rZW5zID0gcGFyc2VUZW1wbGF0ZSh0ZW1wbGF0ZSwgdGFncyk7XG4gICAgICBpc0NhY2hlRW5hYmxlZCAmJiBjYWNoZS5zZXQoY2FjaGVLZXksIHRva2Vucyk7XG4gICAgfVxuICAgIHJldHVybiB0b2tlbnM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEhpZ2gtbGV2ZWwgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byByZW5kZXIgdGhlIGdpdmVuIGB0ZW1wbGF0ZWAgd2l0aFxuICAgKiB0aGUgZ2l2ZW4gYHZpZXdgLlxuICAgKlxuICAgKiBUaGUgb3B0aW9uYWwgYHBhcnRpYWxzYCBhcmd1bWVudCBtYXkgYmUgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlXG4gICAqIG5hbWVzIGFuZCB0ZW1wbGF0ZXMgb2YgcGFydGlhbHMgdGhhdCBhcmUgdXNlZCBpbiB0aGUgdGVtcGxhdGUuIEl0IG1heVxuICAgKiBhbHNvIGJlIGEgZnVuY3Rpb24gdGhhdCBpcyB1c2VkIHRvIGxvYWQgcGFydGlhbCB0ZW1wbGF0ZXMgb24gdGhlIGZseVxuICAgKiB0aGF0IHRha2VzIGEgc2luZ2xlIGFyZ3VtZW50OiB0aGUgbmFtZSBvZiB0aGUgcGFydGlhbC5cbiAgICpcbiAgICogSWYgdGhlIG9wdGlvbmFsIGBjb25maWdgIGFyZ3VtZW50IGlzIGdpdmVuIGhlcmUsIHRoZW4gaXQgc2hvdWxkIGJlIGFuXG4gICAqIG9iamVjdCB3aXRoIGEgYHRhZ3NgIGF0dHJpYnV0ZSBvciBhbiBgZXNjYXBlYCBhdHRyaWJ1dGUgb3IgYm90aC5cbiAgICogSWYgYW4gYXJyYXkgaXMgcGFzc2VkLCB0aGVuIGl0IHdpbGwgYmUgaW50ZXJwcmV0ZWQgdGhlIHNhbWUgd2F5IGFzXG4gICAqIGEgYHRhZ3NgIGF0dHJpYnV0ZSBvbiBhIGBjb25maWdgIG9iamVjdC5cbiAgICpcbiAgICogVGhlIGB0YWdzYCBhdHRyaWJ1dGUgb2YgYSBgY29uZmlnYCBvYmplY3QgbXVzdCBiZSBhbiBhcnJheSB3aXRoIHR3b1xuICAgKiBzdHJpbmcgdmFsdWVzOiB0aGUgb3BlbmluZyBhbmQgY2xvc2luZyB0YWdzIHVzZWQgaW4gdGhlIHRlbXBsYXRlIChlLmcuXG4gICAqIFsgXCI8JVwiLCBcIiU+XCIgXSkuIFRoZSBkZWZhdWx0IGlzIHRvIG11c3RhY2hlLnRhZ3MuXG4gICAqXG4gICAqIFRoZSBgZXNjYXBlYCBhdHRyaWJ1dGUgb2YgYSBgY29uZmlnYCBvYmplY3QgbXVzdCBiZSBhIGZ1bmN0aW9uIHdoaWNoXG4gICAqIGFjY2VwdHMgYSBzdHJpbmcgYXMgaW5wdXQgYW5kIG91dHB1dHMgYSBzYWZlbHkgZXNjYXBlZCBzdHJpbmcuXG4gICAqIElmIGFuIGBlc2NhcGVgIGZ1bmN0aW9uIGlzIG5vdCBwcm92aWRlZCwgdGhlbiBhbiBIVE1MLXNhZmUgc3RyaW5nXG4gICAqIGVzY2FwaW5nIGZ1bmN0aW9uIGlzIHVzZWQgYXMgdGhlIGRlZmF1bHQuXG4gICAqL1xuICBXcml0ZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlciAodGVtcGxhdGUsIHZpZXcsIHBhcnRpYWxzLCBjb25maWcpIHtcbiAgICB2YXIgdGFncyA9IHRoaXMuZ2V0Q29uZmlnVGFncyhjb25maWcpO1xuICAgIHZhciB0b2tlbnMgPSB0aGlzLnBhcnNlKHRlbXBsYXRlLCB0YWdzKTtcbiAgICB2YXIgY29udGV4dCA9ICh2aWV3IGluc3RhbmNlb2YgQ29udGV4dCkgPyB2aWV3IDogbmV3IENvbnRleHQodmlldywgdW5kZWZpbmVkKTtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJUb2tlbnModG9rZW5zLCBjb250ZXh0LCBwYXJ0aWFscywgdGVtcGxhdGUsIGNvbmZpZyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIExvdy1sZXZlbCBtZXRob2QgdGhhdCByZW5kZXJzIHRoZSBnaXZlbiBhcnJheSBvZiBgdG9rZW5zYCB1c2luZ1xuICAgKiB0aGUgZ2l2ZW4gYGNvbnRleHRgIGFuZCBgcGFydGlhbHNgLlxuICAgKlxuICAgKiBOb3RlOiBUaGUgYG9yaWdpbmFsVGVtcGxhdGVgIGlzIG9ubHkgZXZlciB1c2VkIHRvIGV4dHJhY3QgdGhlIHBvcnRpb25cbiAgICogb2YgdGhlIG9yaWdpbmFsIHRlbXBsYXRlIHRoYXQgd2FzIGNvbnRhaW5lZCBpbiBhIGhpZ2hlci1vcmRlciBzZWN0aW9uLlxuICAgKiBJZiB0aGUgdGVtcGxhdGUgZG9lc24ndCB1c2UgaGlnaGVyLW9yZGVyIHNlY3Rpb25zLCB0aGlzIGFyZ3VtZW50IG1heVxuICAgKiBiZSBvbWl0dGVkLlxuICAgKi9cbiAgV3JpdGVyLnByb3RvdHlwZS5yZW5kZXJUb2tlbnMgPSBmdW5jdGlvbiByZW5kZXJUb2tlbnMgKHRva2VucywgY29udGV4dCwgcGFydGlhbHMsIG9yaWdpbmFsVGVtcGxhdGUsIGNvbmZpZykge1xuICAgIHZhciBidWZmZXIgPSAnJztcblxuICAgIHZhciB0b2tlbiwgc3ltYm9sLCB2YWx1ZTtcbiAgICBmb3IgKHZhciBpID0gMCwgbnVtVG9rZW5zID0gdG9rZW5zLmxlbmd0aDsgaSA8IG51bVRva2VuczsgKytpKSB7XG4gICAgICB2YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgIHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgc3ltYm9sID0gdG9rZW5bMF07XG5cbiAgICAgIGlmIChzeW1ib2wgPT09ICcjJykgdmFsdWUgPSB0aGlzLnJlbmRlclNlY3Rpb24odG9rZW4sIGNvbnRleHQsIHBhcnRpYWxzLCBvcmlnaW5hbFRlbXBsYXRlLCBjb25maWcpO1xuICAgICAgZWxzZSBpZiAoc3ltYm9sID09PSAnXicpIHZhbHVlID0gdGhpcy5yZW5kZXJJbnZlcnRlZCh0b2tlbiwgY29udGV4dCwgcGFydGlhbHMsIG9yaWdpbmFsVGVtcGxhdGUsIGNvbmZpZyk7XG4gICAgICBlbHNlIGlmIChzeW1ib2wgPT09ICc+JykgdmFsdWUgPSB0aGlzLnJlbmRlclBhcnRpYWwodG9rZW4sIGNvbnRleHQsIHBhcnRpYWxzLCBjb25maWcpO1xuICAgICAgZWxzZSBpZiAoc3ltYm9sID09PSAnJicpIHZhbHVlID0gdGhpcy51bmVzY2FwZWRWYWx1ZSh0b2tlbiwgY29udGV4dCk7XG4gICAgICBlbHNlIGlmIChzeW1ib2wgPT09ICduYW1lJykgdmFsdWUgPSB0aGlzLmVzY2FwZWRWYWx1ZSh0b2tlbiwgY29udGV4dCwgY29uZmlnKTtcbiAgICAgIGVsc2UgaWYgKHN5bWJvbCA9PT0gJ3RleHQnKSB2YWx1ZSA9IHRoaXMucmF3VmFsdWUodG9rZW4pO1xuXG4gICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgICAgYnVmZmVyICs9IHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBidWZmZXI7XG4gIH07XG5cbiAgV3JpdGVyLnByb3RvdHlwZS5yZW5kZXJTZWN0aW9uID0gZnVuY3Rpb24gcmVuZGVyU2VjdGlvbiAodG9rZW4sIGNvbnRleHQsIHBhcnRpYWxzLCBvcmlnaW5hbFRlbXBsYXRlLCBjb25maWcpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGJ1ZmZlciA9ICcnO1xuICAgIHZhciB2YWx1ZSA9IGNvbnRleHQubG9va3VwKHRva2VuWzFdKTtcblxuICAgIC8vIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byByZW5kZXIgYW4gYXJiaXRyYXJ5IHRlbXBsYXRlXG4gICAgLy8gaW4gdGhlIGN1cnJlbnQgY29udGV4dCBieSBoaWdoZXItb3JkZXIgc2VjdGlvbnMuXG4gICAgZnVuY3Rpb24gc3ViUmVuZGVyICh0ZW1wbGF0ZSkge1xuICAgICAgcmV0dXJuIHNlbGYucmVuZGVyKHRlbXBsYXRlLCBjb250ZXh0LCBwYXJ0aWFscywgY29uZmlnKTtcbiAgICB9XG5cbiAgICBpZiAoIXZhbHVlKSByZXR1cm47XG5cbiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGZvciAodmFyIGogPSAwLCB2YWx1ZUxlbmd0aCA9IHZhbHVlLmxlbmd0aDsgaiA8IHZhbHVlTGVuZ3RoOyArK2opIHtcbiAgICAgICAgYnVmZmVyICs9IHRoaXMucmVuZGVyVG9rZW5zKHRva2VuWzRdLCBjb250ZXh0LnB1c2godmFsdWVbal0pLCBwYXJ0aWFscywgb3JpZ2luYWxUZW1wbGF0ZSwgY29uZmlnKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICBidWZmZXIgKz0gdGhpcy5yZW5kZXJUb2tlbnModG9rZW5bNF0sIGNvbnRleHQucHVzaCh2YWx1ZSksIHBhcnRpYWxzLCBvcmlnaW5hbFRlbXBsYXRlLCBjb25maWcpO1xuICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgIGlmICh0eXBlb2Ygb3JpZ2luYWxUZW1wbGF0ZSAhPT0gJ3N0cmluZycpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHVzZSBoaWdoZXItb3JkZXIgc2VjdGlvbnMgd2l0aG91dCB0aGUgb3JpZ2luYWwgdGVtcGxhdGUnKTtcblxuICAgICAgLy8gRXh0cmFjdCB0aGUgcG9ydGlvbiBvZiB0aGUgb3JpZ2luYWwgdGVtcGxhdGUgdGhhdCB0aGUgc2VjdGlvbiBjb250YWlucy5cbiAgICAgIHZhbHVlID0gdmFsdWUuY2FsbChjb250ZXh0LnZpZXcsIG9yaWdpbmFsVGVtcGxhdGUuc2xpY2UodG9rZW5bM10sIHRva2VuWzVdKSwgc3ViUmVuZGVyKTtcblxuICAgICAgaWYgKHZhbHVlICE9IG51bGwpXG4gICAgICAgIGJ1ZmZlciArPSB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgYnVmZmVyICs9IHRoaXMucmVuZGVyVG9rZW5zKHRva2VuWzRdLCBjb250ZXh0LCBwYXJ0aWFscywgb3JpZ2luYWxUZW1wbGF0ZSwgY29uZmlnKTtcbiAgICB9XG4gICAgcmV0dXJuIGJ1ZmZlcjtcbiAgfTtcblxuICBXcml0ZXIucHJvdG90eXBlLnJlbmRlckludmVydGVkID0gZnVuY3Rpb24gcmVuZGVySW52ZXJ0ZWQgKHRva2VuLCBjb250ZXh0LCBwYXJ0aWFscywgb3JpZ2luYWxUZW1wbGF0ZSwgY29uZmlnKSB7XG4gICAgdmFyIHZhbHVlID0gY29udGV4dC5sb29rdXAodG9rZW5bMV0pO1xuXG4gICAgLy8gVXNlIEphdmFTY3JpcHQncyBkZWZpbml0aW9uIG9mIGZhbHN5LiBJbmNsdWRlIGVtcHR5IGFycmF5cy5cbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2phbmwvbXVzdGFjaGUuanMvaXNzdWVzLzE4NlxuICAgIGlmICghdmFsdWUgfHwgKGlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMCkpXG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJUb2tlbnModG9rZW5bNF0sIGNvbnRleHQsIHBhcnRpYWxzLCBvcmlnaW5hbFRlbXBsYXRlLCBjb25maWcpO1xuICB9O1xuXG4gIFdyaXRlci5wcm90b3R5cGUuaW5kZW50UGFydGlhbCA9IGZ1bmN0aW9uIGluZGVudFBhcnRpYWwgKHBhcnRpYWwsIGluZGVudGF0aW9uLCBsaW5lSGFzTm9uU3BhY2UpIHtcbiAgICB2YXIgZmlsdGVyZWRJbmRlbnRhdGlvbiA9IGluZGVudGF0aW9uLnJlcGxhY2UoL1teIFxcdF0vZywgJycpO1xuICAgIHZhciBwYXJ0aWFsQnlObCA9IHBhcnRpYWwuc3BsaXQoJ1xcbicpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFydGlhbEJ5TmwubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChwYXJ0aWFsQnlObFtpXS5sZW5ndGggJiYgKGkgPiAwIHx8ICFsaW5lSGFzTm9uU3BhY2UpKSB7XG4gICAgICAgIHBhcnRpYWxCeU5sW2ldID0gZmlsdGVyZWRJbmRlbnRhdGlvbiArIHBhcnRpYWxCeU5sW2ldO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGFydGlhbEJ5Tmwuam9pbignXFxuJyk7XG4gIH07XG5cbiAgV3JpdGVyLnByb3RvdHlwZS5yZW5kZXJQYXJ0aWFsID0gZnVuY3Rpb24gcmVuZGVyUGFydGlhbCAodG9rZW4sIGNvbnRleHQsIHBhcnRpYWxzLCBjb25maWcpIHtcbiAgICBpZiAoIXBhcnRpYWxzKSByZXR1cm47XG4gICAgdmFyIHRhZ3MgPSB0aGlzLmdldENvbmZpZ1RhZ3MoY29uZmlnKTtcblxuICAgIHZhciB2YWx1ZSA9IGlzRnVuY3Rpb24ocGFydGlhbHMpID8gcGFydGlhbHModG9rZW5bMV0pIDogcGFydGlhbHNbdG9rZW5bMV1dO1xuICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICB2YXIgbGluZUhhc05vblNwYWNlID0gdG9rZW5bNl07XG4gICAgICB2YXIgdGFnSW5kZXggPSB0b2tlbls1XTtcbiAgICAgIHZhciBpbmRlbnRhdGlvbiA9IHRva2VuWzRdO1xuICAgICAgdmFyIGluZGVudGVkVmFsdWUgPSB2YWx1ZTtcbiAgICAgIGlmICh0YWdJbmRleCA9PSAwICYmIGluZGVudGF0aW9uKSB7XG4gICAgICAgIGluZGVudGVkVmFsdWUgPSB0aGlzLmluZGVudFBhcnRpYWwodmFsdWUsIGluZGVudGF0aW9uLCBsaW5lSGFzTm9uU3BhY2UpO1xuICAgICAgfVxuICAgICAgdmFyIHRva2VucyA9IHRoaXMucGFyc2UoaW5kZW50ZWRWYWx1ZSwgdGFncyk7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJUb2tlbnModG9rZW5zLCBjb250ZXh0LCBwYXJ0aWFscywgaW5kZW50ZWRWYWx1ZSwgY29uZmlnKTtcbiAgICB9XG4gIH07XG5cbiAgV3JpdGVyLnByb3RvdHlwZS51bmVzY2FwZWRWYWx1ZSA9IGZ1bmN0aW9uIHVuZXNjYXBlZFZhbHVlICh0b2tlbiwgY29udGV4dCkge1xuICAgIHZhciB2YWx1ZSA9IGNvbnRleHQubG9va3VwKHRva2VuWzFdKTtcbiAgICBpZiAodmFsdWUgIT0gbnVsbClcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcblxuICBXcml0ZXIucHJvdG90eXBlLmVzY2FwZWRWYWx1ZSA9IGZ1bmN0aW9uIGVzY2FwZWRWYWx1ZSAodG9rZW4sIGNvbnRleHQsIGNvbmZpZykge1xuICAgIHZhciBlc2NhcGUgPSB0aGlzLmdldENvbmZpZ0VzY2FwZShjb25maWcpIHx8IG11c3RhY2hlLmVzY2FwZTtcbiAgICB2YXIgdmFsdWUgPSBjb250ZXh0Lmxvb2t1cCh0b2tlblsxXSk7XG4gICAgaWYgKHZhbHVlICE9IG51bGwpXG4gICAgICByZXR1cm4gKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgZXNjYXBlID09PSBtdXN0YWNoZS5lc2NhcGUpID8gU3RyaW5nKHZhbHVlKSA6IGVzY2FwZSh2YWx1ZSk7XG4gIH07XG5cbiAgV3JpdGVyLnByb3RvdHlwZS5yYXdWYWx1ZSA9IGZ1bmN0aW9uIHJhd1ZhbHVlICh0b2tlbikge1xuICAgIHJldHVybiB0b2tlblsxXTtcbiAgfTtcblxuICBXcml0ZXIucHJvdG90eXBlLmdldENvbmZpZ1RhZ3MgPSBmdW5jdGlvbiBnZXRDb25maWdUYWdzIChjb25maWcpIHtcbiAgICBpZiAoaXNBcnJheShjb25maWcpKSB7XG4gICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cbiAgICBlbHNlIGlmIChjb25maWcgJiYgdHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiBjb25maWcudGFncztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfTtcblxuICBXcml0ZXIucHJvdG90eXBlLmdldENvbmZpZ0VzY2FwZSA9IGZ1bmN0aW9uIGdldENvbmZpZ0VzY2FwZSAoY29uZmlnKSB7XG4gICAgaWYgKGNvbmZpZyAmJiB0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JyAmJiAhaXNBcnJheShjb25maWcpKSB7XG4gICAgICByZXR1cm4gY29uZmlnLmVzY2FwZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfTtcblxuICB2YXIgbXVzdGFjaGUgPSB7XG4gICAgbmFtZTogJ211c3RhY2hlLmpzJyxcbiAgICB2ZXJzaW9uOiAnNC4yLjAnLFxuICAgIHRhZ3M6IFsgJ3t7JywgJ319JyBdLFxuICAgIGNsZWFyQ2FjaGU6IHVuZGVmaW5lZCxcbiAgICBlc2NhcGU6IHVuZGVmaW5lZCxcbiAgICBwYXJzZTogdW5kZWZpbmVkLFxuICAgIHJlbmRlcjogdW5kZWZpbmVkLFxuICAgIFNjYW5uZXI6IHVuZGVmaW5lZCxcbiAgICBDb250ZXh0OiB1bmRlZmluZWQsXG4gICAgV3JpdGVyOiB1bmRlZmluZWQsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIGEgdXNlciB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCBjYWNoaW5nIHN0cmF0ZWd5LCBieSBwcm92aWRpbmcgYW5cbiAgICAgKiBvYmplY3Qgd2l0aCBzZXQsIGdldCBhbmQgY2xlYXIgbWV0aG9kcy4gVGhpcyBjYW4gYWxzbyBiZSB1c2VkIHRvIGRpc2FibGVcbiAgICAgKiB0aGUgY2FjaGUgYnkgc2V0dGluZyBpdCB0byB0aGUgbGl0ZXJhbCBgdW5kZWZpbmVkYC5cbiAgICAgKi9cbiAgICBzZXQgdGVtcGxhdGVDYWNoZSAoY2FjaGUpIHtcbiAgICAgIGRlZmF1bHRXcml0ZXIudGVtcGxhdGVDYWNoZSA9IGNhY2hlO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZGVmYXVsdCBvciBvdmVycmlkZGVuIGNhY2hpbmcgb2JqZWN0IGZyb20gdGhlIGRlZmF1bHQgd3JpdGVyLlxuICAgICAqL1xuICAgIGdldCB0ZW1wbGF0ZUNhY2hlICgpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0V3JpdGVyLnRlbXBsYXRlQ2FjaGU7XG4gICAgfVxuICB9O1xuXG4gIC8vIEFsbCBoaWdoLWxldmVsIG11c3RhY2hlLiogZnVuY3Rpb25zIHVzZSB0aGlzIHdyaXRlci5cbiAgdmFyIGRlZmF1bHRXcml0ZXIgPSBuZXcgV3JpdGVyKCk7XG5cbiAgLyoqXG4gICAqIENsZWFycyBhbGwgY2FjaGVkIHRlbXBsYXRlcyBpbiB0aGUgZGVmYXVsdCB3cml0ZXIuXG4gICAqL1xuICBtdXN0YWNoZS5jbGVhckNhY2hlID0gZnVuY3Rpb24gY2xlYXJDYWNoZSAoKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRXcml0ZXIuY2xlYXJDYWNoZSgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBQYXJzZXMgYW5kIGNhY2hlcyB0aGUgZ2l2ZW4gdGVtcGxhdGUgaW4gdGhlIGRlZmF1bHQgd3JpdGVyIGFuZCByZXR1cm5zIHRoZVxuICAgKiBhcnJheSBvZiB0b2tlbnMgaXQgY29udGFpbnMuIERvaW5nIHRoaXMgYWhlYWQgb2YgdGltZSBhdm9pZHMgdGhlIG5lZWQgdG9cbiAgICogcGFyc2UgdGVtcGxhdGVzIG9uIHRoZSBmbHkgYXMgdGhleSBhcmUgcmVuZGVyZWQuXG4gICAqL1xuICBtdXN0YWNoZS5wYXJzZSA9IGZ1bmN0aW9uIHBhcnNlICh0ZW1wbGF0ZSwgdGFncykge1xuICAgIHJldHVybiBkZWZhdWx0V3JpdGVyLnBhcnNlKHRlbXBsYXRlLCB0YWdzKTtcbiAgfTtcblxuICAvKipcbiAgICogUmVuZGVycyB0aGUgYHRlbXBsYXRlYCB3aXRoIHRoZSBnaXZlbiBgdmlld2AsIGBwYXJ0aWFsc2AsIGFuZCBgY29uZmlnYFxuICAgKiB1c2luZyB0aGUgZGVmYXVsdCB3cml0ZXIuXG4gICAqL1xuICBtdXN0YWNoZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIgKHRlbXBsYXRlLCB2aWV3LCBwYXJ0aWFscywgY29uZmlnKSB7XG4gICAgaWYgKHR5cGVvZiB0ZW1wbGF0ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgdGVtcGxhdGUhIFRlbXBsYXRlIHNob3VsZCBiZSBhIFwic3RyaW5nXCIgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdidXQgXCInICsgdHlwZVN0cih0ZW1wbGF0ZSkgKyAnXCIgd2FzIGdpdmVuIGFzIHRoZSBmaXJzdCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FyZ3VtZW50IGZvciBtdXN0YWNoZSNyZW5kZXIodGVtcGxhdGUsIHZpZXcsIHBhcnRpYWxzKScpO1xuICAgIH1cblxuICAgIHJldHVybiBkZWZhdWx0V3JpdGVyLnJlbmRlcih0ZW1wbGF0ZSwgdmlldywgcGFydGlhbHMsIGNvbmZpZyk7XG4gIH07XG5cbiAgLy8gRXhwb3J0IHRoZSBlc2NhcGluZyBmdW5jdGlvbiBzbyB0aGF0IHRoZSB1c2VyIG1heSBvdmVycmlkZSBpdC5cbiAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qYW5sL211c3RhY2hlLmpzL2lzc3Vlcy8yNDRcbiAgbXVzdGFjaGUuZXNjYXBlID0gZXNjYXBlSHRtbDtcblxuICAvLyBFeHBvcnQgdGhlc2UgbWFpbmx5IGZvciB0ZXN0aW5nLCBidXQgYWxzbyBmb3IgYWR2YW5jZWQgdXNhZ2UuXG4gIG11c3RhY2hlLlNjYW5uZXIgPSBTY2FubmVyO1xuICBtdXN0YWNoZS5Db250ZXh0ID0gQ29udGV4dDtcbiAgbXVzdGFjaGUuV3JpdGVyID0gV3JpdGVyO1xuXG4gIHJldHVybiBtdXN0YWNoZTtcblxufSkpKTtcbiIsIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP2UoZXhwb3J0cyk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJleHBvcnRzXCJdLGUpOmUodC5wZWxsPXt9KX0odGhpcyxmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjt2YXIgZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJih0W3JdPW5bcl0pfXJldHVybiB0fSxjPVwiZGVmYXVsdFBhcmFncmFwaFNlcGFyYXRvclwiLGw9XCJmb3JtYXRCbG9ja1wiLGE9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0LmFkZEV2ZW50TGlzdGVuZXIoZSxuKX0scz1mdW5jdGlvbih0LGUpe3JldHVybiB0LmFwcGVuZENoaWxkKGUpfSxkPWZ1bmN0aW9uKHQpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHQpfSxuPWZ1bmN0aW9uKHQpe3JldHVybiBkb2N1bWVudC5xdWVyeUNvbW1hbmRTdGF0ZSh0KX0sZj1mdW5jdGlvbih0KXt2YXIgZT0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bnVsbDtyZXR1cm4gZG9jdW1lbnQuZXhlY0NvbW1hbmQodCwhMSxlKX0scD17Ym9sZDp7aWNvbjpcIjxiPkI8L2I+XCIsdGl0bGU6XCJCb2xkXCIsc3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gbihcImJvbGRcIil9LHJlc3VsdDpmdW5jdGlvbigpe3JldHVybiBmKFwiYm9sZFwiKX19LGl0YWxpYzp7aWNvbjpcIjxpPkk8L2k+XCIsdGl0bGU6XCJJdGFsaWNcIixzdGF0ZTpmdW5jdGlvbigpe3JldHVybiBuKFwiaXRhbGljXCIpfSxyZXN1bHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZihcIml0YWxpY1wiKX19LHVuZGVybGluZTp7aWNvbjpcIjx1PlU8L3U+XCIsdGl0bGU6XCJVbmRlcmxpbmVcIixzdGF0ZTpmdW5jdGlvbigpe3JldHVybiBuKFwidW5kZXJsaW5lXCIpfSxyZXN1bHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZihcInVuZGVybGluZVwiKX19LHN0cmlrZXRocm91Z2g6e2ljb246XCI8c3RyaWtlPlM8L3N0cmlrZT5cIix0aXRsZTpcIlN0cmlrZS10aHJvdWdoXCIsc3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gbihcInN0cmlrZVRocm91Z2hcIil9LHJlc3VsdDpmdW5jdGlvbigpe3JldHVybiBmKFwic3RyaWtlVGhyb3VnaFwiKX19LGhlYWRpbmcxOntpY29uOlwiPGI+SDxzdWI+MTwvc3ViPjwvYj5cIix0aXRsZTpcIkhlYWRpbmcgMVwiLHJlc3VsdDpmdW5jdGlvbigpe3JldHVybiBmKGwsXCI8aDE+XCIpfX0saGVhZGluZzI6e2ljb246XCI8Yj5IPHN1Yj4yPC9zdWI+PC9iPlwiLHRpdGxlOlwiSGVhZGluZyAyXCIscmVzdWx0OmZ1bmN0aW9uKCl7cmV0dXJuIGYobCxcIjxoMj5cIil9fSxwYXJhZ3JhcGg6e2ljb246XCImIzE4MjtcIix0aXRsZTpcIlBhcmFncmFwaFwiLHJlc3VsdDpmdW5jdGlvbigpe3JldHVybiBmKGwsXCI8cD5cIil9fSxxdW90ZTp7aWNvbjpcIiYjODIyMDsgJiM4MjIxO1wiLHRpdGxlOlwiUXVvdGVcIixyZXN1bHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZihsLFwiPGJsb2NrcXVvdGU+XCIpfX0sb2xpc3Q6e2ljb246XCImIzM1O1wiLHRpdGxlOlwiT3JkZXJlZCBMaXN0XCIscmVzdWx0OmZ1bmN0aW9uKCl7cmV0dXJuIGYoXCJpbnNlcnRPcmRlcmVkTGlzdFwiKX19LHVsaXN0OntpY29uOlwiJiM4MjI2O1wiLHRpdGxlOlwiVW5vcmRlcmVkIExpc3RcIixyZXN1bHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZihcImluc2VydFVub3JkZXJlZExpc3RcIil9fSxjb2RlOntpY29uOlwiJmx0Oy8mZ3Q7XCIsdGl0bGU6XCJDb2RlXCIscmVzdWx0OmZ1bmN0aW9uKCl7cmV0dXJuIGYobCxcIjxwcmU+XCIpfX0sbGluZTp7aWNvbjpcIiYjODIxMztcIix0aXRsZTpcIkhvcml6b250YWwgTGluZVwiLHJlc3VsdDpmdW5jdGlvbigpe3JldHVybiBmKFwiaW5zZXJ0SG9yaXpvbnRhbFJ1bGVcIil9fSxsaW5rOntpY29uOlwiJiMxMjgyNzk7XCIsdGl0bGU6XCJMaW5rXCIscmVzdWx0OmZ1bmN0aW9uKCl7dmFyIHQ9d2luZG93LnByb21wdChcIkVudGVyIHRoZSBsaW5rIFVSTFwiKTt0JiZmKFwiY3JlYXRlTGlua1wiLHQpfX0saW1hZ2U6e2ljb246XCImIzEyODI0NztcIix0aXRsZTpcIkltYWdlXCIscmVzdWx0OmZ1bmN0aW9uKCl7dmFyIHQ9d2luZG93LnByb21wdChcIkVudGVyIHRoZSBpbWFnZSBVUkxcIik7dCYmZihcImluc2VydEltYWdlXCIsdCl9fX0sbT17YWN0aW9uYmFyOlwicGVsbC1hY3Rpb25iYXJcIixidXR0b246XCJwZWxsLWJ1dHRvblwiLGNvbnRlbnQ6XCJwZWxsLWNvbnRlbnRcIixzZWxlY3RlZDpcInBlbGwtYnV0dG9uLXNlbGVjdGVkXCJ9LHI9ZnVuY3Rpb24obil7dmFyIHQ9bi5hY3Rpb25zP24uYWN0aW9ucy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/cFt0XTpwW3QubmFtZV0/ZSh7fSxwW3QubmFtZV0sdCk6dH0pOk9iamVjdC5rZXlzKHApLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gcFt0XX0pLHI9ZSh7fSxtLG4uY2xhc3NlcyksaT1uW2NdfHxcImRpdlwiLG89ZChcImRpdlwiKTtvLmNsYXNzTmFtZT1yLmFjdGlvbmJhcixzKG4uZWxlbWVudCxvKTt2YXIgdT1uLmVsZW1lbnQuY29udGVudD1kKFwiZGl2XCIpO3JldHVybiB1LmNvbnRlbnRFZGl0YWJsZT0hMCx1LmNsYXNzTmFtZT1yLmNvbnRlbnQsdS5vbmlucHV0PWZ1bmN0aW9uKHQpe3ZhciBlPXQudGFyZ2V0LmZpcnN0Q2hpbGQ7ZSYmMz09PWUubm9kZVR5cGU/ZihsLFwiPFwiK2krXCI+XCIpOlwiPGJyPlwiPT09dS5pbm5lckhUTUwmJih1LmlubmVySFRNTD1cIlwiKSxuLm9uQ2hhbmdlKHUuaW5uZXJIVE1MKX0sdS5vbmtleWRvd249ZnVuY3Rpb24odCl7dmFyIGU7XCJFbnRlclwiPT09dC5rZXkmJlwiYmxvY2txdW90ZVwiPT09KGU9bCxkb2N1bWVudC5xdWVyeUNvbW1hbmRWYWx1ZShlKSkmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gZihsLFwiPFwiK2krXCI+XCIpfSwwKX0scyhuLmVsZW1lbnQsdSksdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPWQoXCJidXR0b25cIik7aWYoZS5jbGFzc05hbWU9ci5idXR0b24sZS5pbm5lckhUTUw9dC5pY29uLGUudGl0bGU9dC50aXRsZSxlLnNldEF0dHJpYnV0ZShcInR5cGVcIixcImJ1dHRvblwiKSxlLm9uY2xpY2s9ZnVuY3Rpb24oKXtyZXR1cm4gdC5yZXN1bHQoKSYmdS5mb2N1cygpfSx0LnN0YXRlKXt2YXIgbj1mdW5jdGlvbigpe3JldHVybiBlLmNsYXNzTGlzdFt0LnN0YXRlKCk/XCJhZGRcIjpcInJlbW92ZVwiXShyLnNlbGVjdGVkKX07YSh1LFwia2V5dXBcIixuKSxhKHUsXCJtb3VzZXVwXCIsbiksYShlLFwiY2xpY2tcIixuKX1zKG8sZSl9KSxuLnN0eWxlV2l0aENTUyYmZihcInN0eWxlV2l0aENTU1wiKSxmKGMsaSksbi5lbGVtZW50fSxpPXtleGVjOmYsaW5pdDpyfTt0LmV4ZWM9Zix0LmluaXQ9cix0LmRlZmF1bHQ9aSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0pO1xuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==